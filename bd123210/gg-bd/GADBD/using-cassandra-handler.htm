<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Using the Cassandra Handler</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases." />
<meta name="dcterms.created" content="2018-09-04T10:47:42Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Big Data" />
<meta name="dcterms.identifier" content="E89845-03" />
<meta name="dcterms.isVersionOf" content="GADBD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/bd123210/gg-bd/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="using-bigquery-handler.htm" title="Previous" type="text/html" />
<link rel="Next" href="using-elasticsearch-handler.htm" title="Next" type="text/html" />
<link rel="alternate" href="GADBD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984"></a> <span id="PAGE" style="display:none;">6/33</span> <!-- End Header -->
<h1 id="GADBD-GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" class="sect1"><span class="enumeration_chapter">3</span> Using the Cassandra Handler</h1>
<div>
<p>Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.</p>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3">Overview</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-1B7ED49F-16B7-4B38-82EB-AFEC99C06BB8">About Automated DDL Handling</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-F4363382-DDC4-45A4-831E-1C8A202A8F82">Performance Considerations</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-6A7D086D-84DD-4653-AED8-93411B301673">Additional Considerations</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a><br /></li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3"></a>
<h2 id="GADBD-GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3" class="sect2"><span class="enumeration_section">3.1</span> Overview</h2>
<div>
<div class="section">
<p id="GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3__APACHECASSANDRAISANOSQLDATABASEMANA-AA8F7607">Apache Cassandra is a NoSQL Database Management System designed to store large amounts of data. A Cassandra cluster configuration provides horizontal scaling and replication of data across multiple machines. It can provide high availability and eliminate a single point of failure by replicating data to multiple nodes within a Cassandra cluster. Apache Cassandra is open source and designed to run on low-cost commodity hardware.</p>
<p id="GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3__CASSANDRARELAXESTHEAXIOMSOFATRADITI-AA8F722F">Cassandra relaxes the axioms of a traditional relational database management systems (RDBMS) regarding atomicity, consistency, isolation, and durability. When considering implementing Cassandra, it is important to understand its differences from a traditional RDBMS and how those differences affect your specific use case.</p>
<p id="GUID-556ED26B-4CF0-440A-A457-A835EA1CD3C3__CASSANDRAPROVIDESEVENTUALCONSISTENC-AA8F6F82">Cassandra provides eventual consistency. Under the eventual consistency model, accessing the state of data for a specific row eventually returns the latest state of the data for that row as defined by the most recent change. However, there may be a latency period between the creation and modification of the state of a row and what is returned when the state of that row is queried. The benefit of eventual consistency is that the latency period is predicted based on your Cassandra configuration and the level of work load that your Cassandra cluster is currently under, see <a href="http://cassandra.apache.org/" target="_blank">http://cassandra.apache.org/</a>.</p>
<p>The Cassandra Handler provides some control over consistency with the configuration of the <code class="codeph">gg.handler.name.consistencyLevel</code> property in the Java Adapter properties file.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9"></a>
<h2 id="GADBD-GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9" class="sect2"><span class="enumeration_section">3.2</span> Detailing the Functionality</h2>
<div>
<div class="section">
<p class="subhead2"></p>
<p><span class="bold">Topics:</span></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9">About the Cassandra Data Types</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-1098485E-89E3-47F7-8811-230D334B9CBA">About Catalog, Schema, Table, and Column Name Mapping</a><br />
Traditional RDBMSs separate structured data into tables. Related tables are included in higher-level collections called databases. Cassandra contains both of these concepts. Tables in an RDBMS are also tables in Cassandra, while database schemas in an RDBMS are keyspaces in Cassandra.</li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE">About DDL Functionality</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-7F28C92F-2A0A-4C3B-B03F-2FEDDF47BC7A">How Operations are Processed</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-69B58DB7-EB16-4CB1-9419-4EB9E82D6E04">About Compressed Updates vs. Full Image Updates</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-0CEE65D5-346F-431A-AA42-31E0AADDB00D">About Primary Key Updates</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9"></a>
<h3 id="GADBD-GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9" class="sect3"><span class="enumeration_section">3.2.1</span> About the Cassandra Data Types</h3>
<div>
<div class="section">
<p>Cassandra provides a number of column data types and most of these data types are supported by the Cassandra Handler.</p>
<dl>
<dt class="dlterm"><a id="GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9__GUID-EE98A10B-5BD2-40D7-A622-50DEEBB56296"><!-- --></a>Supported Cassandra Data Types</dt>
<dd>
<pre dir="ltr">
ASCII
BIGINT
BLOB
BOOLEAN
DATE
DECIMAL
DOUBLE
DURATION
FLOAT
INET
INT
SMALLINT
TEXT
TIME
TIMESTAMP
TIMEUUID
TINYINT
UUID
VARCHAR
VARINT
</pre></dd>
<dt class="dlterm"><a id="GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9__GUID-BBA65EF1-0AE7-4EBA-AD9E-9E4F9C5427A5"><!-- --></a>Unsupported Cassandra Data Types</dt>
<dd>
<pre dir="ltr">
COUNTER
MAP
SET
LIST
UDT (user defined type)
TUPLE
CUSTOM_TYPE
</pre></dd>
<dt class="dlterm"><a id="GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9__GUID-5C79F2B6-5E37-4E9A-A21D-D8234EF59B53"><!-- --></a>Supported Database Operations</dt>
<dd>
<pre dir="ltr">
INSERT
UPDATE (captured as INSERT)
DELETE
</pre>
<p>The Cassandra commit log files do <span class="italic">not</span> record any before images for the <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> operations. So the captured operations never have a before image section. <span>Oracle GoldenGate</span> features that rely on before image records, such as Conflict Detection and Resolution, are not available.</p>
</dd>
<dt class="dlterm"><a id="GUID-86AAA501-44A8-4099-9BA5-B45732F49BC9__GUID-5DCF6898-A1F5-4647-96FD-3A9CE4055A49"><!-- --></a>Unsupported Database Operations</dt>
<dd>
<pre dir="ltr">
TRUNCATE
DDL (CREATE, ALTER, DROP)
</pre></dd>
</dl>
<p>The data type of the column value in the source trail file must be converted to the corresponding Java type representing the Cassandra column type in the Cassandra Handler. This data conversion introduces the risk of a runtime conversion error. A poorly mapped field (such as <code class="codeph">varchar</code> as the source containing alpha numeric data to a Cassandra <code class="codeph">int</code>) may cause a runtime error and cause the Cassandra Handler to abend. You can view the Cassandra Java type mappings at:</p>
<p><a href="https://github.com/datastax/java-driver/tree/3.x/manual#cql-to-java-type-mapping" target="_blank">https://github.com/datastax/java-driver/tree/3.x/manual#cql-to-java-type-mapping</a></p>
<p>It is possible that the data may require specialized processing to get converted to the corresponding Java type for intake into Cassandra. If this is the case, you have two options:</p>
<ul style="list-style-type: disc;">
<li>
<p>Try to use the general regular expression search and replace functionality to format the source column value data in a way that can be converted into the Java data type for use in Cassandra.</p>
<p>Or</p>
</li>
<li>
<p>Implement or extend the default data type conversion logic to override it with custom logic for your use case. Contact Oracle Support for guidance.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-1098485E-89E3-47F7-8811-230D334B9CBA"></a>
<h3 id="GADBD-GUID-1098485E-89E3-47F7-8811-230D334B9CBA" class="sect3"><span class="enumeration_section">3.2.2</span> About Catalog, Schema, Table, and Column Name Mapping</h3>
<div>
<p>Traditional RDBMSs separate structured data into tables. Related tables are included in higher-level collections called databases. Cassandra contains both of these concepts. Tables in an RDBMS are also tables in Cassandra, while database schemas in an RDBMS are keyspaces in Cassandra.</p>
<div class="section">
<p>It is important to understand how data maps from the metadata definition in the source trail file are mapped to the corresponding keyspace and table in Cassandra. Source tables are generally either two-part names defined as <code class="codeph">schema.table</code>,or three-part names defined as <code class="codeph">catalog.schema.table</code>.</p>
<p>The following table explains how catalog, schema, and table names map into Cassandra. Unless you use special syntax, Cassandra converts all keyspace, table names, and column names to lower case.</p>
<div class="tblformal" id="GUID-1098485E-89E3-47F7-8811-230D334B9CBA__GUID-D49421DC-B6B5-45D5-BBA2-37E2E52C0D41">
<table class="cellalignment78" summary="Three column table describing Cassandra trail file, keyspace, and table names.">
<thead>
<tr class="cellalignment65">
<th class="cellalignment72" id="d9209e304">Table Name in Source Trail File</th>
<th class="cellalignment72" id="d9209e307">Cassandra Keyspace Name</th>
<th class="cellalignment72" id="d9209e310">Cassandra Table Name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment65">
<td class="cellalignment65" rowspan="1" colspan="1" id="d9209e315" headers="d9209e304">
<p><code class="codeph">QASOURCE.TCUSTMER</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e315 d9209e307">
<p><code class="codeph">qasource</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e315 d9209e310">
<p><code class="codeph">tcustmer</code></p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment65" rowspan="1" colspan="1" id="d9209e328" headers="d9209e304">
<p><code class="codeph">dbo.mytable</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e328 d9209e307">
<p><code class="codeph">dbo</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e328 d9209e310">
<p><code class="codeph">mytable</code></p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment65" rowspan="1" colspan="1" id="d9209e341" headers="d9209e304">
<p><code class="codeph">GG.QASOURCE.TCUSTORD</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e341 d9209e307">
<p><code class="codeph">gg_qasource</code></p>
</td>
<td class="cellalignment65" rowspan="1" colspan="1" headers="d9209e341 d9209e310">
<p><code class="codeph">tcustord</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE"></a>
<h3 id="GADBD-GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE" class="sect3"><span class="enumeration_section">3.2.3</span> About DDL Functionality</h3>
<div>
<div class="section">
<p><span class="bold">Topics:</span></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-485955EE-29B2-4386-B3DC-E9975A71A768">About the Keyspaces</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-FA154135-EE2F-4CEC-9657-00D0A80D0BE4">About the Tables</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-FD83B4E2-A582-4F68-B219-58BDE98CD5C4">Addng Column Functionality</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292">Dropping Column Functionality</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-485955EE-29B2-4386-B3DC-E9975A71A768"></a>
<h4 id="GADBD-GUID-485955EE-29B2-4386-B3DC-E9975A71A768" class="sect4"><span class="enumeration_section">3.2.3.1</span> About the Keyspaces</h4>
<div>
<div class="section">
<p class="subhead3"></p>
<p>The Cassandra Handler does <span class="italic">not</span> automatically create keyspaces in Cassandra. Keyspaces in Cassandra define a replication factor, the replication strategy, and topology. The Cassandra Handler does not have enough information to create the keyspaces, so you must manually create them.</p>
<p>You can create keyspaces in Cassandra by using the <code class="codeph">CREATE KEYSPACE</code> command from the Cassandra shell.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE">About DDL Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-FA154135-EE2F-4CEC-9657-00D0A80D0BE4"></a>
<h4 id="GADBD-GUID-FA154135-EE2F-4CEC-9657-00D0A80D0BE4" class="sect4"><span class="enumeration_section">3.2.3.2</span> About the Tables</h4>
<div>
<div class="section">
<p class="subhead3"></p>
<p>The Cassandra Handler can automatically create tables in Cassandra if you configure it to do so. The source table definition may be a poor source of information to create tables in Cassandra. Primary keys in Cassandra are divided into:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Partitioning keys</span> that define how data for a table is separated into partitions in Cassandra.</p>
</li>
<li>
<p><span class="bold">Clustering keys</span> that define the order of items within a partition.</p>
</li>
</ul>
<p>In the default mapping for automated table creation, the first primary key is the partition key, and any additional primary keys are mapped as clustering keys.</p>
<p>Automated table creation by the Cassandra Handler may be fine for proof of concept, but it may result in data definitions that do not scale well. When the Cassandra Handler creates tables with poorly constructed primary keys, the performance of ingest and retrieval may decrease as the volume of data stored in Cassandra increases. Oracle recommends that you analyze the metadata of your replicated tables, then manually create corresponding tables in Cassandra that are properly partitioned and clustered for higher scalability.</p>
<p>Primary key definitions for tables in Cassandra are immutable after they are created. Changing a Cassandra table primary key definition requires the following manual steps:</p>
<ol>
<li>
<p>Create a staging table.</p>
</li>
<li>
<p>Populate the data in the staging table from original table.</p>
</li>
<li>
<p>Drop the original table.</p>
</li>
<li>
<p>Re-create the original table with the modified primary key definitions.</p>
</li>
<li>
<p>Populate the data in the original table from the staging table.</p>
</li>
<li>
<p>Drop the staging table.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE">About DDL Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-FD83B4E2-A582-4F68-B219-58BDE98CD5C4"></a>
<h4 id="GADBD-GUID-FD83B4E2-A582-4F68-B219-58BDE98CD5C4" class="sect4"><span class="enumeration_section">3.2.3.3</span> Addng Column Functionality</h4>
<div>
<div class="section">
<p class="subhead3"></p>
<p>You can configure the Cassandra Handler to add columns that exist in the source trail file table definition but are missing in the Cassandra table definition. The Cassandra Handler can accommodate metadata change events of this kind. A reconciliation process reconciles the source table definition to the Cassandra table definition. When the Cassandra Handler is configured to add columns, any columns found in the source table definition that do not exist in the Cassandra table definition are added. The reconciliation process for a table occurs after application startup the first time an operation for the table is encountered. The reconciliation process reoccurs after a metadata change event on a source table, when the first operation for the source table is encountered after the change event.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE">About DDL Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292"></a>
<h4 id="GADBD-GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292" class="sect4"><span class="enumeration_section">3.2.3.4</span> Dropping Column Functionality</h4>
<div>
<div class="section">
<p>You can configure the Cassandra Handler to drop columns that do not exist in the source trail file definition but exist in the Cassandra table definition. The Cassandra Handler can accommodate metadata change events of this kind. A reconciliation process reconciles the source table definition to the Cassandra table definition. When the Cassandra Handler is configured to drop, columns any columns found in the Cassandra table definition that are not in the source table definition are dropped.</p>
<div class="infobox-note" id="GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292__GUID-89422806-DA5A-4717-A872-F296B1D1E681">
<p class="notep1">Caution:</p>
<p>Dropping a column permanently removes data from a Cassandra table. Carefully consider your use case before you configure this mode.</p>
</div>
<div class="infobox-note" id="GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292__GUID-B776842D-825C-4D3F-88F3-7BDC7AA442C2">
<p class="notep1">Note:</p>
<p>Primary key columns cannot be dropped. Attempting to do so results in an abend.</p>
</div>
<div class="infobox-note" id="GUID-E846FDEE-2C7D-4828-8514-05AC4BB40292__GUID-2488721B-8EF5-44CF-9DDB-AA8BE5D52934">
<p class="notep1">Note:</p>
<p>Column name changes are not well-handled because there is no DDL is processed. When a column name changes in the source database, the Cassandra Handler interprets it as dropping an existing column and adding a new column.</p>
</div>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-979E6279-DD6C-44CD-8021-3B1E9C5C6DAE">About DDL Functionality</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-7F28C92F-2A0A-4C3B-B03F-2FEDDF47BC7A"></a>
<h3 id="GADBD-GUID-7F28C92F-2A0A-4C3B-B03F-2FEDDF47BC7A" class="sect3"><span class="enumeration_section">3.2.4</span> How Operations are Processed</h3>
<div>
<div class="section">
<p>The Cassandra Handler pushes operations to Cassandra using either the asynchronous or synchronous API. In asynchronous mode, operations are flushed at transaction commit (grouped transaction commit using <code class="codeph">GROUPTRANSOPS</code>) to ensure write durability. The Cassandra Handler does not interface with Cassandra in a transactional way.</p>
<dl>
<dt class="dlterm"><a id="GUID-7F28C92F-2A0A-4C3B-B03F-2FEDDF47BC7A__GUID-5C79F2B6-5E37-4E9A-A21D-D8234EF59B53"><!-- --></a>Supported Database Operations</dt>
<dd>
<pre dir="ltr">
INSERT
UPDATE (captured as INSERT)
DELETE
</pre>
<p>The Cassandra commit log files do <span class="italic">not</span> record any before images for the <code class="codeph">UPDATE</code> or <code class="codeph">DELETE</code> operations. So the captured operations never have a before image section. <span>Oracle GoldenGate</span> features that rely on before image records, such as Conflict Detection and Resolution, are not available.</p>
</dd>
<dt class="dlterm"><a id="GUID-7F28C92F-2A0A-4C3B-B03F-2FEDDF47BC7A__GUID-5DCF6898-A1F5-4647-96FD-3A9CE4055A49"><!-- --></a>Unsupported Database Operations</dt>
<dd>
<pre dir="ltr">
TRUNCATE
DDL (CREATE, ALTER, DROP)
</pre></dd>
</dl>
<p>Insert, update, and delete operations are processed differently in Cassandra than a traditional RDBMS. The following explains how insert, update, and delete operations are interpreted by Cassandra:</p>
<ul style="list-style-type: disc;">
<li>
<p>Inserts: If the row does not exist in Cassandra, then an insert operation is processed as an insert. If the row already exists in Cassandra, then an insert operation is processed as an update.</p>
</li>
<li>
<p>Updates: If a row does not exist in Cassandra, then an update operation is processed as an insert. If the row already exists in Cassandra, then an update operation is processed as insert.</p>
</li>
<li>
<p>Delete:If the row does not exist in Cassandra, then a delete operation has no effect. If the row exists in Cassandra, then a delete operation is processed as a delete.</p>
</li>
</ul>
<p>The state of the data in Cassandra is idempotent. You can replay the source trail files or replay sections of the trail files. The state of the Cassandra database must be the same regardless of the number of times that the trail data is written into Cassandra.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-69B58DB7-EB16-4CB1-9419-4EB9E82D6E04"></a>
<h3 id="GADBD-GUID-69B58DB7-EB16-4CB1-9419-4EB9E82D6E04" class="sect3"><span class="enumeration_section">3.2.5</span> About Compressed Updates vs. Full Image Updates</h3>
<div>
<div class="section">
<p>Oracle GoldenGate allows you to control the data that is propagated to the source trail file in the event of an update. The data for an update in the source trail file is either a compressed or a full image of the update, and the column information is provided as follows:</p>
<dl>
<dt class="dlterm"><a id="GUID-69B58DB7-EB16-4CB1-9419-4EB9E82D6E04__GUID-1C746042-3029-4587-962F-E52D9FDC9D89"><!-- --></a>Compressed</dt>
<dd>
<p>For the primary keys and the columns for which the value changed. Data for columns that have not changed is not provided in the trail file.</p>
</dd>
<dt class="dlterm"><a id="GUID-69B58DB7-EB16-4CB1-9419-4EB9E82D6E04__GUID-05D0D346-B659-4CB9-A899-2F34E2A45D39"><!-- --></a>Full Image</dt>
<dd>
<p>For all columns, including primary keys, columns for which the value has changed, and columns for which the value has not changed.</p>
</dd>
</dl>
<p>The amount of information about an update is important to the Cassandra Handler. If the source trail file contains full images of the change data, then the Cassandra Handler can use prepared statements to perform row updates in Cassandra. Full images also allow the Cassandra Handler to perform primary key updates for a row in Cassandra. In Cassandra, primary keys are immutable, so an update that changes a primary key must be treated as a delete and an insert. Conversely, when compressed updates are used, prepared statements cannot be used for Cassandra row updates. Simple statements identifying the changing values and primary keys must be dynamically created and then executed. With compressed updates, primary key updates are not possible and as a result, the Cassandra Handler will abend.</p>
<p>You must set the control properties <code class="codeph">gg.handler.name.compressedUpdates</code> and <code class="codeph">gg.handler.name.compressedUpdatesfor</code> so that the handler expects either compressed or full image updates.</p>
<p>The default value, <code class="codeph">true</code>, sets the Cassandra Handler to expect compressed updates. Prepared statements are not be used for updates, and primary key updates cause the handler to abend.</p>
<p>When the value is <code class="codeph">false</code>, prepared statements are used for updates and primary key updates can be processed. A source trail file that does not contain full image data can lead to corrupted data columns, which are considered null. As a result, the null value is pushed to Cassandra. If you are not sure about whether the source trail files contains compressed or full image data, set <code class="codeph">gg.handler.name.compressedUpdates</code> to <code class="codeph">true</code>.</p>
<p>CLOB and BLOB data types do not propagate LOB data in updates unless the LOB column value changed. Therefore, if the source tables contain LOB data, set <code class="codeph">gg.handler.name.compressedUpdates</code> to <code class="codeph">true</code>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-0CEE65D5-346F-431A-AA42-31E0AADDB00D"></a>
<h3 id="GADBD-GUID-0CEE65D5-346F-431A-AA42-31E0AADDB00D" class="sect3"><span class="enumeration_section">3.2.6</span> About Primary Key Updates</h3>
<div>
<div class="section">
<p>Primary key values for a row in Cassandra are immutable. An update operation that changes any primary key value for a Cassandra row must be treated as a delete and insert. The Cassandra Handler can process update operations that result in the change of a primary key in Cassandra only as a delete and insert. To successfully process this operation, the source trail file <span class="italic">must</span> contain the complete before and after change data images for all columns. The <code class="codeph">gg.handler.name.compressed</code> configuration property of the Cassandra Handler must be set to <code class="codeph">false</code> for primary key updates to be successfully processed.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-AC79514E-0938-4A92-9093-6B5AFE87EBC9">Detailing the Functionality</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C"></a>
<h2 id="GADBD-GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C" class="sect2"><span class="enumeration_section">3.3</span> Setting Up and Running the Cassandra Handler</h2>
<div>
<div class="section">
<p>Instructions for configuring the Cassandra Handler components and running the handler are described in the following sections.</p>
<p>Before you run the Cassandra Handler, you must install the Datastax Driver for Cassandra and set the <code class="codeph">gg.classpath</code> configuration property.</p>
<p><span class="bold">Get the Driver Libraries</span></p>
<p>The Datastax Java Driver for Cassandra does not ship with Oracle GoldenGate for Big Data. You can download the recommended version of the Datastax Java Driver for Cassandra 3.1 at:</p>
<p><a href="https://github.com/datastax/java-driver" target="_blank">https://github.com/datastax/java-driver</a></p>
<p><span class="bold">Set the Classpath</span></p>
<p>You must configure the <code class="codeph">gg.classpath</code> configuration property in the Java Adapter properties file to specify the JARs for the Datastax Java Driver for Cassandra. Ensure that this JAR is first in the list.</p>
<pre dir="ltr">
gg.classpath=/<span class="italic">path_to_repository</span>/com/datastax/cassandra/cassandra-drive r-core/3.3.1/cassandra-driver-core-3.3.1.jar:/<span class="italic">path_to_apache_cassandra</span>/cassandra-3.11.0/ lib/*
</pre>
<p><span class="bold">Topics:</span></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-D6B85915-635C-4265-806F-C6E733F4713B">Understanding the Cassandra Handler Configuration</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-F66D0F36-2CB1-476B-88E1-D74125A84D3A">Review a Sample Configuration</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-0FC24DE6-0564-428A-AB5D-202A9DF220E7">Configuring Security</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-D6B85915-635C-4265-806F-C6E733F4713B"></a>
<h3 id="GADBD-GUID-D6B85915-635C-4265-806F-C6E733F4713B" class="sect3"><span class="enumeration_section">3.3.1</span> Understanding the Cassandra Handler Configuration</h3>
<div>
<div class="section">
<p>The following are the configurable values for the Cassandra Handler. These properties are located in the Java Adapter properties file (not in the Replicat properties file).</p>
<p>To enable the selection of the Cassandra Handler, you must first configure the handler type by specifying <code class="codeph">gg.handler.jdbc.type=cassandra</code> and the other Cassandra properties as follows:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-D6B85915-635C-4265-806F-C6E733F4713B__GUID-2F0D04A3-FC62-428E-A3AC-44349A09933F">
<p class="titleintable">Table 3-1 Cassandra Handler Configuration Properties</p>
<table class="cellalignment78" title="Cassandra Handler Configuration Properties" summary="Five column table describing the Cassandra Handler Configuration">
<thead>
<tr class="cellalignment65">
<th class="cellalignment98" id="d9209e881">Properties</th>
<th class="cellalignment99" id="d9209e884">Required/ Optional</th>
<th class="cellalignment100" id="d9209e887">Legal Values</th>
<th class="cellalignment101" id="d9209e890">Default</th>
<th class="cellalignment102" id="d9209e893">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e898" headers="d9209e881">
<p><code class="codeph">gg.handlerlist</code></p>
</td>
<td class="cellalignment104" headers="d9209e898 d9209e884">
<p>Required</p>
</td>
<td class="cellalignment105" headers="d9209e898 d9209e887">
<p>Any string</p>
</td>
<td class="cellalignment106" headers="d9209e898 d9209e890">
<p>None</p>
</td>
<td class="cellalignment107" headers="d9209e898 d9209e893">
<p>Provides a name for the Cassandra Handler. The Cassandra Handler name then becomes part of the property names listed in this table.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e915" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">type=cassandra</code></p>
</td>
<td class="cellalignment104" headers="d9209e915 d9209e884">
<p>Required</p>
</td>
<td class="cellalignment105" headers="d9209e915 d9209e887">
<p><code class="codeph">cassandra</code></p>
</td>
<td class="cellalignment106" headers="d9209e915 d9209e890">
<p>None</p>
</td>
<td class="cellalignment107" headers="d9209e915 d9209e893">
<p>Selects the Cassandra Handler for streaming change data capture into name.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e938" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">mode</code></p>
</td>
<td class="cellalignment104" headers="d9209e938 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e938 d9209e887">
<p><code class="codeph">op</code> | <code class="codeph">tx</code></p>
</td>
<td class="cellalignment106" headers="d9209e938 d9209e890">
<p><code class="codeph">op</code></p>
</td>
<td class="cellalignment107" headers="d9209e938 d9209e893">
<p>The default is recommended. In <code class="codeph">op</code> mode, operations are processed as received. In <code class="codeph">tx</code> mode, operations are cached and processed at transaction commit. The <code class="codeph">tx</code>mode is slower and creates a larger memory footprint.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e974" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><code class="codeph">name.contactPoints=</code></p>
</td>
<td class="cellalignment104" headers="d9209e974 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e974 d9209e887">
<p>A comma separated list of host names that the Cassandra Handler will connect to.</p>
</td>
<td class="cellalignment106" headers="d9209e974 d9209e890">
<p><code class="codeph">localhost</code></p>
</td>
<td class="cellalignment107" headers="d9209e974 d9209e893">
<p>A comma-separated list of the Cassandra host machines for the driver to establish an initial connection to the Cassandra cluster. This configuration property does <span class="italic">not</span> need to include all the machines enlisted in the Cassandra cluster. By connecting to a single machine, the driver can learn about other machines in the Cassandra cluster and establish connections to those machines as required.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e999" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">username</code></p>
</td>
<td class="cellalignment104" headers="d9209e999 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e999 d9209e887">
<p>A legal username string.</p>
</td>
<td class="cellalignment106" headers="d9209e999 d9209e890">
<p>None</p>
</td>
<td class="cellalignment107" headers="d9209e999 d9209e893">
<p>A user name for the connection to name. Required if Cassandra is configured to require credentials.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1021" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">password</code></p>
</td>
<td class="cellalignment104" headers="d9209e1021 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1021 d9209e887">
<p>A legal password string.</p>
</td>
<td class="cellalignment106" headers="d9209e1021 d9209e890">
<p>None</p>
</td>
<td class="cellalignment107" headers="d9209e1021 d9209e893">
<p>A password for the connection to name. Required if Cassandra is configured to require credentials.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1043" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">compressedUpdates</code></p>
</td>
<td class="cellalignment104" headers="d9209e1043 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1043 d9209e887">
<p><code class="codeph">true</code> | <code class="codeph">false</code></p>
</td>
<td class="cellalignment106" headers="d9209e1043 d9209e890">
<p><code class="codeph">true</code></p>
</td>
<td class="cellalignment107" headers="d9209e1043 d9209e893">
<p>Sets the Cassandra Handler whether to expect full image updates from the source trail file. A value of <code class="codeph">true</code> means that updates in the source trail file only contain column data for the primary keys and for columns that changed. The Cassandra Handler executes updates as simple statements updating only the columns that changed.</p>
<p>A value of <code class="codeph">false</code> means that updates in the source trail file contain column data for primary keys and all columns regardless of whether the column value has changed. The Cassandra Handler is able to use prepared statements for updates, which can provide better performance for streaming data to name.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1078" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">ddlHandling</code></p>
</td>
<td class="cellalignment104" headers="d9209e1078 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1078 d9209e887">
<p><code class="codeph">CREATE</code> | <code class="codeph">ADD</code> | <code class="codeph">DROP</code> in any combination with values delimited by a comma</p>
</td>
<td class="cellalignment106" headers="d9209e1078 d9209e890">
<p>None</p>
</td>
<td class="cellalignment107" headers="d9209e1078 d9209e893">
<p>Configures the Cassandra Handler for the DDL functionality to provide. Options include <code class="codeph">CREATE</code>, <code class="codeph">ADD</code>, and <code class="codeph">DROP</code>. These options can be set in any combination delimited by commas.</p>
<p>When <code class="codeph">CREATE</code> is enabled, the Cassandra Handler creates tables in Cassandra if a corresponding table does not exist.</p>
<p>When <code class="codeph">ADD</code> is enabled, the Cassandra Handler adds columns that exist in the source table definition that do <span class="italic">not</span> exist in the corresponding Cassandra table definition.</p>
<p>When <code class="codeph">DROP</code> is enabled, the handler drops columns that exist in the Cassandra table definition that do <span class="italic">not</span> exist in the corresponding source table definition.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1138" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">cassandraMode</code></p>
</td>
<td class="cellalignment104" headers="d9209e1138 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1138 d9209e887">
<p><code class="codeph">async</code> | <code class="codeph">sync</code></p>
</td>
<td class="cellalignment106" headers="d9209e1138 d9209e890">
<p><code class="codeph">async</code></p>
</td>
<td class="cellalignment107" headers="d9209e1138 d9209e893">
<p>Sets the interaction between the Cassandra Handler and name. Set to <code class="codeph">async</code> for asynchronous interaction. Operations are sent to Cassandra asynchronously and then flushed at transaction commit to ensure durability. Asynchronous provides better performance.</p>
<p>Set to <code class="codeph">sync</code> for synchronous interaction. Operations are sent to Cassandra synchronously.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1173" headers="d9209e881">
<p><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">consistencyLevel</code></p>
</td>
<td class="cellalignment104" headers="d9209e1173 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1173 d9209e887">
<p><code class="codeph">ALL</code> | <code class="codeph">ANY</code> | <code class="codeph">EACH_QUORUM</code> | <code class="codeph">LOCAL_ONE</code> | <code class="codeph">LOCAL_QUORUM</code> | <code class="codeph">ONE</code> | <code class="codeph">QUORUM</code> | <code class="codeph">THREE</code> | <code class="codeph">TWO</code></p>
</td>
<td class="cellalignment106" headers="d9209e1173 d9209e890">
<p>The Cassandra default.</p>
</td>
<td class="cellalignment107" headers="d9209e1173 d9209e893">
<p>Sets the consistency level for operations with name. It configures the criteria that must be met for storage on the Cassandra cluster when an operation is executed. Lower levels of consistency may provide better performance, while higher levels of consistency are safer.</p>
<p>An advanced configuration property so that you can override the SSL <code class="codeph">javax.net.ssl.SSLContext</code> and cipher suites. The fully qualified class name is provided here and the class must be included in the classpath. The class must implement the <code class="codeph">com.datastax.driver.core.SSLOptions</code> interface in the Datastax Cassandra Java driver. This configuration property is only applicable if <code class="codeph">gg.handler.name.withSSL</code> is set to <code class="codeph">true</code>, see <a href="http://docs.datastax.com/en/developer/java-driver/3.3/manual/ssl/" target="_blank">http://docs.datastax.com/en/developer/java-driver/3.3/manual/ssl/</a>.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1239" headers="d9209e881"><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">withSSL</code></td>
<td class="cellalignment104" headers="d9209e1239 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1239 d9209e887">
<p><code class="codeph">true</code> | <code class="codeph">false</code></p>
</td>
<td class="cellalignment106" headers="d9209e1239 d9209e890">
<p><code class="codeph">false</code></p>
</td>
<td class="cellalignment107" headers="d9209e1239 d9209e893">
<p>Set to true to enable secured connections to the Cassandra cluster using SSL. This requires additional Java boot options configuration, see <a href="http://docs.datastax.com/en/developer/java-driver/3.3/manual/ssl/" target="_blank">http://docs.datastax.com/en/developer/java-driver/3.3/manual/ssl/</a>.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment103" id="d9209e1270" headers="d9209e881"><code class="codeph">gg.handler.</code><span class="italic"><code class="codeph">name.</code></span><code class="codeph">port</code></td>
<td class="cellalignment104" headers="d9209e1270 d9209e884">
<p>Optional</p>
</td>
<td class="cellalignment105" headers="d9209e1270 d9209e887">
<p>Integer</p>
</td>
<td class="cellalignment106" headers="d9209e1270 d9209e890">
<p><code class="codeph">9042</code></p>
</td>
<td class="cellalignment107" headers="d9209e1270 d9209e893">
<p>Set to configure the port number that the Cassandra Handler attempts to connect to Cassandra server instances. You can override the default in the Cassandra YAML files.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-F66D0F36-2CB1-476B-88E1-D74125A84D3A"></a>
<h3 id="GADBD-GUID-F66D0F36-2CB1-476B-88E1-D74125A84D3A" class="sect3"><span class="enumeration_section">3.3.2</span> Review a Sample Configuration</h3>
<div>
<p>The following is a sample configuration for the Cassandra Handler from the Java Adapter properties file:</p>
<pre dir="ltr">
gg.handlerlist=cassandra 

#The handler properties 
gg.handler.cassandra.type=cassandra 
gg.handler.cassandra.mode=op 
gg.handler.cassandra.contactPoints=localhost 
gg.handler.cassandra.ddlHandling=CREATE,ADD,DROP 
gg.handler.cassandra.compressedUpdates=true 
gg.handler.cassandra.cassandraMode=async 
gg.handler.cassandra.consistencyLevel=ONE
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-0FC24DE6-0564-428A-AB5D-202A9DF220E7"></a>
<h3 id="GADBD-GUID-0FC24DE6-0564-428A-AB5D-202A9DF220E7" class="sect3"><span class="enumeration_section">3.3.3</span> Configuring Security</h3>
<div>
<div class="section">
<p>The Cassandra Handler connection to the Cassandra Cluster can be secured using user name and password credentials. These are set using the following configuration properties:</p>
<pre dir="ltr">
gg.handler.<span class="italic">name</span>.username 
gg.handler.<span class="italic">name</span>.password
</pre>
<p>Optionally, the connection to the Cassandra cluster can be secured using SSL. To enable SSL security set the following parameter:</p>
<pre dir="ltr">
gg.handler.name.withSSL=true
</pre>
<p>Additionally, the Java <code class="codeph">bootoptions</code> must be configured to include the location and password of the <code class="codeph">keystore</code> and the location and password of the <code class="codeph">truststore</code>. For example:</p>
<pre dir="ltr">
javawriter.bootoptions=-Xmx512m -Xms32m -Djava.class.path=.:ggjava/ggjava.jar:./dirprm
-Djavax.net.ssl.trustStore=/path/to/client.truststore
-Djavax.net.ssl.trustStorePassword=password123
-Djavax.net.ssl.keyStore=/path/to/client.keystore
-Djavax.net.ssl.keyStorePassword=password123
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-1B7ED49F-16B7-4B38-82EB-AFEC99C06BB8"></a>
<h2 id="GADBD-GUID-1B7ED49F-16B7-4B38-82EB-AFEC99C06BB8" class="sect2"><span class="enumeration_section">3.4</span> About Automated DDL Handling</h2>
<div>
<div class="section">
<p>The Cassandra Handler performs the table check and reconciliation process the first time an operation for a source table is encountered. Additionally, a DDL event or a metadata change event causes the table definition in the Cassandra Handler to be marked as dirty. Therefore, the next time an operation for the table is encountered, the handler repeats the table check, and reconciliation process as described in the following section.</p>
<p><span class="bold">Topics:</span></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-14CCA88D-71BA-484D-9776-FB0F398B3635">About the Table Check and Reconciliation Process</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-29BE1B9E-9D93-4B38-B539-BA4030AFE0B7">Capturing New Change Data</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-14CCA88D-71BA-484D-9776-FB0F398B3635"></a>
<h3 id="GADBD-GUID-14CCA88D-71BA-484D-9776-FB0F398B3635" class="sect3"><span class="enumeration_section">3.4.1</span> About the Table Check and Reconciliation Process</h3>
<div>
<div class="section">
<p>The Cassandra Handler first interrogates the target Cassandra database to determine whether the target Cassandra keyspace exists. If the target Cassandra keyspace does not exist, then the Cassandra Handler abends. Keyspaces must be created by the user. The log file must contain the error of the exact keyspace name that the Cassandra Handler is expecting.</p>
<p>Next, the Cassandra Handler interrogates the target Cassandra database for the table definition. If the table does not exist, the Cassandra Handler either creates a table if <code class="codeph">gg.handler.name.ddlHandling</code> includes the <code class="codeph">CREATE</code> option or abends the process. A message is logged that shows you the table that does not exist in Cassandra.</p>
<p>If the table exists in Cassandra, then the Cassandra Handler reconciles the table definition from the source trail file and the table definition in Cassandra. This reconciliation process searches for columns that exist in the source table definition and not in the corresponding Cassandra table definition. If it locates columns fitting this criteria and the <code class="codeph">gg.handler.name.ddlHandling</code> property includes <code class="codeph">ADD</code>, then the Cassandra Handler adds the columns to the target table in Cassandra. Otherwise, it ignores these columns.</p>
<p>Next, the Cassandra Handler searches for columns that exist in the target Cassandra table but do not exist in the source table definition. If it locates columns that fit this criteria and the <code class="codeph">gg.handler.name.ddlHandling</code> property includes <code class="codeph">DROP</code>, then the Cassandra Handler removes these columns from the target table in Cassandra. Otherwise those columns are ignored.</p>
<p>Finally, the prepared statements are built.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-1B7ED49F-16B7-4B38-82EB-AFEC99C06BB8">About Automated DDL Handling</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-29BE1B9E-9D93-4B38-B539-BA4030AFE0B7"></a>
<h3 id="GADBD-GUID-29BE1B9E-9D93-4B38-B539-BA4030AFE0B7" class="sect3"><span class="enumeration_section">3.4.2</span> Capturing New Change Data</h3>
<div>
<div class="section">
<p>You can capture all of the new change data into your Cassandra database, including the DDL changes in the trail, for the target apply. Following is the acceptance criteria:</p>
<pre dir="ltr">
AC1: Support Cassandra as a bulk extract 
AC2: Support Cassandra as a CDC source
AC4: All Cassandra supported data types are supported
AC5: Should be able to write into different tables based on any filter conditions, like Updates to Update tables or based on primary keys
AC7: Support Parallel processing with multiple threads 
AC8: Support Filtering based on keywords
AC9: Support for Metadata provider
AC10: Support for DDL handling on sources and target
AC11: Support for target creation and updating of metadata.
AC12: Support for error handling and extensive logging
AC13: Support for Conflict Detection and Resolution
AC14: Performance should be on par or better than HBase
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-1B7ED49F-16B7-4B38-82EB-AFEC99C06BB8">About Automated DDL Handling</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-F4363382-DDC4-45A4-831E-1C8A202A8F82"></a>
<h2 id="GADBD-GUID-F4363382-DDC4-45A4-831E-1C8A202A8F82" class="sect2"><span class="enumeration_section">3.5</span> Performance Considerations</h2>
<div>
<div class="section">
<p>Configuring the Cassandra Handler for <code class="codeph">async</code> mode provides better performance than <code class="codeph">sync</code> mode. Set Replicat property <code class="codeph">GROUPTRANSOPS</code> must be set to the default value of 1000.</p>
<p>Setting the consistency level directly affects performance. The higher the consistency level, the more work must occur on the Cassandra cluster before the transmission of a given operation can be considered complete. Select the minimum consistency level that still satisfies the requirements of your use case.</p>
<p>The Cassandra Handler can work in either operation (<code class="codeph">op</code>) or transaction (<code class="codeph">tx</code>) mode. For the best performance operation mode is recommended:</p>
<pre dir="ltr">
gg.handler.name.mode=op
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-6A7D086D-84DD-4653-AED8-93411B301673"></a>
<h2 id="GADBD-GUID-6A7D086D-84DD-4653-AED8-93411B301673" class="sect2"><span class="enumeration_section">3.6</span> Additional Considerations</h2>
<div>
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Cassandra database requires at least one primary key. The value of any primary key cannot be null. Automated table creation fails for source tables that do not have a primary key.</p>
</li>
<li>
<div class="p">When <code class="codeph">gg.handler.name.compressedUpdates=false</code> is set, the Cassandra Handler expects to update full before and after images of the data.
<div class="infobox-note" id="GUID-6A7D086D-84DD-4653-AED8-93411B301673__GUID-862FC123-C6C1-4F89-A423-486476D8B8BB">
<p class="notep1">Note:</p>
Using this property setting with a source trail file with partial image updates results in null values being updated for columns for which the data is missing. This configuration is incorrect and update operations pollute the target data with null values in columns that did not change.</div>
</div>
</li>
<li>
<p>The Cassandra Handler does <span class="italic">not</span> process DDL from the source database, even if the source database provides DDL Instead, it reconciles between the source table definition and the target Cassandra table definition. A DDL statement executed at the source database that changes a column name appears to the Cassandra Handler as if a column is dropped from the source table and a new column is added. This behavior depends on how the <code class="codeph">gg.handler.name.ddlHandling</code> property is configured.</p>
<div class="tblformal" id="GUID-6A7D086D-84DD-4653-AED8-93411B301673__GUID-CD7D5479-28B0-4B50-814C-F94C77192030">
<table class="cellalignment71" summary="Two column table describing DDL processing.">
<thead>
<tr class="cellalignment65">
<th class="cellalignment77" id="d9209e1605">gg.handler.name.ddlHandling Configuration</th>
<th class="cellalignment77" id="d9209e1610">Behavior</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment65">
<td class="cellalignment65" id="d9209e1615" headers="d9209e1605">
<p>Not configured for <code class="codeph">ADD</code> or <code class="codeph">DROP</code></p>
</td>
<td class="cellalignment65" headers="d9209e1615 d9209e1610">
<p>Old column name and data maintained in Cassandra. New column is not created in Cassandra, so no data is replicated for the new column name from the DDL change forward.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment65" id="d9209e1627" headers="d9209e1605">
<p>Configured for <code class="codeph">ADD</code> only</p>
</td>
<td class="cellalignment65" headers="d9209e1627 d9209e1610">
<p>Old column name and data maintained in Cassandra. New column iscreated in Cassandra and data replicated for the new column name from the DDL change forward. Column mismatch between the data is located before and after the DDL change.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment65" id="d9209e1637" headers="d9209e1605">
<p>Configured for <code class="codeph">DROP</code> only</p>
</td>
<td class="cellalignment65" headers="d9209e1637 d9209e1610">
<p>Old column name and data dropped in Cassandra. New column is not created in Cassandra, so no data replicated for the new column name.</p>
</td>
</tr>
<tr class="cellalignment65">
<td class="cellalignment65" id="d9209e1647" headers="d9209e1605">
<p>Configured for <code class="codeph">ADD</code> and <code class="codeph">DROP</code></p>
</td>
<td class="cellalignment65" headers="d9209e1647 d9209e1610">
<p>Old column name and data dropped in Cassandra. New column is created in Cassandra, and data is replicated for the new column name from the DDL change forward.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7"></a>
<h2 id="GADBD-GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7" class="sect2"><span class="enumeration_section">3.7</span> Troubleshooting</h2>
<div>
<div class="section">
<p>This section contains information to help you troubleshoot various issues. Review the following topics for additional help:</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-3EE9BB54-1DBD-46D3-9E30-42320C885059">Java Classpath</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-1FEF5187-E8DF-48C4-935D-0EFB321DDBDD">Logging</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-9E1A7E82-47E6-475B-887A-B8FE3A511389">Write Timeout Exception</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-4F2014EC-B364-4262-859B-FA745CA793B1">Logging</a><br /></li>
<li class="ulchildlink"><a href="using-cassandra-handler.htm#GUID-87B770AE-ECC7-4A17-A777-EB362A1D31CB">Datastax Driver Error</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-EE8CD5B5-8749-4906-B50C-EE33E36AC984" title="Learn how to use the Cassandra Handler, which provides the interface to Apache Cassandra databases.">Using the Cassandra Handler</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-3EE9BB54-1DBD-46D3-9E30-42320C885059"></a>
<h3 id="GADBD-GUID-3EE9BB54-1DBD-46D3-9E30-42320C885059" class="sect3"><span class="enumeration_section">3.7.1</span> Java Classpath</h3>
<div>
<div class="section">
<p>When the classpath that is intended to include the required client libraries, a <code class="codeph">ClassNotFound</code> exception appears in the log file. To troubleshoot, set the Java Adapter logging to <code class="codeph">DEBUG</code>, and then run the process again. At the debug level, the log contains data about the JARs that were added to the classpath from the <code class="codeph">gg.classpath</code> configuration variable. The <code class="codeph">gg.classpath</code> variable selects the asterisk (<code class="codeph">*</code>) wildcard character to select all JARs in a configured directory. For example, <code class="codeph">/usr/cassandra/cassandra-java-driver-3.3.1/*:/usr/cassandra/cassandra-java-driver-3.3.1/lib/*</code>.</p>
<p>For more information about setting the classpath, see <a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a>and <a href="cassandra-handler-client-dependencies.htm#GUID-5CBDA0B6-A058-45FC-B35C-0BEE0264E3D0" title="What are the dependencies for the Cassandra Handler to connect to Apache Cassandra databases?">Cassandra Handler Client Dependencies</a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-1FEF5187-E8DF-48C4-935D-0EFB321DDBDD"></a>
<h3 id="GADBD-GUID-1FEF5187-E8DF-48C4-935D-0EFB321DDBDD" class="sect3"><span class="enumeration_section">3.7.2</span> Logging</h3>
<div>
<div class="section">
<div class="p">The Cassandra Handler logs the state of its configuration to the Java log file. This is helpful because you can review the configuration values for the Cassandra Handler. A sample of the logging of the state of the configuration follows:
<pre dir="ltr">
**** Begin Cassandra Handler - Configuration Summary **** 
  Mode of operation is set to op. 
  The Cassandra cluster contact point(s) is [localhost]. 
  The handler has been configured for GoldenGate compressed updates (partial image updates). 
  Sending data to Cassandra in [ASYNC] mode. 
  The Cassandra consistency level has been set to [ONE]. 
  Cassandra Handler DDL handling: 
    The handler will create tables in Cassandra if they do not exist. 
    The handler will add columns to Cassandra tables for columns in the source metadata that do not exist in Cassandra. 
    The handler will drop columns in Cassandra tables for columns that do not exist in the source metadata. 
**** End Cassandra Handler - Configuration Summary ****
</pre></div>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-9E1A7E82-47E6-475B-887A-B8FE3A511389"></a>
<h3 id="GADBD-GUID-9E1A7E82-47E6-475B-887A-B8FE3A511389" class="sect3"><span class="enumeration_section">3.7.3</span> Write Timeout Exception</h3>
<div>
<div class="section">
<p>When running the Cassandra handler, you may experience a <code class="codeph">com.datastax.driver.core.exceptions.WriteTimeoutException</code> exception that causes the Replicat process to abend. It is likely to occur under some or all of the following conditions:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Cassandra Handler processes large numbers of operations, putting the Cassandra cluster under a significant processing load.</p>
</li>
<li>
<p><code class="codeph">GROUPTRANSOPS</code> is configured higher than the value of 1000 default.</p>
</li>
<li>
<p>The Cassandra Handler is configured in asynchronous mode.</p>
</li>
<li>
<p>The Cassandra Handler is configured with a consistency level higher than <code class="codeph">ONE</code>.</p>
</li>
</ul>
<p>When this problem occurs, the Cassandra Handler is streaming data faster than the Cassandra cluster can process it. The write latency in the Cassandra cluster finally exceeds the write request timeout period, which in turn results in the exception.</p>
<p>The following are potential solutions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Increase the write request timeout period. This is controlled with the <code class="codeph">write_request_timeout_in_ms</code> property in Cassandra and is located in the <code class="codeph">cassandra.yaml</code> file in the <code class="codeph"><span class="codeinlineitalic">cassandra_install</span>/conf</code> directory. The default is 2000 (2 seconds). You can increase this value to move past the error, and then restart the Cassandra node or nodes for the change to take effect.</p>
</li>
<li>
<p>Decrease the <code class="codeph">GROUPTRANSOPS</code> configuration value of the Replicat process. Typically, decreasing the <code class="codeph">GROUPTRANSOPS</code> configuration decreases the size of transactions processed and reduces the likelihood that the Cassandra Handler can overtax the Cassandra cluster.</p>
</li>
<li>
<p>Reduce the consistency level of the Cassandra Handler. This in turn reduces the amount of work the Cassandra cluster has to complete for an operation to be considered as written.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-4F2014EC-B364-4262-859B-FA745CA793B1"></a>
<h3 id="GADBD-GUID-4F2014EC-B364-4262-859B-FA745CA793B1" class="sect3"><span class="enumeration_section">3.7.4</span> Logging</h3>
<div>
<div class="section">
<p>The <code class="codeph">java.lang.NoClassDefFoundError: io/netty/util/Timer</code> error can occur in both the 3.3 and 3.2 versions of downloaded Datastax Java Driver. This is because the <code class="codeph">netty-common</code> JAR file is inadvertently missing from the Datastax driver tar file. You must manually obtain the<code class="codeph">netty-common</code> JAR file of the same netty version, and then add it to the classpath.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-87B770AE-ECC7-4A17-A777-EB362A1D31CB"></a>
<h3 id="GADBD-GUID-87B770AE-ECC7-4A17-A777-EB362A1D31CB" class="sect3"><span class="enumeration_section">3.7.5</span> Datastax Driver Error</h3>
<div>
<div class="section">
<p>If you didn&rsquo;t add the <code class="codeph">cassandra-driver-core-3.3.1.jar</code> file in the <code class="codeph">gg.classpath</code> property, then this exception can occur:</p>
<pre dir="ltr">
com.datastax.driver.core.exceptions.UnresolvedUserTypeException: Cannot
resolve user type <span class="italic">keyspace</span>.duration
</pre>
<p>If there are tables with a <code class="codeph">duration</code> data type column, this exception occurs. Using the <code class="codeph">Cassandra driver, cassandra-driver-core-3.3.1.jar</code> in the <code class="codeph">gg.classpath</code> property resolves the error. See <a href="using-cassandra-handler.htm#GUID-C3AC0152-35C2-4E58-BDB1-7E3F6CAA655C">Setting Up and Running the Cassandra Handler</a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-cassandra-handler.htm#GUID-39AB73AD-2BB6-4825-8CF3-B3D24EF168F7">Troubleshooting</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment64">
<tr>
<td class="cellalignment74">
<table class="cellalignment69">
<tr>
<td class="cellalignment68"><a href="using-bigquery-handler.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment68"><a href="using-elasticsearch-handler.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment76">
<table class="cellalignment67">
<tr>
<td class="cellalignment68"><a href="http://docs.oracle.com/goldengate/bd123210/gg-bd/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment68"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment68"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
