<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Upgrading Oracle GoldenGate Veridata</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1071" />
<meta name="description" content="This chapter describes the tasks you perform to upgrade Oracle GoldenGate Veridata." />
<meta name="dcterms.created" content="2015-10-12T19:36:1Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="GoldenGate Upgrading Oracle GoldenGate Veridata" />
<meta name="dcterms.identifier" content="E60966-01" />
<meta name="dcterms.isVersionOf" content="GVDUP" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="intro.htm" title="Previous" type="text/html" />
<link rel="Next" href="post_upgrade.htm" title="Next" type="text/html" />
<link rel="alternate" href="E60966-01.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="E60966-01.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="E60966-01.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><span id="PAGE" style="display:none;">6/7</span> <!-- End Header -->
<div id="GVDUP113" class="chapter"><a id="CACJEHFB"></a>
<h1 class="chapter"><span class="secnum">2</span> Upgrading Oracle GoldenGate Veridata</h1>
<p><a id="GVDUP114"></a>This chapter describes the tasks you perform to upgrade Oracle GoldenGate Veridata.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#CACIDEFG">Section 2.1, "Choosing an Upgrade Path and Upgrading"</a></p>
</li>
<li>
<p><a href="#A1171065">Section 2.2, "Upgrade Utilities"</a></p>
</li>
</ul>
<a id="CACIDEFG"></a>
<div id="GVDUP152" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.1</span> Choosing an Upgrade Path and Upgrading</h2>
<p>To upgrade your existing Oracle GoldenGate Veridata release to the Veridata 12<span class="italic">c</span> (12.2.1) release, choose the appropriate upgrade path for your environment and use the steps in that section to proceed with your upgrade:</p>
<ul>
<li>
<p><a href="#CACFIAFI">Section 2.1.1, "Upgrading Veridata 11g to Veridata 12.2.1"</a></p>
</li>
<li>
<p><a href="#CACFDIFE">Section 2.1.2, "Upgrading a Veridata 12.1.3 Compact Domain to 12.2.1"</a></p>
</li>
<li>
<p><a href="#CACFCJDE">Section 2.1.3, "Upgrading a Veridata 12.1.3 Expanded Domain to Veridata 12.2.1"</a></p>
</li>
<li>
<p><a href="#CACJGAJA">Section 2.1.4, "Migrating a MySQL Repository Configuration to Veridata 12.2.1"</a></p>
</li>
</ul>
<a id="CACFIAFI"></a>
<div id="GVDUP153" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.1</span> Upgrading Veridata 11g to Veridata 12.2.1</h3>
<p>The Oracle GoldenGate Veridata 11g release was based on the use of the Apache Tomcat Application Server. Oracle GoldenGate Veridata 12.2.1 uses Oracle WebLogic Servers and is dependent on other Oracle Fusion Middleware products.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
All of your User Preferences will be lost as a result of the upgrade because of the product changes in the Oracle GoldenGate Veridata 12<span class="italic">c</span> release.</div>
<p>To upgrade from 11.2.1.0.0 and greater to 12.2.1, use these steps:</p>
<ol>
<li>
<p>Run RCU to create OPSS schemas and Service Table (STB) with <a href="#A1147456">Section 2.2.1, "Creating Repository Schemas using Repository Creation Utility"</a>.</p>
</li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata schema to 12.2.1 with <a href="#A1147160">Section 2.2.3, "Upgrading Veridata Schemas"</a>.</p>
</li>
<li>
<p>Run the Oracle WebLogic Server Configuration Wizard to create a new Veridata domain using the previously upgraded Veridata database and newly created OPSS and STB schemas with <a href="#A1152347">Section 2.2.2, "Creating the Veridata Domain using the Upgraded Schema"</a>.</p>
</li>
<li>
<p>Run Upgrade Assistant to perform the Veridata configuration upgrade to 12.2.1, which includes wallet and <code dir="ltr">veridata.cfg</code> migration with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a></p>
</li>
<li>
<p>Start your Veridata WebLogic Server and domain. See <a class="olink GVDIS332" href="../GVDIS/postinstallation.htm#GVDIS332">"Starting the Servers"</a> in <span class="italic">Installing and Configuring Oracle GoldenGate Veridata</span>.</p>
</li>
<li>
<p>Run the <code dir="ltr">agent.config</code> utility to upgrade your Veridata configuration with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a>.</p>
</li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata Agent with <a href="#A1147352">Section 2.2.5, "Upgrading the Veridata Agent"</a>.</p>
</li>
<li>
<p>Go to <a href="post_upgrade.htm#CIAEEBDJ">Chapter 3</a> and perform the post-installation tasks.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CACFDIFE"></a>
<div id="GVDUP154" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.2</span> Upgrading a Veridata 12.1.3 Compact Domain to 12.2.1</h3>
<p>The Oracle GoldenGate Veridata 12.1.3 domain with a SQL Server database as repository was a compact domain, which does not use an OPSS schema. The compact domain support was removed in the Oracle GoldenGate Veridata 12.2.1 release and only Expanded domain is supported.</p>
<p>To upgrade from a compact domain 12.1.3 to Veridata 12.2.1, use these steps:</p>
<ol>
<li>
<p>Run RCU to create OPSS schemas using the same prefix that you used in 12.1.3 with <a href="#A1147456">Section 2.2.1, "Creating Repository Schemas using Repository Creation Utility"</a>.</p>
</li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata schema and STB to 12.2.1 with <a href="#A1147160">Section 2.2.3, "Upgrading Veridata Schemas"</a>.</p>
</li>
<li>
<p>Run the Oracle WebLogic Server Configuration Wizard to create a new Veridata domain using the previously upgraded Veridata and STB databases and newly created OPSS with <a href="#A1152347">Section 2.2.2, "Creating the Veridata Domain using the Upgraded Schema"</a>.</p>
</li>
<li>
<p>Run Upgrade Assistant to perform the Veridata configuration upgrade to 12.2.1 including wallet migration and <code dir="ltr">veridata.cfg</code> migration with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a></p>
</li>
<li>
<p>Start your Veridata WebLogic Server and domain. See <a class="olink GVDIS332" href="../GVDIS/postinstallation.htm#GVDIS332">"Starting the Servers"</a> in <span class="italic">Installing and Configuring Oracle GoldenGate Veridata</span>.</p>
</li>
<li>
<p>Run the <code dir="ltr">agent.config</code> utility to upgrade your Veridata configuration with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a>.</p>
</li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata Agent with <a href="#A1147352">Section 2.2.5, "Upgrading the Veridata Agent"</a>.</p>
</li>
<li>
<p>Go to <a href="post_upgrade.htm#CIAEEBDJ">Chapter 3</a> and perform the post-installation tasks.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CACFCJDE"></a>
<div id="GVDUP155" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.3</span> Upgrading a Veridata 12.1.3 Expanded Domain to Veridata 12.2.1</h3>
<p>To upgrade from a 12.1.3 expanded domain to Veridata 12.2.1, use these steps:</p>
<ol>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata and OPSS schemas to 12.2.1 with <a href="#A1147160">Section 2.2.3, "Upgrading Veridata Schemas"</a> or using the Domain Assisted Schema Upgrade (DASU), which is the recommended way to upgrade.</p>
</li>
<li>
<p>Run the Oracle WebLogic Server Reconfiguration Wizard to reconfigure your existing 12.1.3 expanded domain to a 12.2.1 domain with this command.</p>
<pre dir="ltr">
<span class="italic">ORACLE_HOME</span>/oracle_common/common/bin/reconfig.sh -log=<span class="italic">logFileName.log</span> -log_priority=FINE"
</pre></li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata schema to 12.2.1 with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a>.</p>
</li>
<li>
<p>Start your Veridata WebLogic Server and domain. See <a class="olink GVDIS332" href="../GVDIS/postinstallation.htm#GVDIS332">"Starting the Servers"</a> in <span class="italic">Installing and Configuring Oracle GoldenGate Veridata</span>.</p>
</li>
<li>
<p>Run the <code dir="ltr">agent.config</code> utility to upgrade your Veridata configuration with <a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a>.</p>
</li>
<li>
<p>Run the Upgrade Assistant to upgrade your Veridata Agent with <a href="#A1147352">Section 2.2.5, "Upgrading the Veridata Agent"</a>.</p>
</li>
<li>
<p>Go to <a href="post_upgrade.htm#CIAEEBDJ">Chapter 3</a> and perform the post-installation tasks.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CACJGAJA"></a>
<div id="GVDUP156" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.1.4</span> Migrating a MySQL Repository Configuration to Veridata 12.2.1</h3>
<p>Support for MySQL was removed in Oracle GoldenGate Veridata 12.2.1 so you must migrate to any of the supported databases for this release using the following steps:</p>
<p>To migrate existing configuration like connections, groups, jobs and profiles, use the Veridata export and import utilities. For more information, see <a class="olink GVDAD169" href="../GVDAD/scripting.htm#GVDAD169"><span class="italic">Administering Oracle GoldenGate Veridata</span></a>.</p>
<ol>
<li>
<p>Go to the <code dir="ltr"><span class="codeinlineitalic">DOMAIN_HOME</span></code><code dir="ltr">/veridata/bin</code> directory.</p>
</li>
<li>
<p>Use the export utility to export all the configured objects from MySQL repository to a XML file. This utility exports Connections (including passwords), Groups, Jobs, and Profiles. It does not export the User Preferences or Job Run history. If your new Veridata Agents use different host or port, update this connection information in the exported XML file.</p>
<p>The syntax for running the export script is:</p>
<pre dir="ltr">
veridata_export[.sh | .bat] -export <span class="italic">filePath</span> -wluser <span class="codeinlineitalic">commandlineUusername </span>  [-wlport <span class="italic">portNo</span>] [&ndash;jobs <span class="italic">jobName</span> | - groups <span class="italic">groupName</span> | -connections <span class="italic">connName</span> | -profiles <span class="italic">profileName</span> | -all | -exportPassword] [[-repoUrl <span class="italic">jdbc_url</span>] [-u <span class="italic">username</span>&gt;][-schema <span class="italic">schema_name</span>][-vdtPath <span class="codeinlineitalic">VERIDATA_PRODUCT_HOME</span>]]
</pre>
<p>For example:</p>
<pre dir="ltr">
./veridata_export.sh -wluser vdtUser -wlport 8830 -export /scratch/mysqlRepo.xml -all -exportPassword -repoUrl jdbc:mysql://localhost:3306/DEV_VERIDATA -username DEV_VERIDATA -schema DEV_VERIDATA -vdtPath /scratch/fmwHome/user_projects/domains/mysqlDomain/ 
</pre>
<p>where: -<code dir="ltr"><span class="codeinlineitalic">repoUrl</span></code>, -<code dir="ltr"><span class="codeinlineitalic">username</span></code>, -<code dir="ltr"><span class="codeinlineitalic">schema</span></code>, -<code dir="ltr"><span class="codeinlineitalic">vdtPath</span></code> corresponds to your MySQL configuration.</p>
<p>The <code dir="ltr"><span class="codeinlineitalic">wluser</span></code> must have Veridata Command Line privilege and Veridata Admin/ Veridata Power User privilege.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
(Optional) The export operation exports all of the data in the repository to XML file without validation. If your environment has some compare pairs for which the Validation Status is not successful, then the import operation will fail with the XML file generated by the export operation. To prevent failure of the import operation, you have the option to disable the compare pair validation. You can do this by updating the generated XML with these steps:
<ol>
<li>
<p>Open the generated XML file.</p>
</li>
<li>
<p>Search for the <code dir="ltr">configuration</code> tag. This tag has the <code dir="ltr">validation</code> attribute, which is set to <code dir="ltr">required</code>, by default.</p>
</li>
<li>
<p>Set the <code dir="ltr">validation</code> attribute to one of the following values:</p>
<p><code dir="ltr">omit-failures</code> &mdash; Indicates that all successfully validated compare pairs will be added to the repository and other specified compare pairs will be ignored.</p>
<p><code dir="ltr">none</code> &mdash; Indicates that no compare pair validation is done before adding the compare pairs to the repository. You and then use the Veridata GUI to review and fix the validation problems. For example:</p>
<p>Old tag: <code dir="ltr">&lt;configuration operation="update" validation="required"&gt;</code></p>
<p>Updated tag: <code dir="ltr">&lt;configuration operation="update" validation="omit-failures"&gt;</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Use the import utility to import all the configured objects you just exported.</p>
<p>The syntax for running the import utility is:</p>
<pre dir="ltr">
veridata_import[.sh | .bat] [-wlport <span class="italic">portNo</span>] -wluser <span class="codeinlineitalic">commandlineUusername </span>[-create | -update | -delete | -replace] <span class="codeinlineitalic">configuration.xml</span>
</pre>
<p>For example:</p>
<pre dir="ltr">
veridatadomain/veridata/bin/veridata_import.sh -wluser vdtUser -wlport 8830 -update /scratch/mysqlRepo.xml
</pre></li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1171065"></a>
<div id="GVDUP157" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">2.2</span> Upgrade Utilities</h2>
<p>This section contains explanations of how to use each of the upgrade utilities for the various upgrade paths that are identified in <a href="#CACIDEFG">Section 2.1, "Choosing an Upgrade Path and Upgrading"</a>. You are directed to use these utilities with the steps in your chosen upgrade path:</p>
<ul>
<li>
<p><a href="#A1147456">Section 2.2.1, "Creating Repository Schemas using Repository Creation Utility"</a></p>
</li>
<li>
<p><a href="#A1152347">Section 2.2.2, "Creating the Veridata Domain using the Upgraded Schema"</a></p>
</li>
<li>
<p><a href="#A1147160">Section 2.2.3, "Upgrading Veridata Schemas"</a></p>
</li>
<li>
<p><a href="#A1152436">Section 2.2.4, "Upgrading Your Veridata Configuration"</a></p>
</li>
<li>
<p><a href="#A1147352">Section 2.2.5, "Upgrading the Veridata Agent"</a></p>
</li>
</ul>
<a id="A1147456"></a>
<div id="GVDUP117" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.1</span> Creating Repository Schemas using Repository Creation Utility</h3>
<p>Oracle GoldenGate Veridata Server requires a database to serve as a repository for objects that store the information and environment preferences that users create when using Oracle GoldenGate Veridata Web User Interface. You can use the following databases as a repository:</p>
<ul>
<li>
<p>Oracle</p>
</li>
<li>
<p>Microsoft SQL Server</p>
</li>
</ul>
<p>After installing Oracle GoldenGate Veridata 12<span class="italic">c</span> (12.2.1) and configuring your database, create the necessary schema for your repository database by using RCU. Navigate to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oracle_common/bin</code> directory and start RCU.</p>
<p>RCU creates the <code dir="ltr">schema_version_registry</code> table in the database and it is used by Veridata and Upgrade Assistant. Following sections explain how to create schema for various databases:</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
In the RCU pages, when you create the Service Table (STB), specify a unique prefix for the schema for all databases. You need to provide this prefix while running the Upgrade Assistant for upgrading Veridata schema.
<p>To drop the Veridata repository, you should use the same prefix.</p>
</div>
<ul>
<li>
<p><a href="#CIADBFHD">Section 2.2.1.1, "Creating Schema for an 11g to 12.2.1 Upgrade"</a></p>
</li>
<li>
<p><a href="#CIAHCGGG">Section 2.2.1.2, "Creating Schema for a 12.1.3 Compact Domain SQL Server to 12.2.1 Upgrade"</a></p>
</li>
</ul>
<a id="CIADBFHD"></a>
<div id="GVDUP118" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.1.1</span> Creating Schema for an 11g to 12.2.1 Upgrade</h4>
<p>For all supported databases, create the Oracle Platform Security Services (OPSS) schema using RCU. Select <span class="bold">Create new prefix</span> then provide unique prefix. In the Select Components page, select <span class="bold">Oracle Platform Security Services</span>; the common Infrastructure Services" (STB) is selected by default as in the following:</p>
<div id="GVDUP148" class="figure">
<p class="titleinfigure"><a id="sthref11"></a>Figure 2-1 OPSS schema selection for an 11g to 12.2.1 Upgrade</p>
<img width="643" height="332" src="img/rcu_opss_oracle.gif" alt="selecting schemas in RCU" /><br /></div>
<!-- class="figure" -->
<p>See <a class="olink RCUUG" href="http://www.oracle.com/pls/topic/lookup?ctx=E63732-01&amp;id=RCUUG"><span class="italic">Creating Schemas with the Repository Creation Utility</span></a> for more information.</p>
</div>
<!-- class="sect3" -->
<a id="CIAHCGGG"></a>
<div id="GVDUP119" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">2.2.1.2</span> Creating Schema for a 12.1.3 Compact Domain SQL Server to 12.2.1 Upgrade</h4>
<p>For upgrading to version 12.2.1, SQL Server you should run RCU to create the Oracle Platform Security Services (OPSS) schema using the same prefix which was used for 12.1.3. Select only Service Table in the Select Components page:</p>
<div id="GVDUP149" class="figure">
<p class="titleinfigure"><a id="CIAJGCDI"></a>Figure 2-2 Service Table selection for Non-Oracle database</p>
<img width="644" height="331" src="img/rcu_stb_non_oracle.gif" alt="selecting only STB schema for SQL Server" /><br /></div>
<!-- class="figure" -->
<p>See <a class="olink RCUUG" href="http://www.oracle.com/pls/topic/lookup?ctx=E63732-01&amp;id=RCUUG"><span class="italic">Creating Schemas with the Repository Creation Utility</span></a> for more information.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="A1152347"></a>
<div id="GVDUP135" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.2</span> Creating the Veridata Domain using the Upgraded Schema</h3>
<p>To create a WebLogic Server domain for Veridata, follow the procedure described in <a class="olink GVDIS280" href="../GVDIS/configure_domain.htm#GVDIS280">"Configure a Domain for Oracle GoldenGate Veridata"</a> in <span class="italic">Installing and Configuring Oracle GoldenGate Veridata</span>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Provide the upgraded Veridata schema details on the JDBC Component Schema page of the Configuration Wizard as shown in <a href="#CIABCBAI">Figure 2-3</a>.</div>
<div id="GVDUP150" class="figure">
<p class="titleinfigure"><a id="CIABCBAI"></a>Figure 2-3 Schema Selection in the Configuration Wizard</p>
<img width="603" height="451" src="img/config_wizard_schema.png" alt="Description of Figure 2-3 follows" /><br />
<a id="sthref12" href="img_text/config_wizard_schema.htm">Description of ''Figure 2-3 Schema Selection in the Configuration Wizard''</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<a id="A1147160"></a>
<div id="GVDUP121" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.3</span> Upgrading Veridata Schemas</h3>
<p>The Oracle Fusion Middleware Upgrade Assistant upgrades your Oracle GoldenGate Veridata schema to 12<span class="italic">c</span> (12.2.1). For more information about the features of Upgrade Assistant, see <a class="olink UAREF" href="http://www.oracle.com/pls/topic/lookup?ctx=E63732-01&amp;id=UAREF"><span class="italic">Upgrading with the Upgrade Assistant</span></a>.</p>
<p>To upgrade the Veridata repository schema follow the instructions below:</p>
<ol>
<li>
<p>To start Upgrade Assistant, go to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oracle_common/upgrade/bin</code> directory, and enter the following command:</p>
<p>On UNIX: <code dir="ltr">./ua</code></p>
<p>On Windows: <code dir="ltr">ua.bat</code></p>
<p>The Welcome screen of the Upgrade Assistant appears. Click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select <span class="bold">Individually Selected Schemas</span> as the upgrade type. Click <span class="bold">Next</span>.</p>
<img width="648" height="212" src="img/ua_schemas.gif" alt="schema upgrade type" /><br /></li>
<li>
<p>The Upgrade Assistant lists all schemas available for upgrade. Select <span class="italic">only</span> <span class="bold">Oracle GoldenGate Veridata</span>. Ensure that no other schemas are selected for upgrade.</p>
<img width="644" height="232" src="img/ua_schema_components.gif" alt="upgrade assistant schema selection" /><br /></li>
<li>
<p>You must select all three checkboxes to continue. The Upgrade Assistant will not verify that the prerequisites have been met.</p>
<img width="806" height="304" src="img/ua_prerequisite.gif" alt="ua_prerequisite" /><br /></li>
<li>
<p>On the <span class="bold">VERIDATA Schema</span> page, enter the connection credentials for the database containing the schema you want to upgrade.</p>
<img width="646" height="292" src="img/ua_veridata_schema.gif" alt="upgrade schema" /><br /></li>
<li>
<p>On the Veridata Schema Prefix page, enter the prefix that was entered while creating the schema using RCU. See <a href="#A1147456">Section 2.2.1, "Creating Repository Schemas using Repository Creation Utility"</a>.</p>
<img width="804" height="310" src="img/ua_schema_prefix.gif" alt="veridata schema prefix" /><br /></li>
<li>
<p>On the Examine screen, the Upgrade Assistant performs a series of validations before upgrading the selected components. Ensure that all validations have succeeded. Click Next.</p>
</li>
<li>
<p>Click Upgrade on the Upgrade Summary screen to begin the upgrade. The Upgrade Progress screens shows information about the progress of the upgrade, and the Upgrade Success screen summarizes the upgrade.</p>
</li>
</ol>
<p>To verify the schema upgrade, follow the procedure as described in <a href="post_upgrade.htm#A1012455">Section 3.1, "Verifying the Schema Upgrade"</a>.</p>
<p>To troubleshoot issues that might occur during schema upgrade, review the logs as described in <a href="post_upgrade.htm#A1147390">Section 3.5, "Troubleshooting your Upgrade"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="A1152436"></a>
<div id="GVDUP136" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.4</span> Upgrading Your Veridata Configuration</h3>
<p>The Oracle Fusion Middleware Upgrade Assistant is also used to upgrade your Veridata repository schema using the following steps:</p>
<ol>
<li>
<p>To start the Upgrade Assistant, go to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oracle_common/upgrade/bin</code> directory, and enter the following command:</p>
<p>On UNIX: <code dir="ltr">./ua</code></p>
<p>On Windows: <code dir="ltr">ua.bat</code></p>
</li>
<li>
<p>Select <span class="bold">All Configurations Used by a Domain</span> on the All Configurations page and enter the domain directory path, then click <span class="bold">Next</span>.</p>
</li>
<li>
<p>Select the Veridata domain to be upgraded. See <a href="#A1152347">Section 2.2.2, "Creating the Veridata Domain using the Upgraded Schema"</a>.</p>
</li>
<li>
<p>The Component List page displays a list of components that will be upgraded. Review the list and click <span class="bold">Next</span> to start the upgrade process.</p>
<img width="804" height="226" src="img/ua_components.gif" alt="components" /><br /></li>
<li>
<p>The Prerequisites screen lists items that you must check and verify before you can proceed.</p>
<p>You must check the boxes before you can continue. The Upgrade Assistant will not verify that the prerequisites have been met.</p>
</li>
<li>
<p>On the Veridata 12c Home Directory page, specify the location of the Veridata 12.2.1 installation.</p>
<img width="647" height="233" src="img/ua_11g_home.gif" alt="veridata 11g home directory page" /><br /></li>
<li>
<p>On the Examine screen, the Upgrade Assistant performs a series of validations before upgrading the selected components. Ensure that all validations have succeeded. Click <span class="bold">Next</span> to start the upgrade process.</p>
</li>
<li>
<p>Click <span class="bold">Upgrade</span> on the Upgrade Summary screen to begin the upgrade. The Upgrade Progress screens shows information about the progress of the upgrade, and the Upgrade Success screen summarizes the upgrade.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="A1147352"></a>
<div id="GVDUP125" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">2.2.5</span> Upgrading the Veridata Agent</h3>
<ol>
<li id="CACDIJJA">
<p>Upgrade your existing Veridata Agent the new 12c (12.2.1) agent using one of the following commands:</p>
<p><span class="bold">Upgrading from 11g</span></p>
<p>Deploy the Oracle GoldenGate Veridata Agent to a directory outside <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>.</p>
<p><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/veridata/agent/bin/agent_config.sh</code> <code dir="ltr"><span class="codeinlineitalic">NEW_AGENT_ORACLE_HOME</span></code></p>
<p><span class="bold">Upgrading from 12c (12.1.3)</span></p>
<p>Deploy the Veridata Agent to the same location used in 12.1.3 setup.</p>
<p><code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/veridata/agent/bin/agent_config.sh</code> <code dir="ltr"><span class="codeinlineitalic">OLD_AGENT_ORACLE_HOME</span></code></p>
<p>Either command replaces the following files with the new 12.2.1 files:</p>
<p>On Unix:</p>
<pre dir="ltr">
agent.properties.sample
config/agent-jps-config.xml
config/certs/serverIdentity.jks
config/certs/serverTrust.jks
config/odl.xml;
agent.sh
configure_agent_ssl.sh
</pre>
<p>On Windows:</p>
<pre dir="ltr">
agent.bat
agent.properties.sample
config/agent-jps-config.xml
config/certs/serverIdentity.jks
config/certs/serverTrust.jks
config/odl.xml
configure_agent_ssl.bat
service/Install_Veridata_Agent.bat
service/README.txtservice/Start_Veridata_Agent.batservice/Stop_Veridata_Agent.batservice/Uninstall_Veridata_Agent.batservice/agent_service.properties
</pre></li>
<li>
<p>(Optional) If you have changed any of the files listed in step <a href="#CACDIJJA">1</a>in the previous release, then use your backup files to replace these changed files.If your Veridata Agent is installed as a service in Windows machine, then update the <code dir="ltr">service/agent_service.properties</code> property with the same service name that you used in the previous release.</p>
</li>
<li>
<p>(Optional) To configure SSL communication between the Veridata Agent and the Server, set the SSL properties for the agent and follow the procedure as described in <a class="olink GVDAD132" href="../GVDAD/configuring_security.htm#GVDAD132">"Configuring Oracle GoldenGate Veridata Security"</a> chapter in <span class="italic">Administering Oracle GoldenGate Veridata</span>.</p>
</li>
<li>
<p>Start your Veridata Agent.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment16">
<tr>
<td class="cellalignment23">
<table class="cellalignment21">
<tr>
<td class="cellalignment20"><a href="intro.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment20"><a href="post_upgrade.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment25">
<table class="cellalignment19">
<tr>
<td class="cellalignment20"><a href="../../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment20"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment20"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
