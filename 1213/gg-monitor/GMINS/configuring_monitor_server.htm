<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Configuring and Starting Monitor Server</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1054" />
<meta name="description" content="This chapter describes the procedures for using the Configuration Wizard to create a WebLogic domain for both Oracle and non-Oracle databases (for this version, non-Oracle databases refers to MySQL and SQL Server)." />
<meta name="dcterms.created" content="2015-04-15T13:16:56Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="GoldenGate Installing and Configuring Oracle GoldenGate Monitor" />
<meta name="dcterms.identifier" content="E50582-05" />
<meta name="dcterms.isVersionOf" content="GMINS" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="inst_mon_svr_oui.htm" title="Previous" type="text/html" />
<link rel="Next" href="user_man.htm" title="Next" type="text/html" />
<link rel="alternate" href="GMINS.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="GMINS.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="GMINS.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">7/11</span> <!-- End Header -->
<div id="GMINS113" class="chapter"><a id="BGBCDHDJ"></a>
<h1 class="chapter"><span class="secnum">4</span> Configuring and Starting Monitor Server</h1>
<p><a id="GMINS114"></a>This chapter describes the procedures for using the Configuration Wizard to create a WebLogic domain for both Oracle and non-Oracle databases (for this version, <span class="italic">non-Oracle databases</span> refers to MySQL and SQL Server). It also includes instructions for starting the server once these domains have been created.</p>
<p>This chapter contains these sections:</p>
<ul>
<li>
<p><a href="#BGBGFFFD">Section 4.1, "Configuring Oracle GoldenGate Monitor Server for Oracle Databases"</a></p>
</li>
<li>
<p><a href="#BGBHJIGF">Section 4.2, "Configuring Oracle GoldenGate Monitor Server for Non-Oracle Databases"</a></p>
</li>
<li>
<p><a href="#BGBFIGGJ">Section 4.3, "Completing Monitor Server Configuration"</a></p>
</li>
<li>
<p><a href="#BGBIGBJJ">Section 4.4, "Starting Oracle GoldenGate Monitor Server"</a></p>
</li>
</ul>
<a id="BGBGFFFD"></a>
<div id="GMINS139" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.1</span> Configuring Oracle GoldenGate Monitor Server for Oracle Databases</h2>
<p>This section guides you through the steps required to set up a WebLogic domain if you are using an Oracle database. If you are running either a MySQL or SQL Server database, see <a href="#BGBHJIGF">Section 4.2, "Configuring Oracle GoldenGate Monitor Server for Non-Oracle Databases"</a>.</p>
<div id="GMINS140" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref19"></a>
<h3 class="sect2"><span class="secnum">4.1.1</span> The Configuration Wizard</h3>
<p>You will use the Configuration Wizard to create the domain. This tool guides you through the process of creating a WebLogic domain by selecting the product components to include in your domain or by selecting template JAR files. If necessary, you can also customize the domain to suit your environment by adding and configuring Managed Servers, clusters, and machine definitions, or customizing predefined JDBC datasources and JMS file store directories. The procedures in this chapter will guide you through the simplest configuration scenario. To learn more about other capabilities of the Configuration Wizard, see <a class="olink WLDCW" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1213&amp;id=WLDCW"><span class="italic">Creating WebLogic Domains Using the Configuration Wizard</span></a>.</p>
</div>
<!-- class="sect2" -->
<div id="GMINS141" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref20"></a>
<h3 class="sect2"><span class="secnum">4.1.2</span> Launching the Configuration Wizard</h3>
<p>Assuming WebLogic Server is installed properly (see <a href="prepare.htm#CHDBFIIH">Section 2.2, "Install WebLogic Server 12<span class="italic">c</span> (12.1.3)"</a>), launch the Configuration Wizard by doing the following:</p>
<p>On Linux:</p>
<pre dir="ltr">
$ <span class="italic">ORACLE_HOME</span>/wlserver/common/bin/config.sh
</pre>
<p>On Windows:</p>
<pre dir="ltr">
C:\<span class="italic">ORACLE_HOME</span>\wlserver\common\bin&gt;config.cmd
</pre>
<p>The Configuration Wizard starts and the Configuration Type screen appears.</p>
</div>
<!-- class="sect2" -->
<div id="GMINS142" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref21"></a>
<h3 class="sect2"><span class="secnum">4.1.3</span> Creating the Domain</h3>
<p>To create the domain, navigate the Configuration Wizard screens providing the necessary information as described on the following table. For additional, generic information on each screen, click the screen name in the Screen column:</p>
<div class="inftblhruleinformal">
<table class="cellalignment17" summary="Two column table listing the screen name in the left-hand column and an instruction for that screen in the right-hand column." dir="ltr">
<thead>
<tr class="cellalignment11">
<th class="cellalignment18" id="r1c1-t2">Screen</th>
<th class="cellalignment18" id="r1c2-t2">Configuration Action</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment19" id="r2c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABHDBDE">Configuration Type</a></td>
<td class="cellalignment19" headers="r2c1-t2 r1c2-t2">Ensure Create a new domain is selected then:
<ul>
<li>
<p>In Domain location, enter the absolute path outside of <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>.; for example:</p>
<pre dir="ltr">
/scratch/<span class="italic">my_user</span>/oggmon1213_domain
</pre></li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r3c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJCHHI">Templates</a></td>
<td class="cellalignment19" headers="r3c1-t2 r1c2-t2">
<ol>
<li>Select Oracle GoldenGate Monitor Server Domain-12.1.3 (<code dir="ltr">oggmon</code>)</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r4c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABEHHEA">Administrative Account</a></td>
<td class="cellalignment19" headers="r4c1-t2 r1c2-t2">
<ol>
<li>Enter a Name and Password (and confirm the password). These are your WebLogic Server console log-in credentials.</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r5c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABCHDGJ">Domain Mode and JDK</a></td>
<td class="cellalignment19" headers="r5c1-t2 r1c2-t2">
<ol>
<li>In Domain Mode, select <span class="bold">Production</span>.</li>
<li>
<p>In JDK, select your preferred JDK; for example:</p>
<pre dir="ltr">
Oracle HotSpot 1.7.0_45/ade_autofs/gd29_3rdparty/nfsdo_generic/JDL7/MAIN/LINUX.X64/
</pre></li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r6c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABCHHJD">Database Configuration Type</a></td>
<td class="cellalignment19" headers="r6c1-t2 r1c2-t2">
<ol>
<li>Ensure RCU data radio button is selected.</li>
<li>
<p>Enter the database connection information.</p>
</li>
<li>
<p>Enter the Schema owner, which is the prefix you specified when creating your repository appended with <code dir="ltr">_STB</code>; for example, <code dir="ltr">DEV_STB</code>.</p>
</li>
<li>
<p>Enter the Password.</p>
</li>
<li>
<p>Click <span class="bold">Get RCU Configuration</span>.</p>
</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r7c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABDHHID">JDBC Component Schema</a></td>
<td class="cellalignment19" headers="r7c1-t2 r1c2-t2">Verify the schema information and click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r8c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABBJHGG">JDBC Component Schema Test</a></td>
<td class="cellalignment19" headers="r8c1-t2 r1c2-t2">Verify the schema information and click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r9c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABFBDEI">Credentials</a></td>
<td class="cellalignment19" headers="r9c1-t2 r1c2-t2">
<ol>
<li>For each Key Name, enter a Username and Password.</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r10c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABHHFFF">Advanced Configuration</a></td>
<td class="cellalignment19" headers="r10c1-t2 r1c2-t2">
<ol>
<li>Select <span class="bold">Administrative Server</span> and <span class="bold">Managed Serves, Cluster, and Coherence</span>.</li>
<li>
<p>Click <span class="bold">Next</span>.</p>
</li>
</ol>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r11c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJEFBE">Administration Server</a></td>
<td class="cellalignment19" headers="r11c1-t2 r1c2-t2">By default, the server name is AdminServer and the port is 7001, although you can always change default values. For example, you can change the server name AdminServer to OGGMONAdminServer.
<p>If port 7001 is already in use, replace it with an unused port number.Make selections as necessary and click <span class="bold">Next</span>.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r12c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABEHCHG">Managed Servers</a></td>
<td class="cellalignment19" headers="r12c1-t2 r1c2-t2">The managed server name is already populated with the default, <span class="italic">MONITORSERVER_server1</span>, and the port number with 7003. You can change these values, if desired. Also, if port 7003 is already in use, replace it with an unused port number.
<p>Either accept the defaults of update the data and click <span class="bold">Next</span>.</p>
</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r13c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABDGBDB">Clusters</a></td>
<td class="cellalignment19" headers="r13c1-t2 r1c2-t2">Click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r14c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJEFJF">Coherence Cluster</a></td>
<td class="cellalignment19" headers="r14c1-t2 r1c2-t2">Click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r15c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJHIAI">Machines</a></td>
<td class="cellalignment19" headers="r15c1-t2 r1c2-t2">Click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r16c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJACCA">Configuration Summary</a></td>
<td class="cellalignment19" headers="r16c1-t2 r1c2-t2">Review the configuration details and click <span class="bold">Create</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r17c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABFHCFB">Configuration Progress</a></td>
<td class="cellalignment19" headers="r17c1-t2 r1c2-t2">When configuration creation is complete, click <span class="bold">Next</span>.</td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r18c1-t2" headers="r1c1-t2"><a href="install_screens.htm#BABJGHAB">Configuration Success</a></td>
<td class="cellalignment19" headers="r18c1-t2 r1c2-t2">
<ol>
<li>Make note of the Administration Server URL for MonitorServer administration.</li>
<li>
<p>Click <span class="bold">Finish</span>.</p>
</li>
</ol>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" -->
<p>The WebLogic Server domain for the Monitor product with Oracle database is now configured.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This completes the first steps of configuring Oracle GoldenGate Monitor Server for Oracle databases. The next section contains procedures pertaining only to non-Oracle databases (that is, MySQL or Microsoft SQL Server). Unless you are also configuring the server for one of these databases, you can skip this section and proceed to <a href="#BGBFIGGJ">Section 4.3, "Completing Monitor Server Configuration"</a>.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBHJIGF"></a>
<div id="GMINS143" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.2</span> Configuring Oracle GoldenGate Monitor Server for Non-Oracle Databases</h2>
<p>In addition to Oracle databases, Oracle GoldenGate Monitor also supports databases provided by MySQL and Microsoft SQL Server. The configuration instructions covered in <a href="#BGBGFFFD">Section 4.1, "Configuring Oracle GoldenGate Monitor Server for Oracle Databases"</a> applies only to that database provider. For these non-Oracle databases, you need to use the same tools but follow somewhat different procedures. Those procedures are explained in the following sections:</p>
<ul>
<li>
<p><a href="#BGBCAEDG">Section 4.2.1, "Configuring a Domain for MySQL"</a></p>
</li>
<li>
<p><a href="#BGBEJGJH">Section 4.2.2, "Configuring a Domain for Microsoft SQL Server"</a></p>
</li>
</ul>
<a id="BGBCAEDG"></a>
<div id="GMINS144" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.1</span> Configuring a Domain for MySQL</h3>
<p>Configuring a domain for MySQL is a two-stage process:</p>
<ol>
<li>
<p><a href="#BGBHEFHF">Create the MySQL Repository</a></p>
</li>
<li>
<p><a href="#BGBJJEJD">Create a Compact WebLogic Server Domain</a></p>
</li>
</ol>
<div id="GMINS182" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref22"></a>
<h4 class="sect3"><span class="secnum">4.2.1.1</span> Before You Begin</h4>
<p>Before attempting to configure a domain for MySQL, the following values must be set:</p>
<pre dir="ltr">
SET GLOBAL INNODB_FILE_PER_TABLE="ON";
SET GLOBAL INNODB_FILE_FORMAT="Barracuda";
SET GLOBAL INNODB_LARGE_PREFIX="ON";
SET GLOBAL LOG_BIN_TRUST_FUNCTION_CREATORS="ON"; 
</pre></div>
<!-- class="sect3" -->
<a id="BGBHEFHF"></a>
<div id="GMINS145" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.2.1.2</span> Create the MySQL Repository</h4>
<div class="infobox-note">
<p class="notep1">Note:</p>
When using a MySQL database, you can only create a compact domain. This is because the Oracle Platform Security Service and Auditing frameworks does not support maintaining the security artifacts and audit management data when using Weblogic Server 12<span class="italic">c</span> (12.1.3) on non-Oracle databases.</div>
<p>To create a MySQL repository, use this procedure:</p>
<ol>
<li>
<p>Follow the instructions in <a href="inst_mon_svr_oui.htm#BABDHECF">Section 3.2, "Creating a Repository"</a> to create a repository; however, note the following exceptions for a MySQL repository:</p>
<ol>
<li>
<p>When you reach the <a href="install_screens.htm#BABCHFCH">Database Connection Details</a> screen, set Database Type to <span class="bold">MySQL database</span> and set the appropriate connection information. Click <span class="bold">Next</span>.</p>
<p>The <a href="install_screens.htm#BABEEEBC">Select Components</a> screen appears.</p>
</li>
<li>
<p>On the <a href="install_screens.htm#BABEEEBC">Select Components</a> screen, select only <span class="bold">Monitor Server</span> and <span class="bold">Service Table</span> (by default, Service Table should already be selected).</p>
</li>
</ol>
</li>
<li>
<p>Follow the remaining repository creation process. You should have these schemata generated:</p>
<ul>
<li>
<p>OGGMON (the product-specific schema)</p>
</li>
<li>
<p>STB</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<a id="BGBJJEJD"></a>
<div id="GMINS146" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.2.1.3</span> Create a Compact WebLogic Server Domain</h4>
<p>The next task is to create a compact Oracle WebLogic Server domain.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When using a MySQL database, you can only create a compact domain. This is because, when using Weblogic Server 12<span class="italic">c</span> (12.1.3) on non-Oracle databases, the Oracle Platform Security Service and Auditing frameworks do not support maintaining the security artifacts and audit management data.</div>
<p>To create the compact Oracle WebLogic Server domain for MySQL, you need to run the script <code dir="ltr">monitorServerCreateCompactDomain.sh</code>, which was installed with Oracle GoldenGate Monitor Server.</p>
<p>To create the domain, use this procedure:</p>
<ol>
<li>
<p>Go to <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oggmon/monitor_server/bin/</code> (<code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\oggmon\monitor_server\bin\</code> on Windows).</p>
</li>
<li>
<p>Copy the file <code dir="ltr">../samples/monitorServerCompactDomain.properties</code> to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oggmon/monitor_server/bin/</code> directory. This file contains the default settings required to create a domain. Update the domain location and data source settings property values appropriately.</p>
</li>
<li>
<p>Update the following properties with the appropriate data:</p>
<ul>
<li>
<p><code dir="ltr">weblogic server</code></p>
</li>
<li>
<p><code dir="ltr">database</code></p>
</li>
</ul>
</li>
<li>
<p>Save the file.</p>
</li>
<li>
<p>Enter <code dir="ltr">./monitorServerCreateCompactDomain.sh</code> <code dir="ltr">monitorServerCompactDomain.properties</code> (assuming that <code dir="ltr">monitorServerCompactDomain.properties</code> is copied under <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oggmon/monitor_server/bin/</code>).</p>
<p>The WebLogic Scripting Tool (WLST), a command-line scripting environment that you can use to create, manage, and monitor WebLogic domains, opens, prompting you to provide specific information about the new domain.</p>
<pre dir="ltr">
Initializing WebLogic Scripting Tool (WLST) ...

Welcome to WebLogic Server Administration Scripting Shell

Type help() for help on available commands

<span class="bold">Please enter WebLogic domain administrator(weblogic) password :</span> 
<span class="bold">[Confirm]    WebLogic domain administrator(weblogic) password :</span> 
<span class="bold">Please enter MonitorServer respository database password           :</span> 
<span class="bold">Please enter MonitorServer JMX password           :</span> 
<span class="bold">Please enter MonitorServer Keystore password           :</span> 
<span class="bold">Please enter MonitorServer Truststore password           : </span>
<span class="bold">Please enter MonitorServer SMTP email password           :</span> 
Given WebLogic location - WL_HOME : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver
MonitorServer Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/../oggmon/common/templates/wls/monitor_server_compact_template_12.1.3.jar
Basic WebLogic Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/common/templates/wls/wls.jar
JRF Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/../oracle_common/common/templates/wls/oracle.jrf_template_12.1.3.jar
Creating Domain at Location : /scratch/monitor/wl-domains/domain_1
 
Updating MonitorServer Domain ...
Domain Admin Console URL : http://&lt;Host&gt;:7071/console
MonitorServer URL : http://&lt;Host&gt;:7071/monitor
WebLogic Domain administrator user name : weblogic
 
Exiting WebLogic Scripting Tool
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about WLST, see <a class="olink WLSTG" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1213&amp;id=WLSTG"><span class="italic">Understanding the WebLogic Scripting Tool</span></a></div>
</li>
<li>
<p>At the prompts, enter passwords for the following properties:</p>
<ul>
<li>
<p><code dir="ltr">weblogic domain administrator</code> (user - weblogic)</p>
</li>
<li>
<p><code dir="ltr">MonitorServer repository database</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer JMX</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer Keystore</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer Truststore</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer SMTP email</code></p>
</li>
</ul>
</li>
<li>
<p>Exit WLST.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BGBEJGJH"></a>
<div id="GMINS147" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.2.2</span> Configuring a Domain for Microsoft SQL Server</h3>
<p>Configuring a domain for SQL Server is a two-stage process:</p>
<ol>
<li>
<p><a href="#BGBBCDHH">Create the SQL Server Repository</a></p>
</li>
<li>
<p><a href="#BGBJJEJD">Create a Compact WebLogic Server Domain</a></p>
</li>
</ol>
<div id="GMINS236" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref23"></a>
<h4 class="sect3"><span class="secnum">4.2.2.1</span> Before You Begin</h4>
<p>Before you begin, do the following:</p>
<ul>
<li>
<p>Set:</p>
<pre dir="ltr">
ISOLATION LEVEL,ALTER DATABASE $(<span class="italic">DATABASE_NAME</span>) SET READ_COMMITTED_SNAPSHOT ON
</pre></li>
<li>
<p>Ensure the database is case-sensitive:</p>
<pre dir="ltr">
DECLARE @collate sysname
   select @collate = convert(sysname, serverproperty('Collation'))
IF ( charindex(N'_CI', @collate) &gt; 0 )
BEGIN
   select @collate = replace(@collate, N'_CI', N'_CS')
   exec ('ALTER database $(DATABASE_NAME) COLLATE ' + @collate)
</pre></li>
</ul>
</div>
<!-- class="sect3" -->
<a id="BGBBCDHH"></a>
<div id="GMINS148" class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">4.2.2.2</span> Create the SQL Server Repository</h4>
<p>To create a SQL Server repository, use this procedure:</p>
<ol>
<li>
<p>Follow the instructions in <a href="inst_mon_svr_oui.htm#BABDHECF">Section 3.2, "Creating a Repository"</a> to create a repository; however, note the following exceptions for SQL Server:</p>
<ol>
<li>
<p>When you reach the <a href="install_screens.htm#BABCHFCH">Database Connection Details</a> screen, set Database Type to <span class="bold">SQL Server database</span> and set the appropriate connection information. Click <span class="bold">Next</span>.</p>
<p>The Select Components screen appears.</p>
</li>
<li>
<p>On the Select Components screen, select <span class="bold">Monitor Server</span> and <span class="bold">Service Table</span> (by default, this should already be selected).</p>
</li>
</ol>
</li>
<li>
<p>Follow the remaining repository creation process. You should have these schema generated:</p>
<ul>
<li>
<p>OGGMON (the product-specific schema)</p>
</li>
<li>
<p>STB</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="GMINS149" class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref24"></a>
<h4 class="sect3"><span class="secnum">4.2.2.3</span> Create a Compact WebLogic Server Domain</h4>
<p>The next task is to create a compact Oracle WebLogic Server domain.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
When using a SQL Server database, you can only create a compact domain. This is because, when using Weblogic Server 12<span class="italic">c</span> (12.1.3) on non-Oracle databases, the Oracle Platform Security Service and Auditing frameworks does not support maintaining the security artifacts and audit management data.</div>
<p>To create the compact Oracle WebLogic Server domain for SQL Server, you need to run the script <code dir="ltr">monitorServerCreateCompactDomain.sh</code>, which was installed with Oracle GoldenGate Monitor Server.</p>
<p>To create the domain, use this procedure:</p>
<ol>
<li>
<p>Go to <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code>/<code dir="ltr">oggmon/monitor_server/bin/</code>.</p>
</li>
<li>
<p>Copy the file <code dir="ltr">../samples/monitorServerCompactDomain.properties</code> to the <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oggmon/monitor_server/bin/</code> directory. This file contains the default settings required to create a domain. Update the domain location and datasource settings property values appropriately.</p>
</li>
<li>
<p>Update the following properties with the appropriate data:</p>
<ul>
<li>
<p><code dir="ltr">weblogic server</code></p>
</li>
<li>
<p><code dir="ltr">database</code></p>
</li>
</ul>
</li>
<li>
<p>Save the file.</p>
</li>
<li>
<p>Enter <code dir="ltr">./monitorServerCreateCompactDomain.sh monitorServerCompactDomain.properties</code> (assuming that the <code dir="ltr">monitorServerCompactDomain.properties</code> file is copied under <code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/oggmon/monitor_server/bin</code>).</p>
<p>The WebLogic Scripting Tool (WLST), a command-line scripting environment that you can use to create, manage, and monitor WebLogic domains, opens, prompting you to provide specific information about the new domain.</p>
<pre dir="ltr">
Initializing WebLogic Scripting Tool (WLST) ...

Welcome to WebLogic Server Administration Scripting Shell

Type help() for help on available commands

<span class="bold">Please enter WebLogic domain administrator(weblogic) password :</span> 
<span class="bold">[Confirm]    WebLogic domain administrator(weblogic) password :</span> 
<span class="bold">Please enter MonitorServer respository database password           :</span> 
<span class="bold">Please enter MonitorServer JMX password           :</span> 
<span class="bold">Please enter MonitorServer Keystore password           :</span> 
<span class="bold">Please enter MonitorServer Truststore password           :</span> 
<span class="bold">Please enter MonitorServer SMTP email password           :</span> 
Given WebLogic location - WL_HOME : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver
MonitorServer Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/../oggmon/common/templates/wls/monitor_server_compact_template_12.1.3.jar
Basic WebLogic Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/common/templates/wls/wls.jar
JRF Template Jar file path : /scratch/rporandl/Oracle/WLS_12.1.3_Feb16/wlserver/../oracle_common/common/templates/wls/oracle.jrf_template_12.1.3.jar
Creating Domain at Location : /scratch/monitor/wl-domains/domain_2
 
Updating MonitorServer Domain ...
Domain Admin Console URL : http://&lt;Host&gt;:7091/console
MonitorServer URL : http://&lt;Host&gt;:7091/monitor
WebLogic Domain administrator user name : weblogic
 
Exiting WebLogic Scripting Tool.
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about WLST, see <a class="olink WLSTG" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1213&amp;id=WLSTG"><span class="italic">Understanding the WebLogic Scripting Tool</span></a></div>
</li>
<li>
<p>At the prompts, enter passwords for the following properties:</p>
<ul>
<li>
<p><code dir="ltr">weblogic domain administrator</code> (user - weblogic)</p>
</li>
<li>
<p><code dir="ltr">MonitorServer repository database</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer JMX</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer Keystore</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer Truststore</code></p>
</li>
<li>
<p><code dir="ltr">MonitorServer SMTP email</code></p>
</li>
</ul>
</li>
<li>
<p>Exit WLST.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBFIGGJ"></a>
<div id="GMINS150" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.3</span> Completing Monitor Server Configuration</h2>
<p>The final steps in configuring Oracle GoldenGate Monitor Server are manual and comprise the following steps:</p>
<ul>
<li>
<p><a href="#BGBBGDHJ">Edit Monitor Properties</a></p>
</li>
<li>
<p><a href="#BGBIAHHB">Complete the SNMP Alerts Configuration</a></p>
</li>
<li>
<p><a href="#BGBFEGGD">Complete the CLI Configuration</a></p>
</li>
</ul>
<a id="BGBBGDHJ"></a>
<div id="GMINS151" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.3.1</span> Edit Monitor Properties</h3>
<p>The <code dir="ltr">monitor.properties</code> file resides in <code dir="ltr">../wlsdomains/oggmon_domain</code><code dir="ltr">/config/monitorserver/cfg</code>. To continue configuring the monitor server, open this file and edit it by doing the following:</p>
<ul>
<li>
<p><a href="#BGBJBIIB">Configure the JMX Server Properties</a></p>
</li>
<li>
<p><a href="#BGBFCJAB">Configure SMTP Alert Properties</a></p>
</li>
<li>
<p><a href="#BGBCCDBH">Configure SNMP Alert Properties</a></p>
</li>
<li>
<p><a href="#BGBFBHFD">Configure Command Line Interface (CLI) Alert Properties</a></p>
</li>
</ul>
<p class="subhead2"><a id="BGBJBIIB"></a><a id="GMINS152"></a>Configure the JMX Server Properties</p>
<p>Configure the JMX server by setting these properties:</p>
<ul>
<li>
<p><code dir="ltr">monitor.jmx.server.host=</code><code dir="ltr"><span class="codeinlineitalic">hostname</span></code></p>
</li>
<li>
<p><code dir="ltr">monitor.jmx.server.port=</code><code dir="ltr"><span class="codeinlineitalic">portNumber</span></code></p>
</li>
</ul>
<p>Where <code dir="ltr"><span class="codeinlineitalic">hostname</span></code> is the name of the host on which you are running the product (for example, localhost) and <code dir="ltr"><span class="codeinlineitalic">portNumber</span></code> is number of the host's listening port (for example, 5502).</p>
<p class="subhead2"><a id="GMINS183"></a>Configure Target Database Properties</p>
<p>Uncomment one of the lines below that applies to the database you are configuring for Oracle GoldenGate Monitor Server.</p>
<p>For Oracle:</p>
<pre dir="ltr">
#eclipselink.target-database=org.eclipse.persistence.platform.database.<span class="bold">OraclePlatform  </span>
</pre>
<p>For SQL Server:</p>
<pre dir="ltr">
#eclipselink.target-database=org.eclipse.persistence.platform.database.<span class="bold">SQLServerPlatform</span>
</pre>
<p>For MySQL:</p>
<pre dir="ltr">
#eclipselink.target-database=org.eclipse.persistence.platform.database.<span class="bold">MySQLPlatform</span>
</pre>
<p class="subhead2"><a id="BGBFCJAB"></a><a id="GMINS154"></a>Configure SMTP Alert Properties</p>
<p>Set <code dir="ltr">monitor.smtp.alerts.enabled</code> property to <code dir="ltr">true</code> to enable SMTP alerts. Set the remaining properties as necessary to enable receipt of SMTP alerts; for example:</p>
<pre dir="ltr">
monitor.smtp.alerts.enabled=true
monitor.smtp.secure=false
monitor.smtp.host
monitor.smtp.port
monitor.smtp.from
monitor.smtp.user
</pre>
<p class="subhead2"><a id="BGBCCDBH"></a><a id="GMINS155"></a>Configure SNMP Alert Properties</p>
<p>Set m<code dir="ltr">onitor.snmp.alerts.enabled</code> to <code dir="ltr">true</code> to enable SNMP alerts; for example:</p>
<pre dir="ltr">
monitor.snmp.alerts.enabled=true
</pre>
<p class="subhead2"><a id="BGBFBHFD"></a><a id="GMINS156"></a>Configure Command Line Interface (CLI) Alert Properties</p>
<p>Set <code dir="ltr">monitor.cli.alerts.enabled</code> to <code dir="ltr">true</code> to enable CLI alerts; for example:</p>
<pre dir="ltr">
monitor.cli.alerts.enabled=true
</pre></div>
<!-- class="sect2" -->
<a id="BGBIAHHB"></a>
<div id="GMINS157" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.3.2</span> Complete the SNMP Alerts Configuration</h3>
<p>The Oracle GoldenGate Monitor Simple Network Management Protocol (SNMP) interface sends alerts in the form of datagrams. These are picked up by an SNMP trap recipient listening on a specified port.</p>
<p>To use this feature you must enable SNMP alerts during installation or later set the <code dir="ltr">monitor.snmp.alerts.enabled</code> property equal to <code dir="ltr">true</code> in the <code dir="ltr">monitor.properties</code> file.</p>
<div id="GMINS184" class="sect3"><a id="sthref25"></a>
<h4 class="sect3"><span class="secnum">4.3.2.1</span> Importing the MIB File</h4>
<p>The <code dir="ltr">GoldenGate-Monitor-mib.mib</code> file is delivered to the <code dir="ltr">cfg</code> subdirectory during the installation of Oracle GoldenGate Monitor. This contains the Management Information Base (MIB) definitions the target uses to interpret the alerts. If you need to interpret information received in the traps, import this file to the target tool.</p>
</div>
<!-- class="sect3" -->
<div id="GMINS185" class="sect3"><a id="sthref26"></a>
<h4 class="sect3"><span class="secnum">4.3.2.2</span> Configuring SNMP Alerts</h4>
<p>The SNMP alert is configured in the <code dir="ltr">SNMPJMXMapping.xml</code> file that is delivered to the <code dir="ltr">cfg</code> subdirectory during the Oracle GoldenGate installation.</p>
<p>Any changes to the <code dir="ltr">SNMPJMXMapping.xml</code> file must be made outside of the Oracle GoldenGate Monitor user interface by the host administrator that installed the Oracle GoldenGate Monitor Server software.</p>
<p>You should only change the sections of the <code dir="ltr">SNMPJMXMapping.xml</code> file that set the SNMP version and define the targets.</p>
<pre dir="ltr">
.
.
.
&lt;MIBTree&gt;
.
.
.
 &lt;notifications type="NOTIFICATIONS"&gt;
  &lt;notification version="2" enabled="true"&gt;
   &lt;targets&gt;
    &lt;target timeout="200" retry="0"&gt;localhost/162
    &lt;/target&gt;
   &lt;/targets&gt;
.
.
.
  &lt;/notification&gt;
  &lt;notification version="1" enabled="false"&gt;
   &lt;targets&gt;
    &lt;target&gt;localhost/162
    &lt;/target&gt;
   &lt;/targets&gt;
.
.
.
  &lt;/notification&gt;
 &lt;/notifications&gt;
&lt;/MIBTree&gt;
</pre></div>
<!-- class="sect3" -->
<div id="GMINS186" class="sect3"><a id="sthref27"></a>
<h4 class="sect3"><span class="secnum">4.3.2.3</span> Setting the SNMP Version</h4>
<p>The SNMP version is initially set based on the entry during installation. You can change it later by resetting the <code dir="ltr">notification version 1 enabled</code> value and <code dir="ltr">notification version 2 enabled</code> value. Set one to <code dir="ltr">true</code> and the other to <code dir="ltr">false</code>.</p>
<p>The targets that are defined for the enabled version are used. The targets for the disabled version are ignored.</p>
</div>
<!-- class="sect3" -->
<div id="GMINS187" class="sect3"><a id="sthref28"></a>
<h4 class="sect3"><span class="secnum">4.3.2.4</span> Setting the SNMP Targets</h4>
<p>Define your targets within the <code dir="ltr">&lt;target&gt; &lt;/target&gt;</code> tags by entering the host name and port number.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BGBFEGGD"></a>
<div id="GMINS188" class="sect2">
<h3 class="sect2"><span class="secnum">4.3.3</span> Complete the CLI Configuration</h3>
<p>The Oracle GoldenGate Monitor Command-Line Integration (CLI) allows you to run a script or object file on the Oracle GoldenGate Monitor Server when an alert is triggered.</p>
<p>To use this feature you must enable CLI alerts by checking the CLI alerts box during installation or later setting the <code dir="ltr">monitor.cli.alerts.enabled</code> property equal to <code dir="ltr">true</code> in the <code dir="ltr">monitor.properties</code> file.</p>
<div id="GMINS189" class="sect3"><a id="sthref29"></a>
<h4 class="sect3"><span class="secnum">4.3.3.1</span> Setting Up Command-Line Handlers</h4>
<p>The Oracle GoldenGate Monitor installation delivers files to help you configure your CLI interface. These are delivered to the <code dir="ltr">cfg</code> subdirectory of the installation location.</p>
<ul>
<li>
<p><code dir="ltr">CommandLineHandlers.xml</code></p>
<p>The CLI interface is configured in the <code dir="ltr">CommandLineHandlers.xml</code> file.</p>
<p>Two example <code dir="ltr">CommandLineHandlers.xml</code> files, one for UNIX and one for Windows, are included with the installation. Each contains sample syntax for configuring a CLI interface. You can copy the appropriate version and then add and change arguments to create the <code dir="ltr">CommandLineHandlers.xml</code> that will configure your CLI interface.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The <code dir="ltr">CommandLineHandlers.xml</code> file must be set up outside of the Oracle GoldenGate Monitor user interface by the Oracle GoldenGate Monitor Server host administrator that installed the system.</div>
</li>
<li>
<p><code dir="ltr">CommandLineHandlers.xsd</code></p>
<p>This file contains the definition for the <code dir="ltr">CommandLineHandlers.xml</code> file. It can be used to generate the <code dir="ltr">CommandLineHandlers.xml</code> using a commercial or open source XML generation tool that creates sample XML from XSD.</p>
</li>
</ul>
<p>After you configure the <code dir="ltr">CommandLineHandlers.xml</code>, stop and restart the Oracle GoldenGate Monitor Server to activate the changes. See <a href="#BGBIGBJJ">Starting Oracle GoldenGate Monitor Server</a> for directions on how to do this.</p>
<div id="GMINS190" class="sect4"><a id="sthref30"></a>
<h5 class="sect4"><span class="secnum">4.3.3.1.1</span> Command-Line Handler Arguments</h5>
<p>The example UNIX configuration below illustrates the structure and arguments of the XML configuration file. The header values should not be changed. These values specify the version and coding of the XML.</p>
<p>Arguments are specified by entering a value within quotation marks after the equal sign (=) as shown in the example. In this illustration namespace and schema information has been omitted as indicated by the ellipses (<code dir="ltr">. . .</code>).</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;CommandLineHandlers . . .&gt;
&lt;CommandLineHandler dateTimeFormat="MMddyyyyHHmmssSSS"
  executeIn="/home/user" name="CMDLINE"&gt;
    &lt;externalCommand&gt;touch&lt;/externalCommand&gt;
    &lt;arguments&gt;
      &lt;argument argText="filename" name="hostname"
      presentIfEmpty="true" quoted="false"/&gt;
  &lt;/arguments&gt;
  &lt;alertMappings&gt;
    &lt;alertMapping alertField="host" name="hostname"/&gt;
  &lt;/alertMappings&gt;
  &lt;/CommandLineHandler&gt;
&lt;/CommandLineHandlers&gt;s
</pre>
<p><code dir="ltr">CommandLineHandler</code> is the parent tag for the CLI alert handler. This is specified within the <code dir="ltr">CommandLineHandlers</code> tags.</p>
<pre dir="ltr">
&lt;CommandLineHandler dateTimeFormat="MMddyyyyHHmmssSSS" 
executeIn="/home/user" name="CMDLINE"&gt;
</pre>
<pre dir="ltr">
</pre>
<p>The <code dir="ltr">CommandLineHandler</code> tag includes the following arguments:</p>
<ul>
<li>
<p><code dir="ltr">dateTimeFormat</code></p>
<p>This is the standard Java format argument described in Java documentation.</p>
</li>
<li>
<p><code dir="ltr">executeIn</code></p>
<p>The <code dir="ltr">executeIn</code> argument triggers the processing to move into the specified directory before running the external script or object file. The default is to use the current run directory of the virtual machine (VM); the directory in which the script or command was started.</p>
<p>A <code dir="ltr">RunTimeException</code> is generated when the alert is triggered if the specified directory does not exist or if the <code dir="ltr">executeIn</code> attribute is empty or not present.</p>
</li>
<li>
<p>name</p>
<p>This will always be "<code dir="ltr">CMDLINE</code>".</p>
</li>
</ul>
<p>The following example illustrates the tags that can be nested within the <code dir="ltr">CommandLineHandler</code> tags:</p>
<pre dir="ltr">
&lt;externalCommand&gt;touch&lt;/externalCommand&gt;
&lt;arguments&gt;
    &lt;argument argText="filename" name="hostname"
    presentIfEmpty="true" quoted="false"/&gt;
&lt;/arguments&gt;
&lt;alertMappings&gt;
    &lt;alertMapping alertField="host" name="hostname"/&gt;
&lt;/alertMappings&gt;
</pre>
<ul>
<li>
<p><code dir="ltr">externalCommand</code></p>
<p>The value in <code dir="ltr">externalCommand</code> specifies the absolute path to the script or object file. If the system path environment variable points to the directory of the file to be run, you can specify the script or object file name without the path.</p>
</li>
<li>
<p><code dir="ltr">arguments</code></p>
<p>The <code dir="ltr">arguments</code> tag specifies one or more values that are appended to the directory value specified in the <code dir="ltr">externalCommand</code> tag.</p>
<p>For each argument the following attributes can be specified:</p>
<p><code dir="ltr">argText</code> - Specifies a literal text argument that is sent with the <code dir="ltr">externalCommand</code> tag.</p>
<p><code dir="ltr">name</code> - Can be a name or it can work with <code dir="ltr">alertMappings</code> to find a name as explained below.</p>
<p><code dir="ltr">presentIfEmpty</code> - Works with the <code dir="ltr">alertMappings</code> tag to add selected information associated with the alert definition to the <code dir="ltr">externalCommand</code> tag. See alertMappings below for more detail.</p>
<p><code dir="ltr">quoted</code> - Specifies whether quotation marks should be added.</p>
</li>
<li>
<p><code dir="ltr">alertMappings</code></p>
<p>The <code dir="ltr">alertMappings</code> tag appends the value extracted from the alert definition information to the value specified in the <code dir="ltr">externalCommand</code> tag.</p>
<pre dir="ltr">
&lt;alertMappings&gt;
    &lt;alertMapping alertField="host" name="hostname"/&gt;
&lt;/alertMappings&gt;
</pre>
<p>The alertField can be one of the following values associated with the alert definition:</p>
<p><code dir="ltr">alertName</code> - The name of an alert definition.</p>
<p><code dir="ltr">host</code> - The host of the Oracle GoldenGate object whose monitoring point triggers the alert.</p>
<p><code dir="ltr">alertObjectName</code> - The name associated with the object whose monitoring point triggers the alert, such as an Extract process named EXACCT.</p>
<p><code dir="ltr">alertTime</code> - The time that the alert was triggered.</p>
<p><code dir="ltr">alertSeverity</code> - The severity level defined for the alert; either Warning or Error.</p>
<p><code dir="ltr">alertMessage</code> - The message generated by the alert. This is a combination of the condition defined for the alert, the value of the monitoring point, and literal text.</p>
<p><code dir="ltr">changedValue</code> - The new monitoring point value that triggered the alert. For example, you create an alert that is triggered when lag is greater than 5 seconds. The lag is 4 seconds and then it goes to 7 seconds. This triggers the alert and the <code dir="ltr">changedValue</code> is 7.</p>
<p>In the following example, the <code dir="ltr">name</code> attributes in the <code dir="ltr">argument</code> and the <code dir="ltr">alertMapping</code> tags are matched to extract the value from the <code dir="ltr">alertField</code> attribute. The <code dir="ltr">argument</code> <code dir="ltr">name</code> "<code dir="ltr">hostname</code>" is matched to the <code dir="ltr">alertMapping</code> <code dir="ltr">name</code> "<code dir="ltr">hostname</code>" to find the value of <code dir="ltr">alertField</code>, which is "<code dir="ltr">host</code>". This tells the system to append the host of the Oracle GoldenGate object that triggered the alert to the value specified in the <code dir="ltr">externalCommand</code> tag.</p>
<pre dir="ltr">
&lt;arguments&gt;
    &lt;argument argText="text" name="hostname" presentIfEmpty="true"   
    quoted="false"/&gt;
&lt;/arguments&gt;
&lt;alertMappings&gt;
    &lt;alertMapping alertField="host" name="hostname"/&gt;
&lt;/alertMappings&gt;
</pre>
<p>The <code dir="ltr">presentIfEmpty</code> attribute works with the <code dir="ltr">alertMappings</code> tag to determine what to do if the <code dir="ltr">alertField</code> is not valid or the <code dir="ltr">name</code> attributes do not match:</p>
<ul>
<li>
<p><code dir="ltr">presentIfEmpty="true"</code></p>
<p><code dir="ltr">The</code> value in the <code dir="ltr">argText</code> attribute is used in the external command.</p>
</li>
<li>
<p><code dir="ltr">presentIfEmpty="false"</code></p>
<p>The entire argument is omitted.</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect4" --></div>
<!-- class="sect3" -->
<div id="GMINS191" class="sect3"><a id="sthref31"></a>
<h4 class="sect3"><span class="secnum">4.3.3.2</span> Sample Command-Line Handlers</h4>
<p>These examples run a batch script on the Oracle GoldenGate Monitor Server.</p>
<div id="GMINS192" class="sect4"><a id="sthref32"></a>
<h5 class="sect4"><span class="secnum">4.3.3.2.1</span> Running on a Windows Server</h5>
<p>The following example runs the batch script <code dir="ltr">sample_cli.bat</code> on a Windows server hosting the Oracle GoldenGate Monitor Server. The server of the Oracle GoldenGate instance ("<code dir="ltr">host</code>") that triggered the alert is appended to the name of the batch script specified in the <code dir="ltr">externalCommand</code>.</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;CommandLineHandlers
xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.yourlocation/monitor/commandlinehandlers/CommandLineHandlers.xsd"&gt;
  &lt;CommandLineHandler dateTimeFormat="MMddyyyyHHmmssSSS"
  executeIn="C:\" name="CMDLINE"&gt;
    &lt;externalCommand&gt;c:\sample_cli.bat&lt;/externalCommand&gt;
    &lt;arguments&gt;
      &lt;argument argText="" name="hostname" presentIfEmpty="true" quoted="false"/&gt;
    &lt;/arguments&gt;
    &lt;alertMappings&gt;
      &lt;alertMapping alertField="host" name="hostname"/&gt;
    &lt;/alertMappings&gt;
  &lt;/CommandLineHandler&gt;
&lt;/CommandLineHandlers&gt;
</pre></div>
<!-- class="sect4" -->
<div id="GMINS193" class="sect4"><a id="sthref33"></a>
<h5 class="sect4"><span class="secnum">4.3.3.2.2</span> Running on a UNIX Host</h5>
<p>The following example runs the <code dir="ltr">sample_cli.sh</code> script on the UNIX server hosting the Oracle GoldenGate Monitor Server. The server of the Oracle GoldenGate instance ("<code dir="ltr">host</code>") that triggered the alert is appended to the name of the batch script specified in the <code dir="ltr">externalCommand</code>.</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;CommandLineHandlers
xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.yourlocation/monitor/commandlinehandlers/CommandLineHandlers.xsd"&gt;
  &lt;CommandLineHandler dateTimeFormat="MMddyyyyHHmmssSSS"    executeIn="/home/user" name="CMDLINE"&gt;
    &lt;externalCommand&gt;bash&lt;/externalCommand&gt;
    &lt;arguments&gt;
      &lt;argument argText="/home/user/sample_cli.sh" name="hostname"  presentIfEmpty="true" quoted="true"/&gt;
    &lt;/arguments&gt;
    &lt;alertMappings&gt;
     &lt;alertMapping alertField="host" name="hostname"/&gt;
    &lt;/alertMappings&gt;
  &lt;/CommandLineHandler&gt;
&lt;/CommandLineHandlers&gt;
</pre></div>
<!-- class="sect4" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BGBIGBJJ"></a>
<div id="GMINS158" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.4</span> Starting Oracle GoldenGate Monitor Server</h2>
<p>To verify that you have successfully Oracle GoldenGate Monitor Server, start the server. This is a two-to-three-step process comprised of:</p>
<ul>
<li>
<p><a href="#BGBEJFJA">Start the WebLogic Administration Server</a></p>
</li>
<li>
<p><a href="#BGBFJFBA">Update Oracle GoldenGate Monitor Server Credentials (Optional)</a></p>
</li>
<li>
<p><a href="#BGBCFEGC">Start the WebLogic Managed Server</a></p>
</li>
</ul>
<a id="BGBEJFJA"></a>
<div id="GMINS159" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.4.1</span> Start the WebLogic Administration Server</h3>
<p>To start the Administration server, do the following:</p>
<ol>
<li>
<p>Navigate to the <code dir="ltr"><span class="codeinlineitalic">MONITOR_DOMAIN</span></code> folder (for example, <code dir="ltr">/apps/oggmon_domain&#65533;</code>; <code dir="ltr">apps\oggmon_domain</code> in Windows) and start the server:</p>
<p>On Linux:</p>
<pre dir="ltr">
$./startWebLogic.sh
</pre>
<p>On Windows:</p>
<pre dir="ltr">
C:/<span class="italic">path</span>/<span class="italic">to</span>/<span class="italic">MONITOR_DOMAIN</span>&gt;startWebLogic.cmd
</pre>
<p>The server starts, with start-up information displayed on your screen,</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Server startup can take a few minutes.</div>
</li>
<li>
<p>When prompted for the Oracle WebLogic Server Administrator username and password, enter the credentials you created on the <a href="install_screens.htm#BABEHHEA">Administrative Account</a> screen.</p>
<p>Startup continues. When the server has started successfully, the server state will be <code dir="ltr">RUNNING</code>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BGBFJFBA"></a>
<div id="GMINS160" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.4.2</span> Update Oracle GoldenGate Monitor Server Credentials (Optional)</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
<span class="bold">This step is optional</span>. Do it <span class="italic">only</span> if you need to update your Oracle GoldenGate Monitor Server credentials. If you do not need to do so, proceed to <a href="#BGBCFEGC">Start the WebLogic Managed Server</a>).</div>
<p>Use WLST to create or update your wallet's Oracle GoldenGate Monitor Server credentials:</p>
<ol>
<li>
<p>From $<code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">/wlserver/common/bin</code> (<code dir="ltr"><span class="codeinlineitalic">ORACLE_HOME</span></code><code dir="ltr">\wlserver\common\bin</code> on Windows), run WLST:</p>
<p>On Linux:</p>
<pre dir="ltr">
$<span class="italic">ORACLE_HOME/</span>wlserver/common/bin&gt;./wlst.sh
</pre>
<p>On Windows:</p>
<pre dir="ltr">
C:\<span class="italic">path</span>\<span class="italic">to</span>\<span class="italic">bin</span>&gt;wlst.cmd
</pre></li>
<li>
<p>Then, do one of the following:</p>
<div class="inftblinformal">
<table class="cellalignment17" summary="Two-column decision table. The left-hand column lists a condition and the right-hand column contains instructions for attaining that condition." dir="ltr">
<thead>
<tr class="cellalignment11">
<th class="cellalignment18" id="r1c1-t12">To...</th>
<th class="cellalignment18" id="r1c2-t12">Use this WLST Function...</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment11">
<td class="cellalignment19" id="r2c1-t12" headers="r1c1-t12">Create the new credentials</td>
<td class="cellalignment19" headers="r2c1-t12 r1c2-t12"><code dir="ltr">createCred()</code>; for example:
<pre dir="ltr">
wls:/test_domain/serverConfig&gt;<span class="bold">createCred</span>(map="OGGMONITOR",key="WEB.JMX.PASSWORD",user="jmxuser",password="jmxuser1",desc="JMX Password")
wls:/test_domain/serverConfig&gt;<span class="bold">createCred</span>(map="OGGMONITOR",key="MONITOR.KEYSTORE.PASSWORD",user="ksuser",password="ksuser1",desc="Keystore Password")
wls:/test_domain/serverConfig&gt;<span class="bold">createCred</span>(map="OGGMONITOR",key="MONITOR.TRUSTSTORE.PASSWORD",user="tsuser",password="tsuser1",desc="Truststore Password")
wls:/test_domain/serverConfig&gt;<span class="bold">createCred</span>(map="OGGMONITOR",key="WEB.SMTP.EMAIL.PASSWORD",user="smtpuser",password="smtpuser1",desc="SMTP Password")
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r3c1-t12" headers="r1c1-t12">Update an existing key</td>
<td class="cellalignment19" headers="r3c1-t12 r1c2-t12"><code dir="ltr">updateCred()</code>; for example:
<pre dir="ltr">
wls:/test_domain/serverConfig&gt;<span class="bold">updateCred</span>(map="OGGMONITOR",key="MONITOR.TRUSTSTORE.PASSWORD",user="tsuser",password="tsuser1",desc="Truststore Password")
</pre></td>
</tr>
<tr class="cellalignment11">
<td class="cellalignment19" id="r4c1-t12" headers="r1c1-t12">Delete an existing key</td>
<td class="cellalignment19" headers="r4c1-t12 r1c2-t12"><code dir="ltr">deleteCred()</code>; for example:
<pre dir="ltr">
wls:/test_domain/serverConfig&gt;<span class="bold">deleteCred</span>(map="OGGMONITOR", key="MONITOR.TRUSTSTORE.PASSWORD")
</pre></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
For more information about WLST, see <a class="olink WLSTG" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1213&amp;id=WLSTG"><span class="italic">Understanding the WebLogic Scripting Tool</span></a></div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BGBCFEGC"></a>
<div id="GMINS161" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">4.4.3</span> Start the WebLogic Managed Server</h3>
<p>Finally, start the WebLogic Managed Server:</p>
<ol>
<li>
<p>Navigate to <code dir="ltr"><span class="codeinlineitalic">MONITOR_SERVER_DOMAIN</span></code><code dir="ltr">\bin</code> (<code dir="ltr"><span class="codeinlineitalic">MONITOR_SERVER_DOMAIN</span></code><code dir="ltr">\bin</code> on Windows) and enter:</p>
<p>On Linux:</p>
<pre dir="ltr">
$./startManagedWebLogic.sh <span class="italic">MONITORSERVER_server1</span> http://<span class="italic">hostname</span>:7001
</pre>
<p>On Windows:</p>
<pre dir="ltr">
C:<span class="italic">path</span>\<span class="italic">to</span>\<span class="italic">bin</span>&gt;startManagedWebLogic.cmd <span class="italic">MONITORSERVER_server1</span> http://<span class="italic">hostname</span>:7001
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">MONITORSERVER_server1</span></code> is the managed server name entered in the Configuration Wizard when that server was configurated.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">hostname</span></code>:<code dir="ltr"><span class="codeinlineitalic">7001</span></code> is your specific hostname and listening port.</p>
</li>
</ul>
</li>
<li>
<p>When prompted, enter the Oracle WebLogic Server Administrator username and password.</p>
</li>
</ol>
<p>If the Oracle GoldenGate Monitor Server is deployed successfully, you should see the managed server state as <code dir="ltr">RUNNING</code>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment19">
<table class="cellalignment22">
<tr>
<td class="cellalignment14"><a href="inst_mon_svr_oui.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="user_man.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment21">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="../../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
