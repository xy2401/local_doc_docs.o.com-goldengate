<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Java Delivery</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2016-12-07T13:15:22Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Big Data" />
<meta name="dcterms.identifier" content="E79605-01" />
<meta name="dcterms.isVersionOf" content="GBDIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-48831763-604D-4F40-8CAC-7F5F93A52973.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-55C90E6B-926A-420F-9849-54A97B6DE38A.htm" title="Next" type="text/html" />
<link rel="alternate" href="GBDIN.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="GBDIN.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="GBDIN.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D"></a> <span id="PAGE" style="display:none;">13/21</span> <!-- End Header -->
<a id="GBDIN311"></a>
<h1 id="GBDIN-GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D" class="sect1"><span class="enumeration_chapter">7</span> Configuring Java Delivery</h1>
<div>
<p>This chapter includes the following sections.</p>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm#GUID-188C218B-1264-4160-8F44-D1D02716D672">Configuring the JRE in the Properties File</a></strong><br /></li>
<li class="ulchildlink"><strong><a href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm#GUID-608033C3-A62D-47D3-A134-A2A4EFA48132">Configuring Oracle GoldenGate for Java Delivery</a></strong><br /></li>
<li class="ulchildlink"><strong><a href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm#GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101">Configuring the Java Handlers</a></strong><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="GUID-48831763-604D-4F40-8CAC-7F5F93A52973.htm">Oracle GoldenGate Java Delivery</a></p>
</div>
</div>
</div>
<a id="GBDIN312"></a>
<div class="props_rev_3"><a id="GUID-188C218B-1264-4160-8F44-D1D02716D672"></a>
<h2 id="GBDIN-GUID-188C218B-1264-4160-8F44-D1D02716D672" class="sect2"><span class="enumeration_section">7.1</span> Configuring the JRE in the Properties File</h2>
<div>
<div class="section">
<p>The current release of Oracle GoldenGate Java Delivery requires Java 8. Refer to the section on configuring Java for how to correctly access Java and the required Java shared libraries. Modify the Adapter Properties file to point to the location of the Oracle GoldenGate for Java main JAR (<code>ggjava.jar</code>) and set any additional JVM runtime boot options as required (these are passed directly to the JVM at startup):</p>
<pre dir="ltr">
jvm.bootoptions=-Djava.class.path=.:ggjava/ggjava.jar -Xmx512m -Xmx64m
</pre>
<p>Note the following options in particular:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>java.class.path</code> must include pathing to the core application (<code>ggjava/ggjava.ja</code>r). The current directory (.) should be included as well in the classpath. Logging initializes when the JVM is loaded therefore the <code>java.class.path</code> variable should including any pathing to logging properties files (such as <code>log4j</code> properties files). The dependency JARs required for logging functionality are included in <code>ggjava.jar</code> and do not need to be explicitly included. Pathing can reference files and directories relative to the Oracle GoldenGate install directory, to allow storing Java property files, Velocity templates and other classpath resources in the <code>dirprm</code> subdirectory. It is also possible to append to the classpath in the Java application properties file. Pathing to handler dependency JARs can be added here as well. However, it is considered to be a better practice to use the <code>gg.classpath</code> variable to include any handler dependencies.</p>
</li>
<li>
<p>The <code>jvm.bootoptions</code> property also allows you to control the initial heap size of the JVM (Xms) and the maximum heap size of the JVM (Xmx). Increasing the maximum heap size can improve performance by requiring less frequent garbage collections. Additionally, you may need to increase the maximum heap size if a Java out of memory exception occurs.</p>
</li>
</ul>
<p>Once the properties file is correctly configured for your system, it usually remains unchanged. See <a href="GUID-2C0A65A7-711A-4FB0-96E3-859800F251C0.htm#GUID-9041DB4D-62A9-47F8-9593-7593F4EA3501">Common Properties</a>, for additional configuration options.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="GBDIN313"></a>
<div class="props_rev_3"><a id="GUID-608033C3-A62D-47D3-A134-A2A4EFA48132"></a>
<h2 id="GBDIN-GUID-608033C3-A62D-47D3-A134-A2A4EFA48132" class="sect2"><span class="enumeration_section">7.2</span> Configuring Oracle GoldenGate for Java Delivery</h2>
<div>
<div class="section">
<p>Java Delivery is compatible with the Oracle GoldenGate Replicat process. Transaction data is read from the Oracle GoldenGate trail files and delivered to the Oracle GoldenGate Java Delivery module across JNI interface. The data is transferred to the Oracle GoldenGate Java Delivery module using the JNI interface. The Java Delivery module is configurable to allow data to be streamed into various targets. The supported targets for the Oracle GoldenGate Java Adapter product include JMS, file writing, and custom integrations. The Oracle GoldenGate for Big Data product includes all of those integrations and streaming capabilities to Big Data targets.</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm#GUID-D9FF7EC9-EC48-407D-BC5B-53A91AF2DB11">Configuring a Replicat for Java Delivery</a></strong><br /></li>
</ul>
</div>
<a id="GBDIN314"></a><a id="GBDIN641"></a>
<div class="props_rev_3"><a id="GUID-D9FF7EC9-EC48-407D-BC5B-53A91AF2DB11"></a>
<h3 id="GBDIN-GUID-D9FF7EC9-EC48-407D-BC5B-53A91AF2DB11" class="sect3"><span class="enumeration_section">7.2.1</span> Configuring a Replicat for Java Delivery</h3>
<div>
<p>The Oracle GoldenGate Replicat process can be configured to send transaction data to the Oracle GoldenGate for Java module. Replicat consumes a local trail (for example <code>dirdat/aa</code>) and sends the data to the Java Delivery module. The Java module is responsible for processing all the data and applying it to the desired target.</p>
<p>Following is an example of adding a <code>Replicat</code> process:</p>
<p><code>ADD REPLICAT javarep, EXTTRAIL ./dirdat/aa</code></p>
<p>The process names and trail names used in the preceding example can be replaced with any valid name. Process names must be 8 characters or less, trail names must to be two characters. In the Replicat parameter file (<code>javarep.prm</code>), specify the location of the user exit library.</p>
<p>The Replicat process has transaction grouping built into the application. Transaction grouping can significantly improve performance when streaming data to a target database. Transaction grouping can also significantly improve performance when streaming data to Big Data applications. The Replicat parameter to control transaction grouping is the <code>GROUPTRANSOPS</code> variable in the Replicat configuration file. The default value of this variable is <code>1000</code> which means the Replicat process will attempt to group 1000 operations into single target transaction. Performance testing has generally shown that the higher the <code>GROUPTRANSOPS</code> the better the performance when streaming data to Big Data applications. Setting the <code>GROUPTRANSOPS</code> variable to <code>1</code> means that the original transaction boundaries from the source trail file (source database) will be maintained.</p>
<div class="tblformal" id="GUID-D9FF7EC9-EC48-407D-BC5B-53A91AF2DB11__GUID-8BA291A7-4BF3-439E-A547-B66CF82031E8">
<hr />
<p class="titleintable">Table 7-1 User Exit Replicat Parameters</p>
<table class="cellalignment8" title="User Exit Replicat Parameters" summary="This two column table lists and explains the user exit replicat parameters.">
<thead align="left">
<tr>
<th class="cellalignment16" id="d13811e201">Parameter</th>
<th class="cellalignment17" id="d13811e204">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="cellalignment16" id="d13811e209" headers="d13811e201">
<pre dir="ltr">
REPLICAT javarep
</pre></td>
<td class="cellalignment17" headers="d13811e209 d13811e204">
<p>All Replicat parameter files start with the Replicat name</p>
</td>
</tr>
<tr>
<td class="cellalignment16" id="d13811e216" headers="d13811e201">
<pre dir="ltr">
SOURCEDEFS ./dirdef/tcust.def
</pre></td>
<td class="cellalignment17" headers="d13811e216 d13811e204">
<p>(Optional) If the input trail files do not contain the metadata records, the Replicat process requires metadata describing the trail data. This can come from a database or a source definitions file. This metadata defines the column names and data types in the trail being read (<code>./dirdat/aa</code>).</p>
</td>
</tr>
<tr>
<td class="cellalignment16" id="d13811e226" headers="d13811e201">
<pre dir="ltr">
TARGETDB LIBFILE libggjava.so SET properties= dirprm/javarep.properties
</pre></td>
<td class="cellalignment17" headers="d13811e226 d13811e204">
<p>The <code>TARGETDB LIBFILE</code> <code>libggjava.so</code> parameter serves as a trigger to initialize the Java module. The <code>SET</code> clause to specify the Java properties file is optional. If specified, it should contain an absolute or relative path (relative to the Replicat executable) to the properties file for the Java module. The default value is <span class="italic"><code>replicat_name</code></span>.<code>properties</code> in the <code>dirprm</code> directory.</p>
</td>
</tr>
<tr>
<td class="cellalignment16" id="d13811e253" headers="d13811e201">
<pre dir="ltr">
MAP schema.*, TARGET *.*;
</pre></td>
<td class="cellalignment17" headers="d13811e253 d13811e204">
<p>The tables to pass to the Java module; tables not included will be skipped. If mapping from source to target tables is required, one can use the <span class="italic"><code>MAP source_specification TARGET target_specification</code></span> as describe in "Mapping and Manipulating Data" in <a class="olink GWUAD-GUID-86A97786-5D74-4074-BCD4-DFD23FF1D4C6" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E79629-01&amp;id=GWUAD-GUID-86A97786-5D74-4074-BCD4-DFD23FF1D4C6"><span id="GUID-D9FF7EC9-EC48-407D-BC5B-53A91AF2DB11__GWUAD"><cite>Administering Oracle GoldenGate for Windows and UNIX</cite></span></a>.</p>
</td>
</tr>
<tr>
<td class="cellalignment16" id="d13811e270" headers="d13811e201">
<pre dir="ltr">
GROUPTRANSOPS 1000
</pre></td>
<td class="cellalignment17" headers="d13811e270 d13811e204">
<p>Group source transactions into a single larger target transaction for improved performance. <code>GROUPTRANSOPS</code> of 1000 is the default setting. <code>GROUPTRANSOPS</code> sets a minimum value rather than an absolute value, to avoid splitting apart source transactions. Replicat waits until it receives all operations from the last source transaction in the group before applying the target transaction.</p>
<p>For example, if transaction 1 contains 200 operations, and transaction 2 contains 400 operations, and transaction 3 contains 500 operations, then Replicat transaction contains all 1,100 operations even though <code>GROUPTRANSOPS</code> is set to the default of 1,000. Conversely, Replicat might apply a transaction before reaching the value set by <code>GROUPTRANSOPS</code> if there is no more data in the trail to process.</p>
</td>
</tr>
</tbody>
</table>
<hr /></div>
<!-- class="inftblhruleinformal" --></div>
</div>
</div>
<a id="GBDIN315"></a>
<div class="props_rev_3"><a id="GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101"></a>
<h2 id="GBDIN-GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101" class="sect2"><span class="enumeration_section">7.3</span> Configuring the Java Handlers</h2>
<div>
<div class="section">
<p>The Handlers are integrations with target applications which plug into the Oracle GoldenGate Java Delivery module. It is the Java Handlers which provide the functionality to push data to integration targets such as JMS or Big Data applications. The Java Adapter properties file is used to configure Java Delivery and Java handlers. To test the configuration, users may use the built-in file handler. Here are some example properties, followed by explanations of the properties (comment lines start with #):</p>
<pre dir="ltr">
# the list of active handlers
gg.handlerlist=myhandler
# set properties on 'myhandler'
gg.handler.myhandler.type=file
gg.handler.myhandler.format=tx2xml.vm
gg.handler.myhandler.file=output.xml
</pre>
<p>This property file declares the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Active event handlers. In the example a single event handler is active, called <code>myhandler</code>. Multiple handlers may be specified, separated by commas. For example: <code>gg.handlerlist=myhandler, yourhandler</code></p>
</li>
<li>
<p>Configuration of the handlers. In the example <code>myhandler</code> is declared to be a <code>file</code> type of handler: <code>gg.handler.myhandler.type=file</code></p>
<div class="infobox-note" id="GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101__GUID-67E3A76F-BD14-4E2D-A102-98D2C462AF77">
<p class="notep1">Note:</p>
<p>See the documentation for each type of handler (for example, the JMS handler or the file writer handler) for the list of valid properties that can be set.</p>
</div>
</li>
<li>
<p>The format of the output is defined by the Velocity template <code>tx2xml.vm</code>. You may specify your own custom template to define the message format; just specify the path to your template relative to the Java classpath.</p>
</li>
</ul>
<p>This property file is actually a complete example that will write captured transactions to the output file output.xml. Other handler types can be specified using the keywords: <code>jms_text</code> (or <code>jms</code>), <code>jms_map</code>, <code>singlefile</code> (a file that does not roll), and others. Custom handlers can be implemented, in which case the type would be the fully qualified name of the Java class for the handler. Oracle GoldenGate Big Data package also contains built in Big Data target types. For more information, see <a class="olink GADBD-GUID-A6C0DEC9-480F-4782-BD2A-54FEDDE2FDD9" target="_blank" href="../GADBD/GUID-A6C0DEC9-480F-4782-BD2A-54FEDDE2FDD9.htm#GADBD-GUID-A6C0DEC9-480F-4782-BD2A-54FEDDE2FDD9"><span id="GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101__GADBD"><cite>Integrating Oracle GoldenGate for Big Data</cite></span></a>.</p>
<div class="infobox-note" id="GUID-BB4481A2-1EF0-4FF6-A65A-01ABFDCC0101__GUID-4660797A-5449-4718-BB56-31D720B17D14">
<p class="notep1">Note:</p>
<p>See the documentation for each type of handler (for example, the JMS handler or the file writer handler) for the list of valid properties that can be set.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment11">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="GUID-48831763-604D-4F40-8CAC-7F5F93A52973.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="GUID-55C90E6B-926A-420F-9849-54A97B6DE38A.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment13">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="../index.htm"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
