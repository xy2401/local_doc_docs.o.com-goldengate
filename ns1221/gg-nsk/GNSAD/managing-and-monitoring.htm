<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Managing and Monitoring</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors." />
<meta name="keywords" content="tasks, managing, trails, sizing, initial, sizing, ongoing maintenance, log trails, managing, log, See, TCP/IP, error handling, conflicts, handling, with SQLEXEC, SQLEXEC, using for conflict management, log, event, event log, using, events, Oracle GoldenGate, monitoring, errors, reporting and handling, report, process, about, reporting, process events and errors, file, Oracle GoldenGate, report" />
<meta name="dcterms.created" content="2018-06-07T00:11:41Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57712-04" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="integrating-data.htm" title="Previous" type="text/html" />
<link rel="Next" href="using-oracle-goldengate-utilities.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4"></a> <span id="PAGE" style="display:none;">12/15</span> <!-- End Header -->
<a id="GNSAD396"></a><a id="GNSAD395"></a>
<h1 id="GNSAD-GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" class="sect1"><span class="enumeration_chapter">9</span> Managing and Monitoring</h1>
<div>
<div><span>Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.</span></div>
<p>This topic includes the following:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-9FE5CD24-A00F-48F4-A967-AC44F9224ABF">Managing Tasks</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-507BE400-9175-4CB2-958A-5091150A2C5A">Managing Oracle GoldenGate Trails</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-8654EB37-2090-410F-B489-8BCCB1026BCC">Managing Log Trails</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-C05E727A-8935-4688-BA95-67D11A0A3035">Monitoring Processing</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-62A9AFA9-1812-4839-832A-504BA947B13A">Using the Event Log</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-59EC479C-7B48-44D6-90EC-4B58551B370D">Using the Process Report</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-7164BFE5-CA50-43CD-B809-F9B6C73771F0">Viewing Record Counts</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-E7DDAD9A-A1BE-4B0D-9B19-0B3FE8F7EA8F">The STATS Command</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-237B12AD-3531-46BF-A70E-56920E6B5158">Collecting Events from Other Systems</a><br /></li>
</ul>
</div>
<a id="GNSAD397"></a>
<div class="props_rev_3"><a id="GUID-9FE5CD24-A00F-48F4-A967-AC44F9224ABF"></a>
<h2 id="GNSAD-GUID-9FE5CD24-A00F-48F4-A967-AC44F9224ABF" class="sect2">Managing Tasks</h2>
<div>
<p>Tasks are processes that are special runs, such as a one-time data synchronization, or direct file extraction. Tasks are useful in managing Oracle GoldenGate, because they allow you to load data that may have been missed due to a variety of system errors. You can define a task with the GGSCI commands:</p>
<pre dir="ltr">
GGSCI&gt; <a id="d25275e108" class="indexterm-anchor"></a>ADD EXTRACT <span class="variable">group_name</span>, SOURCEISTABLE
GGSCI&gt; <a id="d25275e116" class="indexterm-anchor"></a>ADD REPLICAT <span class="variable">group_name</span>, SPECIALRUN
</pre>
<p>When you define a task, you must include the task type parameter in the parameter file. For the Extract parameter file, include <code class="codeph">SOURCEISTABLE</code> or <code class="codeph">SOURCEISFILE</code>. For the Replicat parameter file include <code class="codeph">SPECIALRUN</code>.</p>
<p>Manager can purge tasks. To purge tasks enter parameters such as:</p>
<pre dir="ltr">
PURGEOLDTASKS EXTRACT <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> HOURS, USESTOPSTATUS
PURGEOLDTASKS REPLICAT <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> DAYS, USESTOPSTATUS
PURGEOLDTASKS ER <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> HOURS, USESTOPSTATUS
</pre></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-08221ECB-C060-4CF1-BFFB-6DCC22C1D0E5">Getting Information on Tasks</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-D6175B1A-7D5A-4C5D-8696-234CEACFE00D">Managing Tasks Using the Process Name</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
<a id="GNSAD398"></a>
<div class="props_rev_3"><a id="GUID-08221ECB-C060-4CF1-BFFB-6DCC22C1D0E5"></a>
<h3 id="GNSAD-GUID-08221ECB-C060-4CF1-BFFB-6DCC22C1D0E5" class="sect3">Getting Information on Tasks</h3>
<div>
<p>You can retrieve information about a task using the <code class="codeph">INFO</code> and <code class="codeph">STATUS</code> commands with the <code class="codeph">TASKS</code> or <code class="codeph">ALLPROCESSES</code> options:</p>
<pre dir="ltr">
GGSCI&gt; INFO EXTRACT *, TASKS
GGSCI&gt; INFO REPLICAT *, ALLPROCESSES
GGSCI&gt; STATUS ER *, ALLPROCESSES
</pre>
<p><code class="codeph">TASKS</code> reports on <code class="codeph">SPECIALRUN</code> or <code class="codeph">SOURCEISFILE</code> tasks. <code class="codeph">ALLPROCESSES</code> reports on all processes.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-9FE5CD24-A00F-48F4-A967-AC44F9224ABF">Managing Tasks</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD399"></a>
<div class="props_rev_3"><a id="GUID-D6175B1A-7D5A-4C5D-8696-234CEACFE00D"></a>
<h3 id="GNSAD-GUID-D6175B1A-7D5A-4C5D-8696-234CEACFE00D" class="sect3">Managing Tasks Using the Process Name</h3>
<div>
<p>Tasks defined with <code class="codeph">SPECIALRUN</code>, <code class="codeph">SOURCEISFILE</code>, or <code class="codeph">SOURCEISTABLE</code> do not require a group name. Even without this name, it is possible to communicate with these running tasks by using the <code class="codeph">SEND</code> <code class="codeph">PROCESS</code> command. The syntax for this uses the process name instead of a group name as shown below.</p>
<pre dir="ltr">
GGSCI&gt; SEND PROCESS <span class="variable">process_name</span> {<span class="variable">text</span> | WAKE | BREAK}
</pre>
<p>The <span class="italic"><code class="codeph">text</code></span> option can be any one of the subset of GGSCI commands that are recognized by the receiving process.</p>
<p>See <a class="olink GNSRF-GUID-684A3AD4-6977-4254-9696-AAACD9E6120F" target="_blank" href="../GNSRF/GUID-81002620-B8E1-4A88-89F2-76EB087BDBF8.htm#GNSRF-GUID-684A3AD4-6977-4254-9696-AAACD9E6120F">SEND PROCESS</a> for more details.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-9FE5CD24-A00F-48F4-A967-AC44F9224ABF">Managing Tasks</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD400"></a>
<div class="props_rev_3"><a id="GUID-507BE400-9175-4CB2-958A-5091150A2C5A"></a>
<h2 id="GNSAD-GUID-507BE400-9175-4CB2-958A-5091150A2C5A" class="sect2">Managing Oracle GoldenGate Trails</h2>
<div>
<p>Oracle GoldenGate trails can be managed by allocating optimal storage for the trail files and setting parameters for cleaning up trail files that are no longer needed.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-227E06F1-F260-475C-9427-6F3BEFDC0168">Initial Allocation of Storage for Trails</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D">Ongoing Trail Management</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
<a id="GNSAD401"></a>
<div class="props_rev_3"><a id="GUID-227E06F1-F260-475C-9427-6F3BEFDC0168"></a>
<h3 id="GNSAD-GUID-227E06F1-F260-475C-9427-6F3BEFDC0168" class="sect3">Initial Allocation of Storage for Trails</h3>
<div>
<p>To prevent trail activity from interfering with business applications, use a separate disk managed by a disk process different than that of the application.</p>
<p>To ensure there is enough disk space for the trail files, follow these guidelines:</p>
<ul style="list-style-type: disc;">
<li>
<p>For trails on the source system, there should be enough space to handle data accumulation if the network connection fails. In a failure, reading from a trail terminates but the primary Extract group reading from logs or audit file continues extracting data. It is not good practice to stop the primary Extract group to prevent further accumulation. The logs could recycle or the audit files could be off-loaded.</p>
</li>
<li>
<p>For trails on the target system, data will accumulate because data is extracted and transferred across the network faster than it can be applied to the target database.</p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-74ECE4D9-84D8-43E1-B374-369D8E55C379">To estimate the required trail space</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-507BE400-9175-4CB2-958A-5091150A2C5A">Managing Oracle GoldenGate Trails</a></p>
</div>
</div>
</div>
<a id="GNSAD402"></a>
<div class="props_rev_3"><a id="GUID-74ECE4D9-84D8-43E1-B374-369D8E55C379"></a>
<h4 id="GNSAD-GUID-74ECE4D9-84D8-43E1-B374-369D8E55C379" class="sect4">To estimate the required trail space</h4>
<div>
<ol>
<li class="stepexpand"><span>Estimate the longest time that you think the network can be unavailable.</span></li>
<li class="stepexpand"><span>Estimate how much transaction log volume you generate in one hour.</span></li>
<li class="stepexpand"><span>Use the following formula:</span>
<div>
<pre dir="ltr">
trail disk space =
transaction log volume in 1 hour x number of hours down x .4
</pre>
<div class="infobox-note" id="GUID-74ECE4D9-84D8-43E1-B374-369D8E55C379__GUID-9ECB3E1D-3850-4768-AE4A-E2BAF4A5DF37">
<p class="notep1">Note:</p>
<p>The equation uses a multiplier of 40 percent because Oracle GoldenGate estimates that only 40 percent of the data in the transaction logs is written to the trail.</p>
</div>
<p>A more exact estimate can be derived by either:</p>
</div>
</li>
<li class="stepexpand"><span>Configuring Extract and allowing it to run for a set time period, such as an hour, to determine the growth. This growth factor can then be applied to the maximum down time.</span></li>
<li class="stepexpand"><span>Using MEASFLS and MEASRPT to collect and report on statistics over a full business cycle and using this data to determine the volume over the maximum down time.</span></li>
</ol>
<div class="section">
<p>Plan to store enough data to withstand the longest anticipated outage possible because you will need to re-synchronize the source and target data should the outage outlast the disk capacity.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-227E06F1-F260-475C-9427-6F3BEFDC0168">Initial Allocation of Storage for Trails</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD403"></a>
<div class="props_rev_3"><a id="GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D"></a>
<h3 id="GNSAD-GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D" class="sect3">Ongoing Trail Management</h3>
<div>
<p>Oracle GoldenGate provides options that let you manage your trails in two ways.</p>
<ul style="list-style-type: disc;">
<li>
<p>Based on the number and size of the files.</p>
<p>The <code class="codeph">MEGABYTES, MAXFILES</code>, and <code class="codeph">EXTENTS</code> options specify how large each trail file may become, and how many files may exist before Extract stops with an error.</p>
</li>
<li>
<p>With the <code class="codeph">PURGEOLDEXTRACTS</code> parameter.</p>
<p>This lets you purge old extracted data you no longer need. This can be based on rules you set up.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">MINKEEPHOURS</code>, <code class="codeph">MINKEEPDAYS</code> options set the time to keep files. <code class="codeph">MINKEEPFILES</code> sets the minimum number of files to keep.</p>
</li>
<li>
<p>In the Manager only, the <code class="codeph">USECHECKPOINTS</code> option uses checkpoints to determine whether processing is complete. You can also set the <a id="d25275e511" class="indexterm-anchor"></a><code class="codeph">CHECKMINUTES</code> parameter to control how often the process checks the parameters to determine if anything must be purged.</p>
</li>
</ul>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-0DC7806F-F65B-4AB8-8BCB-10F734A4F2A8">Setting the Size of the Trail</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-55DFFC14-F4CD-4E72-B831-E337657724EC">Setting the PURGEOLDEXTRACTS rules</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-4F0128C4-DA72-4C61-ABA1-E0EC37E952BC">Manager Purge Trail Processing</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F">Recommendations for Managing Trail Purges</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-507BE400-9175-4CB2-958A-5091150A2C5A">Managing Oracle GoldenGate Trails</a></p>
</div>
</div>
</div>
<a id="GNSAD405"></a><a id="GNSAD404"></a>
<div class="props_rev_3"><a id="GUID-0DC7806F-F65B-4AB8-8BCB-10F734A4F2A8"></a>
<h4 id="GNSAD-GUID-0DC7806F-F65B-4AB8-8BCB-10F734A4F2A8" class="sect4">Setting the Size of the Trail</h4>
<div>
<p>Two options for managing trail size are <code class="codeph">MEGABYES</code> and <code class="codeph">MAXFILES</code>. <code class="codeph">MEGABYTES</code> lets you specify how large your trail file gets before your data rolls to another trail file. It is useful if you want to equally distribute data between your files. The <a id="d25275e578" class="indexterm-anchor"></a>default size is <code class="codeph">134</code> megabytes and the largest size supported is two gigabytes. <code class="codeph">MAXFILES</code> lets you specify the number of trail files Oracle GoldenGate creates. The default is 100 files. Allowing multiple files lets data roll over when one file is full, which prevents errors. The syntax for using <code class="codeph">MEGABYTES</code> and <code class="codeph">MAXFILES</code> is:</p>
<pre dir="ltr">
GGSCI&gt; ADD EXTTRAIL <span class="variable">trail_name</span>, EXTRACT <span class="variable">group_name</span>, MEGABYTES <span class="variable">num</span>, MAXFILES <span class="variable">num</span>
</pre>
<p>Trails that either reside on the local node or on a node that is connected by Expand are considered local for NonStop. For these trails, you can also control size by setting the files' primary, secondary and maximum number of extents. The syntax for this is:</p>
<pre dir="ltr">
GGSCI&gt; ADD EXTTRAIL <span class="variable">trail_name</span>, EXTRACT <span class="variable">group_name</span>
[, EXTENTS (<span class="variable">primary</span>, <span class="variable">secondary</span>, <span class="variable">max</span>)]
</pre>
<p>The defaults for <code class="codeph">EXTENTS</code> are <code class="codeph">(64, 128, 512).</code></p>
<p>From GGSCI, an <a id="d25275e638" class="indexterm-anchor"></a><code class="codeph">INFO</code> of the trail will show the current trail settings.</p>
<div class="example" id="GUID-0DC7806F-F65B-4AB8-8BCB-10F734A4F2A8__GUID-228E87DB-32CC-41BF-9469-9858DAC10947">
<p class="titleinexample">Example 9-1 Showing Trail Settings</p>
<pre dir="ltr">
GGSCI&gt; INFO EXTTRAIL GGSDAT.ET
Extract file: \NY.$DATA04.GGSDAT.ET
       Extract group: EXTSQL
               Owner: 150,110
            Security: NUNU
       Current seqno: 0
         Current rba: 2280
      Primary extent: 64
    Secondary extent: 128
         Max extents: 512
           Max files: 100
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D">Ongoing Trail Management</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD407"></a><a id="GNSAD408"></a><a id="GNSAD406"></a>
<div class="props_rev_3"><a id="GUID-55DFFC14-F4CD-4E72-B831-E337657724EC"></a>
<h4 id="GNSAD-GUID-55DFFC14-F4CD-4E72-B831-E337657724EC" class="sect4">Setting the PURGEOLDEXTRACTS rules</h4>
<div>
<p>You can set <code class="codeph">PURGEOLDEXTRACT</code> in the Manager, Extract, or Replicat, but only Manager has options.</p>
<div class="section">
<p class="subhead3">In the Manager</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You can set <a id="d25275e689" class="indexterm-anchor"></a>options for purging trails with the <code class="codeph">PURGEOLDEXTRACTS</code> in the Manager's parameter file.</p>
<ul style="list-style-type: disc;">
<li>
<p>Use <code class="codeph">USECHECKPOINTS</code> to purge when all processes are finished with a file as indicated by checkpoints. This is the default, but it can be turned off with the <code class="codeph">NOUSECHECKPOINTS</code> option.</p>
</li>
<li>
<p><code class="codeph">MINKEEPHOURS</code> or <code class="codeph">MINKEEPDAYS</code> to keep files <code class="codeph">n</code> hours or days. <code class="codeph">MINKEEPFILES</code> to keep at least <code class="codeph">n</code> files including the active file. The default is <code class="codeph">1</code>.</p>
</li>
</ul>
<p>Only <span class="italic">one</span> of the three <code class="codeph">MINKEEP</code> options should be set. If more than one is entered the system will select one based on the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>If both <code class="codeph">MINKEEPHOURS</code> and <code class="codeph">MINKEEPDAYS</code> are specified, only the last setting will be used and the other will be ignored.</p>
</li>
<li>
<p>If both <code class="codeph">MINKEEP</code><code class="codeph">{</code><code class="codeph">HOURS</code>|<code class="codeph">DAYS</code>} and <code class="codeph">MINKEEPFILES</code> are specified <code class="codeph">MINKEEP</code><code class="codeph">{HOURS|DAYS}</code> will be used and <code class="codeph">MINKEEPFILES</code> will be ignored.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">In Extract or Replicat</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You cannot set any options for the Extract and Replicat <code class="codeph">PURGEOLDEXTRACTS</code> parameter. In this case the trail is purged as soon as the process moves to the next trail.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D">Ongoing Trail Management</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD409"></a>
<div class="props_rev_3"><a id="GUID-4F0128C4-DA72-4C61-ABA1-E0EC37E952BC"></a>
<h4 id="GNSAD-GUID-4F0128C4-DA72-4C61-ABA1-E0EC37E952BC" class="sect4">Manager Purge Trail Processing</h4>
<div>
<div class="section">
<p>If <code class="codeph">PURGEOLDEXTRACTS</code> is set in the Manager parameter file, when the Manager reaches <code class="codeph">CHECKMINUTES</code> the purge rules are evaluated as explained below.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span><code class="codeph">USECHECKPOINTS</code> only</span>
<div>
<p>If there are no minimum rules set with the <code class="codeph">USECHECKPOINTS</code> option, <code class="codeph">MINKEEPFILES</code> defaults to <code class="codeph">1</code>. If checkpoints indicate that a trail file has been processed, it will be purged unless it would fall below this one file minimum.</p>
</div>
</li>
<li class="stepexpand"><span><code class="codeph">USECHECKPOINTS</code> with <code class="codeph">MINKEEP</code> rules</span>
<div>
<p>If checkpoints indicate that a trail file has been processed, it will be purged unless doing so would violate the applicable <code class="codeph">MINKEEP</code><code class="codeph">{HOURS|DAYS}</code> or <code class="codeph">MINKEEPFILES</code> rules. These <code class="codeph">PURGEOLDEXTRACTS</code> minimum rules are set as explained in <a href="managing-and-monitoring.htm#GUID-55DFFC14-F4CD-4E72-B831-E337657724EC">Setting the PURGEOLDEXTRACTS rules</a>.</p>
</div>
</li>
<li class="stepexpand"><span><code class="codeph">NOUSECHECKPOINTS</code> only</span>
<div>
<p>If there are no minimum rules and checkpoints are not to be considered, the file will be purged, unless doing so will violate the default <code class="codeph">MINKEEPFILES</code> of <code class="codeph">1</code>.</p>
</div>
</li>
<li class="stepexpand"><span><code class="codeph">NOUSECHECKPOINTS</code> with <code class="codeph">MINKEEP</code> rules</span>
<div>
<p>The file will be purged unless doing so will violate applicable <code class="codeph">MINKEEP{HOURS|DAYS}</code> or <code class="codeph">MINKEEPFILES</code> rules. Refer to <a href="managing-and-monitoring.htm#GUID-55DFFC14-F4CD-4E72-B831-E337657724EC">Setting the PURGEOLDEXTRACTS rules</a> for information on setting these <code class="codeph">PURGEOLDEXTRACTS</code> minimum rules.</p>
</div>
</li>
</ol>
<div class="example" id="GUID-4F0128C4-DA72-4C61-ABA1-E0EC37E952BC__GUID-4E5D2736-D1C5-441F-8E48-4D35178D495F">
<p class="titleinexample">Example 9-2 Purge Processing Examples</p>
<ul style="list-style-type: disc;">
<li>
<p>Trail files <code class="codeph">AA000000</code>, <code class="codeph">AA000001</code>, and <code class="codeph">AA000002</code> exist. The Replicat has been down for four hours and has not completed processing any of the files</p>
<p>The Manager parameters include:</p>
<pre dir="ltr">
PURGEOLDEXTRACTS $DATA1.DB.AA*, USECHECKPOINTS, MINKEEPHOURS 2
</pre>
<p>Result: The time files that are not accessed must be retained has been exceeded. No files will be purged, however, because checkpoints indicate that the files have not been fully processed by Replicat.</p>
</li>
<li>
<p>Trail files <code class="codeph">AA000000</code>, <code class="codeph">AA000001</code>, and <code class="codeph">AA000002</code> exist. The Replicat has been down for four hours and has not completed processing.</p>
<p>The Manager parameters include:</p>
<pre dir="ltr">
PURGEOLDEXTRACTS $DATA1.DB.AA*, NOUSECHECKPOINTS, MINKEEPHOURS 2
</pre>
<p>Result: All trail files will be purged since the minimums have been met.</p>
</li>
<li>
<p>The following is an example of why only one of the <code class="codeph">MINKEEP</code> options should be set</p>
<p>Replicat and Extract have completed processing. There has been no access to the trail files for the last five hours. Trail files <code class="codeph">AA000000</code>, <code class="codeph">AA000001</code>, and <code class="codeph">AA000002</code> exist.</p>
<p>The Manager parameters include:</p>
<pre dir="ltr">
PURGEOLDEXTRACTS $DATA1.DB.AA*, USECHECKPOINTS, MINKEEPHOURS 4, MINKEEPFILES 4
</pre>
<p>Result: <code class="codeph">USECHECKPOINTS</code> requirements have been met so the minimum rules will be considered when deciding whether to purge <code class="codeph">AA000002</code>.</p>
<p>There will only be two files if <code class="codeph">AA000002</code> is purged, which will violate the <code class="codeph">MINKEEPFILES</code> parameter. Since both <code class="codeph">MINKEEPFILES</code> and <code class="codeph">MINKEEPHOURS</code> have been entered, however, <code class="codeph">MINKEEPFILES</code> is ignored. The file will be purged because it has not been modified for 5 hours, which meets the <code class="codeph">MINKEEPHOURS</code> requirement of 4 hours.</p>
<p>The Manager process determines which files to purge based on the Extract processes configured on the local system. If at least one Extract process reads the trail file, Manager applies the specified rules.</p>
<p>For more information see, <a class="olink GNSRF-GUID-19D2B2E2-5292-46E6-9AAE-CEE4D9B918A1" target="_blank" href="../GNSRF/GUID-19D2B2E2-5292-46E6-9AAE-CEE4D9B918A1.htm#GNSRF-GUID-19D2B2E2-5292-46E6-9AAE-CEE4D9B918A1">PURGEOLDEXTRACTS for Extract and Replicat</a> and <a class="olink GNSRF-GUID-65D8394C-9AC1-4A29-B3F1-BA59E06CDA71" target="_blank" href="../GNSRF/GUID-92EDA653-9E5A-4CB0-B11D-CC65DD74AC3B.htm#GNSRF-GUID-65D8394C-9AC1-4A29-B3F1-BA59E06CDA71">ADD</a> <a class="olink GNSRF-GUID-D264FB68-D179-4719-A673-B7640EB30AC3" target="_blank" href="../GNSRF/GUID-D264FB68-D179-4719-A673-B7640EB30AC3.htm#GNSRF-GUID-D264FB68-D179-4719-A673-B7640EB30AC3">EXTTRAIL</a>.</p>
</li>
</ul>
</div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D">Ongoing Trail Management</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD410"></a>
<div class="props_rev_3"><a id="GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F"></a>
<h4 id="GNSAD-GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F" class="sect4">Recommendations for Managing Trail Purges</h4>
<div>
<p>Consider the following recommendations for managing Oracle GoldenGate trails.</p>
<ul style="list-style-type: disc;">
<li>
<p>For setting the purge rules, it is recommended that: you</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify <code class="codeph">PURGEOLDEXTRACTS</code> in the Manager parameter file so you manage your trails from a single location.</p>
</li>
<li>
<p>Purge trail files through Extract or Replicat only when one process is processing the trail, such as a data pump. Use Manager to purge trail files that are being processed by both Extract and Replicat.</p>
</li>
<li>
<p>Use <code class="codeph">USECHECKPOINTS</code> to ensure that the checkpoints of both Extract and Replicat are considered and reduce the chance of data loss.</p>
</li>
<li>
<p>Be aware that <code class="codeph">PURGEOLDEXTRACTS</code> in Extract or Replicat can remove trails still needed by the Coordinator. If you use the Coordinator, specify <code class="codeph">PURGEOLDEXTRACTS</code> in the Manager to manage the Coordinator checkpoints.</p>
</li>
</ul>
</li>
<li>
<p>The rules should be assigned to the process that resides where the trail must be cleaned.</p>
<p>For example, if there are three nodes: <code class="codeph">\A</code> where the Extract is running and extracting the data; <code class="codeph">\B</code> where a subset of the data is replicated and <code class="codeph">\C</code> where another part of the data is replicated, it is the Manager on <code class="codeph">\A</code> that should be assigned the parameters that define how to manage the trails.</p>
<p>For <code class="codeph">USECHECKPOINTS</code>, this Manager will need to know the location of the checkpoint files on <code class="codeph">\B</code> and <code class="codeph">\C</code>, but this can be accomplished with <code class="codeph">REMOTECHKPT</code> as shown below.</p>
<pre dir="ltr">
GGSCI&gt; ADD REMOTECHKPT \<span class="italic">node.$volume.subvolume</span>.REPCTXT
</pre></li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-322456D4-AD83-4ED8-AF77-F5A59AAC146D">Ongoing Trail Management</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD411"></a>
<div class="props_rev_3"><a id="GUID-8654EB37-2090-410F-B489-8BCCB1026BCC"></a>
<h2 id="GNSAD-GUID-8654EB37-2090-410F-B489-8BCCB1026BCC" class="sect2">Managing Log Trails</h2>
<div>
<p>Unlike trails that are created externally, if a trail created by Logger runs out of space there are no audit records to be reprocessed once the problem is fixed. This can cause data loss, so it is important to have adequate space available for log trails. The following steps help do this.</p>
<ul style="list-style-type: disc;">
<li>
<p>Include adequate trail space when the Logger process is added.</p>
<p>Log trail files are pre-allocated during <code class="codeph">ADD</code> <code class="codeph">LOGGER</code> so this ensures that the space is available before the logging process begins.</p>
</li>
<li>
<p>Monitor and adjust the trail space as needed.</p>
<p>During processing, adjust the number and size of each log trail as needed by editing the Logger parameter file with the command <code class="codeph">EDIT</code> <code class="codeph">PARAM</code> <code class="codeph">LOGPARM</code>. Then the number of files can be increased or decreased by changing the <code class="codeph">NUMFILES</code> option, and the size of each trail file can be adjusted by changing the <code class="codeph">MEGABYTES</code> or <code class="codeph">EXTENTS</code>. The changes will be activated when an <code class="codeph">ALTER</code> <code class="codeph">LOGGER</code> command is issued.</p>
</li>
<li>
<p>Monitor the impact of the trail space on your system.</p>
<p>Manage creates the next log trail file if it is not available when it is time to rollover. This helps ensure that data will not be lost, but it also means that you may have more log trail files than specified in the <code class="codeph">NUMFILES</code> of <code class="codeph">LOGPARM</code>.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD412"></a>
<div class="props_rev_3"><a id="GUID-C05E727A-8935-4688-BA95-67D11A0A3035"></a>
<h2 id="GNSAD-GUID-C05E727A-8935-4688-BA95-67D11A0A3035" class="sect2">Monitoring Processing</h2>
<div>
<div class="section">
<p>You can monitor the state of Oracle GoldenGate processing with the following tools.</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-C05E727A-8935-4688-BA95-67D11A0A3035__GUID-25711E75-E637-4F50-A7D3-A01BD639DAB8">
<table class="cellalignment198" summary="This table lists and describes the tools used to monitor the state of Oracle GoldenGate processing.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment285" id="d25275e1223">Tool</th>
<th class="cellalignment286" id="d25275e1226">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1231" headers="d25275e1223">
<p>The event log</p>
</td>
<td class="cellalignment288" headers="d25275e1231 d25275e1226">
<p>The event log, named <a id="d25275e1237" class="indexterm-anchor"></a><code class="codeph">LOGGGS</code>, shows processing events, messages, errors, and warnings generated by Oracle GoldenGate. You can view the event log from GGSCI using the <a id="d25275e1242" class="indexterm-anchor"></a><code class="codeph">VIEW GGSEVT</code> command.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1248" headers="d25275e1223">
<p>Process <a id="d25275e1251" class="indexterm-anchor"></a>reports</p>
</td>
<td class="cellalignment288" headers="d25275e1248 d25275e1226">
<p>Oracle GoldenGate generates a report for <a id="d25275e1259" class="indexterm-anchor"></a>Extract, <a id="d25275e1264" class="indexterm-anchor"></a>Replicat, and <a id="d25275e1269" class="indexterm-anchor"></a>Manager at the end of each run. The report provides information about run-time parameters and statistics, including process events and operations that were performed.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1275" headers="d25275e1223">
<p>N/A</p>
</td>
<td class="cellalignment288" headers="d25275e1275 d25275e1226">
<p>The name of a process report is either <code class="codeph">Manager</code> for the Manager process, or for Extract and Replicat, is the same as the group name. For example, a report for an Extract group <code class="codeph">EXTORD</code> would have a report named <code class="codeph">GGSRPT</code>.<code class="codeph">EXTORD</code>. You can view the process report, save and store it, and use it for generating run-time statistics.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1294" headers="d25275e1223">
<p>Record counts</p>
</td>
<td class="cellalignment288" headers="d25275e1294 d25275e1226">
<p>You can produce record counts at designated times during processing by using the <code class="codeph">REPORTCOUNT</code> parameter in the Extract and Replicat parameter files. Results are printed to the process report file and to the screen.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1304" headers="d25275e1223">
<p>Discard files</p>
</td>
<td class="cellalignment288" headers="d25275e1304 d25275e1226">
<p>The <a id="d25275e1310" class="indexterm-anchor"></a><a id="d25275e1312" class="indexterm-anchor"></a>discard file logs information about operations that failed. To generate discard files, use the <code class="codeph">DISCARDFILE</code> parameter in the Extract or Replicat parameter file.</p>
<p>The SQL formatted discard file logs information and SQLCI formatted statements for operations that failed replication to SQL/MP. To generate, use the <code class="codeph">SQLFORMATDISCARDFILE</code> parameter in the Replicat parameter file.</p>
<p>To control how discard files are generated, use the <code class="codeph">DISCARDROLLOVER</code> parameter in the Extract or Replicat parameter file or the <code class="codeph">SQLFORMATDISCARDROLLOVER</code> in the Replicat parameter file. These parameters have provisions for specifying when new files are created.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment287" id="d25275e1334" headers="d25275e1223">
<p>GGSCI <code class="codeph">INFO</code> commands</p>
</td>
<td class="cellalignment288" headers="d25275e1334 d25275e1226">
<p>Using the GGSCI commands <code class="codeph">INFO</code>, <code class="codeph">SEND</code>, <code class="codeph">STATUS</code>, and <code class="codeph">STATS</code>, you can retrieve information on Oracle GoldenGate processes.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>Each of these tools is discussed in greater detail below.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD413"></a>
<div class="props_rev_3"><a id="GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591"></a>
<h2 id="GNSAD-GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591" class="sect2">Error Handling</h2>
<div>
<p>There are several error handling parameters available in Oracle GoldenGate. In addition, Oracle GoldenGate provides error-handling options for Replicat and TCP/IP processing.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-C027C789-A61F-4A23-B325-E2CC411E3B33">Error Handling Parameters</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-9107FC66-8D50-4A43-9F67-1F5640CC8F8F">Handling Replicat Errors</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-54DD2562-A750-485C-8A65-108FEAAD1931">TCP/IP Error Handling</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-FFB01DEF-0C77-4026-8CA6-80F68436890F">Using Discard Files</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-48A39AA9-3366-4C45-917A-1C653C730204">Conflict Detection with SQLEXEC</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
<a id="GNSAD414"></a>
<div class="props_rev_3"><a id="GUID-C027C789-A61F-4A23-B325-E2CC411E3B33"></a>
<h3 id="GNSAD-GUID-C027C789-A61F-4A23-B325-E2CC411E3B33" class="sect3">Error Handling Parameters</h3>
<div>
<p>Error handling parameters let you insert missing records, prevent duplicate records from being loaded. For a complete list, see <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD415"></a>
<div class="props_rev_3"><a id="GUID-9107FC66-8D50-4A43-9F67-1F5640CC8F8F"></a>
<h3 id="GNSAD-GUID-9107FC66-8D50-4A43-9F67-1F5640CC8F8F" class="sect3">Handling Replicat Errors</h3>
<div>
<p>To control the way that Replicat responds to errors, use the <a id="d25275e1480" class="indexterm-anchor"></a><a id="d25275e1482" class="indexterm-anchor"></a><code class="codeph">REPERROR</code> parameter in the Replicat parameter file. This parameter handles most errors in a default fashion (for example, to cease processing), and you can specify <code class="codeph">REPERROR</code> options to handle other errors in a specific manner, or to ignore them altogether.</p>
<p><code class="codeph">REPERROR</code> provides the following options:</p>
<div class="tblformal" id="GUID-9107FC66-8D50-4A43-9F67-1F5640CC8F8F__GUID-175EB816-A31A-4AFF-AC76-D348734A6339">
<table class="cellalignment198" summary="This table lists and describes the options provided by REPERROR.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment289" id="d25275e1504">Option</th>
<th class="cellalignment290" id="d25275e1507">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1512" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1514" class="indexterm-anchor"></a>ABEND
</pre></td>
<td class="cellalignment292" headers="d25275e1512 d25275e1507">
<p>Roll back the Replicat transaction and terminate processing. This is the default.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1521" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1523" class="indexterm-anchor"></a>DISCARD
</pre></td>
<td class="cellalignment292" headers="d25275e1521 d25275e1507">
<p>Log the error to the discard file but continue processing the transaction and subsequent transactions.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1530" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1532" class="indexterm-anchor"></a>EXCEPTION
</pre></td>
<td class="cellalignment292" headers="d25275e1530 d25275e1507">
<p>Treat the error as an exception. To handle an exception, create an entry with the <code class="codeph">MAP</code> parameter that runs after the error. For example, you can map a failed update statement to an exceptions table dedicated to missing updates.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1542" headers="d25275e1504">
<pre dir="ltr">
FILEOP
</pre></td>
<td class="cellalignment292" headers="d25275e1542 d25275e1507">
<p>Set the error handling for a particular I/O type.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1549" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1551" class="indexterm-anchor"></a>IGNORE
</pre></td>
<td class="cellalignment292" headers="d25275e1549 d25275e1507">
<p>Ignore the error.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1558" headers="d25275e1504">
<pre dir="ltr">
RESET
</pre></td>
<td class="cellalignment292" headers="d25275e1558 d25275e1507">
<p>Remove all <code class="codeph">REPERROR</code> settings made at the root level of the parameter file above the <code class="codeph">RESET</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1571" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1573" class="indexterm-anchor"></a>RETRYOP
</pre></td>
<td class="cellalignment292" headers="d25275e1571 d25275e1507">
<p>Retry the operation. Use the <code class="codeph">MAXRETRIES</code> argument with <code class="codeph">RETRYOP</code> to specify the number of times to retry an operation. To control the interval between retries, use the <code class="codeph">RETRYDELAY</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1589" headers="d25275e1504">
<pre dir="ltr">
RETRYOPEN
</pre></td>
<td class="cellalignment292" headers="d25275e1589 d25275e1507">
<p>Retry a file open error.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment291" id="d25275e1596" headers="d25275e1504">
<pre dir="ltr">
<a id="d25275e1598" class="indexterm-anchor"></a>TRANSABORT
</pre></td>
<td class="cellalignment292" headers="d25275e1596 d25275e1507">
<p>Abort the current target transaction and then retry it.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD417"></a><a id="GNSAD416"></a>
<div class="props_rev_3"><a id="GUID-54DD2562-A750-485C-8A65-108FEAAD1931"></a>
<h3 id="GNSAD-GUID-54DD2562-A750-485C-8A65-108FEAAD1931" class="sect3">TCP/IP Error Handling</h3>
<div>
<p>The <code class="codeph">TCPERRS</code> file in the Oracle GoldenGate installation location contains preset TCP/IP errors and instructions for how Oracle GoldenGate generally reacts to them. If a response is not explicitly defined in this file, Oracle GoldenGate responds to TCP/IP errors by exiting.</p>
<div class="infobox-note" id="GUID-54DD2562-A750-485C-8A65-108FEAAD1931__GUID-38CF4052-574B-40C7-B52B-E65BA3C97F62">
<p class="notep1">Note:</p>
<p>The Manager process is an exception. When Manager has an IP error it retries every 60 seconds and does not abend. It does not use the <code class="codeph">TCPERRS</code> file to determine the number of retries or the delay.</p>
</div>
<div class="example" id="GUID-54DD2562-A750-485C-8A65-108FEAAD1931__GUID-4FEFE672-5BDF-484D-8859-99EFB55F4CF7">
<p class="titleinexample">Example 9-3 Sample of the TCPERRS File</p>
<pre dir="ltr">
#
# TCP/IP error handling parameters
# Default error response is abend
#
# error       Response  Delay (csecs) Max Retries
ECONNABORTED  RETRY     1000          10
ECONNREFUSED  RETRY     1000          12
ECONNRESET    RETRY     500           10
ENETDOWN      RETRY     3000          50
ENETRESET     RETRY     1000          10
ENOBUFS       RETRY     100           60
ENOTCONN      RETRY     100           10
EPIPE         RETRY     500           10
ESHUTDOWN     RETRY     1000          10
ETIMEDOUT     RETRY     1000          10
NODYNPORTS    RETRY     100           10
</pre></div>
<!-- class="example" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-94A93957-7CB8-4B65-BA4B-2192273D442C">Altering TCP/IP Error Handling Parameters</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a></p>
</div>
</div>
</div>
<a id="GNSAD418"></a>
<div class="sect4"><a id="GUID-94A93957-7CB8-4B65-BA4B-2192273D442C"></a>
<h4 id="GNSAD-GUID-94A93957-7CB8-4B65-BA4B-2192273D442C" class="sect4">Altering TCP/IP Error Handling Parameters</h4>
<div>
<p>To alter the instructions or add instructions for new errors, open the file in a text editor and change any of the values in the following columns:</p>
<ul style="list-style-type: disc;">
<li>
<p>Error column: Specifies a TCP/IP error for which you are defining a response.</p>
</li>
<li>
<p>Response column: Controls whether Oracle GoldenGate tries to connect again after the defined error.</p>
</li>
<li>
<p>Delay column: Controls how long Oracle GoldenGate waits before attempting to connect again.</p>
</li>
<li>
<p>Max Retries column: Controls the number of times that Oracle GoldenGate attempts to connect again before aborting.</p>
</li>
</ul>
<p>See <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for details about the TCP/IP error messages, their causes, effects, and recovery.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-54DD2562-A750-485C-8A65-108FEAAD1931">TCP/IP Error Handling</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD419"></a>
<div class="props_rev_3"><a id="GUID-FFB01DEF-0C77-4026-8CA6-80F68436890F"></a>
<h3 id="GNSAD-GUID-FFB01DEF-0C77-4026-8CA6-80F68436890F" class="sect3">Using Discard Files</h3>
<div>
<p>Two types of discard files are available with Oracle GoldenGate for HP NonStop:</p>
<ul style="list-style-type: disc;">
<li>
<p>Discard files identify a record and operation that failed., providing information to help troubleshoot the error.</p>
</li>
<li>
<p>SQL discard files provide SQLCI formatted input to process the operation to an SQL/MP database once the error is corrected.</p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-8D0E93D0-70DE-4CF4-9EC0-71D1DC6C7F84">Using the Discard File</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-502261DD-2768-43F7-B9B4-B35B37D2E6F6">Using the SQL Formatted Discard File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a></p>
</div>
</div>
</div>
<a id="GNSAD492"></a><a id="GNSAD491"></a>
<div class="props_rev_3"><a id="GUID-8D0E93D0-70DE-4CF4-9EC0-71D1DC6C7F84"></a>
<h4 id="GNSAD-GUID-8D0E93D0-70DE-4CF4-9EC0-71D1DC6C7F84" class="sect4">Using the Discard File</h4>
<div>
<p>The <a id="d25275e1780" class="indexterm-anchor"></a><a id="d25275e1782" class="indexterm-anchor"></a><a id="d25275e1786" class="indexterm-anchor"></a>discard file logs information about operations that failed. Extract discard records have a header and a data portion; the discard file is entry-sequenced. Replicat produces discard records in an external, easy-to-understand format</p>
<p>Full <a id="d25275e1793" class="indexterm-anchor"></a>record images are provided when <code class="codeph">IO-TYPE</code> is <code class="codeph">Delete</code>, <code class="codeph">Insert</code> or <code class="codeph">Update</code>. Each record has the same format as if retrieved from a program reading the original file or table directly. For SQL tables, datetime fields, nulls and other fields are output exactly as a program would <code class="codeph">SELECT</code> them into an application buffer. Even though datetime fields are represented internally as an eight byte timestamp, their external form can be up to 26 bytes expressed as a string. Enscribe records are retrieved as they exist in the original file.</p>
<p>Full record images are output unless the original file has the <code class="codeph">AUDITCOMPRESS</code> attribute set to <code class="codeph">ON</code>. When <code class="codeph">AUDITCOMPRESS</code> is <code class="codeph">ON</code>, compressed update records are generated whenever the original file receives an update operation. (A full image can be retrieved by Extract using the <code class="codeph">FETCHCOMPS</code> parameter.)</p>
<p>When the operation type is <code class="codeph">Insert</code> or <code class="codeph">Update</code>, the image is the contents of the record <span class="italic">after</span> the change is made. When the operation type is <code class="codeph">Delete</code>, the image is the contents of the record <span class="italic">before</span> the change.</p>
<p>To control how discard files are generated, use the <code class="codeph">DISCARDROLLOVER</code> parameter in the Extract or Replicat parameter file. The parameter has provisions for specifying when new files are created.</p>
<div class="section">
<p class="subhead3">Generating Discard Files</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To generate a discard file, use the <code class="codeph">DISCARDFILE</code> parameter in the Extract or Replicat parameter file.</p>
<p>If there is no <code class="codeph">DISCARDFILE</code> parameter for Replicat, a discard file is created by default when Replicat is started from GGSCI (as opposed to when it is run from the TACL prompt.) The default discard file will have the following characteristics:</p>
<ul style="list-style-type: disc;">
<li>
<p>The file name is derived by appending a D to up to 7 characters of the Replicat group name. For example, the Replicat <code class="codeph">GROUPA</code> will create discard file <code class="codeph">GROUPAD</code> and Replicat <code class="codeph">GROUPAB</code> will create discard file <code class="codeph">GROUPABD</code>. If the Replicat group name is more than 7 characters, the process name is used instead. Replicat <code class="codeph">GROUPABC</code> with process name $<code class="codeph">ABR00</code> will create discard file <code class="codeph">ABR00D</code>.</p>
</li>
<li>
<p>The file is created in the report file location.</p>
</li>
<li>
<p>The extents are set to (4, 4, 100)</p>
</li>
</ul>
<div class="infobox-note" id="GUID-8D0E93D0-70DE-4CF4-9EC0-71D1DC6C7F84__GUID-7A47E418-378C-4341-8A92-37B233F7AEC7">
<p class="notep1">Note:</p>
<p>Discard files that have been created by default cannot be rolled over.</p>
</div>
<p>To specify a non-default location or characteristic use the <code class="codeph">DISCARDFILE</code> parameter in the Replicat parameter file.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-FFB01DEF-0C77-4026-8CA6-80F68436890F">Using Discard Files</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD494"></a><a id="GNSAD495"></a><a id="GNSAD493"></a>
<div class="props_rev_3"><a id="GUID-502261DD-2768-43F7-B9B4-B35B37D2E6F6"></a>
<h4 id="GNSAD-GUID-502261DD-2768-43F7-B9B4-B35B37D2E6F6" class="sect4">Using the SQL Formatted Discard File</h4>
<div>
<p>SQL discard files provide SQLCI formatted input for failed replication operations to a target SQL/MP database. Specify <code class="codeph">SQLFORMATDISCARDFILE</code> in the Replicat parameter file to generate the SQL discard file.</p>
<p>To use the SQL formatted discard file the target must be SQL/MP. The source of the operation can be any database and platform that Oracle GoldenGate supports.</p>
<p>The SQLCI formatted input will only process DML records once the original problem has been corrected.</p>
<p>To control how SQL formatted discard files are generated, use the parameter <code class="codeph">SQLFORMATDISCARDROLLOVER</code>. This parameter specifies when new files are created.</p>
<div class="section">
<p class="subhead3">SQL DIscard File Example</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following is an example of a section of a SQL formatted discard file record:</p>
<pre dir="ltr">
SET SESSION ERROR ABORT ON;
BEGIN WORK;
-- Problem with Insert Record, Seqno 0, RBA 1234 Error -8227
INSERT INTO \NY.$DATA2.SALES11.CUSTOMER &amp; (CUST_CODE, NAME, CITY, STATE) VALUES &amp;
(&ldquo;A543", &ldquo;Advantage Software            ",&amp;
&ldquo;SEATTLE            &ldquo;, &ldquo;WA");
COMMIT WORK;
</pre>
<p>The following is an example of the corresponding section from the discard file record:</p>
<pre dir="ltr">
*** ERROR from SQL [-8227]: The row being inserted or updated in underlying 
*** table \NY.$DATA2.SALES11.CUSTOMER contains a key value that must be 
*** unique but is already present in a row.
Error -82227, guardian 10 occurred with insert record (target format). . .
*---  2013-08-28 09:46:13.775946  ----*
0,    4:CUST_CODE = &lsquo;A543'
1,   12:NAME = &lsquo;Advantage Software'
2,   46:CITY = &lsquo;SEATTLE'
3,   70:STATE = &lsquo;WA'
*--- End Discard Record --- *
Process Abending: 2013-08-28 09:46:14
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Editing the SQL Discard File</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The SQL discard file is an edit file that can be changed if needed. To change the file, first do a rollover on the file to trigger Replicat to close it and begin to use a new one. Then edit the file.</p>
<p>When you edit the SQL formatted discard file input, you must make sure your statements are valid for SQLCI:</p>
<ul style="list-style-type: disc;">
<li>
<p>Commands greater than 132 bytes must force a line break.</p>
</li>
<li>
<p>Strings must be enclosed in quotation marks. If embedded quotes are part of the data, the outermost set of quotation marks must be of the opposite type (single or double.)</p>
</li>
<li>
<p>Quoted strings longer than the maximum size must be broken into the 132 byte segments surrounded by quotation marks and terminated by the (&amp;) continuation symbol. Note that the quotation marks and &amp; symbol are all counted in the 132 byte limit.</p>
</li>
<li>
<p>The requirements for date-time and timestamp syntax are specific to the metadata.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-FFB01DEF-0C77-4026-8CA6-80F68436890F">Using Discard Files</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD420"></a>
<div class="props_rev_3"><a id="GUID-48A39AA9-3366-4C45-917A-1C653C730204"></a>
<h3 id="GNSAD-GUID-48A39AA9-3366-4C45-917A-1C653C730204" class="sect3">Conflict Detection with SQLEXEC</h3>
<div>
<p><code class="codeph">SQLEXEC</code> works on SQL for NonStop databases to call queries you specify. This lets you leverage application rules to resolve conflicts between incoming source records. To do this, add a <code class="codeph">SQLEXEC</code> parameter in a <code class="codeph">MAP</code> statement in the Replicat parameter file.</p>
<p>Some applications that support distributed processing provide their own methods for handling conflicts. Such methods include IP persistent routers or application privileges that prevent multiple users from modifying the same data. These rules can be combined with the use of <code class="codeph">SQLEXEC</code> procedures.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-AF1AC782-5977-4316-9F79-F896942D52BF">A SQLEXEC Example</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-D053C4F1-DB37-4E95-AEE9-9371B13FD591">Error Handling</a></p>
</div>
</div>
</div>
<a id="GNSAD422"></a><a id="GNSAD421"></a>
<div class="props_rev_3"><a id="GUID-AF1AC782-5977-4316-9F79-F896942D52BF"></a>
<h4 id="GNSAD-GUID-AF1AC782-5977-4316-9F79-F896942D52BF" class="sect4">A SQLEXEC Example</h4>
<div>
<div class="section">
<p>The following is an example of basic conflict detection based on a timestamp. It raises an exception based on a user-defined error number passed to Replicat and a SQL query to check the value of the <code class="codeph">TIMESTAMP</code> column. If the timestamp is newer than the one on the existing record, the update is performed. Otherwise, the operation is ignored (because the newer timestamp is considered more valid) and a message is generated to the Replicat process report.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-AF1AC782-5977-4316-9F79-F896942D52BF__GUID-7E88AEBE-4D3F-4A65-901B-DBA45CDA3867">
<p class="titleinexample">Example 9-4 REPLICAT Parameter File for Conflict Detection</p>
<pre dir="ltr">
REPERROR (9999, EXCEPTION)
MAP $DATA.MASTER.SRC, TARGET $DATA.MASTER.TAR,
SQLEXEC (ID check, QUERY " SELECT TIMESTAMP FROM TARGTAB"
WHERE PKCOL =?P1 ", ERROR IGNORE);
PARAMS (P1 = PKCOL)),
FILTER (CREATED_BY &lt;&gt; "DBA"),
FILTER (ON UPDATE, BEFORE.TIMESTAMP &lt; CHECK.TIMESTAMP,
RAISEERROR 9999);

INSERTALLRECORDS
MAP $DATA.MASTER.SRC, TARGET $DATA.MASTER.TAREXEC,
EXCEPTIONSONLY,
COLMAP (USEDEFAULTS, ERRTYPE = "UPDATE FILTER FAILED.");
</pre></div>
<!-- class="example" -->
<div class="section">
<p>In the example, the query is run under the logical name of <code class="codeph">check</code>. Values retrieved from this query can be utilized anywhere in the <code class="codeph">MAP</code> statement by referencing <code class="codeph">check.column name</code>.</p>
<p>The <code class="codeph">FILTER</code> statements in the example parameter file are processed in the order that they are written. If, in the first <code class="codeph">FILTER</code> statement, the value of the <code class="codeph">CREATED_BY</code> column in the record being applied by Replicat is equal to the <code class="codeph">DBA</code> account, the operation is accepted for processing by the second <code class="codeph">FILTER</code> statement. Otherwise, it is ignored.</p>
<p>In this example, <code class="codeph">SQLEXEC</code> also detects database errors, but ignores them and continues processing. This is the default action for <code class="codeph">ERROR</code>.</p>
<pre dir="ltr">
SQLEXEC (ID check, QUERY " SELECT TIMESTAMP FROM TARGTAB" 
WHERE PKCOL =?P1 ',ERROR IGNORE);
</pre>
<p>However, <code class="codeph">SQLEXEC</code> could perform any of the following:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-AF1AC782-5977-4316-9F79-F896942D52BF__GUID-CD121C1F-3B67-4DA7-8FE7-64462BAA7AFD">
<table class="cellalignment198" summary="This table lists and describes the error functions that can be performed by SQLEXEC.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment253" id="d25275e2129">Syntax</th>
<th class="cellalignment254" id="d25275e2132">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e2137" headers="d25275e2129">
<pre dir="ltr">
ERROR REPORT
</pre></td>
<td class="cellalignment256" headers="d25275e2137 d25275e2132">
<p>Write the database error to a report.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e2144" headers="d25275e2129">
<pre dir="ltr">
ERROR RAISE
</pre></td>
<td class="cellalignment256" headers="d25275e2144 d25275e2132">
<p>Enable the same error handling capabilities available for table replication errors.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e2151" headers="d25275e2129">
<pre dir="ltr">
ERROR FINAL
</pre></td>
<td class="cellalignment256" headers="d25275e2151 d25275e2132">
<p>Enable the same error handling capabilities as <code class="codeph">ERROR RAISE</code>, but also ignore any further queries left to process.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e2161" headers="d25275e2129">
<pre dir="ltr">
ERROR FATAL
</pre></td>
<td class="cellalignment256" headers="d25275e2161 d25275e2132">
<p>Abend the process immediately.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>In the second <code class="codeph">FILTER</code> statement, the <code class="codeph">ON UPDATE</code> clause directs the filter to run only for update statements. It compares the value of <code class="codeph">BEFORE.TIMESTAMP</code> (the timestamp of the row that Replicat is attempting to apply) to <code class="codeph">CHECK.TIMESTAMP</code> (the timestamp of the row already in the database). If the row in the database is newer than the row being applied, then the filter raises an error and the update is ignored.</p>
<p>In the example, the error correction was implemented with <code class="codeph">RAISEERROR</code> in the <code class="codeph">SQLEXEC</code> clause in the first <code class="codeph">MAP</code> statement, but it could have been implemented in the second <code class="codeph">MAP</code> statement by replacing the <code class="codeph">COLMAP</code> clause with a <code class="codeph">SQLEXEC</code> clause.</p>
<p>To handle specific issues, additional <code class="codeph">SQLEXEC</code> statements could be performed after the filter or even between the filter statements for increased control.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-48A39AA9-3366-4C45-917A-1C653C730204">Conflict Detection with SQLEXEC</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD423"></a>
<div class="props_rev_3"><a id="GUID-62A9AFA9-1812-4839-832A-504BA947B13A"></a>
<h2 id="GNSAD-GUID-62A9AFA9-1812-4839-832A-504BA947B13A" class="sect2">Using the Event Log</h2>
<div>
<p>The Oracle GoldenGate event log shows processing events, messages, errors, and <a id="d25275e2247" class="indexterm-anchor"></a><a id="d25275e2251" class="indexterm-anchor"></a>warnings generated by Oracle GoldenGate. Although this information is also recorded in the NonStop Event Management System (EMS), viewing the Oracle GoldenGate log is sometimes more convenient. Use GGSCI <code class="codeph">VIEW GGSEVT</code> command to view the event log.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD425"></a><a id="GNSAD424"></a>
<div class="props_rev_3"><a id="GUID-59EC479C-7B48-44D6-90EC-4B58551B370D"></a>
<h2 id="GNSAD-GUID-59EC479C-7B48-44D6-90EC-4B58551B370D" class="sect2">Using the Process Report</h2>
<div>
<p>Oracle GoldenGate generates a <a id="d25275e2301" class="indexterm-anchor"></a><a id="d25275e2305" class="indexterm-anchor"></a><a id="d25275e2309" class="indexterm-anchor"></a><a id="d25275e2313" class="indexterm-anchor"></a><a id="d25275e2317" class="indexterm-anchor"></a>report about Manager, Logger, Extract, Replicat, and Syncfile at the end of each run. The report provides information about run-time parameters and statistics, including process events, and operations that were performed. The name of a process report is either <code class="codeph">MANAGER</code> for the Manager process, or it is the same as the group name for Extract and Replicat. By default, reports are created in the subvolume <code class="codeph">GGSRPT</code>. For example, a report for an Extract group <code class="codeph">EXTORD</code> would have a report named <code class="codeph">GGSRPT.EXTORD</code>.</p>
<p>Generate process reports with the <code class="codeph">SEND EXTRACT</code> <span class="italic"><code class="codeph">group_name</code></span> command and the following options:</p>
<div class="tblformal" id="GUID-59EC479C-7B48-44D6-90EC-4B58551B370D__GUID-2477CC6E-29B3-4453-91B3-6BB260EA8A1C">
<table class="cellalignment198" summary="This three column table lists and describes the options used with the SEND EXTRACT command to generate process reports.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment220" id="d25275e2353">Report</th>
<th class="cellalignment244" id="d25275e2356">Option</th>
<th class="cellalignment241" id="d25275e2359">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment222" id="d25275e2364" headers="d25275e2353">
<p>The end of an audit trail</p>
</td>
<td class="cellalignment246" headers="d25275e2364 d25275e2356">
<p><a id="d25275e2369" class="indexterm-anchor"></a><code class="codeph">AUDITEND</code></p>
</td>
<td class="cellalignment243" headers="d25275e2364 d25275e2359">
<p>Queries Extract to determine whether all records in the TMF audit trails have been processed. This command indicates whether more Extract or Replicat activity must occur before a scheduled switch between databases. Until <code class="codeph">AUDITEND</code> returns "All audit processed," more data must be processed before it can be assumed that secondary databases are synchronized.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment222" id="d25275e2382" headers="d25275e2353">
<p>Processing status</p>
</td>
<td class="cellalignment246" headers="d25275e2382 d25275e2356">
<p><a id="d25275e2387" class="indexterm-anchor"></a><code class="codeph">STATUS</code></p>
</td>
<td class="cellalignment243" headers="d25275e2382 d25275e2359">
<p>Returns a detailed status of the processing state, including current position and activity.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment222" id="d25275e2395" headers="d25275e2353">
<p>Processing statistics</p>
</td>
<td class="cellalignment246" headers="d25275e2395 d25275e2356">
<p><code class="codeph">REPORT</code></p>
</td>
<td class="cellalignment243" headers="d25275e2395 d25275e2359">
<p>Generates an interim statistical report to the report file, including the number of inserts, updates, and deletes since the last report (default) or according to report options that can be entered.</p>
<p>For more information, see <a class="olink GNSRF-GUID-266F8F8C-EC0A-4834-8786-17CD69257ECC" target="_blank" href="../GNSRF/GUID-379FEADE-497A-47F7-BF0B-E9A03C22401A.htm#GNSRF-GUID-266F8F8C-EC0A-4834-8786-17CD69257ECC">Send Report</a>.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment222" id="d25275e2412" headers="d25275e2353">
<p>TCP/IP statistics</p>
</td>
<td class="cellalignment246" headers="d25275e2412 d25275e2356">
<p><a id="d25275e2417" class="indexterm-anchor"></a><code class="codeph">GETTCPSTATS</code></p>
<p><a id="d25275e2426" class="indexterm-anchor"></a><code class="codeph">RESETTCPSTATS</code></p>
</td>
<td class="cellalignment243" headers="d25275e2412 d25275e2359">
<p>Retrieves TCP/IP statistics, such as the quantity and byte length of inbound and outbound messages, the number of messages received and sent, wait times, process CPU time, and byte transmit averages. Time accumulates when Extract is waiting on a socket send or receive and all times are reported in microseconds.</p>
<p>Resets the TCP/IP statistics so the next report displays fresh statistics</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-59EC479C-7B48-44D6-90EC-4B58551B370D__GUID-6B1F465B-0064-4A94-BEC7-08E69F81BD13">
<p class="notep1">Note:</p>
<p>In Oracle GoldenGate for NonStop, several additional reporting options are available. For specifics, see <a class="olink GNSRF-GUID-379FEADE-497A-47F7-BF0B-E9A03C22401A" target="_blank" href="../GNSRF/GUID-379FEADE-497A-47F7-BF0B-E9A03C22401A.htm#GNSRF-GUID-379FEADE-497A-47F7-BF0B-E9A03C22401A">Report commands</a>.</p>
</div>
<div class="example" id="GUID-59EC479C-7B48-44D6-90EC-4B58551B370D__GUID-2D4E9610-C978-4B57-A543-CBFEDE8AFFE2">
<p class="titleinexample">Example 9-5 Sample Report</p>
<pre dir="ltr">
RMTTRAIL $DATA10.LOGGER.R1000038, RBA 5348453
Session Index 1
Stats started 2011/01/10 11:46:18.804165 0:00:41.522086
Local address 192.0.2.2:1000 Remote address 192.0.2.2:1000
Inbound Msgs 199 Bytes 2337, 57 bytes/second
Outbound Msgs 200 Bytes 5389492, 131451 bytes/second
Recvs 199
Sends 200
Avg bytes per recv 11, per msg 11
Avg bytes per send 26947, per msg 26947
Recv Wait Time 17592208, per msg 88403, per recv 88403
Send Wait Time 774603, per msg 3873, per send 3873
Process CPU Time 0:00:07.715372
</pre></div>
<!-- class="example" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-EF2561EC-BC61-4CD0-B517-EFC0B71C03CF">Viewing Process Reports</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-D9AA1433-69D3-4BF1-B4DF-9B9C4379A9CE">Storing Process Reports</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-4486A049-0FE5-407A-A46F-B59A514A9B6D">Managing Process Reports</a><br /></li>
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-6C07A4DE-CCCE-4041-A1C7-B9F0AEDD4E9B">Generating Run-time Statistics</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
<a id="GNSAD426"></a>
<div class="props_rev_3"><a id="GUID-EF2561EC-BC61-4CD0-B517-EFC0B71C03CF"></a>
<h3 id="GNSAD-GUID-EF2561EC-BC61-4CD0-B517-EFC0B71C03CF" class="sect3">Viewing Process Reports</h3>
<div>
<p>To view a process report, view the file directly from the operating system's command shell, or use the <code class="codeph">VIEW REPORT</code> command in GGSCI. You also can view process reports from the Activity Console by clicking <code class="codeph">More Info</code> beneath the name of the process.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-59EC479C-7B48-44D6-90EC-4B58551B370D">Using the Process Report</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD427"></a>
<div class="props_rev_3"><a id="GUID-D9AA1433-69D3-4BF1-B4DF-9B9C4379A9CE"></a>
<h3 id="GNSAD-GUID-D9AA1433-69D3-4BF1-B4DF-9B9C4379A9CE" class="sect3">Storing Process Reports</h3>
<div>
<p>By default, process reports are stored in the <code class="codeph">GGSRPT</code> subvolume of the Oracle GoldenGate installation volume. You can designate an alternative file name by using the <code class="codeph">REPORT</code> option of the <code class="codeph">ADD EXTRACT</code> and <code class="codeph">ADD REPLICAT</code> commands when you create the group from the GGSCI interface. Specify the fully qualified file name.</p>
<p>Once paired with Extract or Replicat, the report file may remain in its original location, or you may change its location with the <code class="codeph">ALTER</code> command, such as:</p>
<pre dir="ltr">
ALTER EXTRACT <span class="variable">group_name</span> REPORT <span class="variable">filename</span>
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-59EC479C-7B48-44D6-90EC-4B58551B370D">Using the Process Report</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD496"></a>
<div class="props_rev_3"><a id="GUID-4486A049-0FE5-407A-A46F-B59A514A9B6D"></a>
<h3 id="GNSAD-GUID-4486A049-0FE5-407A-A46F-B59A514A9B6D" class="sect3">Managing Process Reports</h3>
<div>
<p>Whenever a process starts, a new report file is created, and a sequence number is appended to the name of the old file. The naming sequence goes from no sequence number (current), to 0 (the most recent) to 9 (the oldest), for example: <code class="codeph">$DATA.GGSRPT.EXTORD, $DATA.GGSRPT.EXTORD0, $DATA.GGSRPT.EXTORD1</code> and so forth. When the file number reaches nine, the oldest file is deleted to make room for a new file, so there are never more than 11 files on the system at one time (the current report plus the ten aged reports).</p>
<p>To prevent the size of the report file from becoming too large, use the <code class="codeph">REPORTROLLOVER</code> parameter in the Extract and Replicat parameter files. This parameter forces the report files to <a id="d25275e2595" class="indexterm-anchor"></a>age on a regular schedule. Options are available to age the current file on a specific day and/or a specific time.</p>
<p>To minimize the impact of errors on the size of the Replicat report file, use the <code class="codeph">WARNRATE</code> parameter in the Replicat parameter file. This parameter conserves the size of the report file and the event log by issuing a warning only after a specific number of errors have been generated, instead of after each one. This parameter is useful if you expect a certain number of errors and can tolerate them. The default for this parameter is to warn after 100 errors.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-59EC479C-7B48-44D6-90EC-4B58551B370D">Using the Process Report</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD497"></a>
<div class="props_rev_3"><a id="GUID-6C07A4DE-CCCE-4041-A1C7-B9F0AEDD4E9B"></a>
<h3 id="GNSAD-GUID-6C07A4DE-CCCE-4041-A1C7-B9F0AEDD4E9B" class="sect3">Generating Run-time Statistics</h3>
<div>
<p>Run-time statistics show the current state of processing. By default, run-time statistics are written to the existing process report at the end of each run. To control when run-time statistics are generated, use the <code class="codeph">REPORT</code> parameter. This parameter has options for controlling the day and time that statistics are generated.</p>
<p>To generate interim run-time statistics, use the <code class="codeph">SEND EXTRACT</code> or <code class="codeph">SEND REPLICAT</code> GGSCI command with the <code class="codeph">REPORT</code> option syntax as shown below.</p>
<pre dir="ltr">
GGSCI&gt; SEND {EXTRACT|REPLICAT} <span class="variable">group_name</span>
REPORT [<span class="variable">time_option</span> [RESET | FILE <span class="variable">filename</span> | TABLE <span class="variable">name</span>]]
</pre>
<p>The time_option controls the time span covered by the report, such as since the start of Extract or since the last report request. <code class="codeph">RESET</code> sets the counters for that time_option to zero. <code class="codeph">FILE</code> or <code class="codeph">TABLE</code> limits the report to counts for <span class="variable">name</span>. For more information, see <a class="olink GNSRF-GUID-266F8F8C-EC0A-4834-8786-17CD69257ECC" target="_blank" href="../GNSRF/GUID-379FEADE-497A-47F7-BF0B-E9A03C22401A.htm#GNSRF-GUID-266F8F8C-EC0A-4834-8786-17CD69257ECC">SEND REPORT</a>.</p>
<p>To generate run-time statistics and also cause the report file to roll over to a new one, add the <code class="codeph">ROLLREPORT</code> option to the command, for example:</p>
<pre dir="ltr">
GGSCI&gt; SEND EXTRACT EXTORD, REPORT
GGSCI&gt; SEND EXTRACT EXTORD, ROLLREPORT
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-59EC479C-7B48-44D6-90EC-4B58551B370D">Using the Process Report</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD430"></a>
<div class="props_rev_3"><a id="GUID-7164BFE5-CA50-43CD-B809-F9B6C73771F0"></a>
<h2 id="GNSAD-GUID-7164BFE5-CA50-43CD-B809-F9B6C73771F0" class="sect2">Viewing Record Counts</h2>
<div>
<p>You can produce record counts at designated times during processing by using the <code class="codeph">REPORTCOUNT</code> parameter in the Extract and Replicat parameter files. Results are printed to the process report file and to screen.</p>
<p>The record count shows the number of records extracted and replicated since the Extract or Replicat process started. Counts can be obtained at regular intervals or each time a specific number of records is processed.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD431"></a>
<div class="props_rev_3"><a id="GUID-E7DDAD9A-A1BE-4B0D-9B19-0B3FE8F7EA8F"></a>
<h2 id="GNSAD-GUID-E7DDAD9A-A1BE-4B0D-9B19-0B3FE8F7EA8F" class="sect2">The STATS Command</h2>
<div>
<p>To generate a statistical report for Extract or Replicat, specify the <a id="d25275e2747" class="indexterm-anchor"></a><a id="d25275e2749" class="indexterm-anchor"></a><a id="d25275e2753" class="indexterm-anchor"></a><code class="codeph">LAGSTATS</code> parameter. Oracle GoldenGate measures lag in bytes and time:</p>
<ul style="list-style-type: disc;">
<li>
<p>Lag in bytes is the difference between the position of the Extract program in the source at the time of the last checkpoint, and the current end-of-file. A lag value of <code class="codeph">UNKNOWN</code> indicates that the process may have recently started and hasn't yet processed records, or that the source system's clock may be ahead of the target system's clock due to a reason other than time zone differences.</p>
</li>
<li>
<p>Time lag reflects the lag in seconds <span>at the time the last checkpoint was written</span>. For example, if it is now 15:00:00, the last checkpoint was at 14:59:00 and the timestamp of the last record processed by the Replicat program was 14:58:00, the lag is reported as 00:01:00 (one minute, the difference between 14:58 and 14:59).</p>
</li>
</ul>
<p>The report includes the following general performance categories:</p>
<ul style="list-style-type: disc;">
<li>
<p>General statistics</p>
</li>
<li>
<p>Lag statistics</p>
</li>
<li>
<p>Extract's processing in the Oracle GoldenGate trail</p>
</li>
<li>
<p>Audit trail reading statistics for Extract (when applicable)</p>
</li>
<li>
<p>Output statistics for Extract only</p>
</li>
</ul>
<p>The following table describes each item in the lag statistics report.</p>
<div class="tblformal" id="GUID-E7DDAD9A-A1BE-4B0D-9B19-0B3FE8F7EA8F__GUID-9094869E-B76B-48A0-915D-523265178E9F">
<table class="cellalignment198" summary="This table lists and describes each of the items in the lag statistics report.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment277" id="d25275e2801">Item</th>
<th class="cellalignment278" id="d25275e2804">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2809" headers="d25275e2801">
<p>Last Record Timestamp</p>
</td>
<td class="cellalignment280" headers="d25275e2809 d25275e2804">
<p>The timestamp of the source record (when the source record was input or committed to the target database).</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2816" headers="d25275e2801">
<p>Configured Interval</p>
</td>
<td class="cellalignment280" headers="d25275e2816 d25275e2804">
<p>Determined by the <code class="codeph">LAGSTATS INTERVAL</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2826" headers="d25275e2801">
<p>Actual Duration</p>
</td>
<td class="cellalignment280" headers="d25275e2826 d25275e2804">
<p>The duration of time measured.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2833" headers="d25275e2801">
<p>Records Processed</p>
</td>
<td class="cellalignment280" headers="d25275e2833 d25275e2804">
<p>Number of records output or replicated during the period.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2840" headers="d25275e2801">
<p>Records per Second</p>
</td>
<td class="cellalignment280" headers="d25275e2840 d25275e2804">
<p>Records processed per second during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2847" headers="d25275e2801">
<p>Source Records per Second</p>
</td>
<td class="cellalignment280" headers="d25275e2847 d25275e2804">
<p>The estimated rate of records read for either the TMF audit trails or logger processes.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2854" headers="d25275e2801">
<p>Last lag</p>
</td>
<td class="cellalignment280" headers="d25275e2854 d25275e2804">
<p>The time lag of the last record measured between (1) the records update into the source database and (2) the actual processing of the record by Extract or Replicat.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2861" headers="d25275e2801">
<p>Min lag</p>
</td>
<td class="cellalignment280" headers="d25275e2861 d25275e2804">
<p>Smallest value of Last lag during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2868" headers="d25275e2801">
<p>Average lag</p>
</td>
<td class="cellalignment280" headers="d25275e2868 d25275e2804">
<p>Average time lag calculated by adding the maximum lag during the interval to the minimum lag and dividing the result by 2.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2875" headers="d25275e2801">
<p>Peak lag</p>
</td>
<td class="cellalignment280" headers="d25275e2875 d25275e2804">
<p>Peak time lag during the interval for all records processed and the timestamp of the peak.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2882" headers="d25275e2801">
<p>Last est. record lag</p>
</td>
<td class="cellalignment280" headers="d25275e2882 d25275e2804">
<p>An estimate of the number of records the component is behind the current record.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2890" headers="d25275e2801">
<p>Pct Below Lag of mi:ss:mmm</p>
</td>
<td class="cellalignment280" headers="d25275e2890 d25275e2804">
<p>The percentage of times lag was below the time threshold you specified. This is an optional statistic, which can occur up to five times. To generate the statistic, specify the <code class="codeph">THRESHOLD</code> option for <code class="codeph">LAGSTATS</code>.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2903" headers="d25275e2801">
<p>Pct CPU Busy</p>
</td>
<td class="cellalignment280" headers="d25275e2903 d25275e2804">
<p>The amount of time the CPU in which Extract or Replicat was running was busy during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2910" headers="d25275e2801">
<p>PCT Process Busy</p>
</td>
<td class="cellalignment280" headers="d25275e2910 d25275e2804">
<p>The amount of time Extract or Replicat was busy during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2917" headers="d25275e2801">
<p>At EOF?</p>
</td>
<td class="cellalignment280" headers="d25275e2917 d25275e2804">
<p>Whether more data was available to process the last time more data was requested by Extract or Replicat from the audit or Oracle GoldenGate trails.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2924" headers="d25275e2801">
<p>Trail Reads per Second</p>
</td>
<td class="cellalignment280" headers="d25275e2924 d25275e2804">
<p>When reading Oracle GoldenGate trails, the number of attempted block reads per second.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2931" headers="d25275e2801">
<p>Bytes per Trail Read</p>
</td>
<td class="cellalignment280" headers="d25275e2931 d25275e2804">
<p>When reading Oracle GoldenGate trails, the number of bytes read per successful read.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2938" headers="d25275e2801">
<p>Records per Block Read</p>
</td>
<td class="cellalignment280" headers="d25275e2938 d25275e2804">
<p>When reading Oracle GoldenGate trails, the number of records read per successful read. This indicates the blocking factor on input.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2945" headers="d25275e2801">
<p>Wait per Block Read</p>
</td>
<td class="cellalignment280" headers="d25275e2945 d25275e2804">
<p>When reading Oracle GoldenGate trails, the amount of time Extract or Replicat waits, on average, to complete the read.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2952" headers="d25275e2801">
<p>Audit Bytes per Second</p>
</td>
<td class="cellalignment280" headers="d25275e2952 d25275e2804">
<p>The number of bytes of audit processed per second (TMF Extract only).</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2959" headers="d25275e2801">
<p>Pct EOF Trail Reads</p>
</td>
<td class="cellalignment280" headers="d25275e2959 d25275e2804">
<p>For TMF Extract, the percentage of times Extract reached the end of file, compared with the number of records processed. For Replicat or Extract reading Oracle GoldenGate trails, the number of times the process read at the end of file, compared with the total number of blocks it attempted to read.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2966" headers="d25275e2801">
<p>Transactions per Second</p>
</td>
<td class="cellalignment280" headers="d25275e2966 d25275e2804">
<p>For TMF Extract, the number of transactions processed per second.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2974" headers="d25275e2801">
<p>Transactions Aborted</p>
</td>
<td class="cellalignment280" headers="d25275e2974 d25275e2804">
<p>For TMF Extract, the number of transactions aborted during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2981" headers="d25275e2801">
<p>Audit positions</p>
</td>
<td class="cellalignment280" headers="d25275e2981 d25275e2804">
<p>The number of times during the interval that Extract requested Audserv to position for read.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2988" headers="d25275e2801">
<p>Audit position seconds</p>
</td>
<td class="cellalignment280" headers="d25275e2988 d25275e2804">
<p>The elapsed time in seconds required for Audserv to position for read.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e2995" headers="d25275e2801">
<p>Audserv requests</p>
</td>
<td class="cellalignment280" headers="d25275e2995 d25275e2804">
<p>The number of data requests to Audserv during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3002" headers="d25275e2801">
<p>Audserv request wait seconds</p>
</td>
<td class="cellalignment280" headers="d25275e3002 d25275e2804">
<p>The elapsed time for the Audserv to fulfill data requests during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3009" headers="d25275e2801">
<p>Long transactions</p>
</td>
<td class="cellalignment280" headers="d25275e3009 d25275e2804">
<p>The number of long transactions during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3016" headers="d25275e2801">
<p>Long transaction seconds</p>
</td>
<td class="cellalignment280" headers="d25275e3016 d25275e2804">
<p>The elapsed time for the long transactions that occurred during the interval.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3023" headers="d25275e2801">
<p>Output Bytes per Second</p>
</td>
<td class="cellalignment280" headers="d25275e3023 d25275e2804">
<p>For Extract, the bytes of data output to the extract trails per second.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3030" headers="d25275e2801">
<p>Output Blocks per Second</p>
</td>
<td class="cellalignment280" headers="d25275e3030 d25275e2804">
<p>For Extract, the number of blocks of data written to the Oracle GoldenGate trails per second.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3037" headers="d25275e2801">
<p>Records per Block Written</p>
</td>
<td class="cellalignment280" headers="d25275e3037 d25275e2804">
<p>For Extract, the average number of records in each block written.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3044" headers="d25275e2801">
<p>Bytes per Block Written</p>
</td>
<td class="cellalignment280" headers="d25275e3044 d25275e2804">
<p>For Extract, the average number of bytes in each block written.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3052" headers="d25275e2801">
<p>Wait per Block Written</p>
</td>
<td class="cellalignment280" headers="d25275e3052 d25275e2804">
<p>For Extract, the amount of time waiting for the last write or TCP/IP send to complete before sending the next block of data. This statistic can indicate whether the network might be introducing a delay to Extract.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3059" headers="d25275e2801">
<p>Average Record Flush Delay</p>
</td>
<td class="cellalignment280" headers="d25275e3059 d25275e2804">
<p>For Extract, the estimated average amount of time a record was held in its buffers before flushing.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d25275e3066" headers="d25275e2801">
<p>Pct Output/Input</p>
</td>
<td class="cellalignment280" headers="d25275e3066 d25275e2804">
<p>For Extract, the ratio of bytes output compared with input bytes processed. Useful for estimating potential bandwidth required by Extract based on amount of TMF audit generated.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD432"></a>
<div class="props_rev_3"><a id="GUID-237B12AD-3531-46BF-A70E-56920E6B5158"></a>
<h2 id="GNSAD-GUID-237B12AD-3531-46BF-A70E-56920E6B5158" class="sect2">Collecting Events from Other Systems</h2>
<div>
<div class="section">
<p><a id="d25275e3101" class="indexterm-anchor"></a>Event messages created by the Collector and Replicat on Windows and UNIX systems can be captured and sent back to EMS on NonStop systems. This feature enables centralized viewing of Oracle GoldenGate messages across platforms.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To collect events from other systems:</p>
<ol>
<li>
<p>Run Collector on NonStop to collect and distribute EMS messages. For each <a id="d25275e3113" class="indexterm-anchor"></a>EMSCLNT process, run one Collector process. The following example runs Collector and outputs its messages to <code class="codeph">$0</code>.</p>
<pre dir="ltr">
TACL&gt; ASSIGN STDERR, $0
TACL&gt; RUN SERVER /NOWAIT/ &ndash;p 7880
</pre></li>
<li>
<p>Run the <a id="d25275e3124" class="indexterm-anchor"></a><a id="d25275e3126" class="indexterm-anchor"></a>EMSCLNT utility on the remote target. EMSCLNT reads a designated error log and runs indefinitely, waiting for more messages to send. When EMSCLNT receives a message, it sends the message to a TCP/IP collector process on NonStop. See the examples for running EMSCLNT on other operating systems for syntax information.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="managing-and-monitoring.htm#GUID-D316D7A5-B477-49A8-9894-52057EFB91EC">Running EMSCLNT on Other Operating Systems</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-B7BCB399-7A2A-4319-BF93-4CBCECDD44A4" title="Learn how to manage tasks and trails, and how to monitor processes, which includes analyzing the process report, viewing record counts, and handling errors.">Managing and Monitoring</a></p>
</div>
</div>
</div>
<a id="GNSAD433"></a>
<div class="props_rev_3"><a id="GUID-D316D7A5-B477-49A8-9894-52057EFB91EC"></a>
<h3 id="GNSAD-GUID-D316D7A5-B477-49A8-9894-52057EFB91EC" class="sect3">Running EMSCLNT on Other Operating Systems</h3>
<div>
<p>This Unix example reads the file <code class="codeph">ggslog.err</code> for error messages. Error messages are sent to the collector to the NonStop at IP address <code class="codeph">192.0.2.2</code> listening on port <code class="codeph">7850</code>. The Collector on NonStop writes formatted messages to EMS Collector <code class="codeph">$0</code>.</p>
<pre dir="ltr">
&gt; $emsclnt &ndash;h 192.0.2.2 &ndash;p 7850 &ndash;f ggserr.log &ndash;c $0
</pre>
<p>This Windows example (from the DOS prompt) reads the file <code class="codeph">d:\ggserrs\log.txt</code> for error messages. Error messages are sent to the Collector on host <code class="codeph">ggs2</code> listening on port <code class="codeph">9876</code>. The Collector on NonStop writes formatted messages to EMS Collector <code class="codeph">$P0</code>.</p>
<pre dir="ltr">
&gt; emsclnt &ndash;h ggs2 &ndash;p 9876 &ndash;f c:\ggs\ggserr.log &ndash;c $P0
</pre>
<div class="tblformal" id="GUID-D316D7A5-B477-49A8-9894-52057EFB91EC__GUID-E99D6053-8365-409E-9C83-865D6737F166">
<table class="cellalignment198" summary="This table lists and describes the arguments used to run EMSCLNT on other operating systems.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment253" id="d25275e3205">Argument</th>
<th class="cellalignment254" id="d25275e3208">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e3213" headers="d25275e3205">
<pre dir="ltr">
&ndash;h ggs2
</pre></td>
<td class="cellalignment256" headers="d25275e3213 d25275e3208">
<p>The node on which the collector is being run. Can be a name or IP address. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e3220" headers="d25275e3205">
<pre dir="ltr">
&ndash;p 9876
</pre></td>
<td class="cellalignment256" headers="d25275e3220 d25275e3208">
<p>The port at which the collector is listening for messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e3227" headers="d25275e3205">
<pre dir="ltr">
&ndash;f c:\ggs\ggserr.log
</pre></td>
<td class="cellalignment256" headers="d25275e3227 d25275e3208">
<p>The error file from which EMSCLNT retrieves error messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d25275e3234" headers="d25275e3205">
<pre dir="ltr">
&ndash;c $P0
</pre></td>
<td class="cellalignment256" headers="d25275e3234 d25275e3208">
<p>The collector to which EMS messages should be written on the NonStop (default is $0).</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="managing-and-monitoring.htm#GUID-237B12AD-3531-46BF-A70E-56920E6B5158">Collecting Events from Other Systems</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment191">
<tr>
<td class="cellalignment228">
<table class="cellalignment196">
<tr>
<td class="cellalignment195"><a href="integrating-data.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment195"><a href="using-oracle-goldengate-utilities.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment230">
<table class="cellalignment194">
<tr>
<td class="cellalignment195"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment195"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment195"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment195"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
