<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Planning the Configuration</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements." />
<meta name="keywords" content="TMF, extraction, planning, Extract, online configuration, TMF-enabled applications, AUDITCOMPRESS attribute, distributed network transactions, transactions, distributed, non-TMF, non-TMF enabled applications, data, integrity, integrity, data, file, data, types supported, Safeguard, using with GoldenGate, SFGEXIT module, adding to Safeguard, security, Safeguard, utilities, system, monitoring, Replicat, planning considerations, tables, with system keys, replicating, primary key updates, replicating, load balancing, using, load balancing, many-to-one configuration, bi-directional replication, configuring, bi-directional configuration, throughput, maximizing, parallel processing, latency, managing, capacity planning, wildcards, about" />
<meta name="dcterms.created" content="2018-06-07T00:11:41Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57712-04" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="understanding-oracle-goldengate-hp-nonstop.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-initial-data-synchronization.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183"></a> <span id="PAGE" style="display:none;">5/15</span> <!-- End Header -->
<a id="GNSAD172"></a><a id="GNSAD171"></a>
<h1 id="GNSAD-GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" class="sect1"><span class="enumeration_chapter">2</span> Planning the Configuration</h1>
<div>
<div><span>Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.</span></div>
<p>This topic outlines techniques and procedures for the following configuration tasks.</p>
<p>This topic includes the following sections:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-F84160C0-8EFB-40BB-B5BF-5AB02FFE1BAB">Planning Overview</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-36F84AE2-1107-4EBB-ADE4-45543B9DAC25">Configuring Oracle Goldengate Global Operations</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-ADF49456-6567-484F-BD1E-D5C77878DC34">Changing Default Component Names</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-AAA6650C-9BCD-4C47-AE81-4FA764B531FE">Using Wildcards</a><br />
You can use wildcard arguments to express volumes, subvolumes, files and tables. However, you can't use wildcard arguments to express views. <span>Oracle GoldenGate</span> allows wildcards to be expressed as a question mark (?) or an asterisk (*). An asterisk matches any number of characters, whereas a question mark matches only a single character.</li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-D97C5889-75DD-401C-B814-4A89361A7F88">Support for DDL and DDL2</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-B32D5913-E2A9-4F5E-9CC0-CAC728208075">Specifying Internet Protocol Addresses</a><br /></li>
</ul>
</div>
<a id="GNSAD173"></a>
<div class="props_rev_3"><a id="GUID-F84160C0-8EFB-40BB-B5BF-5AB02FFE1BAB"></a>
<h2 id="GNSAD-GUID-F84160C0-8EFB-40BB-B5BF-5AB02FFE1BAB" class="sect2">Planning Overview</h2>
<div>
<p>Before running Oracle GoldenGate, you must make some decisions regarding your Oracle GoldenGate installation. This includes determining your required resources and their configuration. Other planning considerations include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Are you capturing change data from TMF-enabled or non-TMF-enabled applications?</p>
</li>
<li>
<p>Are you transmitting data to targets over TCP/IP?</p>
</li>
<li>
<p>Which topology configurations are you using?</p>
</li>
<li>
<p>How much data communications capacity is required between the source and target systems?</p>
</li>
<li>
<p>How much additional disk space is required to accommodate replication?</p>
</li>
<li>
<p>Can Oracle GoldenGate accommodate present and future transaction volumes?</p>
</li>
<li>
<p>How much overhead will Oracle GoldenGate add to the source and target systems?</p>
</li>
<li>
<p>How can you scale Oracle GoldenGate to meet high volume requirements?</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD174"></a>
<div class="props_rev_3"><a id="GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6"></a>
<h2 id="GNSAD-GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6" class="sect2">Configuring TMF-Enabled Processing</h2>
<div>
<p>Extract and its servant program Audserv read TMF data in large blocks (upwards of 28K at a time) before transferring the data to an Oracle GoldenGate trail. This requires a small percentage of I/O messages because Audserv retrieves blocks of records from audit cache rather than from disk.</p>
<p>You must consider several factors when planning for Audserv to read TMF data. These include:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-72C888F2-56EF-45AA-9A0A-B09CC4F6C518">Adding Columns to a Source Table</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-192E56C8-15DA-475C-8817-E9670E895F06">Ensuring All Audit is Processed</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-1FB66BB4-F404-4458-BDB7-C248FF319650">Keeping Necessary Audit Available for Extract</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-087C7CBE-A6CA-4E2C-B3FF-D769705AD78A">Minimizing Vulnerability to Outages</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-EFDB80D9-9DAE-4EF1-BEA3-A10E27FB161A">Configuring FUP RELOAD Activity</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED">Data Compression</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0">Configuring for Distributed Network Transactions</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
<a id="GNSAD175"></a>
<div class="props_rev_3"><a id="GUID-72C888F2-56EF-45AA-9A0A-B09CC4F6C518"></a>
<h3 id="GNSAD-GUID-72C888F2-56EF-45AA-9A0A-B09CC4F6C518" class="sect3">Adding Columns to a Source Table</h3>
<div>
<p>Occasionally <a id="d4513e250" class="indexterm-anchor"></a><a id="d4513e254" class="indexterm-anchor"></a>columns are added to source database tables. This means when a layout of your <a id="d4513e259" class="indexterm-anchor"></a>file or table changes, you must stop Extract, make the changes, update any source definitions files provided by <code class="codeph">DEFGEN</code>, then restart Extract so it retrieves the new definition from the dictionary or <a id="d4513e267" class="indexterm-anchor"></a>SQL catalog.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD176"></a>
<div class="props_rev_3"><a id="GUID-192E56C8-15DA-475C-8817-E9670E895F06"></a>
<h3 id="GNSAD-GUID-192E56C8-15DA-475C-8817-E9670E895F06" class="sect3">Ensuring All Audit is Processed</h3>
<div>
<p>Various system events can require that you ensure all audit records are processed before the event occurs. Examples include system maintenance, (such as an operating system upgrade), TMF shutdown, and other events. Failing to do so can result in missed data.</p>
<p>There are several methods for verifying that Extract is current with TMF activity.</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the GGSCI <code class="codeph">SEND EXTRACT AUDITEND</code> command to determine Extract's position in the audit trail. If the response indicates that all audit is processed, Extract has no more work to do assuming that TMF-related applications are down or idle.</p>
</li>
<li>
<p>Use the GGSCI <code class="codeph">ADD MARKER</code> command to insert a marker record into the audit trails after some significant event (such as taking the application down). Once Extract and Replicat have processed the marker, you can assume that all records before that point have been processed.</p>
</li>
<li>
<p>Issue the <code class="codeph">INFO EXTRACT</code> command from GGSCI, which returns the Extract lag (approximate number of bytes and time behind the audit trails). If the status is <code class="codeph">RUNNING</code> and the number of bytes behind is less than 5000, it is likely that all audit has been processed.</p>
</li>
<li>
<p>Issue a <code class="codeph">LAG EXTRACT</code> command from GGSCI which reports the current lag times.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD177"></a>
<div class="props_rev_3"><a id="GUID-1FB66BB4-F404-4458-BDB7-C248FF319650"></a>
<h3 id="GNSAD-GUID-1FB66BB4-F404-4458-BDB7-C248FF319650" class="sect3">Keeping Necessary Audit Available for Extract</h3>
<div>
<p>TMF purges <a id="d4513e359" class="indexterm-anchor"></a><a id="d4513e363" class="indexterm-anchor"></a>audit trails it no longer requires, because it has no knowledge of outside processes that depend on it, such as Extract. This means you must plan how to keep audit trails available. This section discusses several options:</p>
<ul style="list-style-type: disc;">
<li>
<p>Make sure a certain number of audit files are always available, either in production or backed up to an alternative subvolume.</p>
</li>
<li>
<p>Copy the audit trails to an alternative subvolume (away from production TMF) and let Extract read them from the alternative location.</p>
</li>
<li>
<p>Configure the audit trails to make disk dumps, and let Extract read them.</p>
</li>
<li>
<p>Configure the audit trails to make tape dumps, and let Extract restore the audit.</p>
</li>
<li>
<p>Include the <a id="d4513e384" class="indexterm-anchor"></a><code class="codeph">DISKTHRESHOLD</code> parameter in the Manager parameter file, so Manager warns you when audit trails are in danger of being purged.</p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-BCE70787-9BFA-451D-8A17-E1E8D02D5325">Ensuring TMF Cannot Purge Audit</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-F96910E7-E5A8-4A52-8F64-1B8D6CC41890">Copying the Audit to an Alternative Location</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-37D68174-5B39-429A-9EF0-DC28171FC304">Using Tape Dumps as an Alternative Location</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
<a id="GNSAD178"></a>
<div class="props_rev_3"><a id="GUID-BCE70787-9BFA-451D-8A17-E1E8D02D5325"></a>
<h4 id="GNSAD-GUID-BCE70787-9BFA-451D-8A17-E1E8D02D5325" class="sect4">Ensuring TMF Cannot Purge Audit</h4>
<div>
<p>Keep a certain number of audit files in production or as backup copies. One method for backing up files is using the GGSCI <code class="codeph">ADD ATCONFIG</code> command with the <code class="codeph">DUPFILES</code> option. Should you choose this option, limiting the number of duplicate files ensures that the backup disk does not fill up.</p>
<div class="infobox-note" id="GUID-BCE70787-9BFA-451D-8A17-E1E8D02D5325__GUID-0205E5A2-0648-4472-8CE2-3F80101E84DA">
<p class="notep1">Note:</p>
<p>Using the <code class="codeph">DUPFILES</code> option greatly increases the resources required to run Oracle GoldenGate. This is because duplicate audit requires exponentially more disk space.</p>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-1FB66BB4-F404-4458-BDB7-C248FF319650">Keeping Necessary Audit Available for Extract</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD179"></a>
<div class="props_rev_3"><a id="GUID-F96910E7-E5A8-4A52-8F64-1B8D6CC41890"></a>
<h4 id="GNSAD-GUID-F96910E7-E5A8-4A52-8F64-1B8D6CC41890" class="sect4">Copying the Audit to an Alternative Location</h4>
<div>
<p>You can instruct Manager to copy audit trails to an alternative volume, then point Extract to read the alternative trails first. This keeps Extract activity from affecting production. To duplicate audit automatically, use the GGSCI <code class="codeph">ADD ATCONFIG</code> command with the <code class="codeph">ALTLOC</code> and <code class="codeph">DUPFILES</code> or <code class="codeph">DUP</code> options.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-1FB66BB4-F404-4458-BDB7-C248FF319650">Keeping Necessary Audit Available for Extract</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD180"></a>
<div class="props_rev_3"><a id="GUID-37D68174-5B39-429A-9EF0-DC28171FC304"></a>
<h4 id="GNSAD-GUID-37D68174-5B39-429A-9EF0-DC28171FC304" class="sect4">Using Tape Dumps as an Alternative Location</h4>
<div>
<p>If you specify a tape as the alternative location, Extract displays a message asking the operator to restore the tape. The Extract program <a id="d4513e514" class="indexterm-anchor"></a>restores tape dumps to one of three locations before processing the audit. In order of preference, the locations are:</p>
<ul style="list-style-type: disc;">
<li>
<p>The subvolume indicated by the <code class="codeph">ALTLOC</code> option of the <code class="codeph">ADD ATCONFIG</code> command</p>
</li>
<li>
<p>The first restore volume configured for the audit trail with <a id="d4513e532" class="indexterm-anchor"></a>TMFCOM</p>
</li>
<li>
<p>The original location of the file</p>
</li>
</ul>
<p>To preserve disk space the restored file is purged as soon as it is processed, unless the restore was performed before run time. To prevent redundant restores, Extract determines if the restore occurs before run time. If yes, Extract assumes other Extract groups may need the file and does not purge it. Manager purges them at the appropriate time if the <code class="codeph">ADD ATCONFIG</code> <code class="codeph">PURGE</code> option is set.</p>
<p>Restoring tape dumps before run time can be convenient. To determine which tapes must be restored for a specific Extract group, use the GGSCI <code class="codeph">STATUS EXTRACT</code> command. The command lists the names of required audit files and whether they exist on disk or tape. All files on tape must be restored. The GGSCI <code class="codeph">STATUS AUDITTRAIL</code> command lists the names of all audit trails required across all Extract groups.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-1FB66BB4-F404-4458-BDB7-C248FF319650">Keeping Necessary Audit Available for Extract</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD181"></a>
<div class="props_rev_3"><a id="GUID-087C7CBE-A6CA-4E2C-B3FF-D769705AD78A"></a>
<h3 id="GNSAD-GUID-087C7CBE-A6CA-4E2C-B3FF-D769705AD78A" class="sect3">Minimizing Vulnerability to Outages</h3>
<div>
<p>Extended <a id="d4513e581" class="indexterm-anchor"></a><a id="d4513e585" class="indexterm-anchor"></a>network or target system outages can have an adverse impact on Extract processing. When the intended target system is unavailable, Extract cannot process the audit trail. If the target system remains down, critical audit will eventually be deleted from the system before it can be processed.</p>
<p>To prevent this problem, extract the data to a local trail for Replicat to access over Expand. This solution only applies when both the source and target are NonStop systems.</p>
<p>An alternative is to extract the data from the audit trails to an intermediate Oracle GoldenGate trail on the source, then configure a second Extract to move data to the target system. This ensures that data can always be extracted.</p>
<p>Outages also pose problems for transactions that are distributed across nodes. See <span class="q">"<a href="planning-configuration.htm#GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0">Configuring for Distributed Network Transactions</a>"</span> for information on ensuring transaction integrity for distributed transactions.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD182"></a>
<div class="props_rev_3"><a id="GUID-EFDB80D9-9DAE-4EF1-BEA3-A10E27FB161A"></a>
<h3 id="GNSAD-GUID-EFDB80D9-9DAE-4EF1-BEA3-A10E27FB161A" class="sect3">Configuring FUP RELOAD Activity</h3>
<div>
<p><code class="codeph">FUP RELOAD</code> commands are used to optimize database storage and access. They also generate a large amount of audit compared with typical activity. This can cause Extract to fall significantly behind the current location in the audit trails, sometimes requiring audit tape dumps to be restored. This process requires operator intervention.</p>
<p>You can often avoid <a id="d4513e630" class="indexterm-anchor"></a>tape restores by scheduling <code class="codeph">FUP RELOADs</code> more effectively. Schedule reloads less frequently, or over several periods rather than all at once (For instance, reload 20% of the database each night for five nights, instead of reloading 100% of the database in a single evening.)</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD183"></a>
<div class="props_rev_3"><a id="GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED"></a>
<h3 id="GNSAD-GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED" class="sect3">Data Compression</h3>
<div>
<p><a id="d4513e664" class="indexterm-anchor"></a><a id="d4513e668" class="indexterm-anchor"></a>You can optionally configure Oracle GoldenGate to compress data before sending it over TCP/IP. The Collector automatically decompresses it on the target system. To compress records over TCP/IP, include the <code class="codeph">COMPRESS</code> and <code class="codeph">COMPRESSTHRESHOLD</code> options in the <code class="codeph">RMTHOST</code> parameter statement.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">COMPRESS</code> specifies that outgoing block of extracted changes are compressed, resulting in a typical 4 to1 ratio or better.</p>
</li>
<li>
<p><code class="codeph">COMPRESSTHRESHOLD</code> sets the minimum byte size for which compression will occur. The default is <code class="codeph">1000</code> bytes.</p>
</li>
</ul>
<p>For TMF-audited Enscribe files, set the NonStop <code class="codeph">AUDITCOMPRESS</code> file attribute when creating the file. For non-TMF files, specify the <code class="codeph">COMPRESSUPDATES</code> argument in the Logger configuration.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-4D327BEC-6C8C-4C01-AEA4-ACE6A193B6AC">Compressed Enscribe Records</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-221251FA-83C6-485A-8E3A-FBDABA815532">Compressed SQL Records</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-7266C5F1-5D79-4094-B2CD-D9BFE6C03C71">DCOMPRESS File Attribute Not Supported</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-C4B00602-F4AE-4A96-B1BF-4B36FD73336A">AUDITCOMPRESS File Attribute Considerations</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
<a id="GNSAD184"></a>
<div class="props_rev_3"><a id="GUID-4D327BEC-6C8C-4C01-AEA4-ACE6A193B6AC"></a>
<h4 id="GNSAD-GUID-4D327BEC-6C8C-4C01-AEA4-ACE6A193B6AC" class="sect4">Compressed Enscribe Records</h4>
<div>
<div class="section">
<p>Whether TMF or non-TMF, <a id="d4513e755" class="indexterm-anchor"></a>Enscribe compression transfers the following data (rather than sending all field values).</p>
<ul style="list-style-type: disc;">
<li>
<p>Each fragment of the record that changed</p>
</li>
<li>
<p>The key fragment of the record</p>
</li>
<li>
<p>Four additional bytes per fragment indicating fragment position and length</p>
</li>
</ul>
<p>The format of a compressed <a id="d4513e772" class="indexterm-anchor"></a>Enscribe record is as follows:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-4D327BEC-6C8C-4C01-AEA4-ACE6A193B6AC__GUID-699231B2-8EF8-40C4-975C-FA0D6F6B31F8">
<table class="cellalignment198" summary="This table describes the format of a compressed Enscribe record.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment249" id="d4513e785">Field</th>
<th class="cellalignment250" id="d4513e788">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment251" id="d4513e793" headers="d4513e785">
<pre dir="ltr">
<span class="variable">field offset</span>
</pre></td>
<td class="cellalignment252" headers="d4513e793 d4513e788">
<p>The offset within the original record of the changed value (2 bytes)</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment251" id="d4513e801" headers="d4513e785">
<pre dir="ltr">
<span class="variable">field length</span>
</pre></td>
<td class="cellalignment252" headers="d4513e801 d4513e788">
<p>The length of <span class="variable">field value</span> (2 bytes)</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment251" id="d4513e812" headers="d4513e785">
<pre dir="ltr">
<span class="variable">field value</span>
</pre></td>
<td class="cellalignment252" headers="d4513e812 d4513e788">
<p>The data, including null or varchar length indicators</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p>The first field in a compressed Enscribe record is the <a id="d4513e822" class="indexterm-anchor"></a><a id="d4513e824" class="indexterm-anchor"></a>primary or <a id="d4513e829" class="indexterm-anchor"></a>system key.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED">Data Compression</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD185"></a>
<div class="props_rev_3"><a id="GUID-221251FA-83C6-485A-8E3A-FBDABA815532"></a>
<h4 id="GNSAD-GUID-221251FA-83C6-485A-8E3A-FBDABA815532" class="sect4">Compressed SQL Records</h4>
<div>
<div class="section">
<p>By default, <a id="d4513e863" class="indexterm-anchor"></a>SQL updates are compressed in the audit trails. This means each SQL update record includes the following data.</p>
<ul style="list-style-type: disc;">
<li>
<p>Each column that was <code class="codeph">SET</code> in the SQL <code class="codeph">UPDATE</code> statement</p>
</li>
<li>
<p>Each key column in each row updated</p>
</li>
<li>
<p>Four additional bytes per column indicating column number and length</p>
</li>
</ul>
<p>Unlike Enscribe compression, you can estimate SQL update size directly using the <a id="d4513e886" class="indexterm-anchor"></a><a id="d4513e890" class="indexterm-anchor"></a>MEASFLS and MEASRPT utilities and do not need other methods of estimation.</p>
<p>The format of a compressed SQL record is as follows:</p>
</div>
<!-- class="section" -->
<div class="tblformal" id="GUID-221251FA-83C6-485A-8E3A-FBDABA815532__GUID-58661F00-96E1-427E-A18C-323BA7FA4EA0">
<table class="cellalignment198" summary="This table summarizes the fields that make up compressed SQL records.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment253" id="d4513e905">Argument</th>
<th class="cellalignment254" id="d4513e908">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment255" id="d4513e913" headers="d4513e905">
<pre dir="ltr">
<span class="variable">field index</span>
</pre></td>
<td class="cellalignment256" headers="d4513e913 d4513e908">
<p>The ordinal index of the SQL column within the source tables (2 bytes)</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d4513e921" headers="d4513e905">
<pre dir="ltr">
<span class="variable">field length</span>
</pre></td>
<td class="cellalignment256" headers="d4513e921 d4513e908">
<p>The length of <span class="variable">field value</span> (2 bytes)</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment255" id="d4513e932" headers="d4513e905">
<pre dir="ltr">
<span class="variable">field value</span>
</pre></td>
<td class="cellalignment256" headers="d4513e932 d4513e908">
<p>The data, including null or varchar length indicators</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED">Data Compression</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD186"></a>
<div class="props_rev_3"><a id="GUID-7266C5F1-5D79-4094-B2CD-D9BFE6C03C71"></a>
<h4 id="GNSAD-GUID-7266C5F1-5D79-4094-B2CD-D9BFE6C03C71" class="sect4">DCOMPRESS File Attribute Not Supported</h4>
<div>
<p>Turn off the NonStop <code class="codeph">DCOMPRESS</code> file attribute for both SQL tables and Enscribe files extracted using TMF audit trails. When <code class="codeph">DCOMPRESS</code> is on, compression occurs within each data block, which prevents the resolution of entire record values. Extract is permitted, but unpredictable results can occur.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED">Data Compression</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD187"></a>
<div class="props_rev_3"><a id="GUID-C4B00602-F4AE-4A96-B1BF-4B36FD73336A"></a>
<h4 id="GNSAD-GUID-C4B00602-F4AE-4A96-B1BF-4B36FD73336A" class="sect4">AUDITCOMPRESS File Attribute Considerations</h4>
<div>
<p>When update operations occur on a file or table with <a id="d4513e1003" class="indexterm-anchor"></a>audit compression on, only changed columns or fields and those that are part of the primary key are recorded. This means the full <a id="d4513e1008" class="indexterm-anchor"></a>update images are not immediately available to Extract. Instead, a compressed image is retrieved and written.</p>
<p>This is acceptable for replication because only changes are required. However, problems can occur in the following circumstances:</p>
<ul style="list-style-type: disc;">
<li>
<p>A selection clause includes columns that are not part of the source file's primary key.</p>
</li>
<li>
<p>Columns are mapped, and the primary key of the target is different than that of the source.</p>
</li>
<li>
<p>User exits or custom applications do not anticipate compressed records, which are more complex to process.</p>
</li>
</ul>
<p>Extract provides an option to retrieve <a id="d4513e1027" class="indexterm-anchor"></a><a id="d4513e1029" class="indexterm-anchor"></a>full record images from the original database. However, retrieving each update can slow processing considerably. The options you use, and whether you use audit compression, is based on your application's requirements.</p>
<p>The NonStop <code class="codeph">AUDITCOMPRESS</code> attribute is controlled at the file and table level using FUP and SQLCI.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-7CF85B6A-9FEF-4C79-9349-DD06FBF76EED">Data Compression</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD190"></a><a id="GNSAD189"></a><a id="GNSAD188"></a>
<div class="props_rev_3"><a id="GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0"></a>
<h3 id="GNSAD-GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0" class="sect3">Configuring for Distributed Network Transactions</h3>
<div>
<p>In a multi-node environment a single transaction may include changes to files on more than one node. For example, a customer's order may require updates to the customer file on \<code class="codeph">A</code>, the customer account file on \<code class="codeph">B</code>, and the order file on \<code class="codeph">C.</code> Updates like these, as well as updates to tables that are partitioned across nodes, are referred to as distributed network transactions.</p>
<p>To help ensure the completeness of the transaction when one node experiences an outage, you should configure components that coordinate the updates for distributed network transactions. This avoids part of a transaction being committed while the changes going to a disabled node are lost.</p>
<p>The following processes play a part in this coordination. The required configuration setup is explained for each component.</p>
<ul style="list-style-type: disc;">
<li>
<p>Manager</p>
<p>When using a Coordinator, <code class="codeph">PURGEOLDEXTRACTS</code> should be defined for the Manager rather than Replicat or Extract. This allows consideration of Coordinator checkpoints to ensure trail files are not purged before Coordinator has completed processing them. See <span class="q">"<a href="managing-and-monitoring.htm#GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F">Recommendations for Managing Trail Purges</a>"</span> for more information.</p>
<p>Also the Manager on the node where the Coordinator resides may optionally be configured to <code class="codeph">AUTOSTART</code> the Coordinator process.</p>
</li>
<li>
<p>Extract</p>
<p>There are no configuration changes needed for Extract, but if it has the <code class="codeph">PURGEOLDEXTRACTS</code> parameter, this should be moved to the Manager.</p>
</li>
<li>
<p>Replicat</p>
<p>The <code class="codeph">COORDINATOR</code> parameter is added to the Replicat parameter file to define the name of the process that is coordinating its distributed transactions. When the Replicat encounters a distributed transaction, it communicates with this Coordinator to determine when it can process that transaction.</p>
<p>If the Replicat has the <code class="codeph">PURGEOLDEXTRACTS</code> parameter, it should be moved to the Manager to allow consideration of the Coordinator's checkpoints.</p>
</li>
<li>
<p><a id="d4513e1130" class="indexterm-anchor"></a>Reader</p>
<p><code class="codeph">READER</code> parameters are included in the <code class="codeph">COORDINATOR</code> parameter file. These are used to configure Reader processes when the Coordinator is started.</p>
<p>The Reader scans the local Oracle GoldenGate trail for distributed transactions. When one is found, the Reader gathers local transaction information and sends it to the Coordinator process.</p>
<div class="infobox-note" id="GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0__GUID-F7723797-A383-485E-8C84-A94585B4E39C">
<p class="notep1">Note:</p>
<p>If Readers will not be configured because distributed network transactions do not need to be replicated, the Extract parameter <a id="d4513e1147" class="indexterm-anchor"></a><code class="codeph">EXCLUDEGGSTRANSRECS</code> can be used. This will suppress the creation of trail records that track distributed network transactions.</p>
</div>
</li>
<li>
<p>Coordinator</p>
<p>A <a id="d4513e1157" class="indexterm-anchor"></a>Coordinator process must be added on one of the nodes in the system. This is added using the GGSCI <code class="codeph">ADD</code> <code class="codeph">COORDINATOR</code> command. The parameter file for it includes <code class="codeph">READER</code> parameters to establish the Reader process for each node and Oracle GoldenGate trail.</p>
<div class="figure" id="GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0__GUID-5C294ADD-C697-4CBE-8077-18B9A53F2AE9">
<p class="titleinfigure">Figure 2-1 Process flow for distributed network transaction support</p>
<img width="490" height="617" src="img/config_network_trans.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" /><br />
<a href="img_text/config_network_trans.htm">Description of "Figure 2-1 Process flow for distributed network transaction support"</a></div>
<!-- class="figure" --></li>
</ul>
<div class="example" id="GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0__GUID-56D5D840-D2E5-4370-950E-E4B1A164D8EC">
<p class="titleinexample">Example 2-1 Sample Coordinator Parameter File</p>
<pre dir="ltr">
COORDINATOR COORD1
FASTREADS
READER EXTTRAIL \NY.$DATA5.GGSDAT.AA, PROCESS $GGRD1, CPU 1, PRI 180
READER EXTTRAIL \LA.$DATA01.GGSDAT.BB, PROCESS $GGRD2
READER EXTTRAIL \FL.$DATA2.GGSDAT.CC, CPU 1, PRI 170
</pre>
<p>Coordinator receives information from the Readers, tallies the number of changes that have been received, and stores checkpoints. Coordinator uses this information to respond to queries from the Replicats on each of the nodes asking if the transaction is complete. When all of the operations for the transaction have verified their arrival, Coordinator releases the transaction to the Replicats for processing.</p>
<p>The following diagram shows an example of coordination processes for a distributed network transaction that spans three nodes, with each node replicated to a backup node.</p>
</div>
<!-- class="example" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-F60E58DC-6813-4923-B5D3-9C41DD863569">Re-configuring TMF</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-20C6EBAA-78F7-4E4A-A657-0CA8276E4CD6">Configuring TMF-Enabled Processing</a></p>
</div>
</div>
</div>
<a id="GNSAD191"></a>
<div class="props_rev_3"><a id="GUID-F60E58DC-6813-4923-B5D3-9C41DD863569"></a>
<h4 id="GNSAD-GUID-F60E58DC-6813-4923-B5D3-9C41DD863569" class="sect4">Re-configuring TMF</h4>
<div>
<div class="section">
<p>When facts about the audit trails change, the checkpoints recorded by Extract can be invalidated, and TMF must be re-configured.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Before re-configuring TMF:</p>
<ol>
<li>
<p>Use the GGSCI <code class="codeph">INFO EXTRACT *</code> command to ensure that all Extract groups have processed through the end of the last audit file.</p>
</li>
<li>
<p>Use the GGSCI <code class="codeph">DELETE ATCONFIG *</code> command to delete the current audit management parameters.</p>
</li>
<li>
<p>Delete all Extract groups.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">After TMF is reconfigured:</p>
<ol>
<li>
<p>Manually re-add all of the Extract groups.</p>
</li>
<li>
<p>Purge audit files that were restored or copied to an alternative location.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>Using <a id="d4513e1252" class="indexterm-anchor"></a><a id="d4513e1254" class="indexterm-anchor"></a>TMFCOM, dynamically add and delete the volumes on which audit files are located. Deleting an <a id="d4513e1257" class="indexterm-anchor"></a><code class="codeph">ACTIVE</code> or a <a id="d4513e1262" class="indexterm-anchor"></a><code class="codeph">RESTORE</code> volume can have adverse effects. Before deleting a volume, make sure all groups have processed outstanding audit on that volume, or copy all files on that volume to the alternative location. After a volume is deleted, the Extract process and Manager will not be able to find the associated audit. You can add an <code class="codeph">ACTIVE</code> or <code class="codeph">RESTORE</code> volume with no impact on Extract operations.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-5F112ADC-7F2C-41CB-A01E-43A9B24FC8C0">Configuring for Distributed Network Transactions</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD192"></a>
<div class="props_rev_3"><a id="GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294"></a>
<h2 id="GNSAD-GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294" class="sect2">Configuring Non-TMF-Enabled Processing</h2>
<div>
<p>To capture data from non-TMF applications, you must bind GGSLIB to the user application. GGSLIB will intercept certain NonStop commands in the application's place, while Logger will write data to a log trail. This causes the following planning issues:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-C9AC6CE7-D5DA-4EFA-8C48-DAAFF6F45036">Maintaining Data Integrity</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-621717AA-DF2C-4E5D-B019-8788C6558995">Supported File Types and Operations</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-E151A916-8BC5-415D-A65D-42C41542EF5C">Authentication for Bound Programs</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-BCECF343-7AF7-4CC7-A71F-45D912D955C2">System Utilities That Update Databases</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-40311028-432E-4AC6-84DA-CAB575A07F01">Private Memory and Stack Space</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-90A4215D-0F7C-47DB-BF39-659E07F2C028">Impact on Existing Application Performance</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
<a id="GNSAD193"></a>
<div class="props_rev_3"><a id="GUID-C9AC6CE7-D5DA-4EFA-8C48-DAAFF6F45036"></a>
<h3 id="GNSAD-GUID-C9AC6CE7-D5DA-4EFA-8C48-DAAFF6F45036" class="sect3">Maintaining Data Integrity</h3>
<div>
<p>The following issues can cause GGSLIB and Logger to miss records and/or compromise data integrity:</p>
<ul style="list-style-type: disc;">
<li>
<p>Log processes are stopped by an operator while the application is updating a database. Several safeguards are built in to deal with this potential problem.</p>
</li>
<li>
<p>If a log process is stopped from TACL by process number, which can happen accidentally, the backup process takes over with no loss of data.</p>
</li>
<li>
<p>If a log process is stopped from TACL by name, this is assumed to be a mistake (because the proper method is the GGSCI <code class="codeph">STOP LOGGER</code> command). Manager immediately restarts log processes stopped this way, although records can be lost if this occurs while there is activity in the system.</p>
</li>
<li>
<p>Double CPU failure occurs, taking down both the primary and backup log process CPUs. When this happens, other data integrity issues will surface on NonStop as a whole, such as loss of file buffers.</p>
</li>
<li>
<p>Application programs are not bound with GGSLIB. This can happen when a program is omitted from the initial bind list. This can also happen when migrating new object code into production, then forgetting to perform the GGSLIB bind. To avoid this problem, include GGSLIB binding into version control procedures and check any programs that generate warnings (See <span class="q">"<a href="planning-configuration.htm#GUID-E151A916-8BC5-415D-A65D-42C41542EF5C">Authentication for Bound Programs</a>"</span> for more detail.)</p>
</li>
<li>
<p>An application process is killed from TACL. This can mean that reads from or writes to the database could be lost in transit to the log process, depending on the timing of the <code class="codeph">STOP</code> command. This is not a problem when issuing <code class="codeph">FREEZE</code> and <code class="codeph">STOP</code> commands to Pathway servers.</p>
</li>
<li>
<p>Extract or Replicat processes fall far behind Logger. Eventually, log trails are recycled by Manager, regardless of whether they are required by Extract or Replicat. EMS warnings can be generated to alert operators to this condition. This most likely happens when a network or target system is down for an extended period.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD194"></a>
<div class="props_rev_3"><a id="GUID-621717AA-DF2C-4E5D-B019-8788C6558995"></a>
<h3 id="GNSAD-GUID-621717AA-DF2C-4E5D-B019-8788C6558995" class="sect3">Supported File Types and Operations</h3>
<div>
<p>GGSLIB and Logger behave according to the following rules regarding file operations.</p>
<ul style="list-style-type: disc;">
<li>
<p>The following file types are supported: <a id="d4513e1463" class="indexterm-anchor"></a>Key-sequenced, entry-sequenced, queue-files, syskey-files, <a id="d4513e1466" class="indexterm-anchor"></a>relative and <a id="d4513e1469" class="indexterm-anchor"></a>unstructured file operations. However, updates to edit files and the spooler cannot be extracted. Unstructured files must be extracted explicitly (using the <code class="codeph">GETUNSTRUCTURED</code> parameter in the Logger parameter file).</p>
</li>
<li>
<p><a id="d4513e1477" class="indexterm-anchor"></a>Bulk I/O operations, i.e. operations that use <code class="codeph">SETMODE</code>, are supported. The current list of <code class="codeph">SETMODE</code>s includes:</p>
<ul style="list-style-type: disc;">
<li>
<p>1 - Set file security</p>
</li>
<li>
<p>2 - Set file owner</p>
</li>
<li>
<p>3 - Set write verification</p>
</li>
<li>
<p>57 - Set serial writes</p>
</li>
<li>
<p>90 - Set buffered</p>
</li>
<li>
<p>92 - Set maxextents</p>
</li>
<li>
<p>93 - Set unstructured buffer length</p>
</li>
<li>
<p>94 - Set auditcompress</p>
</li>
<li>
<p>97 - Set licensed</p>
</li>
<li>
<p>123 - Set generic lock key length</p>
</li>
<li>
<p>138 - Set/Reset corrupt</p>
</li>
<li>
<p>153 - Set variable length audit compression</p>
</li>
</ul>
<p><code class="codeph">FUP DUP</code>, <code class="codeph">FUP LOAD</code> and <code class="codeph">SELECT n AREA</code> in <a id="d4513e1534" class="indexterm-anchor"></a>COBOL programs are also included.</p>
</li>
<li>
<p>To extract bulk I/O operations, specify the <code class="codeph">GETBULKIO</code> option in the Logger parameter file. <code class="codeph">FUP COPY</code> is supported by default. Use <code class="codeph">GETFILEOPS</code> in Extract and Replicat to propagate these operations to the target database.</p>
</li>
<li>
<p><code class="codeph">FILE</code> <code class="codeph">ALTER</code>, <code class="codeph">CREATE</code>, <code class="codeph">DUP</code>, <code class="codeph">PURGE</code>, <code class="codeph">PURGEDATA</code>, and <code class="codeph">RENAME</code> operations (to disk files) are supported.</p>
</li>
<li>
<p>The following <code class="codeph">CONTROL</code> operations are supported:</p>
<ul style="list-style-type: disc;">
<li>
<p>2 - set end-of-line</p>
</li>
<li>
<p>20 - <code class="codeph">PURGEDATA</code></p>
</li>
<li>
<p>21 - Allocate/Deallocate extents</p>
</li>
</ul>
</li>
<li>
<p>Use <code class="codeph">GETFILEOPS</code> in Extract and Replicat to propagate the operations listed above to the target database.</p>
</li>
<li>
<p>Undocumented, privileged function calls used by <code class="codeph">FUP DUP</code> and <code class="codeph">FUP LOAD</code> to change file labels are supported (This requires <code class="codeph">PRIVLIB</code> to be licensed and included as Replicat's user library.) These functions are required to fully implement <code class="codeph">FUP DUP</code> and <code class="codeph">FUP LOAD</code> of key-sequenced files.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD195"></a>
<div class="props_rev_3"><a id="GUID-E151A916-8BC5-415D-A65D-42C41542EF5C"></a>
<h3 id="GNSAD-GUID-E151A916-8BC5-415D-A65D-42C41542EF5C" class="sect3">Authentication for Bound Programs</h3>
<div>
<p>An exit can be activated within NonStop Safeguard to access the Oracle GoldenGate module SFGEXIT. This program runs as an independent process to monitor non-audited file opens for update access. (Opens for audited files or SQL tables and read-only opens are ignored.) When a non-audited open is found, SFGEXIT determines if the opening program has the Oracle GoldenGate intercept library bound to it. If it does not, the following warning is issued to EMS to alert the user that updates may occur without replication.</p>
<pre dir="ltr">
GoldenGate Library is not bound to <span class="variable">$vol.subvol.program_name</span> and it may update <span class="variable">$vol.subvol.application filename</span>
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD196"></a>
<div class="props_rev_3"><a id="GUID-BCECF343-7AF7-4CC7-A71F-45D912D955C2"></a>
<h3 id="GNSAD-GUID-BCECF343-7AF7-4CC7-A71F-45D912D955C2" class="sect3">System Utilities That Update Databases</h3>
<div>
<p>Standard NonStop utilities, notably FUP and TACL, perform file operations such as <code class="codeph">CREATE</code>, <code class="codeph">COPY</code>, <code class="codeph">PURGE</code>, <code class="codeph">PURGEDATA</code>, <code class="codeph">DUP</code>, <code class="codeph">LOAD</code>, and <code class="codeph">RENAME</code>. You can monitor these activities by binding GGSLIB to these utilities just as you would to an application program.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD197"></a>
<div class="props_rev_3"><a id="GUID-40311028-432E-4AC6-84DA-CAB575A07F01"></a>
<h3 id="GNSAD-GUID-40311028-432E-4AC6-84DA-CAB575A07F01" class="sect3">Private Memory and Stack Space</h3>
<div>
<p>GGSLIB routines minimize <a id="d4513e1744" class="indexterm-anchor"></a>stack space requirements. By doing so, programs are ensured there will be enough stack room for typical activities.</p>
<p>For its own working space, GGSLIB allocates a small private memory segment to handle in-transit I/O buffers and keep its own state variables.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD198"></a>
<div class="props_rev_3"><a id="GUID-90A4215D-0F7C-47DB-BF39-659E07F2C028"></a>
<h3 id="GNSAD-GUID-90A4215D-0F7C-47DB-BF39-659E07F2C028" class="sect3">Impact on Existing Application Performance</h3>
<div>
<p>GGSLIB and Logger add a small amount of overhead to existing application activities. Messages to log processes are sent asynchronously (<code class="codeph">NOWAIT</code>) to avoid making the application wait for logging to occur. In addition, log processes write all data sequentially into buffered files for the best possible performance.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-8A350F08-B3C8-4DCB-BAFB-3A00CCCE7294">Configuring Non-TMF-Enabled Processing</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD199"></a>
<div class="props_rev_3"><a id="GUID-36F84AE2-1107-4EBB-ADE4-45543B9DAC25"></a>
<h2 id="GNSAD-GUID-36F84AE2-1107-4EBB-ADE4-45543B9DAC25" class="sect2">Configuring Oracle Goldengate Global Operations</h2>
<div>
<p>User can configure Oracle GoldenGate global operations.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-AE4F909B-BDC3-4D12-8F42-093C187AC683">GLOBALS Parameter File</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-5FC0F74B-36F6-432F-8D09-1BAC0F931DF3">Changing the Default Location of AUDCFG</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
<a id="GNSAD200"></a>
<div class="props_rev_3"><a id="GUID-AE4F909B-BDC3-4D12-8F42-093C187AC683"></a>
<h3 id="GNSAD-GUID-AE4F909B-BDC3-4D12-8F42-093C187AC683" class="sect3">GLOBALS Parameter File</h3>
<div>
<p>Oracle Goldengate provides the <code class="codeph">GLOBALS</code> parameter file to standardize Oracle Goldengate configuration. Typically, you set global parameters when you install Oracle Goldengate. Once set, you rarely need to change them. Some of the operations you can standardize are:</p>
<ul style="list-style-type: disc;">
<li>
<p>The initial allocation for <a id="d4513e1855" class="indexterm-anchor"></a>wildcard entries</p>
</li>
<li>
<p>The time out value when GGSCI communicates with Oracle GoldenGate components</p>
</li>
<li>
<p>NonStop nodes in the network</p>
</li>
<li>
<p>The refresh interval</p>
</li>
<li>
<p>TACL <code class="codeph">DEFINEs</code> for <code class="codeph">GGS_AUDCFG</code> and <code class="codeph">GGS_PREFIX</code> when not using the default</p>
</li>
</ul>
<p>To support versatility, some of the parameters set in <code class="codeph">GLOBALS</code> can be temporarily overridden by other Oracle GoldenGate programs.</p>
<p>See <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for more information about global parameters.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-36F84AE2-1107-4EBB-ADE4-45543B9DAC25">Configuring Oracle Goldengate Global Operations</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD201"></a>
<div class="props_rev_3"><a id="GUID-5FC0F74B-36F6-432F-8D09-1BAC0F931DF3"></a>
<h3 id="GNSAD-GUID-5FC0F74B-36F6-432F-8D09-1BAC0F931DF3" class="sect3">Changing the Default Location of AUDCFG</h3>
<div>
<p>Run <a id="d4513e1920" class="indexterm-anchor"></a><code class="codeph">BUILDMAC</code> or <a id="d4513e1925" class="indexterm-anchor"></a><code class="codeph">NLDLIB</code> to change the default location where an instance of <code class="codeph">BASELIB</code>, <code class="codeph">GGSLIB</code>, <code class="codeph">GGSSRL</code>, or <code class="codeph">GGSDLL</code> will look for the <code class="codeph">AUDCFG</code> segment. When it builds the new library, the macro prompts to ask if you want to change the <code class="codeph">AUDCFG</code> location. If the answer is yes, you will be prompted for the new default <code class="codeph">$VOL.SUBVOL</code> location.</p>
<p>If you want multiple Oracle GoldenGate environments to each have a different location for the <code class="codeph">AUDCFG</code> segment, each environment will need a unique copy of <code class="codeph">GGSLIB</code> or <code class="codeph">BASELIB</code> linked with the location specific to that environment.</p>
<p>If the library specifies a different location for the <code class="codeph">AUDCFG</code> than the <code class="codeph">DEFINES</code> included in the <code class="codeph">GLOBALS</code> parameters, the <code class="codeph">GLOBALS</code> <code class="codeph">DEFINES</code> will override the library.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-36F84AE2-1107-4EBB-ADE4-45543B9DAC25">Configuring Oracle Goldengate Global Operations</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD202"></a>
<div class="props_rev_3"><a id="GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4"></a>
<h2 id="GNSAD-GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4" class="sect2">Configuring Replication</h2>
<div>
<p>Replicat provides a high degree of flexibility when processing data between files; however, there can be logical restrictions involved for which you must plan. This section details different scenarios that require additional planning, including:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-24B590AF-8432-4E30-AAD9-1878AE9BAE56">Replicating SQL Tables with System Keys</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-E0A72598-AC66-4375-83B1-03C28736CCA4">Replicating Primary Key Updates</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-7A61E58D-692C-499D-AC1A-782869B2D225">Files and Tables Other Than Key-Sequenced</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-BA016851-BA21-40E1-B5F1-02051DEFF59C">Load Balancing and Performance Issues</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-7FFB4532-B0D4-4545-9B86-B23AE20B4633">Potential Problems with Audit Compressed Files</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-AF7BA454-F9FC-46FB-999E-696FA03936AA">Conflicts with Updating the Target</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-3C1BC907-FA52-4E83-AD16-7D383D005C3A">Many-to-One Replication</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-4D9803C5-9D73-4055-A701-B6E745EC388C">Bi-Directional Replication</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-5D2F817C-1D04-4F79-B90C-967196707911">Replicating Data to Non-TMF Enabled Databases</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-DD6741F6-EC82-4DA2-A10D-D0C902C547A4">Replicating New SQL Columns</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
<a id="GNSAD203"></a>
<div class="props_rev_3"><a id="GUID-24B590AF-8432-4E30-AAD9-1878AE9BAE56"></a>
<h3 id="GNSAD-GUID-24B590AF-8432-4E30-AAD9-1878AE9BAE56" class="sect3">Replicating SQL Tables with System Keys</h3>
<div>
<p>Entry-sequenced SQL tables with non-unique keys are sometimes difficult to replicate accurately. This is because their keys are a <code class="codeph">SYSKEY</code> value generated by the system. Replicat has no control over the <code class="codeph">SYSKEY</code> value when replicating an insert operation into the target table; therefore subsequent update and delete records cannot be replicated exactly. Even though the <code class="codeph">SYSKEY</code> value of the original record is known, the replicated record has a different <code class="codeph">SYSKEY</code> value, requiring you to create a workaround so your keys resolve properly.</p>
<p>There are two methods for working with this issue. You can specify a view that contains all columns from the base table excluding the <code class="codeph">SYSKEY</code>. Use the view as the target in the replication <code class="codeph">MAP</code>, along with a <code class="codeph">KEYCOLS</code> specification to define a different method for accessing the table for delete and update operations. This requires each target row to have some type of unique identifier, such as a unique index.</p>
<p>Another method is to add a column called <code class="codeph">GGS_SYSKEY</code> to your target table, then map the source <code class="codeph">SYSKEY</code> value to the <code class="codeph">GGS_SYSKEY</code> column. Specify <code class="codeph">GGS_SYSKEY</code> in the <code class="codeph">KEYCOL</code> option of the map argument and use the <code class="codeph">FORCEUSESYSKEY</code> parameter.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD204"></a>
<div class="props_rev_3"><a id="GUID-E0A72598-AC66-4375-83B1-03C28736CCA4"></a>
<h3 id="GNSAD-GUID-E0A72598-AC66-4375-83B1-03C28736CCA4" class="sect3">Replicating Primary Key Updates</h3>
<div>
<p>Although Nonstop Enscribe and SQL/MP do not allow changes to primary keys, operations for <a id="d4513e2188" class="indexterm-anchor"></a>primary key updates may be received from Oracle GoldenGate systems running for other databases. To maintain compatibility, Oracle GoldenGate for NonStop processes these primary key update operations by deleting the record and then inserting it with the same data, but a new primary key.</p>
<p>Primary key updates for Enscribe entry-sequenced and queue files are not supported and will generate an error.</p>
<p>The default is to process primary key updates, but a parameter is available to turn this off and discard the record. Contact <span class="italic">Oracle GoldenGate Technical Support</span> to use this parameter.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-B31E9103-0609-443B-ADC3-D32B1EA33FEC">Missing Row Errors</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-1337EFC8-B2C4-491A-817D-F00ADD9D430D">Non-Audited Target</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-A7D933B1-1547-4E9B-845D-3BE496C0D045">Compressed Updates to Enscribe Targets</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
<a id="GNSAD205"></a>
<div class="props_rev_3"><a id="GUID-B31E9103-0609-443B-ADC3-D32B1EA33FEC"></a>
<h4 id="GNSAD-GUID-B31E9103-0609-443B-ADC3-D32B1EA33FEC" class="sect4">Missing Row Errors</h4>
<div>
<p>Because values are needed for the columns that were not changed, an error will occur if the record cannot be fetched from the target database.</p>
<p>If <a id="d4513e2248" class="indexterm-anchor"></a><code class="codeph">HANDLECOLLISIONS</code> is turned on and the fetch fails, there is an attempt to insert the missing record. Otherwise if <code class="codeph">REPERROR</code> responses have been defined for a missing row, the rules specified by the <code class="codeph">REPERROR</code> will be applied.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-E0A72598-AC66-4375-83B1-03C28736CCA4">Replicating Primary Key Updates</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD206"></a>
<div class="props_rev_3"><a id="GUID-1337EFC8-B2C4-491A-817D-F00ADD9D430D"></a>
<h4 id="GNSAD-GUID-1337EFC8-B2C4-491A-817D-F00ADD9D430D" class="sect4">Non-Audited Target</h4>
<div>
<p>An error message is returned if an <a id="d4513e2289" class="indexterm-anchor"></a>unaudited Enscribe record is deleted and then the insert of the new primary key record fails. Because it is not possible to back out the records processed since the last checkpoint, the system will advance the checkpoint to the record that is in error. User intervention will be required to correct the target record and restart the Replicat.</p>
<ul style="list-style-type: disc;">
<li>
<p>For a file system error, correct the cause of the problem and insert the record from the discard file. Then skip over the primary key update record by advancing the checkpoint RBA to the next record.</p>
</li>
<li>
<p>If the insert generates a duplicate error, try to determine if the discarded record is more correct than the target record. If it is, delete the record in the file and replace it with the discarded record. Then skip over the primary key update record by advancing the checkpoint RBA to the next record.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-E0A72598-AC66-4375-83B1-03C28736CCA4">Replicating Primary Key Updates</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD207"></a>
<div class="props_rev_3"><a id="GUID-A7D933B1-1547-4E9B-845D-3BE496C0D045"></a>
<h4 id="GNSAD-GUID-A7D933B1-1547-4E9B-845D-3BE496C0D045" class="sect4">Compressed Updates to Enscribe Targets</h4>
<div>
<p><code class="codeph">TARGETDEF</code> using <code class="codeph">DICTIONARY</code> or <code class="codeph">SOURCEDEFS</code> is required when:</p>
<ul style="list-style-type: disc;">
<li>
<p>Compressed updates are being replicated to an Enscribe target database.</p>
</li>
<li>
<p>The data source is on open systems or it is HP NonStop SQL/MP or SQL/MX.</p>
</li>
<li>
<p>The target <code class="codeph">MAP</code> statement does not explicitly use <code class="codeph">COLMAP</code>.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-E0A72598-AC66-4375-83B1-03C28736CCA4">Replicating Primary Key Updates</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD208"></a>
<div class="props_rev_3"><a id="GUID-7A61E58D-692C-499D-AC1A-782869B2D225"></a>
<h3 id="GNSAD-GUID-7A61E58D-692C-499D-AC1A-782869B2D225" class="sect3">Files and Tables Other Than Key-Sequenced</h3>
<div>
<p>You can replicate <a id="d4513e2379" class="indexterm-anchor"></a><a id="d4513e2383" class="indexterm-anchor"></a><a id="d4513e2387" class="indexterm-anchor"></a>files and tables that are not key-sequenced, but there will be conditions that apply.</p>
<p>For relative files, Oracle GoldenGate forces the relative key of the target file to be the same as the source, so target records can be found for updates and deletes. The condition is that you can only replicate from a single source to a single target.</p>
<p>You have more flexibility if the relative file or table has a unique index. Then the columns in that index can be specified with <code class="codeph">KEYCOLS</code> to identify a path for update and delete statements. However, any application that stores system keys as foreign keys in other tables will have unreliable results.</p>
<p>For entry-sequenced files or tables, selective replication (that is, where selection criteria are applied) is only feasible for inserts. This is due to the difficulty identifying the correct target record for updates. Selective replication from one source to one target is feasible for relative files and tables.</p>
<p>Entry-sequenced files can be replicated in the same order when the source database is TMF audited because the TMF data is in the correct order. If the source database is non-TMF, and GGSLIB is used to extract the data, records may be written to the target file in a different order than they appear in the source. This has a corresponding effect when <a id="d4513e2401" class="indexterm-anchor"></a>updates to entry-sequenced records are processed: the record address of the source may be different from that in the target, resulting in a missing or incorrect update.</p>
<p>To get around this, when replicating a non-TMF entry-sequenced file from one source to one target, you can use the parameter and option <a id="d4513e2408" class="indexterm-anchor"></a><code class="codeph">ENTRYSEQUPDATES</code> <code class="codeph">EXACTKEY.</code> This requires the target file to be opened with <code class="codeph">PROTECTED</code> or <code class="codeph">EXCLUSIVE</code> access so other processes (including other Replicats) can not update the file. See <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for more information on how to use this parameter.</p>
<p>See <span class="q">"<a href="planning-configuration.htm#GUID-4D9803C5-9D73-4055-A701-B6E745EC388C">Bi-Directional Replication</a>"</span> for information on an environment not limited to single source updating a single target.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD210"></a><a id="GNSAD209"></a>
<div class="props_rev_3"><a id="GUID-BA016851-BA21-40E1-B5F1-02051DEFF59C"></a>
<h3 id="GNSAD-GUID-BA016851-BA21-40E1-B5F1-02051DEFF59C" class="sect3">Load Balancing and Performance Issues</h3>
<div>
<div class="section">
<p>Replicat often proves to be a bottleneck when initially configured, especially for hot site applications that replicate the entire database. This bottleneck is because Replicat often mimics the original application's processing. In general, this may mean many more random, unbuffered I/Os. In contrast, Extract and Logger perform serial, buffered I/Os, usually in large blocks.</p>
<p>To solve this problem, configure multiple Replicat processes, each of which replicates a portion of the overall data.</p>
<p>One way to do this is assign different files or tables to different Replicat processes. This is conceptually simple. For example, if an application consists of data in four tables, <code class="codeph">TAB1</code>, <code class="codeph">TAB2</code>, <code class="codeph">TAB3</code>, and <code class="codeph">TAB4</code>, let Replicat process #1 replicate <code class="codeph">TAB1</code> and <code class="codeph">TAB2</code>, while Replicat process #2 replicates <code class="codeph">TAB3</code> and <code class="codeph">TAB4</code>.</p>
<p>A more complex option is to split the same file or table among multiple Replicat processes. This might be necessary, for example, when one million inserts and updates per day might occur against <code class="codeph">FILE1</code>, while in the rest of the system only 100,000 inserts and updates occur. In this case, the optimal configuration may be two Replicat processes for <code class="codeph">FILE1</code>. This is accomplished in two steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Let <a id="d4513e2510" class="indexterm-anchor"></a>Extract split the <a id="d4513e2515" class="indexterm-anchor"></a><a id="d4513e2519" class="indexterm-anchor"></a>data into two trails. Each trail contains half the data for <code class="codeph">FILE1</code>. To split the data, use the <code class="codeph">WHERE</code>, <code class="codeph">RANGE</code>, or <code class="codeph">FILTER</code> clause of the Extract file parameter.</span></li>
<li><span>Assign a Replicat process to each of the resulting trails.</span></li>
</ol>
<div class="example" id="GUID-BA016851-BA21-40E1-B5F1-02051DEFF59C__GUID-64A99C2C-C5B3-4F92-8983-BE39FD8A8B1F">
<p class="titleinexample">Example 2-2 Splitting to Two Trails</p>
<pre dir="ltr">
EXTRACT DEMO
EXTTRAIL \NY.$DATA1.GGSDAT.E1
TABLE $DATA.MASTER.ACCOUNT, WHERE (ACCOUNT &lt; 500000);
EXTTRAIL \NY.$DATA3.GGSDAT.E2
TABLE $DATA.MASTER.ACCOUNT, WHERE (ACCOUNT &gt;= 500000);
</pre>
<p>A Replicat group is then dedicated to process each of the trails above.</p>
<p>Splitting up tables among different Extract processes may temporarily upset original transaction integrity boundaries, because two or more processes may be replicating a single transaction.</p>
<p>The following Extract parameter file splits <code class="codeph">$DATA.MASTER.ACCOUNT</code> into two trails.</p>
</div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD211"></a>
<div class="props_rev_3"><a id="GUID-7FFB4532-B0D4-4545-9B86-B23AE20B4633"></a>
<h3 id="GNSAD-GUID-7FFB4532-B0D4-4545-9B86-B23AE20B4633" class="sect3">Potential Problems with Audit Compressed Files</h3>
<div>
<p>When replicating records selected with <code class="codeph">WHERE</code> criteria from a source file with <a id="d4513e2583" class="indexterm-anchor"></a>audit compression, update records can be missed (deletes and inserts will always be extracted). You can guarantee that all updates are processed by omitting fields that are not part of the primary key from your <code class="codeph">WHERE</code> clauses. Primary key fields are always present in compressed update records.</p>
<p>When mapping selected columns with <a id="d4513e2593" class="indexterm-anchor"></a><code class="codeph">COLMAP</code>, audit compression also causes potential conflicts. If the key of the target file includes a field not contained in the key of the source, target updates can fail. Updates require the presence of the entire key to guarantee success.</p>
<p>The easiest method for avoiding these conflicts is to turn off audit compression for source tables and files. This may or may not be feasible depending on the characteristics of your transaction load.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD212"></a>
<div class="props_rev_3"><a id="GUID-AF7BA454-F9FC-46FB-999E-696FA03936AA"></a>
<h3 id="GNSAD-GUID-AF7BA454-F9FC-46FB-999E-696FA03936AA" class="sect3">Conflicts with Updating the Target</h3>
<div>
<p>If both Oracle GoldenGate and another application are allowed to update a target, <a id="d4513e2627" class="indexterm-anchor"></a>conflicts can arise unless you establish rules to avoid them. For example, application #1 might update a record in the source database that application #2 has deleted from the target database. In such cases, it is impossible for Oracle GoldenGate to apply the source update at the target because the record to update no longer exists.</p>
<p>As a general rule, Replicat should have control over ranges of data that other applications cannot update. However, if conflicts are tolerable, Oracle GoldenGate provides features that allow operations to continue uninterrupted when errors occur:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the <code class="codeph">REPERROR</code> (<span class="variable">error</span>, <a id="d4513e2644" class="indexterm-anchor"></a><code class="codeph">IGNORE</code>) parameter entries to ignore errors that otherwise cause transactions to abort.</p>
</li>
<li>
<p>Use <code class="codeph">OVERRIDEDUPS</code> and <code class="codeph">INSERTMISSINGUPDATES</code> to ensure all updates are inserted.</p>
</li>
<li>
<p>Review the Replicat discard file for operations that failed, and determine corrective measures.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD213"></a>
<div class="props_rev_3"><a id="GUID-3C1BC907-FA52-4E83-AD16-7D383D005C3A"></a>
<h3 id="GNSAD-GUID-3C1BC907-FA52-4E83-AD16-7D383D005C3A" class="sect3">Many-to-One Replication</h3>
<div>
<p>When replicating many files to one file (collecting), applications should ensure that each source file manages a specific range of keys. If different source files can update the same key value, there can be conflicts at the target. For example, if two source tables receive an insert with the same key, both operations cannot be applied at the target because a duplicate error will result (<a id="d4513e2694" class="indexterm-anchor"></a>Guardian error <code class="codeph">10</code>, <a id="d4513e2702" class="indexterm-anchor"></a>SQL error -<code class="codeph">8227</code>).</p>
<p>Oracle GoldenGate provides several alternatives for dealing with this problem. One is the <code class="codeph">HANDLECOLLISIONS</code> parameter that directs Replicat to insert the latest version of the record, even if the key exists. <code class="codeph">HANDLECOLLISIONS</code> ignores missing update and delete conditions. Another option is to restrict the range of values replicated from each source with <code class="codeph">WHERE</code> criteria. Most often the best alternative is to avoid the possibility of such conflicts as part of the application's processing rules.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD214"></a>
<div class="props_rev_3"><a id="GUID-4D9803C5-9D73-4055-A701-B6E745EC388C"></a>
<h3 id="GNSAD-GUID-4D9803C5-9D73-4055-A701-B6E745EC388C" class="sect3">Bi-Directional Replication</h3>
<div>
<p>Sometimes, you may want to have two or more files replicating data to each other. In such cases, have each file manage a unique range of keys directly, as in the many-to-one case above. The difference here is that each file will hold data it manages, along with data replicated from the other file. In this way, each file can act as a backup for the other. The application should ensure that replicated data is read-only in such cases.</p>
<p>Because both files must be replicated, each replicated change will itself be extracted and replicated back to its source, which will cause errors. There are two methods for avoiding this condition:</p>
<ul style="list-style-type: disc;">
<li>
<p>Restrict the ranges of key values that are extracted and replicated using <code class="codeph">WHERE</code> criteria.</p>
</li>
<li>
<p>Use the <code class="codeph">IGNOREREPLICATE</code> parameter in Extract processing. This parameter causes Extract to discard any operations that were applied by Replicat processes.</p>
<div class="infobox-note" id="GUID-4D9803C5-9D73-4055-A701-B6E745EC388C__GUID-D4854862-789A-4B5C-97A9-55FDAFCBF553">
<p class="notep1">Note:</p>
<p><code class="codeph">PURGEDATA</code> is a DDL statement that is automatically committed and not linked to any transaction, so <a id="d4513e2777" class="indexterm-anchor"></a><code class="codeph">GETPURGEDATAS</code> is not supported for audited files in a bidirectional configuration. In this case loop detection is not effective and <a id="d4513e2782" class="indexterm-anchor"></a><code class="codeph">IGNOREPURGEDATAS</code> must be included in the Extract parameters.</p>
</div>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD215"></a>
<div class="props_rev_3"><a id="GUID-5D2F817C-1D04-4F79-B90C-967196707911"></a>
<h3 id="GNSAD-GUID-5D2F817C-1D04-4F79-B90C-967196707911" class="sect3">Replicating Data to Non-TMF Enabled Databases</h3>
<div>
<p>You can stimulate overall system performance by implementing buffering on your non-TMF Enscribe databases. To do so, turn on file buffering for target database files with the <a id="d4513e2814" class="indexterm-anchor"></a><code class="codeph">FUP ALTER</code> <span class="italic"><code class="codeph">filename,</code></span> <code class="codeph">BUFFERED</code> command. This imposes no real risk because the data is mirrored at the source system and can be recovered from there.</p>
<p>Use the <a id="d4513e2830" class="indexterm-anchor"></a><code class="codeph">NOAUDITREPS</code> Replicat parameter to avoid unnecessary event messages regarding non-audited target files.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD216"></a>
<div class="props_rev_3"><a id="GUID-DD6741F6-EC82-4DA2-A10D-D0C902C547A4"></a>
<h3 id="GNSAD-GUID-DD6741F6-EC82-4DA2-A10D-D0C902C547A4" class="sect3">Replicating New SQL Columns</h3>
<div>
<p>To replicate new <a id="d4513e2862" class="indexterm-anchor"></a>SQL columns that were created since the current Extract and Replicat processes were started, include <a id="d4513e2867" class="indexterm-anchor"></a><code class="codeph">REPNEWCOLUMNS</code> in the Replicat parameter file. <code class="codeph">REPNEWCOLUMNS</code> replicates the <code class="codeph">SQL ALTER TABLE ADD COLUMN</code> statements to create the new columns in the target.</p>
<p>Alternatively, you can specify <a id="d4513e2880" class="indexterm-anchor"></a><a id="d4513e2882" class="indexterm-anchor"></a><code class="codeph">GETNEWCOLUMNS</code> to update table definitions when a column change is detected on a source table. <code class="codeph">GETNEWCOLUMNS</code> ensures that data in columns created after Replicat starts up (using <code class="codeph">ALTER TABLE ADD COLUMN</code> on the source system) are accounted for.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-94DA1F43-96AD-4219-8BB8-BDC4CD8D54C4">Configuring Replication</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD217"></a>
<div class="props_rev_3"><a id="GUID-00686048-0734-45ED-B9FD-C5494E37D018"></a>
<h2 id="GNSAD-GUID-00686048-0734-45ED-B9FD-C5494E37D018" class="sect2">Configuring for Maximum Throughput</h2>
<div>
<p>You can maximize throughput by modifying Extract, Replicat, or both. This section details strategies for implementing Oracle GoldenGate parameters to achieve data management that suits your needs.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-270B8630-7BC8-41FA-A2B2-E592201C28DC">Extraction</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-E3AA1FD0-8E36-431E-A650-A420B55D653A">TMF Extraction</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-8C03EBEE-4F76-4921-BF9E-D1C8A6870AFE">Non-TMF Data Extraction</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-08F66F64-FD37-424F-8315-38A81F381F88">Replication</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-D95F820F-3780-469C-A4F8-2DF2DB34BBBF">Latency Issues</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-4F2E4355-450B-4E2B-B54E-21FC75233580">Capacity Planning</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
<a id="GNSAD218"></a>
<div class="props_rev_3"><a id="GUID-270B8630-7BC8-41FA-A2B2-E592201C28DC"></a>
<h3 id="GNSAD-GUID-270B8630-7BC8-41FA-A2B2-E592201C28DC" class="sect3">Extraction</h3>
<div>
<p>Techniques for maximizing throughput on Extract depends on whether the source system produces TMF trails or non-TMF logs.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD219"></a>
<div class="props_rev_3"><a id="GUID-E3AA1FD0-8E36-431E-A650-A420B55D653A"></a>
<h3 id="GNSAD-GUID-E3AA1FD0-8E36-431E-A650-A420B55D653A" class="sect3">TMF Extraction</h3>
<div>
<p>In most cases, only a single instance of Extract is required to extract and transmit data to the target system. A single Extract is advantageous because TMF audit trails are only read once.</p>
<p>In rare cases, extracting high volumes of <code class="codeph">SQL UPDATE</code> statements requires multiple instances of <a id="d4513e3025" class="indexterm-anchor"></a>Extract.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD220"></a>
<div class="props_rev_3"><a id="GUID-8C03EBEE-4F76-4921-BF9E-D1C8A6870AFE"></a>
<h3 id="GNSAD-GUID-8C03EBEE-4F76-4921-BF9E-D1C8A6870AFE" class="sect3">Non-TMF Data Extraction</h3>
<div>
<p>Non-TMF logging is linearly scalable by adding more Logger processes to the configuration. Because there is no penalty for adding Logger processes to the configuration, Oracle GoldenGate recommends allocating plenty of slack for high volume activity. In most cases, two or three Logger processes is more than enough to achieve the desired throughput.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD221"></a>
<div class="props_rev_3"><a id="GUID-08F66F64-FD37-424F-8315-38A81F381F88"></a>
<h3 id="GNSAD-GUID-08F66F64-FD37-424F-8315-38A81F381F88" class="sect3">Replication</h3>
<div>
<p>To achieve required throughput, more Replicat processes may be required. This is because Replicat's I/O activity tends to be random access, as opposed to Logger and Extract I/O, which is serial, blocked and buffered.</p>
<p>You can add Replicat processes to achieve near linear performance gains. However, to ensure good performance, no more than three Replicat processes should read each Oracle GoldenGate trail. Otherwise, excessively redundant reads result, sometimes causing contention issues on the trail's disk.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD222"></a>
<div class="props_rev_3"><a id="GUID-D95F820F-3780-469C-A4F8-2DF2DB34BBBF"></a>
<h3 id="GNSAD-GUID-D95F820F-3780-469C-A4F8-2DF2DB34BBBF" class="sect3">Latency Issues</h3>
<div>
<p>Latency often refers to the difference in time between when an update occurs on the source database and when that same update is replicated on the target database. In this respect, latency measures the amount of time "behind" that the target system is from the source system, and can be important when determining the target database's accuracy. Database latency is especially important in certain bi-directional scenarios when two systems might update the same record in different databases at virtually the same time.</p>
<p>Another measure of latency is the <a id="d4513e3126" class="indexterm-anchor"></a>lag between an update on the source and the time at which that update has been stored on the target system for later replication. This measure of latency represents the potential for the amount of data lost in a disaster. Once data has been transmitted to the target, it will be replicated eventually and is not exposed to the risk of disaster.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD223"></a>
<div class="props_rev_3"><a id="GUID-4F2E4355-450B-4E2B-B54E-21FC75233580"></a>
<h3 id="GNSAD-GUID-4F2E4355-450B-4E2B-B54E-21FC75233580" class="sect3">Capacity Planning</h3>
<div>
<p>Through testing, Oracle GoldenGate has compiled some capacity planning guidelines, presented in the following sections. Consider these observations as guidelines; actual performance depends on many of the factors previously discussed including network topology, operating systems, etc.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-6868AC35-78F1-4C73-8201-F15B653374C0">TMF Data Extraction</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-87AC2C4B-F022-494E-8AA2-66E2677E126F">Non-TMF Data Extraction</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-5C0A6680-8676-40F0-8228-02D94E06028F">Data Transfer into Oracle GoldenGate Trails</a><br /></li>
<li class="ulchildlink"><a href="planning-configuration.htm#GUID-10E7BB34-1E53-4EF7-A94E-6E6727CF63B5">Replicat Throughput</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-00686048-0734-45ED-B9FD-C5494E37D018">Configuring for Maximum Throughput</a></p>
</div>
</div>
</div>
<a id="GNSAD224"></a>
<div class="props_rev_3"><a id="GUID-6868AC35-78F1-4C73-8201-F15B653374C0"></a>
<h4 id="GNSAD-GUID-6868AC35-78F1-4C73-8201-F15B653374C0" class="sect4">TMF Data Extraction</h4>
<div>
<p>Oracle GoldenGate output figures are far less than the audit generated, because extracted data does not include alternate keys, SQL indexes, <code class="codeph">FUP RELOAD</code> information and assorted audit records.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-4F2E4355-450B-4E2B-B54E-21FC75233580">Capacity Planning</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD225"></a>
<div class="props_rev_3"><a id="GUID-87AC2C4B-F022-494E-8AA2-66E2677E126F"></a>
<h4 id="GNSAD-GUID-87AC2C4B-F022-494E-8AA2-66E2677E126F" class="sect4">Non-TMF Data Extraction</h4>
<div>
<p>Non-TMF extracts are linearly scalable. Therefore, the potential extraction rate of data is close to the system limits for existing application activity.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-4F2E4355-450B-4E2B-B54E-21FC75233580">Capacity Planning</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD226"></a>
<div class="props_rev_3"><a id="GUID-5C0A6680-8676-40F0-8228-02D94E06028F"></a>
<h4 id="GNSAD-GUID-5C0A6680-8676-40F0-8228-02D94E06028F" class="sect4">Data Transfer into Oracle GoldenGate Trails</h4>
<div>
<p>The potential for data transfer is around 75-80% of the communication channel's actual potential. When this limit is reached, you can split data into multiple trails to achieve greater throughput with parallelism.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-4F2E4355-450B-4E2B-B54E-21FC75233580">Capacity Planning</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD227"></a>
<div class="props_rev_3"><a id="GUID-10E7BB34-1E53-4EF7-A94E-6E6727CF63B5"></a>
<h4 id="GNSAD-GUID-10E7BB34-1E53-4EF7-A94E-6E6727CF63B5" class="sect4">Replicat Throughput</h4>
<div>
<p>The potential throughput of Replicat is greater than that of the database I/O performed on the source system. Replicat performs essentially the same I/Os on the target system as were performed on the source system, excluding reads. In addition, Replicat uses transaction grouping features as mentioned earlier to improve TMF-related performance</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-4F2E4355-450B-4E2B-B54E-21FC75233580">Capacity Planning</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD228"></a>
<div class="props_rev_3"><a id="GUID-ADF49456-6567-484F-BD1E-D5C77878DC34"></a>
<h2 id="GNSAD-GUID-ADF49456-6567-484F-BD1E-D5C77878DC34" class="sect2">Changing Default Component Names</h2>
<div>
<div class="section">
<p>GGSCI provides default names for processes, parameter files, and report files. You may want to change these defaults to make them more descriptive. For example, you may want to denote the parameter files and reports associated with a particular Extract or Replicat group (when have multiple Extracts and Replicats).</p>
<p>To change default component names:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Launch GGSCI.</span></li>
<li class="stepexpand"><span>Specify the define <code class="codeph">=GGS_PREFIX</code> using the following syntax.</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d4513e3346" class="indexterm-anchor"></a>ADD DEFINE =GGS_PREFIX, CLASS MAP, FILE $<span class="variable">prefix</span>
</pre>
<p>Where:</p>
<p><span class="variable">prefix</span> consists of two letters.</p>
<p>Consider the example:</p>
<pre dir="ltr">
GGSCI&gt; ADD DEFINE =GGS_PREFIX, CLASS MAP, FILE $EF
</pre>
<p>This example changes the following default components.</p>
<ul style="list-style-type: disc;">
<li>
<p>The <a id="d4513e3368" class="indexterm-anchor"></a>Manager process name changes from <code class="codeph">$GGMGR</code> to <code class="codeph">$EFMGR</code>.</p>
</li>
<li>
<p><a id="d4513e3381" class="indexterm-anchor"></a>Logger process names become <code class="codeph">$EFLnn</code> instead of <code class="codeph">$GGLnn</code>.</p>
</li>
<li>
<p><a id="d4513e3394" class="indexterm-anchor"></a>Parameter files are stored in the <code class="codeph">EFSPARM</code> subvolume rather than <code class="codeph">GGSPARM</code>.</p>
</li>
<li>
<p><a id="d4513e3409" class="indexterm-anchor"></a>Report files are stored in the <code class="codeph">EFSRPT</code> subvolume rather than <code class="codeph">GGSRPT</code>.</p>
</li>
<li>
<p><a id="d4513e3422" class="indexterm-anchor"></a>Extract processes are called <code class="codeph">$EFEnn</code> rather than <code class="codeph">$GGEnn</code>.</p>
</li>
<li>
<p><a id="d4513e3435" class="indexterm-anchor"></a>Replicat processes are called <code class="codeph">$EFRnn</code> rather than <code class="codeph">$GGRnn</code>.</p>
</li>
<li>
<p><a id="d4513e3448" class="indexterm-anchor"></a>Syncfile processes are called <code class="codeph">$EFSnn</code> rather than <code class="codeph">$GGSnn.</code></p>
</li>
<li>
<p><a id="d4513e3460" class="indexterm-anchor"></a>Coordinator processes are called <code class="codeph">$EFCnn</code> rather than <code class="codeph">$GGCnn</code>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>One way to tell GGSCI and application programs bound with GGSLIB where to establish and retrieve configuration information is to use the <code class="codeph">=GGS_AUDCFG</code> define. Alternatively the location can be specified when running <code class="codeph">BUILDMAC</code> or <code class="codeph">NLDLIB</code>. When this location is not provided with one of these methods, the default is <code class="codeph">$SYSTEM.GGS.AUDCFG</code>.</span>
<div>
<pre dir="ltr">
GGSCI&gt; ADD DEFINE =GGS_AUDCFG, CLASS MAP, FILE <span class="variable">config_file</span>
</pre>
<p>Where:</p>
<p><span class="variable">config_file</span> is a file name, and the file portion of the file name is no longer than six characters.</p>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD229"></a>
<div class="props_rev_3"><a id="GUID-AAA6650C-9BCD-4C47-AE81-4FA764B531FE"></a>
<h2 id="GNSAD-GUID-AAA6650C-9BCD-4C47-AE81-4FA764B531FE" class="sect2">Using Wildcards</h2>
<div>
<p>You can use wildcard arguments to express volumes, subvolumes, files and tables. However, you can't use wildcard arguments to express views. <span>Oracle GoldenGate</span> allows wildcards to be expressed as a question mark (?) or an asterisk (*). An asterisk matches any number of characters, whereas a question mark matches only a single character.</p>
<p>The wildcard expression in the following example refers to any file set in the specified volume and subvolume:</p>
<pre dir="ltr">
FILE $DATA1.MYSUB.*;
</pre>
<p>In this next example, the wildcard expression refers to any volume <code class="codeph">$DATAn</code>, where n represents the fifth character in the volume name, and any file in the specified subvolume:</p>
<pre dir="ltr">
FILE $DATA?.MYSUB.*;
</pre>
<p>By default, <span>Oracle GoldenGate</span> initially allocates 100 wildcard entries. You can change this initial allocation using the <code class="codeph">MAXWILDCARDENTRIES</code> parameter in the <code class="codeph">GLOBALS</code>, Extract, and Replicat parameter files. Once this initial <code class="codeph">MAXWILDCARDENTRIES</code> allocation is exhausted, the program will allocate an additional 100 entries each time it needs more.</p>
<p>When you specify <code class="codeph">MAXWILDCARDENTRIES</code> in the <code class="codeph">GLOBALS</code> parameter file, that specification becomes the default. You can override that default using the <code class="codeph">MAXWILDCARDENTRIES</code> parameter in the Extract or Replicat parameter files. Ensure that a View exists before the Extract is started.</p>
<p>Most parameters that specify file names or table names can use wildcard expressions. Exceptions are documented in the parameter's description.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD489"></a>
<div class="props_rev_3"><a id="GUID-D97C5889-75DD-401C-B814-4A89361A7F88"></a>
<h2 id="GNSAD-GUID-D97C5889-75DD-401C-B814-4A89361A7F88" class="sect2">Support for DDL and DDL2</h2>
<div>
<p>Oracle GoldenGate for HP NonStop supports Enscribe Data Definition Language dictionary builds for DDL or DDL2. The versions that are supported include the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>C20 and C30 operating system, DDL Version 5</p>
</li>
<li>
<p>D00, D10 and D20 operating system, DDL Version 6</p>
</li>
<li>
<p>D30 and later, DDL Version 7</p>
</li>
<li>
<p>H01 and later, DDL Version 8 and DDL2 Version 9</p>
</li>
</ul>
<p>An error will be generated if a valid version is not identified.</p>
<p>No parameters are required for DDL2 support. Definitions of either size are supported for column mapping. User exits support record manipulation on the DDL2 large record formats by using a new set of function calls. See the user exit function calls in the <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for details.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD490"></a>
<div class="props_rev_3"><a id="GUID-B32D5913-E2A9-4F5E-9CC0-CAC728208075"></a>
<h2 id="GNSAD-GUID-B32D5913-E2A9-4F5E-9CC0-CAC728208075" class="sect2">Specifying Internet Protocol Addresses</h2>
<div>
<p>Manager and Extract can be restricted to a specific IP address by using the <code class="codeph">IPINTERFACE</code> stand-alone parameter or the <span class="italic"><code class="codeph">@ip_address</code></span> option of <code class="codeph">TCPIPPROCESSNAME</code>.</p>
<ul style="list-style-type: disc;">
<li>
<p>This example using the <code class="codeph">IPINTERFACE</code> stand-alone parameter sets the IP address to <code class="codeph">2001:db8:2010:5040:4fff:ffff:ffff:28</code>.</p>
<pre dir="ltr">
IPINTERFACE 2001:db8:2010:5040:4fff:ffff:ffff:28
</pre></li>
<li>
<p>This example using the @<span class="italic"><code class="codeph">ip_address</code></span> option of <code class="codeph">TCPIPPROCESSNAME</code> parameter sets the process name to <code class="codeph">$ZTC4</code> and its IP address to <code class="codeph">2001:db8:2010:5040:4fff:ffff:ffff:28</code>.</p>
<pre dir="ltr">
TCPIPPROCESSNAME $ZTC4@2001:db8:2010:5040:4fff:ffff:ffff:28
</pre></li>
</ul>
<p>Targets can be restricted using options of the <code class="codeph">RMTHOST</code> parameter.</p>
<ul style="list-style-type: disc;">
<li>
<p>This example using the <code class="codeph">IPINTERFACE</code> option sets the IP address of the host to <code class="codeph">2001:db8:2010:5040:4fff:ffff:ffff:28</code></p>
<pre dir="ltr">
RMTHOST host01, MGRPORT 12345,
IPINTERFACE 2001:db8:2010:5040:4fff:ffff:ffff:28
</pre></li>
<li>
<p>This example using the <span class="italic"><code class="codeph">@ip_address</code></span> option of <code class="codeph">TCPIPPROCESSNAME</code> sets process name to <code class="codeph">$ZTC1</code> and IP address to <code class="codeph">2001:db8:2010:5040:4fff:ffff:ffff:28</code>.</p>
<pre dir="ltr">
RMTHOST host01, MGRPORT 12345, 
TCPIPPROCESSNAME $ztc1@2001:db8:2010:5040:4fff:ffff:ffff:28
</pre></li>
</ul>
<p>See the <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for more details on how to use these parameters.</p>
<p>Oracle GoldenGate for HP NonStop supports Internet Protocol versions 4 and 6 (IPv4 and IPv6.) If an IP address is specified for Manager or Extract, the matching version must be configured for that host or an error is generated. If a name is specified for the host and both IPv4 and IPv6 are configured for that host, the default is to use IPv6. The parameter <code class="codeph">USEIPV4ONLY</code> forces Extract to use IPv4.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment191">
<tr>
<td class="cellalignment228">
<table class="cellalignment196">
<tr>
<td class="cellalignment195"><a href="understanding-oracle-goldengate-hp-nonstop.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment195"><a href="configuring-initial-data-synchronization.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment230">
<table class="cellalignment194">
<tr>
<td class="cellalignment195"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment195"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment195"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment195"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
