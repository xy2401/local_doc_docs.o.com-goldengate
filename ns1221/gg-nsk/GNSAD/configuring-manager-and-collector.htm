<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring the Manager and Collector</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="The Manager and the Collector are Oracle GoldenGate components that facilitate day-to-day data management. See how to configure, start, and run these components." />
<meta name="keywords" content="Manager, controlling, Collector, configuring" />
<meta name="dcterms.created" content="2018-06-07T00:11:41Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57712-04" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="configuring-oracle-goldengate-security.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-change-synchronization.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640"></a> <span id="PAGE" style="display:none;">8/15</span> <!-- End Header -->
<a id="GNSAD276"></a><a id="GNSAD275"></a>
<h1 id="GNSAD-GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640" class="sect1"><span class="enumeration_chapter">5</span> Configuring the Manager and Collector</h1>
<div>
<div><span>The Manager and the Collector are <span>Oracle GoldenGate</span> components that facilitate day-to-day data management. See how to configure, start, and run these components.</span></div>
<p>This topic includes the following sections:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-20EB511F-CA37-494B-908E-FFA076B5C566">Introducing Manager</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42">Configuring and Starting Manager</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-5B990901-A33E-43BC-B386-F89680600FDE">Collecting Between Open Systems and NonStop</a><br /></li>
</ul>
</div>
<a id="GNSAD277"></a>
<div class="props_rev_3"><a id="GUID-20EB511F-CA37-494B-908E-FFA076B5C566"></a>
<h2 id="GNSAD-GUID-20EB511F-CA37-494B-908E-FFA076B5C566" class="sect2">Introducing Manager</h2>
<div>
<p>Manager runs as a NonStop process, ensuring that Oracle GoldenGate for NonStop components run and restart if a CPU failure or operator error occurs. Manager spawns a copy of itself so that tasks that take longer, such as duplicating a TMF audit trail, do not interfere with real-time tasks. Tasks are divided between the Manager and its child process accordingly. <a id="d13078e69" class="indexterm-anchor"></a>Manager tasks on NonStop include:</p>
<ul style="list-style-type: disc;">
<li>
<p>Starting Logger, Extract, Replicat and Syncfile</p>
</li>
<li>
<p>Monitoring and reporting status of Oracle GoldenGate processing</p>
</li>
<li>
<p>Starting the dynamic Collector process on the target</p>
</li>
<li>
<p>Automatically restarting critical processes</p>
</li>
<li>
<p>Threshold reporting, such as when Extract falls behind the TMF-audit trail</p>
</li>
<li>
<p>Managing resources for the TMF audit trail, such as maintaining copies of audit trails on backup volumes</p>
</li>
<li>
<p>Purging trails when Extract and Replicat has finished with them</p>
</li>
<li>
<p>Pre-allocating log trail space for Logger processing</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640" title="The Manager and the Collector are Oracle GoldenGate components that facilitate day-to-day data management. See how to configure, start, and run these components.">Configuring the Manager and Collector</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD278"></a>
<div class="props_rev_3"><a id="GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42"></a>
<h2 id="GNSAD-GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42" class="sect2">Configuring and Starting Manager</h2>
<div>
<p>Now that you have your GGSCI prompt, you are ready to configure and start Manager. To configure Manager, create an appropriate parameter file. To control an Oracle GoldenGate <a id="d13078e132" class="indexterm-anchor"></a>Manager process, use the following commands.</p>
<div class="tblformal" id="GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42__GUID-54EB8299-4F39-4A8C-915B-5A9AA511EA82">
<table class="cellalignment198" summary="This table describes the commands used to control an Oracle GoldenGate Manager process.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment273" id="d13078e145">Command</th>
<th class="cellalignment274" id="d13078e148">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment275" id="d13078e153" headers="d13078e145">
<pre dir="ltr">
START MANAGER
</pre></td>
<td class="cellalignment276" headers="d13078e153 d13078e148">
<p>Starts Manager.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment275" id="d13078e160" headers="d13078e145">
<pre dir="ltr">
STOP MANAGER
</pre></td>
<td class="cellalignment276" headers="d13078e160 d13078e148">
<p>Stops Manager. You can stop Manager gracefully, or forcefully with the <code class="codeph">!</code> option.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-691D2ACC-7416-49CF-BE5B-CA5735FB95D2">Creating and Configuring the Manager Parameter File</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-0B292BBC-8909-4F9A-A790-A5FC06794475">Starting and Stopping Manager</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640" title="The Manager and the Collector are Oracle GoldenGate components that facilitate day-to-day data management. See how to configure, start, and run these components.">Configuring the Manager and Collector</a></p>
</div>
</div>
</div>
<a id="GNSAD279"></a>
<div class="props_rev_3"><a id="GUID-691D2ACC-7416-49CF-BE5B-CA5735FB95D2"></a>
<h3 id="GNSAD-GUID-691D2ACC-7416-49CF-BE5B-CA5735FB95D2" class="sect3">Creating and Configuring the Manager Parameter File</h3>
<div>
<p>Enter <a id="d13078e214" class="indexterm-anchor"></a>Manager parameters in the <code class="codeph">MGRPARM</code> file. If no <code class="codeph">MGRPARM</code> file exists, default management parameters are taken. To add parameters, edit this file using the <code class="codeph">EDIT PARAMS MGRPARM</code> command.</p>
<p>Manager retrieves parameters as established by GGSCI <code class="codeph">ATCONFIG</code> commands. These parameters affect audit trail resource management.</p>
<p>See <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for more information about Manager parameters.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-A7B3BA25-EDC8-4395-906D-F9B550C04F96">A Sample Manager Parameter File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42">Configuring and Starting Manager</a></p>
</div>
</div>
</div>
<a id="GNSAD281"></a><a id="GNSAD280"></a>
<div class="props_rev_3"><a id="GUID-A7B3BA25-EDC8-4395-906D-F9B550C04F96"></a>
<h4 id="GNSAD-GUID-A7B3BA25-EDC8-4395-906D-F9B550C04F96" class="sect4">A Sample Manager Parameter File</h4>
<div>
<div class="section">
<p>A Manager parameter file would be similar to this sample.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-A7B3BA25-EDC8-4395-906D-F9B550C04F96__GUID-4429B0CB-F7D8-4767-9748-487813207F0F">
<p class="titleinexample">Example 5-1 Sample Manager Parameter File</p>
<pre dir="ltr">
TCPIPPROCESSNAME $ZTC2
PORT 7844
DYNAMICPORTLIST 7850 - 7880, 7895
CHECKMINUTES 30
PURGEOLDEXTRACTS $DATA1.GGSDAT.*, USECHECKPOINTS, MINKEEPDAYS 2
THRESHOLD 30
LAGREPORTMINUTES 60
LAGINFOMINUTES 10
LAGCRITICALMINUTES 10
LOGFILESBEHIND 2
LOGFILESBEHINDINFO 10
DOWNCRITICAL
DOWNREPORTHOURS 1
</pre></div>
<!-- class="example" -->
<div class="section">
<p class="subhead3">In this sample Manager parameter file</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">TCPIPPROCESSNAME</code> specifies the TCP/IP process. The default process is $ZTC0. Use the <a id="d13078e289" class="indexterm-anchor"></a><code class="codeph">TCPIPPROCESSNAME</code> parameter to specify a process other than the default.</p>
</li>
<li>
<p>Specify the <code class="codeph">PORT</code> parameter so Manager can create a dynamic Collector process.</p>
</li>
<li>
<p><code class="codeph">DYNAMICPORTLIST</code> specifies up to 256 entries for ports to be dynamically assigned to processes started by Manager. If no dynamic ports are specified, Manager will start with 7840 and increment until it finds an available port.</p>
</li>
<li>
<p><code class="codeph">CHECKMINUTES 30</code> directs Manager to perform maintenance activities every 30 minutes. The default is 10 minutes.</p>
</li>
<li>
<p>Use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter when multiple Replicat processes are reading a set of trails. For this sample, <code class="codeph">PURGEOLDEXTRACTS</code> directs manager to purge old files from the trail <code class="codeph">$DATA1.GGSDAT.*</code>. The options:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">USECHECKPOINTS</code> specifies that Replicat checkpoints are to be used to determine when Replicat has finished processing.</p>
</li>
<li>
<p><code class="codeph">MINKEEPDAYS 2</code> purges files only after they have been closed for 2 days.</p>
</li>
</ul>
</li>
<li>
<p><code class="codeph">THRESHOLD 30</code> directs Manager to generate an event message when the number of audit files remaining to be processed falls below 30%.</p>
</li>
<li>
<p><code class="codeph">LAGREPORTMINUTES 60</code> specifies that Manager check lag every 60 minutes.</p>
</li>
<li>
<p><code class="codeph">LAGINFOMINUTES 10</code> specifies that Manager report lag information to the event log every 10 minutes.</p>
</li>
<li>
<p><code class="codeph">LAGCRITICALMINUTES 10</code> specifies that Manager write a critical message to the event log when there is 10 minute lag.</p>
</li>
<li>
<p><code class="codeph">LOGFILESBEHIND 2</code> sends a critical message whenever a process lags a specified number of files behind the current log trail file.</p>
</li>
<li>
<p><code class="codeph">LOGFILESBEHINDINFO 10</code> sends an informational message whenever the process falls the specified number of files behind.</p>
</li>
<li>
<p><code class="codeph">DOWNCRITICAL</code> sends a critical message whenever Extract or Replicat abends.</p>
</li>
<li>
<p><code class="codeph">DOWNREPORTHOURS</code> sends reports of Extract and Replicat abending.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-691D2ACC-7416-49CF-BE5B-CA5735FB95D2">Creating and Configuring the Manager Parameter File</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD282"></a>
<div class="props_rev_3"><a id="GUID-0B292BBC-8909-4F9A-A790-A5FC06794475"></a>
<h3 id="GNSAD-GUID-0B292BBC-8909-4F9A-A790-A5FC06794475" class="sect3">Starting and Stopping Manager</h3>
<div>
<p>You must start Manager before you can configure and run other Oracle GoldenGate components. The following example starts Manager in <code class="codeph">CPU 3</code>. Manager selects a CPU in which to run a backup process for fault-tolerance.</p>
<pre dir="ltr">
GGSCI&gt; <a id="d13078e413" class="indexterm-anchor"></a>START Manager, CPU 3, PRI 170
</pre>
<p>If Manager encounters a TCP/IP error, for example if it attempts to bind to a port that is in use, it retries the error every 60 seconds and does not abend after a set number of attempts. Unlike other Oracle GoldenGate processes, it does not use the <code class="codeph">TCPERRS</code> file to set the delay and the number of retries.</p>
<p>Manager runs indefinitely, or until you enter the GGSCI <code class="codeph">STOP MANAGER</code> command. You might stop Manager if you need to stop the Extract and Replicat groups it manages or if you to want to activate a change to a Manager parameter.</p>
<p>See <a class="olink GNSRF-GUID-78D34AC1-F7A2-4CA7-8F79-39A7E717D38F" target="_blank" href="../GNSRF/GUID-F608A1CA-3A6F-4C37-96BD-7199A4CECAA8.htm#GNSRF-GUID-78D34AC1-F7A2-4CA7-8F79-39A7E717D38F">STOP MANAGER</a> for more information about GGSCI commands for Manager.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-D5A82725-A16C-435A-A30B-C6F0B6A2CF42">Configuring and Starting Manager</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD283"></a>
<div class="props_rev_3"><a id="GUID-88E55217-A0FD-40DB-8799-261B0C38501E"></a>
<h2 id="GNSAD-GUID-88E55217-A0FD-40DB-8799-261B0C38501E" class="sect2">Configuring and Running the Collector</h2>
<div>
<p>The Collector collects data from Extract and writes data to files on the target system. Extract requests Manager to start a collector process when it sees data must transmit over TCP/IP to a remote trail. Once started, the Collector waits for and performs requests to write, open, and close files in the Oracle GoldenGate trail during Extract processing.</p>
<div class="infobox-note" id="GUID-88E55217-A0FD-40DB-8799-261B0C38501E__GUID-9AD2EBC0-5B11-4779-A3F0-79ADD6B44DF2">
<p class="notep1">Note:</p>
<p>You do not need to run collector if data transmits over an Expand connection.</p>
</div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-CA57731A-565A-4097-81F1-0462461BE2E8">Maintaining Ports for Remote Connections through Firewalls</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-9D67D011-950B-44AD-A501-5118AD4E6533">Configuring Collector</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-C3A4219F-BFB3-4714-8094-9C06C12A64EA">The TCP/IP Port</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-5D669CC5-6E86-48EA-BAC5-C1AAA892DC93">Monitoring Collector</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-E419D0B4-20F1-4FB8-B848-DEC7B90622F5">Security Considerations</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640" title="The Manager and the Collector are Oracle GoldenGate components that facilitate day-to-day data management. See how to configure, start, and run these components.">Configuring the Manager and Collector</a></p>
</div>
</div>
</div>
<a id="GNSAD505"></a>
<div class="props_rev_3"><a id="GUID-CA57731A-565A-4097-81F1-0462461BE2E8"></a>
<h3 id="GNSAD-GUID-CA57731A-565A-4097-81F1-0462461BE2E8" class="sect3">Maintaining Ports for Remote Connections through Firewalls</h3>
<div>
<p>If a firewall is being used at an Oracle GoldenGate target location, additional ports are required on the target system to receive dynamic TCP/IP communications from remote Oracle GoldenGate processes. These ports are:</p>
<ul style="list-style-type: disc;">
<li>
<p>One port for <span class="italic">each</span> Collector process that is started by the local Manager to receive propagated transaction data from remote online Extract processes. When an Extract process sends data to a target, the Manager on the target starts a dedicated Collector process.</p>
</li>
<li>
<p>One port for each Replicat process that is started by the local Manager as part of a remote task. A remote task is used for initial loads and is specified with the <code class="codeph">RMTTASK</code> parameter. This port is used to receive incoming requests from the remote Extract process. For more information see, <a class="olink GNSRF-GUID-F3916194-6AD2-43D9-B40A-3C12BD6A085C" target="_blank" href="../GNSRF/GUID-F3916194-6AD2-43D9-B40A-3C12BD6A085C.htm#GNSRF-GUID-F3916194-6AD2-43D9-B40A-3C12BD6A085C">RMTTASK</a></p>
</li>
<li>
<p>Some extra ports in case they are needed for expansion of the local Oracle GoldenGate configuration.</p>
</li>
<li>
<p>Ports for the other Oracle GoldenGate products if they interact with the local Oracle GoldenGate instance, as stated in the documentation of those products.</p>
</li>
</ul>
<p>To specify these ports, use the <code class="codeph">DYNAMICPORTLIST</code> parameter in the Manager parameter file. Follow these guidelines:</p>
<ul style="list-style-type: disc;">
<li>
<p>You can specify up to 300 ports in any combination of the following formats:</p>
<pre dir="ltr">
7830, 7833, 7835
7830-7835
7830-7835, 7839
</pre></li>
<li>
<p>The ports must be unreserved and unrestricted.</p>
</li>
<li>
<p>Each Manager instance on a system must use a different port list.</p>
</li>
</ul>
<p>Although not a required parameter, <code class="codeph">DYNAMICPORTLIST</code> is strongly recommended for best performance. The Collector process is responsible for finding and binding to an available port, and having a known list of qualified ports speeds this process. In the absence of <code class="codeph">DYNAMICPORTLIST</code> (or if not enough ports are specified with it), Collector tries to use port 7840 for remote requests. If 7840 is not available, Collector increments by one until it finds an available port. This can delay the acceptance of the remote request. If Collector runs out of ports in the <code class="codeph">DYNAMICPORTLIST</code> list, the following occurs:</p>
<ul style="list-style-type: disc;">
<li>
<p>Manager reports an error in its process report and in the Oracle GoldenGate <code class="codeph">LOGGGS</code>.</p>
</li>
<li>
<p>Collector retries based on the rules in the Oracle GoldenGate tcperrs file. For more information about the <code class="codeph">tcperrs</code> file, see section<span class="q">"<a href="managing-and-monitoring.htm#GUID-54DD2562-A750-485C-8A65-108FEAAD1931">TCP/IP Error Handling</a>"</span>.</p>
</li>
</ul>
<p>For more information see, <a class="olink GNSRF-GUID-A62EF458-3CCC-4738-AC08-5A90CFAC3FAD" target="_blank" href="../GNSRF/GUID-A62EF458-3CCC-4738-AC08-5A90CFAC3FAD.htm#GNSRF-GUID-A62EF458-3CCC-4738-AC08-5A90CFAC3FAD">DYNAMICPORTLIST</a>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD284"></a>
<div class="props_rev_3"><a id="GUID-9D67D011-950B-44AD-A501-5118AD4E6533"></a>
<h3 id="GNSAD-GUID-9D67D011-950B-44AD-A501-5118AD4E6533" class="sect3">Configuring Collector</h3>
<div>
<div class="section">
<p>To configure a Collector, you must know the port the Collector will use, the host name or IP address where the remote trail resides, and edit your Manager and Extract parameter files. You may also specify a variety of operating options, described in the <span class="q">"<a href="configuring-manager-and-collector.htm#GUID-18EEEBC6-3A19-40AC-B56D-B504D7D85FBD">Configuration Examples</a>"</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To configure and start Collector:</p>
<ol>
<li>
<p>In the Manager parameter file, specify the port parameter, such as: <code class="codeph">PORT</code> <code class="codeph">7809</code>.</p>
</li>
<li>
<p>In the Extract parameter file, specify the <code class="codeph">RMTHOST</code> parameter as follows:</p>
<pre dir="ltr">
RMTHOST <span class="variable">host</span>, [MGRPORT <span class="variable">port_number</span>] [, <span class="variable">option</span>] [, . . .]
</pre>
<div class="tblformal" id="GUID-9D67D011-950B-44AD-A501-5118AD4E6533__GUID-555F3775-38BC-4F2E-8F6A-ED8CD7886206">
<table class="cellalignment203" summary="This table describes the parameters and options used to configure a Collector.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment212" id="d13078e675">Argument</th>
<th class="cellalignment213" id="d13078e678">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment214" id="d13078e683" headers="d13078e675">
<pre dir="ltr">
<span class="variable">host</span>
</pre></td>
<td class="cellalignment215" headers="d13078e683 d13078e678">
<p>Either a remote system name or an IP address, such as: <code class="codeph">RMTHOST eastnode</code> or <code class="codeph">RMTHOST 192.0.2.20</code>.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment214" id="d13078e697" headers="d13078e675">
<pre dir="ltr">
MGRPORT <span class="variable">port_number</span>
</pre></td>
<td class="cellalignment215" headers="d13078e697 d13078e678">
<p>Specify the port that is defined in the Manager parameter file.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment214" id="d13078e706" headers="d13078e675">
<pre dir="ltr">
<span class="variable">options</span>
</pre></td>
<td class="cellalignment215" headers="d13078e706 d13078e678">
<p>You can specify a variety of options, including Collector parameters. See <span class="q">"<a href="configuring-manager-and-collector.htm#GUID-691D2ACC-7416-49CF-BE5B-CA5735FB95D2">Creating and Configuring the Manager Parameter File</a>"</span> for information on these options. See <a class="olink GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103" target="_blank" href="../GNSRF/GUID-B9C79133-FA6A-45F6-9625-B5C106A81103.htm#GNSRF-GUID-B9C79133-FA6A-45F6-9625-B5C106A81103">Oracle GoldenGate Parameters</a> for information about other <code class="codeph">RMTHOST</code> options.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>The remote system must be the same system on which Collector was started, and the port number must match the port number in the Collector startup command. See <span class="q">"<a href="configuring-manager-and-collector.htm#GUID-18EEEBC6-3A19-40AC-B56D-B504D7D85FBD">Configuration Examples</a>"</span> for more information.</p>
</li>
<li>
<p>If you specify a remote system name in the <code class="codeph">RMTHOST</code> parameter, you must also enter the remote system name in the TCP/IP hosts file on the target system, or on the names server for your network. For example, if you specify: <code class="codeph">RMTHOST eastnode</code>, you must make an entry similar to: <code class="codeph">192.0.2.20 eastnode</code> in the <code class="codeph">HOSTS</code> file.</p>
<p>If you specify the remote system IP address in the <code class="codeph">RMTHOST</code> parameter, there is no need to make a corresponding <code class="codeph">HOSTS</code> file entry.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-18EEEBC6-3A19-40AC-B56D-B504D7D85FBD">Configuration Examples</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a></p>
</div>
</div>
</div>
<a id="GNSAD285"></a>
<div class="props_rev_3"><a id="GUID-18EEEBC6-3A19-40AC-B56D-B504D7D85FBD"></a>
<h4 id="GNSAD-GUID-18EEEBC6-3A19-40AC-B56D-B504D7D85FBD" class="sect4">Configuration Examples</h4>
<div>
<div class="section">
<p>Following are the examples for configuration:</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To configure Collector for port <code class="codeph">5432</code> on remote system named <code class="codeph">eastnode</code>:</p>
<ol>
<li>
<p>In the Manager parameter file, specify: <code class="codeph">PORT</code> <code class="codeph">5432</code></p>
</li>
<li>
<p>In the Extract parameter file, specify: <code class="codeph">RMTHOST eastnode, MGRPORT 5432,</code> and options if desired.</p>
</li>
<li>
<p>In the TCP/IP <code class="codeph">HOSTS</code> file, enter: <code class="codeph">192.0.2.20 eastnode</code></p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To configure Collector for the default port on remote system address <code class="codeph">192.0.2.20</code>:</p>
<ol>
<li>
<p>In the Manager parameter file, specify: <code class="codeph">PORT 7809</code></p>
</li>
<li>
<p>In the Extract parameter file, specify: <code class="codeph">RMTHOST 192.0.2.20,</code> and options if desired.</p>
</li>
<li>
<p>No TCP/IP hosts file entry is required.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-9D67D011-950B-44AD-A501-5118AD4E6533">Configuring Collector</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD286"></a>
<div class="props_rev_3"><a id="GUID-C3A4219F-BFB3-4714-8094-9C06C12A64EA"></a>
<h3 id="GNSAD-GUID-C3A4219F-BFB3-4714-8094-9C06C12A64EA" class="sect3">The TCP/IP Port</h3>
<div>
<p>There are two ways to use <a id="d13078e869" class="indexterm-anchor"></a>Collector and your TCP/IP port: dynamically and explicitly. The dynamic method lets Extract request Manager to start Collector as needed. However, a user can explicitly start the Collector and let it run in the background, ready to transmit data as needed. This method is called the <span class="italic">explicit method</span>.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-B8898809-7F2B-4A16-A4B7-DA8C944F0AEB">Dynamic Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-manager-and-collector.htm#GUID-E38EA7EA-8E66-4ED1-BCB7-8B359ECC0219">Explicit Method</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a></p>
</div>
</div>
</div>
<a id="GNSAD287"></a>
<div class="props_rev_3"><a id="GUID-B8898809-7F2B-4A16-A4B7-DA8C944F0AEB"></a>
<h4 id="GNSAD-GUID-B8898809-7F2B-4A16-A4B7-DA8C944F0AEB" class="sect4">Dynamic Method</h4>
<div>
<p><span class="italic">Dynamic method</span> is the default way to use Collector. The examples above illustrate how this is configured: a port is specified in the Manager parameter file, a remote trail is specified in the Extract parameter file, and, if required, the IP address is added to your hosts file.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-C3A4219F-BFB3-4714-8094-9C06C12A64EA">The TCP/IP Port</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD289"></a><a id="GNSAD288"></a>
<div class="props_rev_3"><a id="GUID-E38EA7EA-8E66-4ED1-BCB7-8B359ECC0219"></a>
<h4 id="GNSAD-GUID-E38EA7EA-8E66-4ED1-BCB7-8B359ECC0219" class="sect4">Explicit Method</h4>
<div>
<p>When capturing data over TCP/IP to remote systems that do not support dynamic Collectors, you must explicitly start a Collector on the target system before starting Extract. Each Extract must explicitly name the port to which it is writing, using the <code class="codeph">RMTHOST</code> parameter.</p>
<p>To explicitly configure your Collector, start GGSCI and enter the following:</p>
<pre dir="ltr">
TACL &gt; ASSIGN STDERR, <span class="variable">event_message_collector</span>
TACL &gt; RUN SERVER /NOWAIT/ [-P <span class="variable">port_number</span>]
</pre>
<div class="infobox-note" id="GUID-E38EA7EA-8E66-4ED1-BCB7-8B359ECC0219__GUID-9E0FC0BE-6C40-4E47-BEBF-1B7F5A199E0A">
<p class="notep1">Note:</p>
<p>Your <span class="italic"><code class="codeph">event_message_collector</code></span> may be the standard system log, $0, or a virtual process, such as $VHS.</p>
</div>
<p>In the above example, the Collector listens on port <code class="codeph">12345.</code> When you start the Collector, it references a default TCP/IP process <code class="codeph">($ZTC0)</code>. You can change this to the process of your choice by running a <code class="codeph">DEFINE</code> statement before you start your collector.</p>
<pre dir="ltr">
TACL &gt; ASSIGN STDERR, $0
TACL&gt; DEFINE =TCPIP^PROCESS^NAME, FILE $ZTC8
TACL &gt; RUN SERVER /NOWAIT, NAME $COLL/ -P 12345
</pre>
<p>See <a class="olink GNSRF-GUID-C5AD5E35-B431-426F-B967-11BFB11D1063" target="_blank" href="../GNSRF/GUID-C5AD5E35-B431-426F-B967-11BFB11D1063.htm#GNSRF-GUID-C5AD5E35-B431-426F-B967-11BFB11D1063">Collector Parameters</a> for more information about the Collector parameters.</p>
<div class="example" id="GUID-E38EA7EA-8E66-4ED1-BCB7-8B359ECC0219__GUID-F43AFDA6-685D-4AA7-88EC-BA992F9E9603">
<p class="titleinexample">Example 5-2 Explicit Method</p>
<pre dir="ltr">
TACL &gt; ASSIGN STDERR, $0
TACL &gt; RUN SERVER /NOWAIT, NAME $COLL/ -P 12345
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-C3A4219F-BFB3-4714-8094-9C06C12A64EA">The TCP/IP Port</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD290"></a>
<div class="props_rev_3"><a id="GUID-5D669CC5-6E86-48EA-BAC5-C1AAA892DC93"></a>
<h3 id="GNSAD-GUID-5D669CC5-6E86-48EA-BAC5-C1AAA892DC93" class="sect3">Monitoring Collector</h3>
<div>
<p><a id="d13078e1018" class="indexterm-anchor"></a>Collector event messages are output to the <code class="codeph">ggserr.log</code> file. You can view this file using the GGSCI <code class="codeph">VIEW GGSEVT</code> command.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD291"></a>
<div class="props_rev_3"><a id="GUID-E419D0B4-20F1-4FB8-B848-DEC7B90622F5"></a>
<h3 id="GNSAD-GUID-E419D0B4-20F1-4FB8-B848-DEC7B90622F5" class="sect3">Security Considerations</h3>
<div>
<p>The user ID under which the <a id="d13078e1059" class="indexterm-anchor"></a>Collector is started determines whether target files can be written and purged. Ensure that the ID has the proper system access to the files and locations written by the Collector.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-88E55217-A0FD-40DB-8799-261B0C38501E">Configuring and Running the Collector</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD293"></a><a id="GNSAD292"></a>
<div class="props_rev_3"><a id="GUID-5B990901-A33E-43BC-B386-F89680600FDE"></a>
<h2 id="GNSAD-GUID-5B990901-A33E-43BC-B386-F89680600FDE" class="sect2">Collecting Between Open Systems and NonStop</h2>
<div>
<div class="section">
<p><a id="d13078e1092" class="indexterm-anchor"></a><a id="d13078e1096" class="indexterm-anchor"></a>Event messages created by the Collector and Replicat on Windows and UNIX systems can be extracted and sent back to EMS on NonStop systems. This feature enables centralized viewing of Oracle GoldenGate messages across platforms.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To collect events from other systems:</p>
<ol>
<li>
<p>Run Collector on NonStop to collect and distribute EMS messages. For each EMSCLNT process, run one Collector process.</p>
<p>The following example runs Collector and outputs its messages to $0.</p>
<pre dir="ltr">
TACL&gt; ASSIGN STDERR, $0
TACL&gt; RUN SERVER /NOWAIT/ &ndash;p 7880
</pre></li>
<li>
<p>Run the <a id="d13078e1113" class="indexterm-anchor"></a><a id="d13078e1115" class="indexterm-anchor"></a>EMSCLNT utility on the remote target. EMSCLNT reads a designated error log and runs indefinitely, waiting for more messages to send. When EMSCLNT receives a message, it sends the message to a collector process on NonStop.</p>
<p>See the examples for running EMSCLNT on open systems for syntax information.</p>
<p>This UNIX example reads the file <code class="codeph">ggslog.err</code> for error messages. Error messages are sent to the collector to the NonStop at IP address <code class="codeph">192.0.2.2</code> listening on port <code class="codeph">7850</code>. The Collector on NonStop writes formatted messages to EMS Collector <code class="codeph">$0.</code></p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p>The Windows example below (from the DOS prompt) reads the file <code class="codeph">d:\ggserrs\log.txt</code> for error messages. Error messages are sent to the collector on host <code class="codeph">ggs2</code> listening on port <code class="codeph">9876</code>. The Collector on NonStop writes formatted messages to EMS Collector $P0.</p>
<pre dir="ltr">
&gt; emsclnt &ndash;h ggs2 &ndash;p 9876 &ndash;f d:\ggserrs\log.txt &ndash;c $P0
</pre>
<div class="tblformal" id="GUID-5B990901-A33E-43BC-B386-F89680600FDE__GUID-241D77AC-953B-4681-B907-DC900689BFD4">
<table class="cellalignment198" summary="This table lists and describes the arguments used to run EMSCLIENT.">
<thead>
<tr class="cellalignment192">
<th class="cellalignment277" id="d13078e1157">Argument</th>
<th class="cellalignment278" id="d13078e1160">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment192">
<td class="cellalignment279" id="d13078e1165" headers="d13078e1157">
<pre dir="ltr">
&ndash;h ggs2
</pre></td>
<td class="cellalignment280" headers="d13078e1165 d13078e1160">
<p>The node on which the collector is being run. Can be a name or IP address. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d13078e1172" headers="d13078e1157">
<pre dir="ltr">
&ndash;p 9876
</pre></td>
<td class="cellalignment280" headers="d13078e1172 d13078e1160">
<p>The port where the collector is listening for messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d13078e1179" headers="d13078e1157">
<pre dir="ltr">
&ndash;f d:\ggserrs\log.txt
</pre></td>
<td class="cellalignment280" headers="d13078e1179 d13078e1160">
<p>The error file where EMSCLNT retrieves error messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment192">
<td class="cellalignment279" id="d13078e1186" headers="d13078e1157">
<pre dir="ltr">
&ndash;c $P0
</pre></td>
<td class="cellalignment280" headers="d13078e1186 d13078e1160">
<p>The collector where EMS messages should be written on the NonStop (default is $0).</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="example" id="GUID-5B990901-A33E-43BC-B386-F89680600FDE__GUID-10DEED37-2C8B-4352-B1E1-BE1280803992">
<p class="titleinexample">Example 5-3 Running EMSCLNT on Open Systems</p>
<pre dir="ltr">
&gt; $emsclnt &ndash;h 192.0.2.2 &ndash;p 7850 &ndash;f ggserr.log &ndash;c $0
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-manager-and-collector.htm#GUID-94631554-DEA4-4105-A4FD-E08C9BB9B640" title="The Manager and the Collector are Oracle GoldenGate components that facilitate day-to-day data management. See how to configure, start, and run these components.">Configuring the Manager and Collector</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment191">
<tr>
<td class="cellalignment228">
<table class="cellalignment196">
<tr>
<td class="cellalignment195"><a href="configuring-oracle-goldengate-security.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment195"><a href="configuring-change-synchronization.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment230">
<table class="cellalignment194">
<tr>
<td class="cellalignment195"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment195"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment195"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment195"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
