<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Initial Data Synchronization</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled." />
<meta name="keywords" content="initial synchronization, configuring, data, wildcards, in initial loads, filtering and mapping, filtering,data for processing, batch processing, configuring" />
<meta name="dcterms.created" content="2018-06-07T00:11:41Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57712-04" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="planning-configuration.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-oracle-goldengate-security.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC"></a> <span id="PAGE" style="display:none;">6/15</span> <!-- End Header -->
<a id="GNSAD231"></a><a id="GNSAD230"></a>
<h1 id="GNSAD-GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" class="sect1"><span class="enumeration_chapter">3</span> Configuring Initial Data Synchronization</h1>
<div>
<div><span>Before running the <span>Oracle GoldenGate</span> for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.</span></div>
<p>This topic includes the following sections:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174">Initial Data Synchronization</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-01D7E432-A2AB-43C9-9579-FDC21EFB1909">Controlling the IP Process for Replicat</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-9EEFD976-9079-4FEA-A609-FC6D8ED0477B">Loading Oracle, Microsoft, or Sybase SQL Server Tables</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-7350FEC1-5CA5-46FC-A7DD-20DD78F88AC0">Limiting the Enscribe Source Key Range for Initial Load</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4">Restarting an Initial Load</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-01C48B82-FA88-4CFE-A442-9D3388E676A7">Loading Initial Data from Windows and Unix</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-7546C9E1-2BA8-4B22-A5BB-27573AD00B04">Integrating Source and Target Data</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-640FE0FA-479A-4E08-A90B-E5AE7C4342BB">Distributing Extracted Data</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-7A6BD418-EA30-4ACA-8840-F42C9A2903FC">Direct File Extraction</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-05732C0F-CF4F-420E-AFDD-66C7598D5EDF">Batch Processing</a><br /></li>
</ul>
</div>
<a id="GNSAD232"></a>
<div class="props_rev_3"><a id="GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174"></a>
<h2 id="GNSAD-GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174" class="sect2">Initial Data Synchronization</h2>
<div>
<p>You can use Oracle GoldenGate to load data in any of the following ways.</p>
<ul style="list-style-type: disc;">
<li>
<p>Using database utilities. The utility program performs the initial load. Examples include loading the target using FUP or SQL and using back up and restore.</p>
</li>
<li>
<p>Loading from a file to a database utility. Extract writes records to an extract file in external ASCII format. The files are used as input to a bulk load utility that writes to target. Replicat creates the run and control files.</p>
</li>
<li>
<p>Loading from a file to Replicat. Extract writes records to an extract file and Replicat applies them to the target tables.</p>
</li>
<li>
<p>Using an Oracle GoldenGate direct load. Extract communicates with Replicat directly without using a Collector process or files. Replicat applies the data to the target.</p>
</li>
<li>
<p>Using direct bulk load. Extract writes records in external ASCII format and delivers them directly to Replicat, which delivers them to the Oracle SQL*Loader bulk load utility. This is the fastest method of loading Oracle data with Oracle GoldenGate.</p>
</li>
</ul>
<p>The method you choose depends, in part, on the database types of your source and target. For example, if you are replicating from a NonStop source to an Oracle target, your choices include direct bulk load, which interacts with SQL*Loader.</p>
<p>Regardless of the method chosen, the initial data synchronization should be run after initiating change capture and before configuring delivery. The steps are:</p>
<ol>
<li>
<p>Configure and run Extract to capture all active database changes to an Oracle GoldenGate trail.</p>
</li>
<li>
<p>Perform initial load.</p>
</li>
<li>
<p>Configure and run Replicat.</p>
</li>
</ol>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA">Example Steps for Initial Data Load</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-E63886CA-D015-4A9E-AF88-FA2F5D4446EF">Direct Load</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-F3F1D8F2-8A9E-4C08-A443-9D34C05D15BE">Direct Bulk Load</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-412FC2E8-6722-476A-B205-1F07970BE945">Synchronizing Nonstop Databases Using Database Utilities Through TCP/IP</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD233"></a>
<div class="props_rev_3"><a id="GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA"></a>
<h3 id="GNSAD-GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA" class="sect3">Example Steps for Initial Data Load</h3>
<div>
<div class="section">
<p>This example shows how you might follow these three steps to configure change capture and delivery and perform an initial data load.</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-F0FB28A2-1159-4C16-99BB-AD473B8E213F">Configure and Run Extract</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-0DA54421-A770-466D-A90E-307E540CF87F">Perform Initial Load Using the File to Replicat Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-24A4AA96-9F99-481C-B297-9A71331799D0">Configure and Run Replicat</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174">Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD234"></a>
<div class="props_rev_3"><a id="GUID-F0FB28A2-1159-4C16-99BB-AD473B8E213F"></a>
<h4 id="GNSAD-GUID-F0FB28A2-1159-4C16-99BB-AD473B8E213F" class="sect4">Configure and Run Extract</h4>
<div>
<p>You can configure this Extract process to read change records from a TMF audit trail, log trail, or flat file, and process them to an Oracle GoldenGate trail. This step is necessary before doing the initial load because it extracts and delivers ongoing changes to the source database, preserving data integrity for your business operations.</p>
<p>Instructions for configuring and running Extract can be found in <span class="q">"<a href="planning-configuration.htm#GUID-09530035-8D87-4F9D-908A-EB2BAC7ED183" title="Plan how to configure your Oracle GoldenGate for HP to suit your own business requirements.">Planning the Configuration</a>"</span>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA">Example Steps for Initial Data Load</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD235"></a>
<div class="props_rev_3"><a id="GUID-0DA54421-A770-466D-A90E-307E540CF87F"></a>
<h4 id="GNSAD-GUID-0DA54421-A770-466D-A90E-307E540CF87F" class="sect4">Perform Initial Load Using the File to Replicat Method</h4>
<div>
<div class="section">
<p>You can perform your <a id="d8412e287" class="indexterm-anchor"></a>initial load using any of the methods; however this example addresses how to use Oracle GoldenGate to do the initial load by queuing data to an Oracle GoldenGate file that will be picked up by Replicat.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create one Extract parameter file to read directly from each source database.</span></li>
<li class="stepexpand"><span>Use the NonStop text editor to set up an Extract parameter file to include the following information.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>The <a id="d8412e302" class="indexterm-anchor"></a><code class="codeph">SOURCEISFILE</code> parameter to indicate that data should be retrieved directly from the table.</p>
</li>
<li>
<p>The format for the target file, usually <code class="codeph">FORMATASCII</code> (for example, <code class="codeph">FORMATASCII</code>, <code class="codeph">SQLLOADER</code> or <code class="codeph">FORMATASCII</code>, <code class="codeph">BCP</code>).</p>
</li>
<li>
<p>If you are transmitting data to a system other than NonStop, or to a NonStop system over TCP/IP, include the name of the remote TCP/IP host and port number of the remote Collector.</p>
</li>
<li>
<p>The name of the local output file (<code class="codeph">EXTFILE</code>) or the remote file (<code class="codeph">RMTFILE</code>) to which the Extract program writes extract information. If you need to write to a series of trails, then add the <code class="codeph">MAXFILES 2</code> to the remote trail's parameter file. <code class="codeph">MAXFILES</code> will append a six-digit trail sequence to the remote trail's file name.</p>
</li>
<li>
<p>The name of the file or table to extract (<code class="codeph">FILE</code> or <code class="codeph">TABLE</code> parameter).</p>
</li>
<li>
<p>Other optional parameters, including clauses for selecting records, column mapping, or data conversion.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Configure Replicat as a batch task, specifying the <code class="codeph">SPECIALRUN</code> and <code class="codeph">BEGIN</code> and <code class="codeph">END</code> parameters.</span></li>
<li class="stepexpand"><span>Start the initial data load:</span>
<div>
<pre dir="ltr">
TACL&gt; RUN EXTRACT /IN <span class="variable">parameter_file</span>/
TACL&gt; RUN REPLICAT /IN <span class="variable">parameter_file</span>/
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA">Example Steps for Initial Data Load</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD236"></a>
<div class="props_rev_3"><a id="GUID-24A4AA96-9F99-481C-B297-9A71331799D0"></a>
<h4 id="GNSAD-GUID-24A4AA96-9F99-481C-B297-9A71331799D0" class="sect4">Configure and Run Replicat</h4>
<div>
<div class="section">
<p>When your initial data load finishes writing to its trails, configure Replicat on the target system. This can be the same parameter file you use for ongoing Replicat work, however, you will need to add <code class="codeph">HANDLECOLLISIONS</code> and <code class="codeph">END</code> parameters, run the batch, then remove those parameters before beginning ongoing change extract.</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Configure Replicat on the target system, including <code class="codeph">HANDLECOLLISIONS</code> and <code class="codeph">END</code> in the parameter file. The <code class="codeph">END</code> parameter is the time recorded for the completion of the Extract process.</span></li>
<li><span>Start Replicat with the <code class="codeph">START REPLICAT</code> command.</span></li>
<li><span>When Replicat stops, remove the <code class="codeph">HANDLECOLLISIONS</code> and <code class="codeph">END</code> parameters.</span></li>
<li><span>Start Replicat for incremental data synchronization.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-854AEEEB-D124-4029-86DE-4E3E41A92FBA">Example Steps for Initial Data Load</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD237"></a>
<div class="props_rev_3"><a id="GUID-E63886CA-D015-4A9E-AF88-FA2F5D4446EF"></a>
<h3 id="GNSAD-GUID-E63886CA-D015-4A9E-AF88-FA2F5D4446EF" class="sect3">Direct Load</h3>
<div>
<p>Using <a id="d8412e472" class="indexterm-anchor"></a>direct load, you can extract data directly from the source tables and send it, in a large block, to Replicat. You may do this on any operating system and database combination Oracle GoldenGate supports (such as NonStop to NonStop, NonStop to Oracle, Oracle to NonStop).</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-F28828A7-F693-4D4A-A734-729D00C11ECB">To run direct load:</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-22DEE841-F959-453D-BDDC-A0933840D533">Using Wildcards</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174">Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD238"></a>
<div class="props_rev_3"><a id="GUID-F28828A7-F693-4D4A-A734-729D00C11ECB"></a>
<h4 id="GNSAD-GUID-F28828A7-F693-4D4A-A734-729D00C11ECB" class="sect4">To run direct load:</h4>
<div>
<ol>
<li class="stepexpand"><span>Define an Extract group:</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d8412e520" class="indexterm-anchor"></a>ADD EXTRACT <span class="variable">group_name</span>, SOURCEISFILE
</pre></div>
</li>
<li class="stepexpand"><span>Define a Replicat group:</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d8412e534" class="indexterm-anchor"></a>ADD REPLICAT <span class="variable">group_name</span>, SPECIALRUN
</pre>
<p>Replicat is automatically started by Manager, at Extract's request.</p>
</div>
</li>
<li class="stepexpand"><span>Create the parameter files.</span>
<div>
<p><span class="bold">For the Extract parameter file:</span></p>
<pre dir="ltr">
EXTRACT INITEXT
RMTHOST targethost, MGRPORT 7809
RMTTASK REPLICAT, GROUP INITREP
TABLE $DATA.MASTER.ACCOUNT, AUTOTRUNCATE;
TABLE $DATA.MASTER.PRODUCT, AUTOTRUNCATE;
TABLE $DATA.MASTER.CUSTOMER AUTOTRUNCATE;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">AUTOTRUNCATE</code> sends a <code class="codeph">PURGEDATA</code> command to Replicat before any data is processed. This ensures the target is clean and ready to receive data.</p>
<div class="infobox-note" id="GUID-F28828A7-F693-4D4A-A734-729D00C11ECB__GUID-FE279FCB-65FB-4B08-B822-13743594B896">
<p class="notep1">Note:</p>
<p>Use <code class="codeph">AUTOTRUNCATE</code> with extreme caution, as it causes all existing data to be purged from the target file. Refer to <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> for more information.</p>
</div>
</li>
<li>
<p><code class="codeph">RMTHOST</code> establishes the remote TCP/IP host and port number.</p>
</li>
<li>
<p><code class="codeph">RMTTASK</code> instructs Manager on the target system to start Replicat with the specified <code class="codeph">GROUP</code> name.</p>
</li>
<li>
<p>The <code class="codeph">TABLE</code> parameters identify the source tables.</p>
</li>
<li>
<p>Specify <code class="codeph">SOURCEISFILE</code> in the parameter if you want to include a <code class="codeph">SOURCEISFILE</code> option:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SELECTVIEW</code>: Selects data from a specified SQL view in the file parameter. Without <code class="codeph">SELECTVIEW</code>, Extract selects data from the base table of the view, then maps the base table columns to the view columns (This also occurs when processing audit trails and a view is specified.)</p>
</li>
<li>
<p><code class="codeph">FASTUNLOAD</code>: Processes the file or table several times faster than the default method. Records are written out in random order, rather than primary key order. <code class="codeph">FASTUNLOAD</code> has no effect when an SQL view is specified. The file parameter option <code class="codeph">PARTITIONS</code> can restrict the data retrieved to a certain subset of the file or table</p>
</li>
<li>
<p><code class="codeph">FASTUNLOADSHARED</code>: Allows a shared open of the source file or table. Use this only on files that are not receiving updates at the same time data is being extracted.</p>
</li>
</ul>
<p><span class="bold">For the Replicat parameter file:</span></p>
<pre dir="ltr">
REPLICAT INITREP
USERID GoldenUser, <a id="d8412e630" class="indexterm-anchor"></a>PASSWORD pass
SOURCEDEFS $DATA.DIRDEF.SRCDEF
MAP $DATA.MASTER.ACCOUNT, TARGET $DATA3.MASTER.ACCOUNT;
MAP $DATA.MASTER.PRODUCT, TARGET $DATA3.MASTER.PRODUCT;
MAP $DATA.MASTER.CUSTOMER, TARGET $DATA3.MASTER.CUSTOMER;
</pre>
<p>In the above example:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">USERID</code> and <code class="codeph">PASSWORD</code> are required to access the target database.</p>
</li>
<li>
<p><code class="codeph">SOURCEDEFS</code> identifies the file containing the source data definitions.</p>
</li>
<li>
<p>The <code class="codeph">MAP</code> parameters map the source tables to the target tables, based on the data definitions in <code class="codeph">SOURCEDEFS</code>.</p>
</li>
</ul>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Start Extract:</span>
<div>
<pre dir="ltr">
GGSCI&gt; START EXTRACT INITEXT
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-E63886CA-D015-4A9E-AF88-FA2F5D4446EF">Direct Load</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD239"></a>
<div class="props_rev_3"><a id="GUID-22DEE841-F959-453D-BDDC-A0933840D533"></a>
<h4 id="GNSAD-GUID-22DEE841-F959-453D-BDDC-A0933840D533" class="sect4">Using Wildcards</h4>
<div>
<p>Wildcards can be used for the <code class="codeph">FILE</code> and <code class="codeph">TABLE</code> statements in direct load parameter files, but not for views.</p>
<p>Refer back to the example of an Extract group added with the <code class="codeph">SOURCEISFILE</code> parameter in <span class="q">"<a href="configuring-initial-data-synchronization.htm#GUID-F28828A7-F693-4D4A-A734-729D00C11ECB">To run direct load:</a>"</span>. If the <code class="codeph">ACCOUNT</code>, <code class="codeph">PRODUCT</code> and <code class="codeph">CUSTOMER</code> files are the only files on <code class="codeph">$DATA.MASTER</code>, the Extract parameters could be changed to use wildcards. This use of wildcards is shown in the following direct load parameter file:</p>
<pre dir="ltr">
EXTRACT INITEXT
RMTHOST targethost, MGRPORT 7809
RMTTASK REPLICAT, GROUP INITREP
TABLE $DATA.MASTER.*, AUTOTRUNCATE;
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-E63886CA-D015-4A9E-AF88-FA2F5D4446EF">Direct Load</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD240"></a>
<div class="props_rev_3"><a id="GUID-F3F1D8F2-8A9E-4C08-A443-9D34C05D15BE"></a>
<h3 id="GNSAD-GUID-F3F1D8F2-8A9E-4C08-A443-9D34C05D15BE" class="sect3">Direct Bulk Load</h3>
<div>
<p><a id="d8412e756" class="indexterm-anchor"></a><a id="d8412e758" class="indexterm-anchor"></a>If you are loading to an Oracle target, you may choose to use direct bulk load. Direct bulk load is the fastest technique for capturing and delivering data to SQL*Loaders. Extract sends the data, in a large block, to Replicat. Manager dynamically starts Replicat, which communicates directly with SQL*Loader using an API.</p>
<div class="infobox-note" id="GUID-F3F1D8F2-8A9E-4C08-A443-9D34C05D15BE__GUID-4141F9FB-1305-478F-A1B0-73AD02F3CEA4">
<p class="notep1">Note:</p>
<p>You can only use this direct bulk load from NonStop to Oracle.</p>
</div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-A44CE6B7-E520-4F92-89FD-B33C5EAFC95B">To run direct bulk load:</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174">Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD241"></a>
<div class="props_rev_3"><a id="GUID-A44CE6B7-E520-4F92-89FD-B33C5EAFC95B"></a>
<h4 id="GNSAD-GUID-A44CE6B7-E520-4F92-89FD-B33C5EAFC95B" class="sect4">To run direct bulk load:</h4>
<div>
<ol>
<li class="stepexpand"><span>Define an Extract group:</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d8412e803" class="indexterm-anchor"></a>ADD EXTRACT <span class="variable">group_name</span>, SOURCEISFILE
</pre></div>
</li>
<li class="stepexpand"><span>Define a Replicat group:</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d8412e817" class="indexterm-anchor"></a>ADD REPLICAT <span class="variable">group_name</span>, SPECIALRUN
</pre>
<p>Replicat is automatically started by Manager, at Extract's request.</p>
</div>
</li>
<li class="stepexpand"><span>Create the Extract and Replicat parameter files.</span>
<div>
<p>Following are the examples of sample direct bulk load parameter files.</p>
<p><span class="bold">Sample Extract parameter file:</span></p>
<pre dir="ltr">
EXTRACT INITEXT
RMTHOST targethost, MGRPORT 7809
RMTTASK REPLICAT, GROUP INITREP
TABLE $DATA.MASTER.ACCOUNT;
TABLE $DATA.MASTER.PRODUCT;
TABLE $DATA.MASTER.CUSTOMER;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">RMTHOST</code> establishes the remote TCP/IP host and port number.</p>
</li>
<li>
<p><code class="codeph">RMTTASK</code> instructs Manager on the target system to start Replicat with the specified group name.</p>
</li>
<li>
<p>The <code class="codeph">TABLE</code> parameters identify the source tables.</p>
</li>
</ul>
<p><span class="bold">Sample Replicat parameter file</span>:</p>
<pre dir="ltr">
REPLICAT INITREP
USERID GoldenUser, <a id="d8412e861" class="indexterm-anchor"></a>PASSWORD pass
BULKLOAD
SOURCEDEFS /GGS/DIRDEF/SRCDEF
MAP $DATA.MASTER.ACCOUNT, TARGET master.account;
MAP $DATA.MASTER.PRODUCT, TARGET master.product;
MAP $DATA.MASTER.CUSTOMER, TARGET master.customer;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">USERID</code> and <code class="codeph">PASSWORD</code> are required to access the target database.</p>
</li>
<li>
<p><code class="codeph">BULKLOAD</code> tells Replicat that SQL*Loader will load the target tables.</p>
</li>
<li>
<p><code class="codeph">SOURCEDEFS</code> identifies the file containing the source data definitions.</p>
</li>
<li>
<p>The <code class="codeph">MAP</code> parameters map the source tables to the target tables, based on the data definitions in <code class="codeph">SOURCEDEFS</code>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Start Extract:</span>
<div>
<pre dir="ltr">
GGSCI&gt; <a id="d8412e900" class="indexterm-anchor"></a>START EXTRACT <span class="variable">group_name</span>
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-F3F1D8F2-8A9E-4C08-A443-9D34C05D15BE">Direct Bulk Load</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD242"></a>
<div class="props_rev_3"><a id="GUID-412FC2E8-6722-476A-B205-1F07970BE945"></a>
<h3 id="GNSAD-GUID-412FC2E8-6722-476A-B205-1F07970BE945" class="sect3">Synchronizing Nonstop Databases Using Database Utilities Through TCP/IP</h3>
<div>
<div class="section">
<p>You can <a id="d8412e934" class="indexterm-anchor"></a><a id="d8412e938" class="indexterm-anchor"></a>synchronize two NonStop tables or files on different systems over a TCP/IP connection using the trail to database utility method. Use the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Start the Collector on the target system.</span></li>
<li class="stepexpand"><span>Create a parameter file to perform initial file extraction over TCP/IP.</span>
<div>
<p><span class="bold">Sample Extract parameter file</span>:</p>
<pre dir="ltr">
SOURCEISFILE, FASTUNLOAD
FORMATLOAD
RMTHOST 192.0.2.12, PORT 7829
RMTFILE $D3.INIDAT.TRANSTAB, PURGE
FILE \SRC.$D2.MYDB.TRANSTAB;
</pre>
<p>For this example parameter file, named <code class="codeph">GGSPARM.TRANINI</code>, you are identifying the Collector on the remote system.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SOURCEISFILE, FASTUNLOAD</code> directs Extract to retrieve data directly from the blocks of the table.</p>
</li>
<li>
<p><code class="codeph">FORMATLOAD</code> directs Extract to format the data compatible with FUP or SQLCI <code class="codeph">LOAD</code>.</p>
</li>
<li>
<p><code class="codeph">RMTHOST</code> identifies the IP address and port of the Collector process. When NonStop is the receiver, a separate Collector is required for each simultaneously active session.</p>
</li>
<li>
<p><code class="codeph">RMTFILE</code> identifies a flat file that holds the extracted data until the load is finished.</p>
</li>
<li>
<p><code class="codeph">FILE</code> identifies the source file or table from which to extract the data.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Run Extract to extract the data into a flat file on the target system.</span></li>
<li class="stepexpand"><span>Use FUP or SQLCI to insert the data into the target system, similar to:</span>
<div>
<pre dir="ltr">
SQLCI&gt; LOAD $D3.INIDAT.TRANSTAB, $D4.MYDB.TRANSTAB, RECIN 236, RECOUT 236;
</pre>
<p>The figures for <code class="codeph">RECIN</code> and <code class="codeph">RECOUT</code> are derived from Extract's recordings in <code class="codeph">$S.#TRAN</code>, which includes the physical length of the records in the target. For Enscribe, this is the same as the record length returned by <code class="codeph">FUP INFO</code>. For SQL, the size will vary and can be returned from <code class="codeph">RECORDSIZE</code> column in the <code class="codeph">FILE</code> table from the source table's catalog.</p>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-C9ADE2C9-5D8B-4153-B055-2AD967AF1174">Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD243"></a>
<div class="props_rev_3"><a id="GUID-01D7E432-A2AB-43C9-9579-FDC21EFB1909"></a>
<h2 id="GNSAD-GUID-01D7E432-A2AB-43C9-9579-FDC21EFB1909" class="sect2">Controlling the IP Process for Replicat</h2>
<div>
<div class="section">
<p>Although you can configure multiple initial-load Extracts and Replicats, by default the Replicats will inherit the IP process of the Manager running on the target. This results in a single IP <a id="d8412e1048" class="indexterm-anchor"></a>channel that does not spread the load across the processors.</p>
<p>To configure the Extract and Replicat pairs to use different channels, you can use static Replicats as shown in the next example.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Configure multiple Extracts to use the <code class="codeph">PORT</code> parameter, rather than <code class="codeph">MGRPORT</code>. Assign a different port to each.</span>
<div>
<pre dir="ltr">
EXTRACT extl1
RMTHOST 192.0.2.1, PORT 12345
RMTTASK REPLICAT, GROUP repl1
EXTRACT extl2
RMTHOST 192.0.2.2, PORT 12346
RMTTASK REPLICAT, GROUP repl2
</pre></div>
</li>
<li class="stepexpand"><span>Start static Replicats using the run-time parameter <a id="d8412e1071" class="indexterm-anchor"></a><code class="codeph">INITIALDATALOAD</code> with the <code class="codeph">-p</code> option to assign the port from the parameter file.</span>
<div>
<pre dir="ltr">
TACL&gt; ASSIGN STDERR, $0
TACL&gt; ADD DEFINE =TCPIP^PROCESS^NAME, FILES $ZTC1
TACL&gt; RUN REPLICAT/IN GGSPARM.REPL1,OUT GGSRPT.REPL1/INITIALDATALOAD -p 12345
TACL&gt; ASSIGN STDERR, $0
TACL&gt; ADD DEFINE =TCPIP^PROCESS^NAME, FILES $ZTC2
TACL&gt; RUN REPLICAT/IN GGSPARM.REPL2,OUT GGSRPT.REPL2/INITIALDATALOAD -p 12346
</pre>
<div class="infobox-note" id="GUID-01D7E432-A2AB-43C9-9579-FDC21EFB1909__GUID-BDDD3A09-3B63-4181-A866-368F62958807">
<p class="notep1">Note:</p>
<p>Since the Replicats are started statically, they will not be restarted by Manager if there is a system problem.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD244"></a>
<div class="props_rev_3"><a id="GUID-9EEFD976-9079-4FEA-A609-FC6D8ED0477B"></a>
<h2 id="GNSAD-GUID-9EEFD976-9079-4FEA-A609-FC6D8ED0477B" class="sect2">Loading Oracle, Microsoft, or Sybase SQL Server Tables</h2>
<div>
<p>NonStop tables and files can be synchronized with <a id="d8412e1117" class="indexterm-anchor"></a>Oracle or <a id="d8412e1120" class="indexterm-anchor"></a>SQL Server tables in very much the same way as NonStop-to-NonStop synchronization.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-C2D4CE61-AAF2-4870-AE11-50F472011301">Loading to Oracle or SQL Server</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-82CFE595-AE72-42AC-AE6C-7B68F77AFB88">Initial Sync Parameter File Examples</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD245"></a>
<div class="props_rev_3"><a id="GUID-C2D4CE61-AAF2-4870-AE11-50F472011301"></a>
<h3 id="GNSAD-GUID-C2D4CE61-AAF2-4870-AE11-50F472011301" class="sect3">Loading to Oracle or SQL Server</h3>
<div>
<div class="section">
<p class="subhead3">To load to Oracle or SQL Server:</p>
<ol>
<li>
<p>Run <code class="codeph">DEFGEN</code> to export source data definitions to the target system. Be sure to satisfy any other prerequisites.</p>
</li>
<li>
<p>Start the Collector on the target system:</p>
<p>For UNIX:</p>
<pre dir="ltr">
$server &ndash;d /ggs/mydb.def 2&gt; server.log &amp;
</pre>
<p>For Windows:</p>
<pre dir="ltr">
server &ndash;d \ggs\mydb.def 2&gt; server.log
</pre>
<p>Use the &ndash;d option to specify the definitions file created by <code class="codeph">DEFGEN</code> (<code class="codeph">mydb.def</code>).</p>
</li>
<li>
<p>Create an Extract parameter file to perform initial table extract over TCP/IP.</p>
</li>
<li>
<p>Run the Extract program to extract the data into a flat file on the target system:</p>
<pre dir="ltr">
TACL&gt; RUN GGS.EXTRACT /IN GGSPARM.TRANINI, OUT $S.#TRAN/
</pre>
<p>This command creates a flat file on the target. If you specified the <code class="codeph">FORMATASCII, SQLLOADER</code> in a parameter file for Oracle, Oracle GoldenGate generates the flat file in a format that SQL*Loader can read. If you specified <code class="codeph">FORMATASCII</code>, <code class="codeph">BCP</code> in the parameter file for SQL Server, Oracle GoldenGate generates a flat file that is compatible with the BCP utility.</p>
</li>
<li>
<p>Create a Replicat parameter file using the <code class="codeph">MAP</code> parameter to map between source and target tables.</p>
</li>
<li>
<p>Run Replicat to create files called <code class="codeph">TRANSTAB.ctl</code> and <code class="codeph">TRANSTAB.run</code> for Oracle, and <code class="codeph">TRANSTAB.bat</code> and <code class="codeph">TRANSTAB.fmt</code> for SQL Server. These files contain mapping definitions and run commands required to load.</p>
<p>For UNIX:</p>
<pre dir="ltr">
replicat paramfile/ggs/dirprm/tranini.prm
</pre>
<p>For Windows:</p>
<pre dir="ltr">
C:\replicat paramfile\ggs\dirprm\tranini
</pre></li>
<li>
<p>Load the data.</p>
<p>For UNIX:</p>
<pre dir="ltr">
$TRANSTAB.run
</pre>
<p>For Windows:</p>
<pre dir="ltr">
TRANSTAB.bat
</pre></li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9EEFD976-9079-4FEA-A609-FC6D8ED0477B">Loading Oracle, Microsoft, or Sybase SQL Server Tables</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD246"></a>
<div class="props_rev_3"><a id="GUID-82CFE595-AE72-42AC-AE6C-7B68F77AFB88"></a>
<h3 id="GNSAD-GUID-82CFE595-AE72-42AC-AE6C-7B68F77AFB88" class="sect3">Initial Sync Parameter File Examples</h3>
<div>
<p>This sections contains these examples:</p>
<ul style="list-style-type: disc;">
<li>
<p>An Extract parameter file example for Oracle running on UNIX</p>
</li>
<li>
<p>A Replicat parameter file example for Oracle running on UNIX</p>
</li>
<li>
<p>An Extract parameter file example for SQL Server running on Windows</p>
</li>
<li>
<p>A Replicat parameter file example for SQL Server running on Windows</p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-DF01FDBC-474C-4A64-96B6-6000F5036DEB">Sample NonStop to Oracle Parameter Files</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-29315582-BCCD-45FC-837B-5EA3C59E37B1">Sample SQL Server Parameter Files</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9EEFD976-9079-4FEA-A609-FC6D8ED0477B">Loading Oracle, Microsoft, or Sybase SQL Server Tables</a></p>
</div>
</div>
</div>
<a id="GNSAD247"></a>
<div class="props_rev_3"><a id="GUID-DF01FDBC-474C-4A64-96B6-6000F5036DEB"></a>
<h4 id="GNSAD-GUID-DF01FDBC-474C-4A64-96B6-6000F5036DEB" class="sect4">Sample NonStop to Oracle Parameter Files</h4>
<div>
<div class="section">
<p>Following are examples of NonStop to Oracle Extract parameter files.</p>
<p><span class="bold">Extract Parameter File GGSPARM.ORAINI:</span></p>
<pre dir="ltr">
SOURCEISFILE, FASTUNLOAD
FORMATASCII, SQLLOADER
RMTHOST ntbox12, MGRPORT 7809, PARAMS "-d c:\ggs\dirdef\source.def"
RMTFILE TRANSTAB.dat, PURGE
FILE \SRC.$D2.MYDB.TRANSTAB;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">FORMATASCII, SQLLOADER</code> specifies the data format is compatible with Oracle's SQL*Loader utility.</p>
</li>
<li>
<p><code class="codeph">RMTFILE</code> identifies <code class="codeph">TRANSTAB.dat</code> as the source table.</p>
</li>
</ul>
<p><span class="bold">Replicat Parameter File /ggs/dirprm/tranini.prm:</span></p>
<pre dir="ltr">
GENLOADFILES
USERID me, <a id="d8412e1360" class="indexterm-anchor"></a>PASSWORD orapw
SOURCEDEFS /ggs/mydb.def
MAP $D2.MYDB.TRANSTAB, TARGET ORATRANS;
RMTFILE /ggsdat/tranini, PURGE
FILE \SRC.$D2.MYDB.TRANSTAB;
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">GENLOADFILES</code> generates load control files and then quits. These control files generate maps, even between dissimilar tables.</p>
</li>
<li>
<p><code class="codeph">USERID</code> and <code class="codeph">PASSWORD</code> specify the database log on.</p>
</li>
<li>
<p><code class="codeph">SOURCEDEFS</code> specifies the location of the NonStop definitions exported by <code class="codeph">DEFGEN</code> (These are required to generate a load map.)</p>
</li>
<li>
<p><code class="codeph">MAP</code> specifies the source to target relationship of the NonStop to Oracle table.</p>
</li>
<li>
<p>Errors are displayed to the screen and detailed messages are written to the <code class="codeph">TRANSTAB.err</code> and <code class="codeph">TRANSTAB.log</code> files</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-82CFE595-AE72-42AC-AE6C-7B68F77AFB88">Initial Sync Parameter File Examples</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD248"></a>
<div class="props_rev_3"><a id="GUID-29315582-BCCD-45FC-837B-5EA3C59E37B1"></a>
<h4 id="GNSAD-GUID-29315582-BCCD-45FC-837B-5EA3C59E37B1" class="sect4">Sample SQL Server Parameter Files</h4>
<div>
<div class="section">
<p>Following are examples of parameter files for SQL Server.</p>
<p><span class="bold">Extract parameter file GGSPARM.SQLINI:</span></p>
<pre dir="ltr">
SOURCEISFILE, FASTUNLOAD
FORMATASCII, BCP
RMTHOST ntbox12, MGRPORT 7809, PARAMS "-d c:\ggs\dirdef\source.def"
RMTFILE C:\GGS\TRANSTAB.dat, PURGE
TABLE $DATA.MASTER.TRANS
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">FORMATASCII, BCP</code> specifies the data format is compatible with the Microsoft <code class="codeph">BCP</code> utility.</p>
</li>
<li>
<p><code class="codeph">RMTFILE</code> identifies <code class="codeph">TRANSTAB.dat</code> as the source table. Using the <code class="codeph">dat</code> extension makes it compatible with the load functions.</p>
</li>
</ul>
<p>To load data to SQL Server, you must use the <code class="codeph">BCP</code> template provided by Oracle GoldenGate. You can call <code class="codeph">BCP</code> from your Replicat parameter file or run it interactively from the operating system shell. The template tells Replicat how data is laid out in the SQL Server target.</p>
<p><span class="bold">Replicat parameter file for GGSPARM.TRANINI</span></p>
<pre dir="ltr">
GENLOADFILES BCPFMT.TPLTARGETDB
TARGETDB MYAPP, USERID MYNAME, PASSWORD MSPW
SOURCEDEFS c:\ggs\mydb.def
MAP $D2.MYDB.TRANSTAB, TARGET SCHEMA.ORATRANS;
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-82CFE595-AE72-42AC-AE6C-7B68F77AFB88">Initial Sync Parameter File Examples</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GNSAD249"></a>
<div class="props_rev_3"><a id="GUID-7350FEC1-5CA5-46FC-A7DD-20DD78F88AC0"></a>
<h2 id="GNSAD-GUID-7350FEC1-5CA5-46FC-A7DD-20DD78F88AC0" class="sect2">Limiting the Enscribe Source Key Range for Initial Load</h2>
<div>
<p>If your parameters meet the requirements, the <code class="codeph">FILE</code> parameter options <a id="d8412e1498" class="indexterm-anchor"></a><a id="d8412e1500" class="indexterm-anchor"></a><code class="codeph">STARTKEY</code> and <a id="d8412e1505" class="indexterm-anchor"></a><a id="d8412e1507" class="indexterm-anchor"></a><code class="codeph">ENDKEY</code> can be used to limit the range of Enscribe records selected for a <a id="d8412e1513" class="indexterm-anchor"></a><code class="codeph">SOURCEISFILE</code> initial-load process. This allows you to load subsets of the data for different purposes or to break up the a large initial data load. Refer to <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> <code class="codeph">FILE | TABLE</code> parameter for specifics on the requirements and how to use <code class="codeph">STARTKEY</code> and <code class="codeph">ENDKEY</code>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD501"></a><a id="GNSAD502"></a><a id="GNSAD503"></a><a id="GNSAD504"></a><a id="GNSAD250"></a>
<div class="props_rev_3"><a id="GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4"></a>
<h2 id="GNSAD-GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4" class="sect2">Restarting an Initial Load</h2>
<div>
<div class="section">
<p>You can restart i<a id="d8412e1569" class="indexterm-anchor"></a><a id="d8412e1573" class="indexterm-anchor"></a>nitial loads using the <a id="d8412e1578" class="indexterm-anchor"></a><code class="codeph">RESTARTCHECKPOINTS</code> option of the <code class="codeph">SOURCEISFILE</code> or <code class="codeph">SOURCEISTABLE</code> parameter if your Extract is added from GGSCI.</p>
<p>You can use <code class="codeph">RESTARTCHECKPOINTS</code> for:</p>
<ul style="list-style-type: disc;">
<li>
<p>SQL/MP source tables with or without the <code class="codeph">SQLPREDICATE</code> option</p>
</li>
<li>
<p>Enscribe whether or not you use the <code class="codeph">FILE</code> <code class="codeph">STARTKEY</code> and <code class="codeph">ENDKEY</code> options</p>
</li>
<li>
<p>Both SQL/MP and Enscribe with or without <code class="codeph">FASTUNLOAD</code>.</p>
</li>
</ul>
<p>Refer to <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> for additional conditions and restrictions for using the <code class="codeph">SOURCEISFILE</code> <code class="codeph">RESTARTCHECKPOINTS</code> option.</p>
<p>The messages generated when the <code class="codeph">SOURCEISFILE</code> Extract restarts vary based on the type of database and the parameters and options that are used. Some different types of examples are shown next.</p>
<dl>
<dt class="dlterm"><a id="GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4__GUID-C1735C87-CA6B-495D-81F0-1EFA009B657E"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;SQL/MP tables produced without using FASTUNLOAD</dt>
<dd>
<p>A message similar to the following is produced for SQL/MP source tables without <a id="d8412e1647" class="indexterm-anchor"></a><code class="codeph">FASTUNLOAD</code>. In this example the option <code class="codeph">SQLPREDICATE</code> is being used and <code class="codeph">WHERE (STATE = "CA")</code> is the user's predicate. <code class="codeph">AC_KEY</code> is the multi-column key for the restart.</p>
<pre dir="ltr">
Output extract file \NY.$DATA02.ACDAT.PA000009 Write Position: RBA 19126
Extract SourceIsFile process is restartable
Processing File \NY.$DATA02.ACDAT.ACCT
Using this SQL statement to retrieve data:
SELECT * FROM \NY.$DATA02.ACDAT.ACCT WHERE (STATE = "CA") AND AC_KEY1, AC_KEY2, AC_KEY3 &gt; 13 ,4781 ,27 BROWSE ACCESS
</pre></dd>
<dt class="dlterm"><a id="GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4__GUID-14DA6489-A58A-4D30-AAB2-26AC71792249"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;SQL/MP or Enscribe tables produced using FASTUNLOAD</dt>
<dd>
<p>A message similar to the following is produced for SQL/MP or Enscribe source tables using <code class="codeph">FASTUNLOAD</code>. The restart key is <code class="codeph">RBA 9555968</code> of partition <code class="codeph">$DATA03</code>.</p>
<pre dir="ltr">
Output extract file \NY.$DATA02.ACDAT.PA000009 Write Position: RBA 19126
Extract SourceIsFile process is restartable
Processing File \NY.$DATA02.ACDAT.ACCT2
Processing Partition \NY.$DATA03.ACDAT.ACCT2
Positioning Restart at RBA 9555968 
</pre></dd>
<dt class="dlterm"><a id="GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4__GUID-54B03B20-D47D-4362-AE34-37C7742687E1"><!-- --></a>Example 3&nbsp;&nbsp;&nbsp;Enscribe tables produced without FASTUNLOAD or STARTKEY</dt>
<dd>
<p>A message similar to the following is produced for Enscribe that is not using <code class="codeph">FASTUNLOAD</code> and without <code class="codeph">STARTKEY</code>. The <code class="codeph">CUST-KEY</code> used for the restart is <code class="codeph">1234</code>.</p>
<pre dir="ltr">
Output extract file \NY.$DATA02.ACDAT.PA000009 Write Position: RBA 19126
ExtractSourceIsFile process is restartable
Processing File \NY.$DATA02.ACDAT.ALTPART
Processing using restart values ( CUST-KEY = 1234 )
</pre></dd>
<dt class="dlterm"><a id="GUID-B1ACDE6B-CDC6-42A4-93F2-B3367E9154D4__GUID-6608B14C-71C1-49BF-B86F-5631DE51FB79"><!-- --></a>Example 4&nbsp;&nbsp;&nbsp;Enscribe tables produced without FASTLOAD and with a STARTKEY</dt>
<dd>
<p>A message similar to the following is produced for Enscribe without <code class="codeph">FASTUNLOAD</code> and with <code class="codeph">STARTKEY</code>. The <code class="codeph">CUST-KEY</code> used for the restart is <code class="codeph">1234</code>.</p>
<pre dir="ltr">
file $data02.acdat.altpart, startkey (CUST-key = 0000), def ens-rec,
                          endkey   (CUST-key = 5555);
file $data02.acdat.altpart, startkey (CUST-key = 5556), def ens-rec,
                          endkey   (CUST-key = 999999);
Output extract file \NY.$DATA02.ACDAT.PA000009 Write Position: RBA 19126
Extract SourceIsFile process is restartable
Processing File \NY.$DATA02.ACDAT.ALTPART
Processing using restart values ( CUST-KEY = 1234 )
Finished to EndKey ( CUST-KEY = 5555 )
Processing from StartKey ( CUST-KEY = 5556 )
Finished to EndKey ( CUST-KEY = 999999 )
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD251"></a>
<div class="props_rev_3"><a id="GUID-01C48B82-FA88-4CFE-A442-9D3388E676A7"></a>
<h2 id="GNSAD-GUID-01C48B82-FA88-4CFE-A442-9D3388E676A7" class="sect2">Loading Initial Data from Windows and Unix</h2>
<div>
<p>Use Replicat to load data from a Windows or UNIX system into a NonStop target database. See <a class="olink GWUAD-GUID-629DFF70-F942-45A3-80ED-459C925E8879" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=ns1221&amp;id=GWUAD-GUID-629DFF70-F942-45A3-80ED-459C925E8879">Getting Started with the Oracle GoldenGate Process Interfaces</a> for details.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD252"></a>
<div class="props_rev_3"><a id="GUID-7546C9E1-2BA8-4B22-A5BB-27573AD00B04"></a>
<h2 id="GNSAD-GUID-7546C9E1-2BA8-4B22-A5BB-27573AD00B04" class="sect2">Integrating Source and Target Data</h2>
<div>
<p><a id="d8412e1795" class="indexterm-anchor"></a>When only a subset of source rows or columns are needed in the target, you can use one of the following techniques to integrate selected data into your target:</p>
<ul style="list-style-type: disc;">
<li>
<p>Selecting on the source with <code class="codeph">WHERE</code> or <code class="codeph">FILTER</code></p>
</li>
<li>
<p>Mapping columns on the target with <code class="codeph">COLMAP</code></p>
</li>
</ul>
<p>When the data source is a SQL table, you can specify <a id="d8412e1816" class="indexterm-anchor"></a>SQL Views. This allows automatic filtering of columns before transmission.</p>
<p>Data transformation (such as six-to-eight digit date conversion) takes a little extra effort during the load process. There are a couple of ways to achieve initial loads in this situation.</p>
<p>The first solution involves extracting the entire table into a flat file. In this case, do not specify <code class="codeph">FORMATASCII</code>. Next use Replicat to load the table using the <code class="codeph">SPECIALRUN</code> parameter. This method, while slower than native loads, is often sufficient and allows field conversion functions to be used during replication.</p>
<p>The second solution is to perform all data mapping on the NonStop before transmission on the target side. This means that all conversion work is performed by Extract. Using this strategy can result in less network traffic, since filtering can be performed before data reaches the pipe. However, this can also require the creation of a dummy table or DDL definition on the NonStop side that mimics the structure of the real target table.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD253"></a>
<div class="props_rev_3"><a id="GUID-640FE0FA-479A-4E08-A90B-E5AE7C4342BB"></a>
<h2 id="GNSAD-GUID-640FE0FA-479A-4E08-A90B-E5AE7C4342BB" class="sect2">Distributing Extracted Data</h2>
<div>
<div class="section">
<p>In addition to extracting and replicating database changes, Extract can forward and distribute changes that have already been extracted. This process is known as <a id="d8412e1867" class="indexterm-anchor"></a><a id="d8412e1869" class="indexterm-anchor"></a><span class="italic">data pumping</span>.</p>
<p>Use data pumping in the following scenarios:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A network or target system may be down for an extended time, but extraction or logging activities must occur constantly.</p>
</li>
<li>
<p>Data extracted by Logger must be forwarded over TCP/IP to non-NonStop systems.</p>
</li>
</ul>
<p>Running Extract for these purposes is nearly identical to capturing data from TMF audit trails. To run Extract in this manner, perform the following tasks.</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Using the <code class="codeph">EXTTRAILSOURCE</code> or <code class="codeph">LOGTRAILSOURCE</code> option, create an initial Extract checkpoint with the GGSCI <code class="codeph">ADD EXTRACT</code> command.</span></li>
<li><span>Add a local or remote Oracle GoldenGate trail with the GGSCI <a id="d8412e1902" class="indexterm-anchor"></a><code class="codeph">ADD EXTTRAIL</code> or <a id="d8412e1907" class="indexterm-anchor"></a><code class="codeph">ADD RMTTRAIL</code> command. By adding the trails, you direct Extract where to write the data you need.</span></li>
<li><span>Set up an Extract parameter file.</span></li>
<li><span>Start Extract using the GGSCI <code class="codeph">START EXTRACT</code> command.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD254"></a>
<div class="props_rev_3"><a id="GUID-7A6BD418-EA30-4ACA-8840-F42C9A2903FC"></a>
<h2 id="GNSAD-GUID-7A6BD418-EA30-4ACA-8840-F42C9A2903FC" class="sect2">Direct File Extraction</h2>
<div>
<div class="section">
<p><a id="d8412e1953" class="indexterm-anchor"></a><a id="d8412e1955" class="indexterm-anchor"></a>Rather than capturing from trails, you can extract directly from a file or a sequence of files. You can read a file directly only when the following conditions are true:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>The file or sequence of files is <a id="d8412e1965" class="indexterm-anchor"></a><a id="d8412e1969" class="indexterm-anchor"></a>entry-sequenced.</p>
</li>
<li>
<p>Only inserts occur against the files (no updates).</p>
</li>
<li>
<p>Records are inserted only at the end of the file.</p>
</li>
</ul>
<p>Use this feature when:</p>
<ul style="list-style-type: disc;">
<li>
<p>The method of logging is <a id="d8412e1986" class="indexterm-anchor"></a>non-TMF.</p>
</li>
<li>
<p>The files are <a id="d8412e1994" class="indexterm-anchor"></a>BASE24 <code class="codeph">TLF</code> or <code class="codeph">PTLF.</code></p>
</li>
<li>
<p>The input files meet the conditions described above.</p>
</li>
<li>
<p>You want to transfer the batch file contents a little at a time throughout the day ("trickle" transfer), rather than all at once at the end of the day.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To extract directly from a file:</p>
<ol>
<li>
<p>Enter a GGSCI <code class="codeph">ADD EXTRACT</code> command, specifying the <code class="codeph">FILETYPE</code> parameter. <code class="codeph">FILETYPE</code> indicates the type of file from which you are reading.</p>
</li>
<li>
<p>If more than one file in a sequence might be open at a time, start Extract for each file in use simultaneously. Enter an <code class="codeph">ALTINPUT</code> parameter in each process's parameter file with a <code class="codeph">RANGE</code> option to distribute the files among the processes. For further details, see <a class="olink GWUAD-GUID-28878A52-CE8B-45DE-A2E2-B53CD7837224" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=ns1221&amp;id=GWUAD-GUID-28878A52-CE8B-45DE-A2E2-B53CD7837224">Controlling Extract and Replicat</a>.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD255"></a>
<div class="props_rev_3"><a id="GUID-05732C0F-CF4F-420E-AFDD-66C7598D5EDF"></a>
<h2 id="GNSAD-GUID-05732C0F-CF4F-420E-AFDD-66C7598D5EDF" class="sect2">Batch Processing</h2>
<div>
<p>You can configure Extract and Replicat to run in batch when capturing and delivering incremental changes is not appropriate for the application. You can configure ongoing batch runs for a specific time daily, or special, one-time batch runs.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-F5A6F958-0F3A-4793-AA2D-42EB297C1910">One-Time Database Extraction</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-E0A3CBD7-99A5-435C-8F22-27FD8A75106A">Trickle Batch Processing</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-9C9A793B-95CF-49CF-9638-F2F39607EECC" title="Before running the Oracle GoldenGate for Nonstop for the first time, synchronize the source and target databases. Here we address initial data synchronization when the source is TMF-Enabled.">Configuring Initial Data Synchronization</a></p>
</div>
</div>
</div>
<a id="GNSAD256"></a>
<div class="props_rev_3"><a id="GUID-F5A6F958-0F3A-4793-AA2D-42EB297C1910"></a>
<h3 id="GNSAD-GUID-F5A6F958-0F3A-4793-AA2D-42EB297C1910" class="sect3">One-Time Database Extraction</h3>
<div>
<div class="section">
<p>You can run <a id="d8412e2121" class="indexterm-anchor"></a>Extract against a specified period of audit trail or Oracle GoldenGate trail data a single time. Do this, for example, to extract changes to a particular account in a database over the course of a day.</p>
<p>To extract changes for a specific period, perform the following steps.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set up a parameter file using the NonStop editor.</span></li>
<li class="stepexpand"><span>Use <code class="codeph">SPECIALRUN</code> to capture data from TMF-audit trails. <code class="codeph">SPECIALRUN</code> indicates that no checkpoints are maintained.</span></li>
<li class="stepexpand"><span>To extract data from an Oracle GoldenGate trail, use the <code class="codeph">SPECIALRUN</code>, <code class="codeph">EXTTRAILSOURCE</code> or <code class="codeph">LOGTRAILSOURCE</code> option.</span></li>
<li class="stepexpand"><span>Set up <code class="codeph">BEGIN</code> and <code class="codeph">END</code> parameters to designate the period of activity to extract.</span></li>
<li class="stepexpand"><span>Designate an <code class="codeph">EXTFILE</code> or <code class="codeph">RMTFILE</code> rather than an extract trail. If you require multiple trails, add the <code class="codeph">MAXFILE</code> argument to the <code class="codeph">EXTFILE</code> or <code class="codeph">RMTFILE</code> parameter.</span></li>
<li class="stepexpand"><span>Specify additional parameters as needed.</span></li>
<li class="stepexpand"><span>Start Extract from TACL, as in this example.</span>
<div>
<pre dir="ltr">
TACL&gt; RUN EXTRACT /IN GGSPARM.SPECEXT, OUT GGSRPT.SPECEXT/
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-05732C0F-CF4F-420E-AFDD-66C7598D5EDF">Batch Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD257"></a>
<div class="props_rev_3"><a id="GUID-E0A3CBD7-99A5-435C-8F22-27FD8A75106A"></a>
<h3 id="GNSAD-GUID-E0A3CBD7-99A5-435C-8F22-27FD8A75106A" class="sect3">Trickle Batch Processing</h3>
<div>
<div class="section">
<p>When you are extracting batch files using <code class="codeph">RMTBATCH</code>, you may need to perform the following steps:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Use the <code class="codeph">SYSKEYCONVERT</code> parameter in the Extract parameter file if the input record's length is variable. This specifies the format of the <code class="codeph">SYSKEY</code> in the output.</span></li>
<li><span>Use the <code class="codeph">POSITIONFIRSTRECORD</code> parameter to reread an input file when you have used <code class="codeph">SYSKEYCONVERT</code>. <code class="codeph">POSITIONFIRSTRECORD</code> resets Extract to read from the beginning of the input file.</span></li>
</ol>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-D32AEE76-47C8-41DA-850E-30DA9C6A7F6A">Determining the Next File</a><br /></li>
<li class="ulchildlink"><a href="configuring-initial-data-synchronization.htm#GUID-E88343CC-EE99-40F9-9045-647F656F6F59">When the Next File is Processed</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-05732C0F-CF4F-420E-AFDD-66C7598D5EDF">Batch Processing</a></p>
</div>
</div>
</div>
<a id="GNSAD258"></a>
<div class="props_rev_3"><a id="GUID-D32AEE76-47C8-41DA-850E-30DA9C6A7F6A"></a>
<h4 id="GNSAD-GUID-D32AEE76-47C8-41DA-850E-30DA9C6A7F6A" class="sect4">Determining the Next File</h4>
<div>
<p>Use <code class="codeph">ALTINPUT</code> for direct file extraction. With ACI files, multiple files can be in use at one time. For example, processing can continue for Monday's file after midnight, while Tuesday's file is opened for new data. To handle a multiple file situation, run more than one Extract process for the file sequence. Use the <code class="codeph">ALTINPUT RANGE</code> option to distribute the files across the processes so that Extract never processes two files in sequence. You can also use <code class="codeph">ALTINPUT</code> to specify the access mode of the file open, and to move Extract to the next sequential file if an application has a file open that it is not updating.</p>
<p>By default, Extract looks for the next alphabetical file name. The file name must conform to a template for the file type, which defaults to predefined characteristics. You can also specify the template by parameter.</p>
<p>If the file type is <code class="codeph">ACITLF</code> or <code class="codeph">ACIPTLF</code>, the template is in the form <code class="codeph">$VOL.SUBVOL.XXYYMMDD</code>, where <span class="italic"><code class="codeph">XX</code></span> is a two character prefix, followed by a six digit date.</p>
<p>If the file type is <code class="codeph">ACITLFX</code> or <code class="codeph">ACIPTLFX</code>, the template is in the form <code class="codeph">$VOL.SUBVOL.XMMDDNNN</code>, where <code class="codeph">X</code> is a one character prefix, followed by a month, day and three digit sequence number.</p>
<p>When specifying any of the ACI file types in the <code class="codeph">FILETYPE</code> option, do not include the date or sequence number. The next file is the one following the current file in name order, and must also satisfy any <code class="codeph">RANGE</code> criteria in the <code class="codeph">ALTINPUT</code> parameter.</p>
<p>If the file type is <code class="codeph">ENTRY</code>, you specify the template in the <code class="codeph">ALTINPUT</code> parameter <code class="codeph">TEMPLATE</code> option. NonStop wildcards are acceptable. For example, the template <code class="codeph">$DATA*.MYDAT.FL*</code> processes files starting with <code class="codeph">FL</code> residing on different <code class="codeph">$Data</code> volumes.</p>
<p>When using <code class="codeph">FILETYPE</code> <code class="codeph">ENTRY</code>, specify the first file to process, not the file prefix. By default, the next file is the next file name to fit the template. As an alternative, you can use <code class="codeph">FILETYPE</code> <code class="codeph">USENEXTMODIFIED</code>. This option selects the next file modified after the current file that also fits the template.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-E0A3CBD7-99A5-435C-8F22-27FD8A75106A">Trickle Batch Processing</a></p>
</div>
</div>
</div>
</div>
<a id="GNSAD259"></a>
<div class="props_rev_3"><a id="GUID-E88343CC-EE99-40F9-9045-647F656F6F59"></a>
<h4 id="GNSAD-GUID-E88343CC-EE99-40F9-9045-647F656F6F59" class="sect4">When the Next File is Processed</h4>
<div>
<p>Before moving to the next file in a sequence, Extract must process the entire contents of the current file. By default, Extract uses the following rules to determine that the current file has been exhausted and the next file is ready for processing.</p>
<ul style="list-style-type: disc;">
<li>
<p>End-of-file was reached in current file at least five seconds earlier, and no new data has appeared since.</p>
</li>
<li>
<p>No processes have the current file open for write access.</p>
</li>
<li>
<p>The next file exists and has at least one record in it.</p>
</li>
<li>
<p>The next file was modified after the current file.</p>
</li>
</ul>
<p>You can modify these rules with the <code class="codeph">NOWAITNEXTMODIFIED</code>, <code class="codeph">WAITNEXTRBA</code>, and <code class="codeph">OPENTIMEOUT</code> options for the <code class="codeph">ALTINPUT</code> parameter.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-initial-data-synchronization.htm#GUID-E0A3CBD7-99A5-435C-8F22-27FD8A75106A">Trickle Batch Processing</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment191">
<tr>
<td class="cellalignment228">
<table class="cellalignment196">
<tr>
<td class="cellalignment195"><a href="planning-configuration.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment195"><a href="configuring-oracle-goldengate-security.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment230">
<table class="cellalignment194">
<tr>
<td class="cellalignment195"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment195"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment195"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment195"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
