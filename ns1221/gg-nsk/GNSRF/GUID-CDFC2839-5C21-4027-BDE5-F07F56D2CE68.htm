<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>INSERTALLRECORDS | NOINSERTALLRECORDS</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2017-03-12T23:03:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference Guide for Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57713-03" />
<meta name="dcterms.isVersionOf" content="GNSRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-386C939D-EB76-4BC7-ACAC-2C88984966F6.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-A367C72E-2991-40BC-9DCB-FA2723B77D5E.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSRF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68"></a> <span id="PAGE" style="display:none;">152/360</span> <!-- End Header -->
<a id="GNSRF452"></a><a id="GNSRF453"></a><a id="GNSRF451"></a>
<h1 id="GNSRF-GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68" class="sect1"><span class="enumeration_section">2.126</span> INSERTALLRECORDS | NOINSERTALLRECORDS</h1>
<div>
<div class="section">
<p class="subhead1">Valid for</p>
<p>Replicat<a id="d63232e21" class="indexterm-anchor"></a><a id="d63232e25" class="indexterm-anchor"></a></p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Use <code class="codeph">INSERTALLRECORDS</code> to apply all record types as inserts in the target. Normally, Replicat applies inserts, updates and deletes to the target database as they occur on the original database. Consider the following sequence of transactions:</p>
<div class="tblformal" id="GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68__GUID-7254095A-670D-44A0-9591-646295456248">
<table class="cellalignment38" summary="This table lists the sequence, operation, user, and balance for some transactions.">
<thead>
<tr class="cellalignment29">
<th class="cellalignment59" id="d63232e48">Sequence</th>
<th class="cellalignment59" id="d63232e51">Operation</th>
<th class="cellalignment60" id="d63232e54">Table</th>
<th class="cellalignment61" id="d63232e57">ID</th>
<th class="cellalignment59" id="d63232e60">BALANCE</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment29">
<td class="cellalignment62" id="d63232e65" headers="d63232e48">
<pre dir="ltr">
1
</pre></td>
<td class="cellalignment62" headers="d63232e65 d63232e51">
<pre dir="ltr">
INSERT
</pre></td>
<td class="cellalignment63" headers="d63232e65 d63232e54">
<pre dir="ltr">
CUSTOMER
</pre></td>
<td class="cellalignment64" headers="d63232e65 d63232e57">
<pre dir="ltr">
DAVE
</pre></td>
<td class="cellalignment62" headers="d63232e65 d63232e60">
<pre dir="ltr">
1000
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment62" id="d63232e81" headers="d63232e48">
<pre dir="ltr">
2
</pre></td>
<td class="cellalignment62" headers="d63232e81 d63232e51">
<pre dir="ltr">
UPDATE
</pre></td>
<td class="cellalignment63" headers="d63232e81 d63232e54">
<pre dir="ltr">
CUSTOMER
</pre></td>
<td class="cellalignment64" headers="d63232e81 d63232e57">
<pre dir="ltr">
DAVE
</pre></td>
<td class="cellalignment62" headers="d63232e81 d63232e60">
<pre dir="ltr">
900
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment62" id="d63232e97" headers="d63232e48">
<pre dir="ltr">
3
</pre></td>
<td class="cellalignment62" headers="d63232e97 d63232e51">
<pre dir="ltr">
UPDATE
</pre></td>
<td class="cellalignment63" headers="d63232e97 d63232e54">
<pre dir="ltr">
CUSTOMER
</pre></td>
<td class="cellalignment64" headers="d63232e97 d63232e57">
<pre dir="ltr">
DAVE
</pre></td>
<td class="cellalignment62" headers="d63232e97 d63232e60">
<pre dir="ltr">
1250
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment62" id="d63232e113" headers="d63232e48">
<pre dir="ltr">
4
</pre></td>
<td class="cellalignment62" headers="d63232e113 d63232e51">
<pre dir="ltr">
DELETE
</pre></td>
<td class="cellalignment63" headers="d63232e113 d63232e54">
<pre dir="ltr">
CUSTOMER
</pre></td>
<td class="cellalignment64" headers="d63232e113 d63232e57">
<pre dir="ltr">
DAVE
</pre></td>
<td class="cellalignment62" headers="d63232e113 d63232e60">
<pre dir="ltr">
1250
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>These operations, after replication, would leave no trace of the ID <code class="codeph">DAVE</code>. No transaction information would be kept, only the ending balance. Therefore, we would have no knowledge that the first update reduced <code class="codeph">BALANCE</code> by 100, or that the second update increased <code class="codeph">BALANCE</code> by 350. Finally, we would have no idea that <code class="codeph">DAVE</code> was ever deleted from the database, or what his ending <code class="codeph">BALANCE</code> was.</p>
<p><code class="codeph">INSERTALLRECORDS</code> allows this information to be recorded. Instead of applying updates and deletes as they originally occurred, <code class="codeph">INSERTALLRECORDS</code> forces Replicat to insert the information as a new record into the target table. <code class="codeph">INSERTALLRECORDS</code> results in the storage of all images&mdash;before and after&mdash;into the target database.</p>
<p>Combining this information with special transaction information provides a way to create a database that contains more useful information. You can add special column values related to each transaction to the target data to make better reporting possible.</p>
<p>Using <code class="codeph">INSERTALLRECORDS</code> increases the size of your target tables, so you should only enable it where complete records are required. <code class="codeph">INSERTALLRECORDS</code> applies to all tables listed below it in the parameter file, until you turn it off again by specifying <code class="codeph">NOINSERTALLRECORDS</code>. <code class="codeph">INSERTALLRECORDS</code> can also be limited to a specific file or table by using it as an option under the <code class="codeph">MAP</code> parameter.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p><code class="codeph">NOINSERTALLRECORDS</code></p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
INSERTALLRECORDS | NOINSERTALLRECORDS
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<dl>
<dt class="dlterm"><a id="GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68__GUID-85A17710-2B6B-4998-B213-B3BD80DE0421"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>To build a more transaction-oriented view of customers, rather than the latest state of the database, enter the following into the parameter file:</p>
<pre dir="ltr">
INSERTALLRECORDS
MAP =CUSTOMER, TARGET =CUSTHIST,
COLMAP (USEDEFAULTS,
TS = @GETENV ("GGHEADER", "COMMITTIMESTAMP"),
BEF_AFT = @GETENV ("GGHEADER", "BEFOREAFTERINDICATOR"),
OP_TYPE = @GETENV ("GGHEADER", "OPTYPE"),
ID = ID,
BALANCE = BALANCE);
</pre>
<p>This generates the net effect of each transaction, as in the following SQL query that returns the net sum of each transaction along with the time of the transaction and the customer ID.</p>
<pre dir="ltr">
SELECT A.ID, A.TS, A.BALANCE - B.BALANCE
FROM CUSTHIST A, CUSTHIST B
WHERE A.ID = B.ID AND A.TS = B.TS AND
A.OP_TYPE = 'A' AND B.OP_TYPE = 'B';
</pre></dd>
<dt class="dlterm"><a id="GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68__GUID-457DE17F-8F64-43D3-8F22-D37E180BD71E"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example applies all record types as inserts only for the <code class="codeph">$DATA3.TARGET.HISTORD</code> order history file.</p>
<pre dir="ltr">
MAP $DATA.SOURCE.CUSTORD TARGET $DATA3.TARGET.HISTORD
INSERTALLRECORDS
COLMAP (USEDEFAULTS,
TRAN_TIME = @GETENV ("GGHEADER", "COMMITTIMESTAMP"),
BEF_AFT = @GETENV ("GGHEADER", "BEFOREAFTERINDICATOR"),
OP_TYPE = @GETENV ("GGHEADER", "OPTYPE"));
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment28">
<tr>
<td class="cellalignment35">
<table class="cellalignment33">
<tr>
<td class="cellalignment32"><a href="GUID-386C939D-EB76-4BC7-ACAC-2C88984966F6.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment32"><a href="GUID-A367C72E-2991-40BC-9DCB-FA2723B77D5E.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment37">
<table class="cellalignment31">
<tr>
<td class="cellalignment32"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment32"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment32"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment32"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
