<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>PURGEOLDEXTRACTS for Manager</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="keywords" content="USECHECKPOINTS option, PURGEOLDEXTRACTS, checkpoints, basing purges on" />
<meta name="dcterms.created" content="2017-03-12T23:03:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference Guide for Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57713-03" />
<meta name="dcterms.isVersionOf" content="GNSRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-19D2B2E2-5292-46E6-9AAE-CEE4D9B918A1.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-4662BBBE-8967-42E1-890B-A601D54BD976.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSRF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1"></a> <span id="PAGE" style="display:none;">201/360</span> <!-- End Header -->
<a id="GNSRF519"></a><a id="GNSRF520"></a><a id="GNSRF518"></a>
<h1 id="GNSRF-GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1" class="sect1"><span class="enumeration_section">2.175</span> PURGEOLDEXTRACTS for Manager</h1>
<div>
<div class="section">
<p class="subhead1">Valid for</p>
<p>Manager</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Use <code class="codeph">PURGEOLDEXTRACTS</code> in a Manager parameter file to purge trail files when Oracle GoldenGate has finished processing them. By using <code class="codeph">PURGEOLDEXTRACTS</code> as a Manager parameter, you can use options that are not available with the Extract or Replicat version. Allowing Manager to control the purging helps to ensure that no file is purged until all groups are finished with it.</p>
<p>To purge trail files, you can use the following rules:</p>
<ul style="list-style-type: disc;">
<li>
<p>Purge if all processes are finished with a file as indicated by checkpoints. Use the <code class="codeph">USECHECKPOINTS</code> option. (This is the default.)</p>
</li>
<li>
<p><code class="codeph">MINKEEP</code> rules set the time or number of files to keep. Specify only one of the following three parameters.</p>
<ul style="list-style-type: disc;">
<li>
<p>Keep files or rows for at least a specified number of hours or days. Use the <code class="codeph">MINKEEPHOURS</code> and <code class="codeph">MINKEEPDAYS</code> options.</p>
</li>
<li>
<p>Keep at least <span class="italic">n</span> files including the active file. Use the <code class="codeph">MINKEEPFILES</code> option.</p>
</li>
</ul>
</li>
</ul>
<p>The Manager process determines which files to purge based on Extract and Replicat processes configured on the local system. If at least one process reads a trail file, Manager applies the specified rules; otherwise, the rules do not take effect.</p>
<p>Refer to the information on managing trails in the <a class="olink GNSAD-GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F" target="_blank" href="../GNSAD/managing-and-monitoring.htm#GNSAD-GUID-18F460B6-3697-44C8-B0FF-1544A434ED2F">Recommendations for Managing Trail Purges</a>for recommendations on using the rules.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p>None (do not purge)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
PURGEOLDEXTRACTS <span class="italic">trail_name</span> 
[, USECHECKPOINTS | NOUSECHECKPOINTS] 
[, min_rule]
</pre>
<dl>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-5DBC77F3-6D5A-4A94-913F-AAF72D63FAF1"><!-- --></a><span class="italic"><code class="codeph">trail_name</code></span></dt>
<dd>
<p>The trail to purge. Use the fully qualified name.</p>
</dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-B80F5804-B80C-451E-8596-7A79A51C6FFE"><!-- --></a><code class="codeph">USECHECKPOINTS</code></dt>
<dd>
<p>Purges after all Extract or Replicat processes are finished with the file as indicated by checkpoints.</p>
</dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-7A647C5E-49C1-401B-9213-01432D0057ED"><!-- --></a><code class="codeph">NOUSECHECKPOINTS</code></dt>
<dd>
<p>Allows purging without considering checkpoints, based on keeping a minimum of one file (if no <code class="codeph">MINKEEP</code> rule is used) or the number of files specified with a <code class="codeph">MINKEEP</code> rule.</p>
</dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-2E65E0CA-E597-4014-B642-FCF8B0705494"><!-- --></a><span class="italic"><code class="codeph">min_rule</code></span></dt>
<dd>
<p>Use only one of the following to set rules for the minimum amount of time to keep data.</p>
<dl>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-4E3D46BB-AE04-4D9B-AFAB-71D3BCE274BE"><!-- --></a><code class="codeph">MINKEEPHOURS</code> <span class="italic"><code class="codeph">num</code></span></dt>
<dd>
<p>Keeps an unmodified file for at least the specified number of hours.</p>
</dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-108B39D4-441A-43ED-AF3F-FDA31180FE4A"><!-- --></a><code class="codeph">MINKEEPDAYS</code> <span class="italic"><code class="codeph">num</code></span></dt>
<dd>
<p>Keeps an unmodified file for at least the specified number of days.</p>
</dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-1A7C85FB-2884-439E-A32F-DBAC9749E41A"><!-- --></a><code class="codeph">MINKEEPFILES</code> <span class="italic"><code class="codeph">num</code></span></dt>
<dd>
<p>Keeps at least <span class="italic">num</span> unmodified files, including the file being considered for purging.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-2BF14878-0A6C-40F8-A555-42CC3BFA3EAF"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example purges all files in the <code class="codeph">\NY.$DATA3.GGSDAT</code> subvolume after checkpoints indicate that they no longer are needed, but it keeps the files at least 3 days.</p>
<pre dir="ltr">
PURGEOLDEXTRACTS \NY.$DATA3.GGSDAT.*, USECHECKPOINTS, MINKEEPDAYS 3
</pre></dd>
<dt class="dlterm"><a id="GUID-D5662E3D-11AF-482C-8A5B-F2F9E711B8D1__GUID-B01A75C2-F3AC-4399-BFAA-6A976C4EAF93"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>Trail files <code class="codeph">AA000000</code>, <code class="codeph">AA000001</code>, and <code class="codeph">AA000002</code> exist. Replicat has been down for four hours and has not completed processing<code class="codeph">.</code> The Manager parameters include:</p>
<pre dir="ltr">
PURGEOLDEXTRACTS /ggs/dirdat/AA*, NOUSECHECKPOINTS, MINKEEPHOURS 2
</pre>
<p>Result: All trail files will be purged because the minimums have been met.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment28">
<tr>
<td class="cellalignment35">
<table class="cellalignment33">
<tr>
<td class="cellalignment32"><a href="GUID-19D2B2E2-5292-46E6-9AAE-CEE4D9B918A1.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment32"><a href="GUID-4662BBBE-8967-42E1-890B-A601D54BD976.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment37">
<table class="cellalignment31">
<tr>
<td class="cellalignment32"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment32"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment32"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment32"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
