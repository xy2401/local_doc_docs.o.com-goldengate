<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>MAP</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="keywords" content="rows, selecting, data, filter clause, in mapping rules, conditional statements, in file selection, where condition, TARGET option, MAP, KEYCOLS option, TABLE, strings, literal, passing to user exit, user exits, passing literals to, literal string, exceptions, map statement, creating, error handling, exceptions statement, query, executing, ID option, SQLEXEC, logical name, for a query, parameters, specifying, in relation to query, commit, within SQLEXEC statement, managing, tracing, SQLEXEC activity, ALLPARAMS option" />
<meta name="dcterms.created" content="2017-03-12T23:03:13Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference Guide for Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E57713-03" />
<meta name="dcterms.isVersionOf" content="GNSRF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-4288449F-F1B6-4E89-88B8-B29F40AF9074.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-5098D9B1-A0C2-49D9-99D4-A2B9DDF77B76.htm" title="Next" type="text/html" />
<link rel="alternate" href="GNSRF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F"></a> <span id="PAGE" style="display:none;">175/360</span> <!-- End Header -->
<a id="GNSRF487"></a><a id="GNSRF488"></a><a id="GNSRF489"></a><a id="GNSRF490"></a><a id="GNSRF491"></a><a id="GNSRF492"></a><a id="GNSRF486"></a>
<h1 id="GNSRF-GUID-C19F078A-1AA7-4590-A999-0357D1358E8F" class="sect1"><span class="enumeration_section">2.149</span> MAP</h1>
<div>
<div class="section">
<p class="subhead1">Valid for</p>
<p>Replicat</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Use <code class="codeph">MAP</code> to deliver records from a source to the target. Normally, the source is an Oracle GoldenGate trail containing records that were processed by Extract. The <code class="codeph">MAP</code> parameter is similar to Extract's <code class="codeph">FILE</code> and <code class="codeph">TABLE</code> parameters in its mapping capabilities and functionality for executing user exits and stored procedures.</p>
<p>At least one <code class="codeph">MAP</code> statement is required.</p>
<p>You can invoke <code class="codeph">MAP</code> more than once in a parameter file, and you can invoke the same <code class="codeph">MAP</code> argument more than once. This is useful, for example, to split records into different trails to be replicated to different targets.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>
[, <a id="d68045e167" class="indexterm-anchor"></a>EXCEPTIONSONLY]
[, <a id="d68045e172" class="indexterm-anchor"></a>DEF <span class="italic">source_ddl_definition</span>]
[, <a id="d68045e182" class="indexterm-anchor"></a>DICTIONARY <span class="italic">source_ddl_dictionary</span>]
[, <a id="d68045e193" class="indexterm-anchor"></a>EXITPARAM "<span class="italic">exitparam_string</span>"]
[, <a id="d68045e202" class="indexterm-anchor"></a>WHERE (<span class="italic">where_condition</span>)]
[, <a id="d68045e212" class="indexterm-anchor"></a>FILTER (<span class="italic">expression</span>)]
[, <a id="d68045e221" class="indexterm-anchor"></a>RANGE (<span class="italic">range_specification</span>)]
[, <a id="d68045e230" class="indexterm-anchor"></a>COLMAP ([USEDEFAULTS], <span class="italic">column_map_specification</span>)]
[, <a id="d68045e240" class="indexterm-anchor"></a>COMPENSCRIBEMAPS | <a id="d68045e245" class="indexterm-anchor"></a>NOCOMPENSCRIBEMAPS]
[, <a id="d68045e250" class="indexterm-anchor"></a>INSERTALLRECORDS]
[, <a id="d68045e257" class="indexterm-anchor"></a>MAPID]
[, <a id="d68045e262" class="indexterm-anchor"></a>PARTIALCOLSOK | <a id="d68045e267" class="indexterm-anchor"></a>NOPARTIALCOLSOK]
[, <a id="d68045e273" class="indexterm-anchor"></a>SQLNAME]
[, <a id="d68045e278" class="indexterm-anchor"></a>USESOURCERECLENGTH]
[, <a id="d68045e283" class="indexterm-anchor"></a>TARGETDEF <span class="italic">target_ddl_definition</span>]
[, <a id="d68045e292" class="indexterm-anchor"></a>TARGETDICT <span class="italic">target_ddl_dictionary</span>]
[, <a id="d68045e302" class="indexterm-anchor"></a>KEYCOLS (<span class="italic">column_list</span>)]
[, <a id="d68045e311" class="indexterm-anchor"></a>USEALTKEY (<span class="italic">key_specifier</span>)]
[, <a id="d68045e320" class="indexterm-anchor"></a>UNMAPPEDALTFILECREATES {ALTFILEVOL | PRIMARYVOL}]
[, <a id="d68045e325" class="indexterm-anchor"></a>CREATETEMPLATE <span class="italic">file_name</span>]
[, <a id="d68045e335" class="indexterm-anchor"></a>ALTFILECHAR <span class="italic">num_chars</span>]
[, <a id="d68045e344" class="indexterm-anchor"></a>GETNETWORKALTFILENAMES | <a id="d68045e349" class="indexterm-anchor"></a>IGNORENETWORKALTFILENAMES]
[, <a id="d68045e354" class="indexterm-anchor"></a>HANDLECOLLISIONS | <a id="d68045e362" class="indexterm-anchor"></a>NOHANDLECOLLISIONS]
[, <a id="d68045e369" class="indexterm-anchor"></a>DETECTLOCKS]
[, <a id="d68045e374" class="indexterm-anchor"></a>REPERROR (<span class="italic">error_number</span>, <span class="italic">response</span>)]
[, <a id="d68045e389" class="indexterm-anchor"></a>PARTMAP (<span class="italic">source_partition_spec</span>, <span class="italic">target_partition_spec</span>)]
[, <a id="d68045e403" class="indexterm-anchor"></a>MAPEXCEPTION (TARGET <span class="italic">exception_name</span>, <span class="italic">mapping_arguments</span>)]
[, <a id="d68045e416" class="indexterm-anchor"></a>SHOWSYNTAX]
[, <a id="d68045e422" class="indexterm-anchor"></a>SQLEXEC (<span class="italic">sqlexec_clause</span>)] 
[, EVENTACTIONS (<span class="italic">action_options</span>)

;
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-F32AC688-872F-4691-99A6-177EB1155848"><!-- --></a><span class="italic"><code class="codeph">source_file_name</code></span></dt>
<dd>
<p>The origin of the record to deliver. Most often, this is the name of the file, table or SQL view from which the record was originally extracted. If Extract performed column mapping on the associated records, however, a different file identifier is attached to reflect the new column structure.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-8C41E5C1-A780-4F48-972E-64CBEF87EAAF"><!-- --></a></dt>
<dd>
<p><span class="italic"><code class="codeph">source_file_name</code></span> can also be an existing define name of <code class="codeph">CLASS</code> <code class="codeph">MAP</code>, or a wildcard specification.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-52361A43-8B7D-45B8-8A4C-81566B326116"><!-- --></a><code class="codeph">TARGET</code> <span class="italic"><code class="codeph">target_file_name</code></span></dt>
<dd>
<p>The name of the target file or table.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-74E8AD54-2967-4E5C-AE78-494E5D47AAFF"><!-- --></a><code class="codeph">DEF</code> <span class="italic"><code class="codeph">source_ddl_definition</code></span></dt>
<dt class="dlterm"><code class="codeph">DICTIONARY</code> <span class="italic"><code class="codeph">source_ddl_dictionary</code></span></dt>
<dt class="dlterm"><code class="codeph">FILTER</code> (<span class="italic"><code class="codeph">expression</code></span>)</dt>
<dt class="dlterm"><code class="codeph">RANGE</code> (<span class="italic"><code class="codeph">range_specification</code></span>)</dt>
<dt class="dlterm"><code class="codeph">WHERE</code> (<span class="italic"><code class="codeph">where_condition</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957228">Selecting Records</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B4309C8D-369D-442D-979A-48591919F305"><!-- --></a><code class="codeph">COLMAP</code> ([<code class="codeph">USEDEFAULTS</code>], <span class="italic"><code class="codeph">column_map_specification</code></span>)</dt>
<dt class="dlterm"><code class="codeph">COMPENSCRIBEMAPS | NOCOMPENSCRIBEMAPS</code></dt>
<dt class="dlterm"><code class="codeph">INSERTALLRECORDS</code></dt>
<dt class="dlterm"><code class="codeph">MAPID</code></dt>
<dt class="dlterm"><code class="codeph">PARTIALCOLSOK | NOPARTIALCOLSOK</code></dt>
<dt class="dlterm"><code class="codeph">SQLNAME</code></dt>
<dt class="dlterm"><code class="codeph">TARGETDEF</code> <span class="italic"><code class="codeph">target_ddl_definition</code></span></dt>
<dt class="dlterm"><code class="codeph">TARGETDICT</code> <span class="italic"><code class="codeph">target_ddl_dictionary</code></span></dt>
<dt class="dlterm"><code class="codeph">USESOURCERECLENGTH</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957229">Mapping Data</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-AA5AE6A8-C2E5-40B8-888C-940EDB73B9A8"><!-- --></a><code class="codeph">KEYCOLS</code> (<span class="italic"><code class="codeph">column_list</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944586">Defining Primary Key Columns</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-0A9FFBC4-BD09-4CED-B351-3DE52F972F7D"><!-- --></a><code class="codeph">EXITPARAM</code> "<span class="italic"><code class="codeph">exitparam_string</code></span>"</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I979909">Passing Literal Strings to User Exits</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-2E9B0226-BDC0-44A2-A78B-8796D28AE9F4"><!-- --></a><code class="codeph">CREATETEMPLATE</code> <span class="italic"><code class="codeph">file_name</code></span></dt>
<dt class="dlterm"><code class="codeph">ALTFILECHAR</code> <span class="italic"><code class="codeph">num_chars</code></span></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944617">Creating a Target Enscribe File</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-DF8DC9D9-880F-4C54-8A60-1FB5EA5E3EF6"><!-- --></a><code class="codeph">USEALTKEY</code> (<span class="italic"><code class="codeph">key_specifier</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944629">Specifying Alternate Keys</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-D2A473BF-151C-4C42-A75D-FBE3AADF029F"><!-- --></a><code class="codeph">UNMAPPEDALTFILECREATES {ALTFILEVOL | PRIMARYVOL}</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944647">Replicating File Create Operations for Alternate Key Files</a>"</span></p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-057ECFE6-89FE-456D-9B41-CBD8309D93C6"><!-- --></a><code class="codeph">HANDLECOLLISIONS | NOHANDLECOLLISIONS</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944668">Turning Error Handling On and Off</a>"</span></p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-18691D65-6694-4C27-A71F-84C67951597B"><!-- --></a><code class="codeph">DETECTLOCKS</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944678">Locking Records</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-28EFE749-3243-4268-BE42-677441538F7A"><!-- --></a><code class="codeph">REPERROR</code> (<span class="italic"><code class="codeph">error_number</code></span>, <span class="italic"><code class="codeph">response</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I990438">Using REPERROR</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-ED795302-546E-47FA-A375-E1D4BA8F5759"><!-- --></a><code class="codeph">EXCEPTIONSONLY</code></dt>
<dt class="dlterm"><code class="codeph">MAPEXCEPTION</code> (<code class="codeph">TARGET</code> <span class="italic"><code class="codeph">exception_name</code></span>, <span class="italic"><code class="codeph">mapping_arguments</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I963056">Creating an Exceptions Statement</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-90386168-12C2-4701-897C-CECAC3713911"><!-- --></a><code class="codeph">GETNETWORKALTFILENAMES | IGNORENETWORKALTFILENAMES</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I983043">Qualifying Alternate Key File Names</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-31547BD2-2F1F-43FC-B6F9-4199568DF5C3"><!-- --></a><code class="codeph">PARTMAP</code> (<span class="italic"><code class="codeph">source_partition_spec</code></span>, <span class="italic"><code class="codeph">target_partition_spec</code></span>)</dt>
<dd>
<p>Use <code class="codeph">PARTMAP</code> to specify alternative mapping of partitions during file creation operations. For details see the <code class="codeph">PARTMAP</code> parameter on <span class="q">"<a href="GUID-9ED18C81-CCE0-4D8F-984B-59CF5B416DDB.htm#GUID-9ED18C81-CCE0-4D8F-984B-59CF5B416DDB">PARTMAP</a>"</span></p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B6657D2A-AF53-4879-8816-42074E9871BF"><!-- --></a><code class="codeph">SHOWSYNTAX</code></dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957206">Displaying a SQL Statement</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-5AD36AA0-8E7C-4CA1-AA61-30C2AA50B698"><!-- --></a><code class="codeph">SQLEXEC</code> (<span class="italic"><code class="codeph">sqlexec_clause</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944698">Performing a Query</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-D350F7BC-BDC3-4C4A-8F17-A47AF79589F4"><!-- --></a><code class="codeph">EVENTACTIONS</code> (<span class="italic"><code class="codeph">action_options</code></span>)</dt>
<dd>
<p>See <span class="q">"<a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__CIHGJJHG">Triggering Actions</a>"</span>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957228">
<p class="subhead1">Selecting Records</p>
<p>You can select records by:</p>
<ul style="list-style-type: disc;">
<li>
<p>Selecting or excluding records using <code class="codeph">FILTER</code>.</p>
</li>
<li>
<p>Selecting based on a conditional statement using <code class="codeph">WHERE</code>.</p>
</li>
<li>
<p>Selecting a subset or records using <code class="codeph">RANGE</code>.</p>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-02E3AD7E-09FA-4AC4-A27A-95D3112FB033">
<p class="notep1">Note:</p>
<p>Using the <code class="codeph">RANGE</code> option of <code class="codeph">FILE</code> or <code class="codeph">MAP</code> provides different capabilities than using the <code class="codeph">@RANGE</code> function within a <code class="codeph">FILTER</code>. And both of these are different than the <code class="codeph">RANGE</code> option of <code class="codeph">ALTINPUT</code>.</p>
</div>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Selecting or Excluding Records Using FILTER</p>
<p>Use <code class="codeph">FILTER</code> expressions to select or exclude data based on a numeric value. You can use a filter expression with conditional operators (such as <code class="codeph">@IF</code>), column-conversion functions, or both. When using a <code class="codeph">FILTER</code> expression, you can apply the filter clause to only certain record types, or specify one or more record types to omit.</p>
<p>If you are selecting from an Enscribe file using <code class="codeph">FILTER</code>, you must also specify the <code class="codeph">DEF</code> and <code class="codeph">DICTIONARY</code> keywords.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, 
FILTER (<span class="italic">filter_clause</span> 
[, ON INSERT | ON UPDATE| ON DELETE]
[, IGNORE INSERT | IGNORE UPDATE | IGNORE DELETE]
[, RAISEERROR <span class="italic">error_number</span>]
)
[, DEF <span class="italic">source_ddl_definition</span>]
[, DICTIONARY <span class="italic">source_ddl_dictionary</span>]
;
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-BF54BF88-B2A7-42EF-8978-5908F635CF4D"><!-- --></a><span class="italic"><code class="codeph">filter_clause</code></span></dt>
<dd>
<p>Selects records from a source <code class="codeph">MAP</code> based on an expression.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B6FF3985-6407-452D-A12A-E1762924C57C"><!-- --></a><code class="codeph">ON INSERT | ON UPDATE| ON DELETE</code></dt>
<dd>
<p>Specifically limits the filter to be executed on an insert, update or delete. You can specify more than one <code class="codeph">ON</code> option. For example, <code class="codeph">ON UPDATE</code>, <code class="codeph">ON DELETE</code> executes on updates and deletes, but not inserts.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-D775C6A6-F2C9-4F80-9E4A-4203D943EAE9"><!-- --></a><code class="codeph">IGNORE INSERT | IGNORE UPDATE | IGNORE DELETE</code></dt>
<dd>
<p>Ignores the specified operation. You can specify more than one <code class="codeph">IGNORE</code> option.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-9D7188C2-B819-4EC6-9B89-9A398379CC56"><!-- --></a><code class="codeph">RAISEERROR</code> <span class="italic"><code class="codeph">error_number</code></span></dt>
<dd>
<p>Raises a user-defined error number if the filter fails. Can be used as input to the <code class="codeph">REPERROR</code> parameter to invoke error handling. Make certain that the value for <span class="italic"><code class="codeph">error_number</code></span> is outside the range of error numbers that is used by the database or Oracle GoldenGate. For example: <code class="codeph">RAISEERROR</code> <code class="codeph">21000</code></p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-36D1A71E-E66A-4B05-847A-CB96EA1B2353"><!-- --></a><code class="codeph">DEF</code> <span class="italic"><code class="codeph">source_ddl_definition</code></span></dt>
<dd>
<p>Has meaning only for Enscribe files. Use a <a id="d68045e970" class="indexterm-anchor"></a>DDL definition or record within the open dictionary. This definition describes the record that is extracted from the audit trails. You cannot specify more than one definition for any <code class="codeph">FILE</code> statement.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-6D360038-8AB3-4FF3-B6B3-BD0FBBF44054"><!-- --></a><code class="codeph">DICTIONARY</code> <span class="italic"><code class="codeph">source_ddl_dictionary</code></span></dt>
<dd>
<p>Points to the location of the source DDL dictionary. <code class="codeph">DICTIONARY</code> establishes an Enscribe <a id="d68045e994" class="indexterm-anchor"></a>DDL dictionary to use for evaluating <code class="codeph">WHERE</code>, <code class="codeph">FILTER</code>, and <code class="codeph">COLMAP</code> clauses. For example, <code class="codeph">DICTIONARY $DATA5.PRODDICT</code> specifies a physical subvolume.</p>
<p>Each <code class="codeph">DICTIONARY</code> entry closes any previously open dictionary, so only one dictionary is active at any given time while processing the startup parameters.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>The following example inserts the state <code class="codeph">CA</code> if the column string matches <code class="codeph">"CA</code>".</p>
<pre dir="ltr">
MAP $PROD1.CUST.BRANCH, TARGET $DATA01.C9701.BRANCH, 
DEF BRANCH-REC,                                      
FILTER (@IF(@STREQ(STATE, "CA"), 1, 0), ON INSERT);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Selecting Based on a Conditional Statement</p>
<p>With the <code class="codeph">WHERE</code> option, you can select information based on a conditional statement. If you are selecting from an Enscribe file using <code class="codeph">WHERE</code>, you must also specify the <code class="codeph">DEF</code> and <code class="codeph">DICTIONARY</code> keywords.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, 
WHERE (<span class="italic">where_condition</span>)
[, DEF <span class="italic">source_ddl_definition</span>]
[, DICTIONARY <span class="italic">source_ddl_dictionary</span>]
;
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-998A2C9D-0217-4FDF-A0F1-2BE4E4D355D0"><!-- --></a><span class="italic"><code class="codeph">where_condition</code></span></dt>
<dd>
<p>Selects a subset of records from a source <code class="codeph">MAP</code>, based on a condition, such as <code class="codeph">WHERE (BRANCH = "NY")</code>. For a list of valid operators, see <a href="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F.htm#GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__CIHGAHEI" title="This table lists the permissible WHERE operators and gives an example of each.">Table 2-33</a>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-9731C574-D180-43CE-B0F9-8FE50F825FB5"><!-- --></a><code class="codeph">DEF</code> <span class="italic"><code class="codeph">source_ddl_definition</code></span></dt>
<dd>
<p>Has meaning only for Enscribe files. Use a <a id="d68045e1105" class="indexterm-anchor"></a>DDL definition or record within the open dictionary. This definition describes the record that is extracted from the audit trails. You cannot specify more than one definition for any <code class="codeph">FILE</code> statement.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-6BF84233-B9DF-4BBF-B6D4-2383DA9DD862"><!-- --></a><code class="codeph">DICTIONARY</code> <span class="italic"><code class="codeph">source_ddl_dictionary</code></span></dt>
<dd>
<p>Points to the location of the source DDL dictionary. <code class="codeph">DICTIONARY</code> establishes an Enscribe DDL dictionary to use for evaluating <code class="codeph">WHERE</code>, <code class="codeph">FILTER</code>, and <code class="codeph">COLMAP</code> clauses. For example, <code class="codeph">DICTIONARY $DATA5.PRODDICT</code> specifies a physical subvolume.</p>
<p>Each <code class="codeph">DICTIONARY</code> entry closes any previously open dictionary, so only one dictionary is active at any given time while processing the startup parameters.</p>
</dd>
</dl>
<div class="tblformal" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__CIHGAHEI">
<p class="titleintable">Table 2-33 Permissible WHERE Operators</p>
<table class="cellalignment38" title="Permissible WHERE Operators" summary="This table lists the permissible WHERE operators and gives an example of each.">
<thead>
<tr class="cellalignment29">
<th class="cellalignment39" id="d68045e1156">Operator</th>
<th class="cellalignment40" id="d68045e1159">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1164" headers="d68045e1156">
<p>Column names</p>
</td>
<td class="cellalignment42" headers="d68045e1164 d68045e1159">
<pre dir="ltr">
PRODUCT_AMT
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1171" headers="d68045e1156">
<p>Numeric values</p>
</td>
<td class="cellalignment42" headers="d68045e1171 d68045e1159">
<pre dir="ltr">
-123, 5500.123
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1178" headers="d68045e1156">
<p>Literal strings enclosed in quotes</p>
</td>
<td class="cellalignment42" headers="d68045e1178 d68045e1159">
<pre dir="ltr">
 "AUTO", "Ca"
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1185" headers="d68045e1156">
<p>Column tests</p>
</td>
<td class="cellalignment42" headers="d68045e1185 d68045e1159">
<p><code class="codeph">@NULL</code>, <code class="codeph">@PRESENT</code>, <code class="codeph">@ABSENT</code> (column is null, present or absent in the record). These tests are built into Oracle GoldenGate.</p>
</td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1200" headers="d68045e1156">
<p>Comparison operators</p>
</td>
<td class="cellalignment42" headers="d68045e1200 d68045e1159">
<pre dir="ltr">
 =, &lt;&gt;, &gt;, &lt;, &gt;=, &lt;=
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1207" headers="d68045e1156">
<p>Conjunctive operators</p>
</td>
<td class="cellalignment42" headers="d68045e1207 d68045e1159">
<pre dir="ltr">
AND, OR
</pre></td>
</tr>
<tr class="cellalignment29">
<td class="cellalignment41" id="d68045e1214" headers="d68045e1156">
<p>Grouping parentheses</p>
</td>
<td class="cellalignment42" headers="d68045e1214 d68045e1159">
<p>Use open and close parentheses for logical grouping of multiple elements.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Selecting a Subset of Records</p>
<p>Use the <a id="d68045e1225" class="indexterm-anchor"></a><code class="codeph">RANGE</code> clause to select a subset of the records from Replicat's source. Unlike <code class="codeph">WHERE</code>, <code class="codeph">RANGE</code> does not require knowledge of the source file's structure.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
RANGE (x [, x, ...] of y);
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-0C03C9B4-FB06-4CAB-84B5-A39267FDE3DE"><!-- --></a><code class="codeph">(x [, x, ...] of y)</code></dt>
<dd>
<p>Selects a subset of records from Replicat's source, based on a condition, such as <code class="codeph">RANGE (3 of 5)</code> or <code class="codeph">RANGE (1, 3 of 5)</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957229">
<p class="subhead1">Mapping Data</p>
<p>Oracle GoldenGate has the following data mapping capability for the <code class="codeph">MAP</code> parameters:</p>
<ul style="list-style-type: disc;">
<li>
<p>Mapping columns.</p>
</li>
<li>
<p>Matching source and target record lengths.</p>
</li>
</ul>
<p>If no explicit column mapping is specified with <code class="codeph">COLMAP</code>, Replicat determines the column map using the following rules:</p>
<ul style="list-style-type: disc;">
<li>
<p>Columns with the same name are mapped to each other if the data types of the source and target are compatible.</p>
</li>
<li>
<p>If the target definition has column names corresponding to special transaction values those values are mapped to the target columns.</p>
</li>
<li>
<p>Column names are changed to uppercase for name comparison.</p>
</li>
<li>
<p>Global rules set up with <code class="codeph">COLMATCH</code> parameters enable different column names to be mapped by default.</p>
</li>
<li>
<p>Target columns that do not correspond to any source column take default values determined by the database.</p>
</li>
</ul>
<p>The default mapping is displayed in the report file just after the corresponding <code class="codeph">MAP</code> entry.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Mapping Columns</p>
<p>Using a <a id="d68045e1315" class="indexterm-anchor"></a><a id="d68045e1319" class="indexterm-anchor"></a><a id="d68045e1323" class="indexterm-anchor"></a><code class="codeph">COLMAP</code> clause, you can retrieve fields or columns from one record and map them to a differently structured record. This is useful, for example, when replicating data from an Enscribe file to an SQL table with similar, but not identical, fields. <code class="codeph">COLMAP</code> selects, translates, and moves the fields you want into the new structure. When associated records are output, they are identified by the target file rather than the source to reflect the new structure of the record.</p>
<ul style="list-style-type: disc;">
<li>
<p>When mapping from an Enscribe file, include either the <code class="codeph">DEF</code> and <code class="codeph">DICTIONARY</code> keywords, otherwise the source and target structures are assumed to be identical. <code class="codeph">DEF</code> and <code class="codeph">DICTIONARY</code> are required only once in the parameter file, and only when using a <code class="codeph">COLMAP</code> clause.</p>
<p>When Enscribe files without corresponding <code class="codeph">DEF</code> parameters are encountered, source and target structures are assumed to be identical.</p>
</li>
<li>
<p>When SQL tables are identified as the target, the layout of the target record after mapping is known since the SQL table structure is retrieved from the SQL catalog.</p>
</li>
</ul>
<p>Additionally, you can match the source record length to the target record length. See <span class="q">"<a href="GUID-A9B89B55-6224-4107-A8A0-0148FE9946D9.htm#GUID-A9B89B55-6224-4107-A8A0-0148FE9946D9__I942118">Matching Source and Target Record Lengths</a>"</span>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
COLMAP ([USEDEFAULTS], <span class="italic">column_map_specification</span>)
[, <span class="italic">option</span>];
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-D37EC19E-EC29-4DD5-9B7F-4DBEA3597143"><!-- --></a><span class="italic"><code class="codeph">column_map_specification</code></span></dt>
<dd>
<p>The column mapping expression, as in</p>
<pre dir="ltr">
(<span class="italic">target_column</span> = <span class="italic">source_expression</span>)
</pre>
<p>Explicitly defines a source-target column map.</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-F02AC9E0-FA19-4823-9AFB-4D418FBFA18D"><!-- --></a><span class="italic"><code class="codeph">target_column</code></span></dt>
<dd>
<p>The name of the target column.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-2735A4EB-8FA7-44B2-BAF4-3427883EDCC4"><!-- --></a><span class="italic"><code class="codeph">source_expression</code></span></dt>
<dd>
<p>Any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Numeric constant, such as 123</p>
</li>
<li>
<p>String constant enclosed within quotes, such as "ABCD"</p>
</li>
<li>
<p>The name of a source column, such as <code class="codeph">ORD_DATE</code></p>
</li>
<li>
<p>An expression using an Oracle GoldenGate column-conversion function, such as <code class="codeph">@STREXT (COL1, 1, 3)</code></p>
</li>
</ul>
</dd>
</dl>
<p>Example:</p>
<pre dir="ltr">
COLMAP (USEDEFAULTS, 
targcol1 = srccol1,  
targcol2 = srccol2,  
targcol3 = srccol3) 
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-C694D2AB-0284-4B9A-9B40-3F7E66372EFE"><!-- --></a><code class="codeph">TARGET</code> <span class="italic"><code class="codeph">target_file_name</code></span></dt>
<dd>
<p>Names the target file. Must be an existing Enscribe file or SQL table, and can be an active define name.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-65C24E93-C158-4B28-91C2-78E723DC601C"><!-- --></a><span class="italic"><code class="codeph">option</code></span></dt>
<dd>
<p>A DDL definition obtained by the following:</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-D967C15E-918A-4A01-8E9F-3BCD242ADFC9"><!-- --></a><code class="codeph">DEF</code> <span class="italic"><code class="codeph">source_ddl_definition</code></span></dt>
<dd>
<p>Has meaning only for Enscribe files. Use a <a id="d68045e1489" class="indexterm-anchor"></a>DDL definition or record within the open dictionary. This definition describes the record that is extracted from the audit trails. You cannot specify more than one definition for any <code class="codeph">MAP</code> statement.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-C148B987-8CAC-4FB9-AAAC-076ECC2A3D58"><!-- --></a><code class="codeph">NOCOLMAP</code></dt>
<dd>
<p>Allows the user to specify a <code class="codeph">DEF</code> for filtering purposes, but prevents the columns mapping command from completing. Example:</p>
<pre dir="ltr">
MAP \PROD.$DATA06.CER1ATLF.TL*, TARGET \GGS2.$DATA10.GGSLOGS.*, 
DEF TLF, 
NOCOLMAP,
WHERE (TLF.HEAD.REC-TYP &lt;&gt; "00");
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-08971556-4029-404F-8626-306721814EF4"><!-- --></a><code class="codeph">DICTIONARY</code> <span class="italic"><code class="codeph">source_ddl_dictionary</code></span></dt>
<dd>
<p>Points to the location of the source DDL dictionary. <code class="codeph">DICTIONARY</code> establishes an Enscribe DDL dictionary to use for evaluating <code class="codeph">WHERE</code>, <code class="codeph">FILTER</code>, and <code class="codeph">COLMAP</code> clauses. For example, <code class="codeph">DICTIONARY $DATA5.PRODDICT</code> specifies a physical subvolume.</p>
<p>Each <code class="codeph">DICTIONARY</code> entry closes any previously open dictionary, so only one dictionary is active at any given time while processing the startup parameters.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-93492CF0-DA28-4487-A077-632D8AFF8682"><!-- --></a><code class="codeph">TARGETDEF</code> <span class="italic"><code class="codeph">target_ddl_definition</code></span></dt>
<dd>
<p>Use <code class="codeph">TARGETDEF</code> when invoking column mapping to an Enscribe file structure and the Enscribe file has not yet been specified in the parameter file, or did not have a definition associated with it.</p>
<p>If you assigned a definition to the target file earlier in the parameter file, you can omit <code class="codeph">TARGETDEF</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-22A5B5F7-5CAA-421D-AE79-AB12C68FFBF7"><!-- --></a><code class="codeph">TARGETDICT</code> <span class="italic"><code class="codeph">target_ddl_dictionary</code></span></dt>
<dd>
<p>Points to the target DDL dictionary. Use in conjunction with <code class="codeph">TARGETDEF</code> when the target definitions are in a DDL dictionary different from <code class="codeph">DEF</code>. Follows the <code class="codeph">TARGETDEF</code> <span class="italic"><code class="codeph">targetdef</code></span> entry, similar to:</p>
<pre dir="ltr">
MAP $vol.subvol.source, DEF <span class="italic">sourcedef</span>, TARGET $vol.subvol.target, 
TARGETDEF <span class="italic">targetdef</span>, TARGETDICT $vol.subvol,
COLMAP (USEDEFAULTS
targcol1 = srccol1, 
targcol2 = srccol2, 
targcol3 = srccol3);
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-666D753A-A325-4C40-896A-2C9EC03B9BAC"><!-- --></a><code class="codeph">USEDEFAULTS</code></dt>
<dd>
<p>Causes Oracle GoldenGate to automatically map source and target columns that have the same name. <code class="codeph">USEDEFAULTS</code> eliminates the need to explicitly map every source column unless the target column has a different name. This is the default unless an explicit column mapping is used.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Matching Source and Target Record Lengths</p>
<p>Use the <code class="codeph">USESOURCERECLENGTH</code> option to adjust the target record length to the length of the source record. Precede the <code class="codeph">COLMAP</code> statement with the <code class="codeph">USESOURCERECLENGTH</code> option.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
USESOURCERECLENGTH
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<pre dir="ltr">
USESOURCERECLENGTH
COLMAP (USEDEFAULTS,
CRD-TYP = @STRSUB (CRD-TYP, "VD", "PV"),
FIID = @STRSUB (FIID, "WA", "SFNB"),
FIID = @STRSUB (FIID, "ID", "BAID"));
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Compressing Enscribe Records</p>
<p>Use <code class="codeph">COMPENSCRIBEMAPS</code> to compress an update record after column mapping on an Enscribe target. Compressing ensures that updates to an Enscribe file after column mapping can only update the fields that were changed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p><code class="codeph">COMPENSCRIBEMAPS</code></p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span> 
{, COMPENSCRIBEMAPS | NOCOMPENSCRIBEMAPS};
</pre>
<p>When Replicat is <a id="d68045e1659" class="indexterm-anchor"></a>compressing an update record and the size of the column exceeds the amount of available data, a compressed fragment is produced for the available partial data. Use <code class="codeph">NOPARTIALCOLSOK</code> to not compress an update fragment.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p><code class="codeph">PARTIALCOLSOK</code> (Compress partial column values)</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, 
DEF <span class="italic">sourcedef</span>, TARGETDEF <span class="italic">targetdef</span>, NOPARTIALCOLSOK;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Inserting All Records</p>
<p>Use the <code class="codeph">INSERTALLRECORDS</code> option to apply all record types as <a id="d68045e1704" class="indexterm-anchor"></a><a id="d68045e1708" class="indexterm-anchor"></a>inserts for the current map. This will create a record of all operations made to the target record instead of maintaining only the current version. This can be useful when complete transaction history is needed. See <span class="q">"<a href="GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68.htm#GUID-CDFC2839-5C21-4027-BDE5-F07F56D2CE68">INSERTALLRECORDS | NOINSERTALLRECORDS</a>"</span> for details on <code class="codeph">INSERTALLRECORDS</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
INSERTALLRECORDS;
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944586">
<p class="subhead1">Defining Primary Key Columns</p>
<p>Use the <code class="codeph">KEYCOLS</code> option to define one or more columns of the table as a primary key for use by Oracle GoldenGate. Oracle GoldenGate uses the key to locate rows for updates and deletes and to prevent duplicate inserts.</p>
<p><code class="codeph">KEYCOLS</code> also applies to view definitions when a view is used as the file parameter. <code class="codeph">KEYCOLS</code> has the following dependencies:</p>
<ul style="list-style-type: disc;">
<li>
<p>You must use key columns when the primary key cannot be determined, or when a <code class="codeph">SYSKEY</code> does not exist and either <code class="codeph">FORMATSQL</code> or <code class="codeph">FORMATASCII</code> are specified in the parameter file.</p>
</li>
<li>
<p>If the same file name is specified in multiple <code class="codeph">MAP</code> entries, only the first <code class="codeph">KEYCOLS</code> entry takes effect.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, <a id="d68045e1783" class="indexterm-anchor"></a>
KEYCOLS (<span class="italic">column</span> [, <span class="italic">column</span>] [, ...]);
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-21A89267-59A5-4CA0-BB21-F03A0676053D"><!-- --></a>(<span class="italic"><code class="codeph">column</code></span>)</dt>
<dd>
<p>Defines a column to be used as a substitute primary key. To specify multiple columns, create a comma-delimited list as in:</p>
<pre dir="ltr">
KEYCOLS (COL1, COL2);
</pre></dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>Consider a relative SQL table <code class="codeph">R1</code> with the columns <code class="codeph">SYSKEY, CUSTOMER, BALANCE</code> and a unique index on the <code class="codeph">CUSTOMER</code> column. For the following transaction, you will get different results depending on whether you have specified <code class="codeph">KEYCOLS</code> or <code class="codeph">FORMATSQL</code>.</p>
<pre dir="ltr">
UPDATE R1 SET BALANCE = 20 WHERE CUSTOMER = "SMITH"; 
</pre>
<p>If your <code class="codeph">FILE</code> parameter statement is simply: <code class="codeph">FILE R1;</code> and <code class="codeph">FORMATSQL</code> is included in the parameter file, but no <code class="codeph">KEYCOLS</code> are specified, the output is similar to:</p>
<pre dir="ltr">
UPDATE R1 SET BALANCE = 20 WHERE SYSKEY = 1334519;
</pre>
<p>If instead the <code class="codeph">FILE</code> entry is: <code class="codeph">FILE R1, KEYCOLS (CUSTOMER);</code> the output is:</p>
<pre dir="ltr">
UPDATE R1 SET BALANCE = 20, SYSKEY = 1334519 WHERE CUSTOMER = "SMITH";
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I979909">
<p class="subhead1">Passing Literal Strings to User Exits</p>
<p>Use <code class="codeph">EXITPARAM</code> to pass a literal string to user exit routines whenever a record from <code class="codeph">MAP</code> is encountered.</p>
<p>The string must be enclosed in double quotes and an ampersand used if it continues to additional lines. It is unlimited in size, but you must use the new function <code class="codeph">GET_EXIT_PARAM_VALUE</code> to access values over the default of 256 bytes.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
EXITPARAM "<span class="italic">exitparam_string</span>"
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944617">
<p class="subhead1">Creating a Target Enscribe File</p>
<p>To deliver to an <a id="d68045e1895" class="indexterm-anchor"></a><a id="d68045e1901" class="indexterm-anchor"></a>Enscribe file that does not yet exist, a file is created according to rules in a file <a id="d68045e1908" class="indexterm-anchor"></a>template. Using the template file name, a file is created with the same structure, alternate keys and partitions.</p>
<p>The new file substitutes the target file name in the map for the template name (file name only, not subvolume), and uses the partition name, alternate key volumes and subvolumes of the template. The altkeys file names are derived from the new file name: by default, by appending 0, 1, 2 to the file name. If <code class="codeph">ALTFILECHAR</code> is specified, a 0, 1, 2 is inserted at the indicated character.</p>
<p><code class="codeph">CREATETEMPLATE</code> is invoked upon an insert if the file does not exist. It is not invoked on file create operations, so when <code class="codeph">CREATETEMPLATE</code> is used, file creates should not be captured. The <code class="codeph">CREATETEMPLATE</code> option is valid for <code class="codeph">MAP</code> statements that use wildcards or fully qualified file names. It applies only to Enscribe files.</p>
<p>If a file is renamed or removed after <code class="codeph">OPENTIMEOUT,</code> the next operation on the missing file will trigger creation of a new file if the <code class="codeph">CREATETEMPLATE</code> parameter is specified. Replicat will recognize that the create time of the target file changed and refresh the file attributes.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
CREATETEMPLATE <span class="italic">file_name</span>, ALTFILECHAR <span class="italic">num_chars</span>
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<pre dir="ltr">
MAP $DATA2.DAT.TL*,
TARGET $DATA5.DAT.*,
CREATETEMPLATE $DATA3.GGSMASK.TLYYMMDD, 
ALTFILECHAR 2;
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944629">
<p class="subhead1">Specifying Alternate Keys</p>
<p>Use <code class="codeph">USEALTKEY</code> when replicating updates to Enscribe entry-sequenced or relative files, since Replicat cannot guarantee that the keys in the source and target will match. If target records can be uniquely identified using an alternate key, <code class="codeph">USEALTKEY</code> enables Replicat to update the correct record.</p>
<p>Do not use this option when the unique alternate key is updated.</p>
<p>To ensure <code class="codeph">USEALTKEY</code> works correctly when replicating data, turn off update compression for any entry-sequenced files that depend on this method. Turn off compression using FUP for TMF-audited files and using the Logger configuration for non-TMF files.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
USEALTKEY "<span class="italic">key_specifier</span>"
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-1AD9DAC0-B20B-45F8-BF89-7C1F61377937"><!-- --></a><span class="italic"><code class="codeph">"key_specifier"</code></span></dt>
<dd>
<p>The unique key identifier.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B09F51FC-8AC4-4F2B-B458-298CD2B112E0"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
USEALTKEY "TS"
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-73ABE54C-FCEA-4601-A5F7-9C4DCC6B38E7"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following parameter file example uses an alternate key for updates to an Enscribe relative file. The first set of statements insert the record ignoring the <code class="codeph">SYSKEY</code>. The second set uses the alternate key <code class="codeph">"TM</code>" to locate records for updates and deletes.</p>
<pre dir="ltr">
IGNOREUPDATES
IGNOREDELETES
GETINSERTS
MAP \NY.$DATA1.PRDDAT.FILEA, 
TARGET \LA.$DATA3.BKDAT.FILEA,
DEF FILEA-REC, TARGETDEF FILEA-REC,
COLMAP (USEDEFAULTS, SYSKEY = -2);
GETUPDATES
GETDELETES
IGNOREINSERTS
MAP \NY.$DATA1.PRDDAT.FILEA, 
TARGET \LA.$DATA3.BKDAT.FILEA,
USEALTKEY "TM";
</pre></dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944647">
<p class="subhead1">Replicating File Create Operations for Alternate Key Files</p>
<p>Use <code class="codeph">UNMAPPEDALTFILECREATES</code> when you want to replicate file <a id="d68045e2044" class="indexterm-anchor"></a><a id="d68045e2050" class="indexterm-anchor"></a>create operations for alternate key files, but have not included a <code class="codeph">MAP</code> statement for the alternate key file. You can create your alternate key file one of two ways: by creating it from the alternate key file on the source system, or by creating it from the location of the primary file's volume.</p>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-231A2EB1-D852-4622-84A4-C9A748384581">
<p class="notep1">Note:</p>
<p>If you have provided a <code class="codeph">MAP</code> for the alternate keys, you will not require this option.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
UNMAPPEDALTFILECREATES {ALTFILEVOL | PRIMARYVOL}
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-09AEA548-6D4F-44A1-9F10-79AF040113FA"><!-- --></a><code class="codeph">ALTFILEVOL</code></dt>
<dd>
<p>Creates the alternate key file based on the location of the source system's alternate keys file. If this is not possible, the process abends with the -2 mapping error.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-957C2B1B-7AE4-42CE-AFFF-253A502EACAB"><!-- --></a><code class="codeph">PRIMARYVOL</code></dt>
<dd>
<p>Attempts to create the alternate key file based on the location of the source system's alternate key file. If this is not possible, it creates an alternate key file based on the location of the primary file's volume.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>The following example will create an alternate key file based on the location of the file's primary volume if the source system alternate key file cannot be located.</p>
<pre dir="ltr">
MAP $DATA02.TSSOUT.ALTXX*, TARGET $DATA4.TSSIN.*, UNMAPPEDALTFILECREATES PRIMARYVOL;
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944668">
<p class="subhead1">Turning Error Handling On and Off</p>
<p><code class="codeph">HANDLECOLLISIONS</code> can be set to ignore duplicate and missing record errors for the <code class="codeph">MAP</code> statement. <code class="codeph">NOHANDLECOLLISIONS</code> will turn this off.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
HANDLECOLLISIONS;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>The following example will turn <code class="codeph">HANDLECOLLISIONS</code> on for all of the target files included in the <code class="codeph">ORD*</code> wildcard and off for <code class="codeph">CUSTOMERS</code>.</p>
<pre dir="ltr">
MAP $DATA2.GGSSOU.ORD*, TARGET $DATA4.GGSTAR.*,
HANDLECOLLISIONS;
MAP $DATA2.GGSOUT.CUSTOMERS, target $DATA4.GGSIN.*,
NOHANDLECOLLISIONS;
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944678">
<p class="subhead1">Locking Records</p>
<p>For Enscribe files, <code class="codeph">DETECTLOCKS</code> causes Replicat to issue a <code class="codeph">SETMODE 4</code> to reject a lock request with an <a id="d68045e2152" class="indexterm-anchor"></a>error 73. For SQL tables, it causes Replicat to issue the <code class="codeph">"CONTROL TABLE RETURN IF LOCKED</code>" statement.</p>
<p>Setting a <code class="codeph">REPERROR</code> clause allows Replicat to retry a locked record a specified number of times.</p>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-209A5D0D-C16F-4506-A621-6045CC0EE36D">
<p class="notep1">Note:</p>
<p>Use of <code class="codeph">DETECTLOCKS</code> could cause an increase in the number of error 73s reported. There can be a lag between when TM/MP tells the application that the transaction has been committed and when DP2 actually releases the locks. Without the <code class="codeph">DETECTLOCKS</code> parameter set, Oracle GoldenGate waits for DP2 to release its locks before continuing. With the <code class="codeph">DETECTLOCKS</code> parameter active, Oracle GoldenGate returns an error 73 when it is first encountered. You can use <code class="codeph">REPERROR 73</code> to address these errors when they occur. Before implementing <code class="codeph">DETECTLOCKS</code> review your processing needs to determine the best solution.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, DETECTLOCKS
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I990438">
<p class="subhead1">Using REPERROR</p>
<p>Use <code class="codeph">REPERROR</code> to specify an error and a response that together control how Replicat responds to the error when executing the <code class="codeph">MAP</code> statement. You can use <code class="codeph">REPERROR</code> at the <code class="codeph">MAP</code> level to override and supplement global error handling rules set with the <code class="codeph">REPERROR</code> parameter (see <span class="q">"<a href="GUID-B43DE49E-137B-46D6-9C8E-17A7ECDE714D.htm#GUID-B43DE49E-137B-46D6-9C8E-17A7ECDE714D">REPERROR</a>"</span>). Multiple <code class="codeph">REPERROR</code> statements can be applied to the same <code class="codeph">MAP</code> statement to enable automatic, comprehensive management of errors and interruption-free replication processing.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, 
REPERROR (<span class="italic">error_number</span>, <span class="italic">response</span>) [, REPERROR (<span class="italic">error_number</span>, <span class="italic">response</span>)] [, ...];
</pre>
<p>Refer to the <code class="codeph">REPERROR</code> parameter on <span class="q">"<a href="GUID-B43DE49E-137B-46D6-9C8E-17A7ECDE714D.htm#GUID-B43DE49E-137B-46D6-9C8E-17A7ECDE714D">REPERROR</a>"</span> for details on the <span class="italic"><code class="codeph">error_number</code></span> and <span class="italic"><code class="codeph">response</code></span> specifications. Note that <code class="codeph">RESET</code> is not a valid option for <code class="codeph">REPERROR</code> used under <code class="codeph">MAP</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following examples show different ways that <code class="codeph">REPERROR</code> can be used in a <code class="codeph">MAP</code> statement in conjunction with a global <code class="codeph">REPERROR</code> statement.</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-A562A564-EABB-47E3-864A-1D557ACFACF3"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>In the following example, when <span class="italic"><code class="codeph">error_1</code></span> occurs for the first <code class="codeph">MAP</code> statement, the action is <span class="italic"><code class="codeph">response_2</code></span>, not <span class="italic"><code class="codeph">response_1</code></span>, because an override was specified. However, if an <span class="italic"><code class="codeph">error_1</code></span> occurs for the second <code class="codeph">MAP</code> statement, the response is <span class="italic"><code class="codeph">response_1</code></span>, the global response. The response for <span class="italic"><code class="codeph">error_2</code></span> is <span class="italic"><code class="codeph">response_3</code></span>, which is <code class="codeph">MAP</code>-specific.</p>
<pre dir="ltr">
REPLICAT <span class="italic">group_name</span>
REPERROR (<span class="italic">error_1</span>, <span class="italic">response_1</span>)
MAP <span class="italic">source_1</span>, TARGET <span class="italic">target_1</span>, REPERROR (<span class="italic">error_1</span>, <span class="italic">response_2</span>);
MAP <span class="italic">source_2</span>, TARGET <span class="italic">target_2</span>, REPERROR (<span class="italic">error_2</span>, <span class="italic">response_3</span>);
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-5D20B300-D08B-4B65-87E3-035C06A85DA1"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>In the following example, when replicating from src1 to src2, all errors and actions (1-3) apply, because all <code class="codeph">REPERROR</code> statements address different errors (there are no <code class="codeph">MAP</code>-specific overrides).</p>
<pre dir="ltr">
REPLICAT <span class="italic">group_name</span>
REPERROR (<span class="italic">error_1</span>, <span class="italic">response_1</span>)
MAP <span class="italic">source_1</span>, TARGET <span class="italic">target_1</span>, REPERROR (<span class="italic">error_2</span>, <span class="italic">response_2</span>),
REPERROR (<span class="italic">error_3</span>, <span class="italic">response_3</span>);
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-E3B86916-6746-4DEB-934E-8319AE35F969"><!-- --></a>Example 3&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>In the following example, if error1 occurs for the first <code class="codeph">MAP</code> statement, the action is response2. For the second one it is response1 (the global response), and for the third one it is response4 (because of the second <code class="codeph">REPERROR</code> statement). A global <code class="codeph">REPERROR</code> statement applies to all <code class="codeph">MAP</code> statements that follow it in the parameter file until another <code class="codeph">REPERROR</code> statement starts new rules.</p>
<pre dir="ltr">
REPLICAT <span class="italic">group_name</span>
REPERROR (<span class="italic">error_1</span>, <span class="italic">response_1</span>)
MAP <span class="italic">source_1</span>, TARGET <span class="italic">target_1</span>, REPERROR (<span class="italic">error_1</span>, <span class="italic">response_2</span>);
MAP <span class="italic">source_2</span>, TARGET <span class="italic">target_2</span>, REPERROR (<span class="italic">error_2</span>, <span class="italic">response_3</span>);
REPERROR (<span class="italic">error_1</span>, <span class="italic">response_4</span>)
MAP <span class="italic">source_2</span>, TARGET <span class="italic">target_2</span>, REPERROR (<span class="italic">error_3</span>, <span class="italic">response_3</span>);
</pre></dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I963056">
<p class="subhead1">Creating an Exceptions Statement</p>
<p>Errors that have <code class="codeph">REPERROR</code> set to <code class="codeph">EXCEPTION</code> can be captured to an exception file using either <code class="codeph">EXCEPTIONSONLY</code> or <code class="codeph">MAPEXCEPTION</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Using EXCEPTIONSONLY</p>
<p><code class="codeph">EXCEPTIONSONLY</code> specifies that the current map is executed only when an error occurred for the last record processed in the preceding map. You must set <code class="codeph">REPERROR</code> to <code class="codeph">EXCEPTION</code> for the error that occurred, and the exception map must specify the same source table as the map in error. The exception map must follow the map in error in the parameter file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
EXCEPTIONSONLY;
</pre>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-A8D07E67-FDB0-4A43-A58A-4656925B51EC">
<p class="notep1">Note:</p>
<p>The source and target file names in the preceding <code class="codeph">MAP</code> statement (the one the <code class="codeph">EXCEPTIONSONLY</code> applies to) cannot include wildcards.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Using MAPEXCEPTION</p>
<p><code class="codeph">MAPEXCEPTION</code> specifies a target file for exceptions in processing the source and target files of the <code class="codeph">MAP</code>. The source and target file names can include wildcards and all exceptions that apply to the file set are written to the <span class="italic"><code class="codeph">exception_file_name.</code></span> Any valid mapping arguments, such as <code class="codeph">COLMAP</code> or <code class="codeph">KEYCOL</code>, can be included.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
MAPEXCEPTION (TARGET <span class="italic">exception_file_name</span>, 
<span class="italic">mapping_arguments</span>);
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-42D39D1B-0E41-4D97-8883-30C9AEE312B7"><!-- --></a><span class="italic"><code class="codeph">exception_file_name</code></span></dt>
<dd>
<p>Identifies the target file for errors that have been identified as <code class="codeph">EXCEPTION</code> with <code class="codeph">REPERROR</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-4E7118E3-9CD9-4EAD-A5B4-6B2127712AE0"><!-- --></a><span class="italic"><code class="codeph">mapping_arguments</code></span></dt>
<dd>
<p>Any valid mapping argument that can be used with the <code class="codeph">MAP</code> statement.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>This example uses wildcarded source and target file names. Exceptions that occur when processing any file on <code class="codeph">$DATA02.ACCT</code> with a name beginning with <code class="codeph">TRX</code> will be captured to <code class="codeph">$DATA08.ACCT.OLDTRX</code> using the designated mapping.</p>
<pre dir="ltr">
MAP $DATA04.ACCT.TRX*, TARGET $DATA05.ACCT.*,
MAPEXCEPTION (TARGET $DATA08.ACCT.OLDTRX,
   COLMAP (USEDEFAULTS,
   ACCT-NO = ACCT-NO,
   OPTYPE = @GETENV ("LASTERR", "OPTYPE"),
   DBERR = @GETENV ("LASTERR", "DBERRNUM"),
   DBERRMSG = @GETENV ("LASTERR", "DBERRMSG")
   )
);
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I983043">
<p class="subhead1">Qualifying Alternate Key File Names</p>
<p><code class="codeph">GETNETWORKALTFILENAMES</code> lets the file system qualify the alternate key file names with the local node name. Use <code class="codeph">IGNORENETWORKALTFILENAMES</code> to tell the file system not to qualify the alternate key file names with the local node name. This parameter can also be toggled around <code class="codeph">MAP</code> statements.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p><code class="codeph">GETNETWORKALTFILENAMES</code></p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, 
[GETNETWORKFILENAMES | IGNORENETWORKALTFILENAMES];
</pre></div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I957206">
<p class="subhead1">Displaying a SQL Statement</p>
<p>Use <code class="codeph">SHOWSYNTAX</code> to display a SQL statement before it is executed. The default is to display SQL statement text in the report file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>, SHOWSYNTAX;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<pre dir="ltr">
REPSQLLOG $DATA.SQLLOG.JSR01
MAP $DATA.SOURCE.ACCOUNT, TARGET $DATA.TARGET.ACCOUNT,
SHOWSYNTAX,
MAPID "My Mapid",
COLMAP (USEDEFAULTS);
</pre>
<p>The <code class="codeph">MAPID</code> is displayed along with the SQL statement. Use the <code class="codeph">MAPID</code> option to help in complicated mapping situations that require conditional mapping using a <code class="codeph">WHERE</code> clause. If <code class="codeph">MAPID</code> is not specified, a default ID of the form <code class="codeph">"MAP</code>" is built with a sequential number indicating the <code class="codeph">COLMAP</code> for the file. The <code class="codeph">MAPID</code> text can be up to 32 bytes long. If it contains spaces, it must be enclosed in either single or double quotes.</p>
<p>An optional Replicat parameter <code class="codeph">REPSQLLOG</code> redirects the output to a separate log file and keeps it out of the Replicat report file. See <span class="q">"<a href="GUID-E7B8E7D8-FBBD-4AF7-9EA4-49DD0E006294.htm#GUID-E7B8E7D8-FBBD-4AF7-9EA4-49DD0E006294">REPSQLLOG</a>"</span>.</p>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__I944698">
<p class="subhead1">Performing a Query</p>
<p>Use <code class="codeph">SQLEXEC</code> to perform a SQL Query when processing a record for a SQL/MP table. <code class="codeph">SQLEXEC</code> enables Oracle GoldenGate to communicate directly with the database to perform any query that SQL supports. The database function can be part of the synchronization process, such as retrieving values for column conversion, or it can be independent of extracting or replicating data.</p>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-43594573-2AB7-425C-B838-0CB0567158C9">
<p class="notep1">Note:</p>
<p>This feature is not available for Enscribe files. <code class="codeph">SQLEXEC</code> queries should not be used to change a value in the primary key column. The primary key value is passed from Extract to Replicat so Replicat can perform further update/delete operations. If Replicat does not know the primary key value, these operations cannot be completed.</p>
</div>
<p>By using <code class="codeph">SQLEXEC</code> within multiple <code class="codeph">FILE</code> or <code class="codeph">MAP</code> statements, you can create different rules for different tables; these rules can be as simple or as complex as needed. A query that is executed can accept input parameters from source or target rows and pass output parameters.</p>
<p>In the following example, <code class="codeph">SQLEXEC</code> runs a select statement, extracting the timestamp from the target table, then filters out records as needed.</p>
<pre dir="ltr">
MAP $DATA1.SQLDAT.ORDERS, TARGET $DATA1.MASTER.ORDERS,
SQLEXEC (ID check, 
QUERY " SELECT TIMESTAMP FROM $DATA1.SQLDAT.ORDERS "
" WHERE PKCOL = ?P1 ", PARAMS (P1 = PKCOL), ERROR REPORT);
</pre>
<p>A <code class="codeph">SQLEXEC</code> statement expects legal SQL syntax for the database being affected. Refer to the SQL for NonStop reference guide for permissible SQL syntax.</p>
<div class="infobox-note" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-A9C38891-E6F6-4B3F-8344-9E8CB882D8BC">
<p class="notep1">Note:</p>
<p>If a <code class="codeph">SQLEXEC</code> query fails, the Extract or Replicat process will exit. As such, you must structure your query correctly.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file_name</span>, TARGET <span class="italic">target_file_name</span>,
SQLEXEC (
<a id="d68045e2823" class="indexterm-anchor"></a>ID <span class="italic">logical_name</span>, 
<a id="d68045e2832" class="indexterm-anchor"></a>QUERY "<span class="italic">sql_query</span>", 
{<a id="d68045e2842" class="indexterm-anchor"></a>PARAMS <span class="italic">param_spec</span> | <a id="d68045e2851" class="indexterm-anchor"></a>NOPARAMS}
[, <a id="d68045e2856" class="indexterm-anchor"></a>AFTERFILTER | <a id="d68045e2861" class="indexterm-anchor"></a>BEFOREFILTER]
[, <a id="d68045e2867" class="indexterm-anchor"></a>DBOP]
[, <a id="d68045e2872" class="indexterm-anchor"></a>EXEC <span class="italic">frequency</span>]
[, <a id="d68045e2881" class="indexterm-anchor"></a>MAXVARCHARLEN <span class="italic">bytes</span>]
[, <a id="d68045e2890" class="indexterm-anchor"></a>PARAMBUFSIZE <span class="italic">num_bytes</span>]
[, <a id="d68045e2900" class="indexterm-anchor"></a>TRACE <span class="italic">option</span>]
[, <a id="d68045e2909" class="indexterm-anchor"></a>ALLPARAMS <span class="italic">option</span>]
[, <a id="d68045e2918" class="indexterm-anchor"></a>ERROR <span class="italic">action</span>]
[, <span class="italic">option</span>] [, ...]
)
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-E106EF9F-00DD-486E-9B95-3A7D36F5C241"><!-- --></a><code class="codeph">ID</code> <span class="italic"><code class="codeph">logical_name</code></span></dt>
<dd>
<p>Defines a logical name for the query. A logical name is required in order to extract values from the query results. <code class="codeph">ID</code> <span class="italic"><code class="codeph">logical_name</code></span> references the column values returned by the query.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-51125A55-AADD-42DF-ACAD-5CE51BA838E0"><!-- --></a><code class="codeph">QUERY</code> "<span class="italic"><code class="codeph">sql_query</code></span>"</dt>
<dd>
<p>Specifies the SQL query syntax to execute against the database. The query must be valid, standard query statement for the database against which it is being executed. It can either return results with a <code class="codeph">SELECT</code> statement or update the database with an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement.</p>
<p>For any query that produces output with a <code class="codeph">SELECT</code> statement, only the first row returned by the <code class="codeph">SELECT</code> is processed. Do not specify an <code class="codeph">"INTO...</code>" clause for any <code class="codeph">SELECT</code> statements.</p>
<p>Enclose the query within quotes. For a multi-line query, use quotes on each line. To ensure success, place a space after each begin quote and each end quote, or at least before the end quote. For example, in the following, there are spaces before the words <code class="codeph">select</code> and <code class="codeph">where</code> and after the words <code class="codeph">ggs_notify</code> and <code class="codeph">?p1</code>."</p>
<pre dir="ltr">
SQLEXEC (
ID ggs, ON UPDATES, ON INSERTS,
QUERY " select notified from $DATA1.SQLDAT.NOTIFY "
" where account_no = ?p1 ",
PARAMS (p1 = account_no)
)
</pre></dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-67B72BAB-A59A-4AA6-B798-16AED7924338"><!-- --></a><code class="codeph">PARAMS</code> <span class="italic"><code class="codeph">param_spec</code></span> | <code class="codeph">NOPARAMS</code></dt>
<dd>
<p>Defines whether the query accepts parameters. One of these options must be used.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-FA0C77CD-D386-474A-8669-69AAD6589434"><!-- --></a><code class="codeph">AFTERFILTER | BEFOREFILTER</code></dt>
<dd>
<p>Specifies when to execute the query in relation to a <code class="codeph">FILTER</code> clause. <code class="codeph">AFTERFILTER</code> executes after the filter and enables you to skip the overhead of executing the SQL unless the filter is successful. This is the default. <code class="codeph">BEFOREFILTER</code> executes before the filter and enables you to use the results of the procedure or query in the filter.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-A6A92083-5818-484B-BE3C-4EAE0BC70F24"><!-- --></a><code class="codeph">DBOP</code></dt>
<dd>
<p>Commits <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">SELECT</code> statements executed within the query. Otherwise, they could potentially be rolled back. Oracle GoldenGate issues the commit within the same transaction boundaries as the source transaction. Use caution: any changes that are committed by the procedure can result in overwriting existing data.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-1BA63B73-B04A-4D0D-9033-00390DC03952"><!-- --></a><code class="codeph">EXEC</code> <span class="italic"><code class="codeph">frequency</code></span></dt>
<dd>
<p>Controls the frequency with which a query executes and how long the results are considered valid, if extracting output parameters. Takes one of the following arguments:</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-3D2828E0-0A3D-4287-83E0-F203E2375F88"><!-- --></a><code class="codeph">MAP</code></dt>
<dd>
<p>Executes the query once for each source-target table map for which it is specified. <code class="codeph">MAP</code> renders the results invalid for any subsequent maps that have the same source table. For example, if a source table is being synchronized with more than one target table, the results would only be valid for the first source-target map. <code class="codeph">MAP</code> is the default.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-57AA6BCF-9D91-4A7D-8490-FC2305552207"><!-- --></a><code class="codeph">ONCE</code></dt>
<dd>
<p>Executes the query once during the course of an Oracle GoldenGate run, upon the first invocation of the associated <code class="codeph">FILE</code> or <code class="codeph">MAP</code> statement. The results remain valid for as long as the process remains running.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-E5893BCB-AA58-4605-99BF-FA7085D32D74"><!-- --></a><code class="codeph">TRANSACTION</code></dt>
<dd>
<p>Executes the query once per source transaction. The results remain valid for all operations of the transaction.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-9C2AC775-0B5E-4284-81AB-93E77E956E4A"><!-- --></a><code class="codeph">SOURCEROW</code></dt>
<dd>
<p>Executes the query once per source row operation. Use this option when you are synchronizing a source table with more than one target table, so that the results of the procedure or query are invoked for each source-target mapping.</p>
</dd>
</dl>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-5F447854-341D-433B-8F54-0BF13CA24098"><!-- --></a><code class="codeph">MAXVARCHARLEN</code> <span class="italic"><code class="codeph">bytes</code></span></dt>
<dd>
<p>Specifies the maximum length allocated for any output parameter in a query. Beyond this maximum, output values are truncated. The default is 255 bytes without an explicit <code class="codeph">MAXVARCHARLEN</code> clause.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-6E7FF770-D086-4078-864A-FAC2209F0E54"><!-- --></a><code class="codeph">PARAMBUFSIZE</code> <span class="italic"><code class="codeph">num_bytes</code></span></dt>
<dd>
<p>Specifies the maximum size of the memory buffer that stores parameter information, including both input and output parameters. Oracle GoldenGate issues a warning whenever the memory allocated for parameters is within 500 bytes of the maximum. The default is 10,000 bytes without an explicit <code class="codeph">PARAMBUFSIZE</code> clause.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-C05D6676-F7A0-4D79-862B-04EE5C17BF97"><!-- --></a><code class="codeph">TRACE</code> <span class="italic"><code class="codeph">option</code></span></dt>
<dd>
<p>Takes one of the following arguments:</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-F1D32548-40B1-4627-81C5-B5422BFA0C29"><!-- --></a><code class="codeph">TRACE ALL</code></dt>
<dd>
<p>Writes the input and output parameters of each invocation of a query to the report file.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-BC08EFA6-0292-4732-B57A-2C18C64F6F31"><!-- --></a><code class="codeph">TRACE ERROR</code></dt>
<dd>
<p>Writes parameters to the report file only if an error occurs.</p>
</dd>
</dl>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-537219AA-933E-4082-A8EC-98A241B90DFF"><!-- --></a><code class="codeph">ALLPARAMS</code> <span class="italic"><code class="codeph">option</code></span></dt>
<dd>
<p>Takes one of the following arguments:</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-29042AD0-38E1-4F36-BBCF-66B3929029CF"><!-- --></a><code class="codeph">ALLPARAMS REQUIRED</code></dt>
<dd>
<p>Indicates that all parameters must be present for the queries to execute.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B8FC1F8A-E1C8-45F2-B230-170DDF4576D6"><!-- --></a><code class="codeph">ALLPARAMS OPTIONAL</code></dt>
<dd>
<p>Allows the query to execute without all parameters being present.</p>
</dd>
</dl>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-DAB21F45-CD81-4D1C-9F0F-5BC66BF2C1E8"><!-- --></a><code class="codeph">ERROR</code> <span class="italic"><code class="codeph">action</code></span></dt>
<dd>
<p>Requires one of the following arguments:</p>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-1784301C-E6E5-4F6F-9921-C9981401A4BA"><!-- --></a><code class="codeph">ERROR IGNORE</code></dt>
<dd>
<p>Database error is ignored and processing continues.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-0F9BFB7F-FF73-4300-AAF9-71C7DF661610"><!-- --></a><code class="codeph">ERROR REPORT</code></dt>
<dd>
<p>Database error is written to a report.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-86197492-50B2-4D24-8963-04D50F8AAFAC"><!-- --></a><code class="codeph">ERROR RAISE</code></dt>
<dd>
<p>Database error is handled just as a table replication error.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-29E8D771-B0E8-4B29-AE8F-88488C2CA4C0"><!-- --></a><code class="codeph">ERROR FINAL</code></dt>
<dd>
<p>Database error is handled as a table replication error, but does not process any additional queries.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-5DE74390-C8A1-40F4-BA41-3D1751DF96DF"><!-- --></a><code class="codeph">ERROR FATAL</code></dt>
<dd>
<p>Database processing abends.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section" id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__CIHGJJHG">
<p class="subhead1">Triggering Actions</p>
<p><code class="codeph">EVENTACTIONS</code> can be used to trigger an event based on a file or table receiving a DML record. The event actions will take place after mapping and either before or after the record is processed depending on the action.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
MAP <span class="italic">source_file</span>, TARGET <span class="italic">target_file</span>
EVENTACTIONS ([VERBOSE]
  [, IGNORE | DISCARD]
  [, TACLCMD ("CMD_file_details") | TACLCMD (CMD $1, VAR $1 = value)]
  [, EMS WARN | INFO]
  [, CHECKPOINT {BEFORE | AFTER | BOTH}]
  [, REPORT]
  [, STOP]
  [, SUSPEND])
</pre>
<dl>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-0DE82863-575A-4155-8630-468F1CFDE064"><!-- --></a><code class="codeph">VERBOSE</code></dt>
<dd>
<p>Writes details to the report for each event as it is processed</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-5528E79A-251C-482C-A40A-B12BCE01F2BA"><!-- --></a><code class="codeph">IGNORE</code></dt>
<dd>
<p>Skips the record. <code class="codeph">IGNORE</code> and <code class="codeph">DISCARD</code> are incompatible, so only one of these options can be used.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-1C86360F-1D56-42B4-919F-5A513B83208B"><!-- --></a><code class="codeph">DISCARD</code></dt>
<dd>
<p>Discards the record. <code class="codeph">IGNORE</code> and <code class="codeph">DISCARD</code> are incompatible, so only one of these options can be used.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-83491A62-D08A-4C0F-B58A-293C09540D04"><!-- --></a><code class="codeph">TACLCMD</code></dt>
<dd>
<p>Executes a user-defined system command. Valid <code class="codeph">TACLCMD</code> file commands are <code class="codeph">PURGE</code>, <code class="codeph">PURGEDATA</code>, <code class="codeph">RUN</code>, <code class="codeph">RENAME</code>, <code class="codeph">OBEY</code>, and <code class="codeph">FUP</code>. Non-file values can be obtained by <code class="codeph">SQLEXEC</code>, <code class="codeph">@GETENV()</code>, or Column Data.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-E184112E-B2D5-4971-8A32-8643F68DA78F"><!-- --></a><code class="codeph">EMS</code></dt>
<dd>
<p>Writes either <code class="codeph">INFO</code> or <code class="codeph">WARN</code> messages to EMS.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-F736924A-7760-45D0-B792-ACC36716C382"><!-- --></a><code class="codeph">CHECKPOINT</code></dt>
<dd>
<p>Checkpoints its position <code class="codeph">BEFORE</code> the record is processed, <code class="codeph">AFTER</code> the record is processed or <code class="codeph">BOTH</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-72A99783-F38A-4505-BC8B-4D455C3F5394"><!-- --></a><code class="codeph">REPORT</code></dt>
<dd>
<p>Writes the current statistics to the report file.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-B90D238A-23C1-494A-BE92-166047E1BD8B"><!-- --></a><code class="codeph">STOP</code></dt>
<dd>
<p>Stops the process.</p>
</dd>
<dt class="dlterm"><a id="GUID-C19F078A-1AA7-4590-A999-0357D1358E8F__GUID-911D3862-EB42-423E-8D0F-16C36A42337E"><!-- --></a><code class="codeph">SUSPEND</code></dt>
<dd>
<p>Suspends the process until it is resumed by a command from GGSCI.</p>
</dd>
</dl>
<pre dir="ltr">
MAP $DATA.SLS.PLR, TARGET $DATA3.SLS.PLA
  EVENTACTIONS (VERBOSE, TACLCMD "RENAME $DATA.SLS.PLR, $DATA.SLS.T4M")
</pre>
<p>The following example sets <code class="codeph">VAR</code> options using parameters from <code class="codeph">SQLEXEC</code>:</p>
<pre dir="ltr">
EXTRACT EXMPAB
SETENV FETCHTBL=$DATA02.TOJ06n.ENVENTAB
MAP$data02.TOJOUT.EMARKER, TARGET $data03.TOJOUT.EMARAKER, 
  COLMAP (COL1 = COL1, SYSKEY=SYSKEY);SQLEXEC (ID getprog,
  QUERY "SELECT * FROM ?FETCHTBL"
  WHERE "table_name =?T1",
PARAMS(T1=@GETEMV("GGHEADER","TABLENAME")), ERROR REORT),
EVENTACTIONS (VERBOSE,EMS WARN,REPORT,CHECKPOINT BEFORE,
  TACLCMD("RUN $1/CPU $3,PRI $4, NAME $5/-f$2",
    var $1=GETPROG.program_name,
    var $2=GETPROG.file_name,
    var $3=GETPROG.cpu,
    var $4=GETPROG.pri,
    var $5=GETPROG.process),
  DISCARD);
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<p>The following example writes to the report and executes a <code class="codeph">TACLCMD</code> to rename the file:</p>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment28">
<tr>
<td class="cellalignment35">
<table class="cellalignment33">
<tr>
<td class="cellalignment32"><a href="GUID-4288449F-F1B6-4E89-88B8-B29F40AF9074.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment32"><a href="GUID-5098D9B1-A0C2-49D9-99D4-A2B9DDF77B76.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment37">
<table class="cellalignment31">
<tr>
<td class="cellalignment32"><a href="http://docs.oracle.com/goldengate/ns1221/gg-nsk/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment32"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment32"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment32"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
