<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Enabling Hybrid Cloud Monitoring on Oracle GoldenGate Cloud Service</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This section discusses using the Enterprise manager Cloud Control console to administer both your Oracle cloud and on-premises deployments." />
<meta name="dcterms.created" content="2017-07-20T13:40:30Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Enterprise Manager Oracle GoldenGate System Monitoring Plug-In Installation Guide" />
<meta name="dcterms.identifier" content="E77936-03" />
<meta name="dcterms.isVersionOf" content="EMGGP" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/em1321/gg-emplugin/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-64EF34A5-5E7C-442D-84A9-396D12049433.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-1B804EB2-271C-49E5-8551-7264F7AFAB00.htm" title="Next" type="text/html" />
<link rel="alternate" href="E77936-03.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2714DB75-11DC-473D-B124-D526E2183AF3"></a> <span id="PAGE" style="display:none;">9/11</span> <!-- End Header -->
<h1 class="sect1"><span class="enumeration_chapter">6</span> Enabling Hybrid Cloud Monitoring on Oracle GoldenGate Cloud Service</h1>
<div>
<p>This section discusses using the Enterprise manager Cloud Control console to administer both your Oracle cloud and on-premises deployments.</p>
<div class="section">
<p class="subhead1">Topics</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-868E0758-4706-4B4C-9C40-D7D6F205E249" title="You can use the Enterprise Manager Cloud Control console to administer both your on-premises and Oracle Cloud deployments.">About Hybrid Cloud Monitoring</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-3312AE16-BB84-403B-97F9-F5F4358D5E6D">Installing the Monitor Agent on Cloud Device to Configure the JAgent</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-937A4D67-E095-43C1-A1D3-931965B33D81" title="You must create a new inventory location for non Oracke users as they do not have direct access to Oracle GoldenGate Cloud Service POD machines through Oracle user. Without this access they&rsquo;re unable to push the Hybrid cloud agent from the Enterprise Cloud interface.">Creating an Inventory Location for Non Oracle Users</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-227BADEF-C87F-4412-BDFA-D04FF1B0F769" title="You must configure the JAgent to work in the provisioning environment.">Configuring JAgent in the Provisioning Environment</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-D686FDED-6094-4B59-8166-8E6B221738DC">Installing the Hybrid Cloud Gateway Agent</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-90487C5B-7BCB-4FF2-8C7D-39657106461C">Configuring the EM Hybrid Cloud</a></p>
</li>
<li>
<p><a href="GUID-2714DB75-11DC-473D-B124-D526E2183AF3.htm#GUID-601569BA-51C8-492C-976A-29E6807765CF">Configuring the SOCKS Proxy Setup</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div class="props_rev_3"><a id="GUID-868E0758-4706-4B4C-9C40-D7D6F205E249"></a>
<h2 class="sect2"><span class="enumeration_section">6.1</span> About Hybrid Cloud Monitoring</h2>
<div>
<p>You can use the Enterprise Manager Cloud Control console to administer both your on-premises and Oracle Cloud deployments.</p>
<div class="section">
<p>Oracle Hybrid Cloud lets you as an on-premises Enterprise Manager administrator, monitor and manage cloud services using the same Oracle Enterprise Manager tools to monitor, provision, and maintain Oracle Databases, Engineered Systems, Oracle Applications, Oracle Middleware, and a variety of third-party systems. See <a class="olink EMADM15141" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E77948-01&amp;id=EMADM15141">Enabling Hybrid Cloud Management</a> in <cite>Enterprise Manager Cloud Control Administrator's Guide</cite>.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-3312AE16-BB84-403B-97F9-F5F4358D5E6D"></a>
<h2 class="sect2"><span class="enumeration_section">6.2</span> Installing the Monitor Agent on Cloud Device to Configure the JAgent</h2>
<div>
<div class="section">
<p>You must install the monitor agent on your cloud device to configure the JAgent:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Provide the latest release file, which is <code class="codeph">fmw_12.2.1.2.0_ogg_generic.jar</code>.</span></li>
<li class="stepexpand"><span>Copy the file into the cloud device.</span></li>
<li class="stepexpand"><span>Select <span class="bold">Monitor agent only</span> and provide the location for installation.</span>
<div>
<div class="infobox-note" id="GUID-3312AE16-BB84-403B-97F9-F5F4358D5E6D__GUID-99E113DA-7AA8-41EB-AE31-C6704C39DCB9">
<p class="notep1">Note:</p>
You must have permission to install in the mentioned location.</div>
</div>
</li>
<li class="stepexpand"><span>Once the installation is complete, go to <code class="codeph"><span class="variable">MON_AGENT_INST_LOC</span>/oggmon/ogg_agent</code> directory.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">createMonitorAgentInstance.sh</code>. Provide the Oracle GoldenGate core location, for example <code class="codeph">/u01/app/oracle/gghome</code> when asked.</span>
<div>Provide a new location <code class="codeph">/u02/data/Agent_Inst</code> to create an agent instance for the monitor.</div>
</li>
<li class="stepexpand"><span>Go to the <code class="codeph"><span class="variable">AGENT_INST_LOC</span>/bin</code> directory.</span></li>
<li class="stepexpand"><span>Run <code class="codeph">pw_agent_util.sh -jagentonly</code>.</span>
<ul>
<li>Create a password for Java Agent:</li>
<li>Confirm password for Java Agent:</li>
</ul>
</li>
<li class="stepexpand"><span>Go to the <code class="codeph"><span class="variable">AGENT_INST_LOC</span>/cfg</code> directory.</span></li>
<li class="stepexpand"><span>Modify the <code class="codeph">Config.properties</code> file and change <span class="bold">agent.type = OEM</span> and save the file.</span></li>
</ol>
</div>
</div>
<div class="props_rev_3"><a id="GUID-937A4D67-E095-43C1-A1D3-931965B33D81"></a>
<h2 class="sect2"><span class="enumeration_section">6.3</span> Creating an Inventory Location for Non Oracle Users</h2>
<div>
<p>You must create a new inventory location for non Oracke users as they do not have direct access to Oracle GoldenGate Cloud Service POD machines through Oracle user. Without this access they&rsquo;re unable to push the Hybrid cloud agent from the Enterprise Cloud interface.</p>
<div class="section">
<p>To create a new inventory location for the opc user:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Copy the <code class="codeph">createCentralInventory.sh</code> script to the GGCS POD machine.</span></li>
<li class="stepexpand"><span>Login as an opc user then use the <code>sudo su #</code> command.</span></li>
<li class="stepexpand"><span>Create the inventory directory.</span>
<div>
<p>Example: <code class="codeph">/u02/data/opcuser/oraInventory</code> directory.</p>
</div>
</li>
<li class="stepexpand"><span>Run the create inventory script <code>./createCentralInventory1479193434142.sh inventory_location group_name</code>.</span>
<div>
<p>Example: <code class="codeph">./createCentralInventory1479193434142.sh /u02/data/opcuser/oraInventory opc</code>.</p>
</div>
</li>
<li class="stepexpand"><span>Change the permission of inventory folder&nbsp;from root to opc using the <code>chown</code> command.</span>
<div>
<p>Example: <code class="codeph">chown opc /u02/data/opcuser/oraInventory</code>.</p>
</div>
</li>
<li class="stepexpand"><span>Use <code class="codeph">Ctrl+D</code> to come out from root user and change to opc user.</span></li>
<li class="stepexpand"><span>Create an <code class="codeph">emagent</code> folder as opc user to push the Hybrid cloud agent.</span></li>
<li class="stepexpand"><span>Push the Hybrid cloud agent from Enterprise Manager interface.</span></li>
</ol>
<div class="section">The location of <code class="codeph">createCentralInventory.sh</code> will be provided separately.</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-227BADEF-C87F-4412-BDFA-D04FF1B0F769"></a>
<h2 class="sect2"><span class="enumeration_section">6.4</span> Configuring JAgent in the Provisioning Environment</h2>
<div>
<p>You must configure the JAgent to work in the provisioning environment.</p>
<ol>
<li><span>Go to <code class="codeph">GGHOME</code> location and start the GGSCI console using the <code>./ggsci</code> command.</span></li>
<li><span>Use the <code>info-all</code> command to verify that only the <code class="codeph">manager</code> process has stopped.</span></li>
<li><span>Use the <code>view param mgr</code> command to check the parameters in <code class="codeph">MGR.prm</code> file and modify the port as needed</span></li>
<li><span>Exit the GGSCI console.</span></li>
<li><span>Create the <code class="codeph">GLOBALS</code> file and provide the value as <code class="codeph">ENABLEMONITORING</code> and save it in the <code class="codeph">GGHOME</code> location.</span></li>
<li><span>Start the GGSCI console and use the <code>create datastore</code> command to create the datastore.</span></li>
</ol>
<div class="section">The GGSCI should show both the manager and JAgent processes.</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-D686FDED-6094-4B59-8166-8E6B221738DC"></a>
<h2 class="sect2"><span class="enumeration_section">6.5</span> Installing the Hybrid Cloud Gateway Agent</h2>
<div>
<div class="section">
<p>Install the EM Agent on the machine A, which is marked as a Hybrid Cloud Gateway Agent.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From the <span class="bold">Setup</span> menu, select <span class="bold">Add Target</span>, then <span class="bold">Add Target Manually</span>, and then select <span class="bold">Install Agent on Host</span>.</span></li>
<li class="stepexpand"><span>Add the Host Target. Enter the host name, for example <span class="variable">A</span>, and platform, for example <span class="variable">platform = Linux x86-64</span>. Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Add Installation base directory to a location on machine A.</span></li>
<li class="stepexpand"><span>Add Named Credential to Host credential of Machine A.</span></li>
<li class="stepexpand"><span>Don&rsquo;t add a value in the <span class="bold">Port</span> field. The system uses an available free port. Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Deploy Agent</span>.</span>
<div>
<p>Ignore any warning that is displayed.</p>
</div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Continue On All Host</span>.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">/usr/local/packages/aime/em/run_as_root /scratch/<span class="variable">userID</span>/emagentm/agent_13.1.0.0.0/root.sh</code> command to complete the installation.</span></li>
</ol>
</div>
</div>
<div class="props_rev_3"><a id="GUID-90487C5B-7BCB-4FF2-8C7D-39657106461C"></a>
<h2 class="sect2"><span class="enumeration_section">6.6</span> Configuring the EM Hybrid Cloud</h2>
<div>
<div class="section">
<p>You must configure the Hybrid Cloud agent.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the Enterprise Manager Plug-in for Oracle GoldenGate UI, select <span class="bold">Setup, Add Target, Add Target Manually, Install Agent on Host.</span></span></li>
<li class="stepexpand"><span>Add the <code class="codeph">Host Target</code>. Enter the host name and platform. Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Add the <code class="codeph">Installation base directory</code>. It is the same location as in host provided in step 2.</span>
<div>
<p>It&rsquo;s the same location as you provided in the previous step for the host .</p>
</div>
</li>
<li class="stepexpand"><span>Add the <code class="codeph">Named Credential</code> to the host as provided in step 2.</span>
<div>
<p>You must have privilege to the location provided in the previous step.</p>
</div>
</li>
<li class="stepexpand"><span>Don&rsquo;t provide the <code class="codeph">port value</code>. The system allocates a free port. Click <span class="bold">Next</span>.</span></li>
<li class="stepexpand"><span>Click <span class="bold">Deploy Agent</span>.</span></li>
<li class="stepexpand"><span>Provide the details about the known error, which appears.</span></li>
</ol>
</div>
</div>
<div class="props_rev_3"><a id="GUID-601569BA-51C8-492C-976A-29E6807765CF"></a>
<h2 class="sect2"><span class="enumeration_section">6.7</span> Configuring the SOCKS Proxy Setup</h2>
<div>
<div class="section">
<p>To configure the SOCKS proxy to work with the cloud device:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Login to the cloud or POD box using the credentials provided during the Hybrid agent installation.</span></li>
<li class="stepexpand"><span>Use this command to start the proxy server on the cloud device.</span>
<div>
<p><code class="codeph">ssh -i private_key file -v -N -f -D listening IP Address:listening IP port GGCS Oracle User@GGCS IP Address</code></p>
<p><code class="codeph">ssh -i opc_rsa -v -f -N -D 1080 USER@$_IP</code></p>
<p><code class="codeph">ssh -i private_key file -v -N -f -D listening IP Address:listening IP port</code></p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">-i</code>: Private Key File</p>
</li>
<li>
<p><code class="codeph">-v</code>: Verbose Mode</p>
</li>
<li>
<p><code class="codeph">-N</code>: No execution command on remote system</p>
</li>
<li>
<p><code class="codeph">-f</code>: Run the proxy process in the background</p>
</li>
<li>
<p><code class="codeph">-D</code>: Dynamic Port Forwarding</p>
</li>
<li>
<p><code class="codeph">-C</code>: Compression</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="GUID-64EF34A5-5E7C-442D-84A9-396D12049433.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="GUID-1B804EB2-271C-49E5-8551-7264F7AFAB00.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2014, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="http://docs.oracle.com/goldengate/em1321/gg-emplugin/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment14"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
