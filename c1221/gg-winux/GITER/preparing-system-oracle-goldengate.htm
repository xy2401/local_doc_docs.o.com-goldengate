<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Preparing the System for Oracle GoldenGate</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains guidelines for preparing the database and the system to support Oracle GoldenGate. This chapter contains the following sections:" />
<meta name="dcterms.created" content="2017-11-30T08:19:27Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Installing and Configuring Oracle GoldenGate for Teradata" />
<meta name="dcterms.identifier" content="E66647-03" />
<meta name="dcterms.isVersionOf" content="GITER" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="installing-oracle-goldengate.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-oracle-goldengate.htm" title="Next" type="text/html" />
<link rel="alternate" href="GITER.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-88995C40-E41F-46FE-9B2C-75BB237D89A6"></a> <span id="PAGE" style="display:none;">6/10</span> <!-- End Header -->
<a id="GITER166"></a><a id="GITER165"></a>
<h1 id="GITER-GUID-88995C40-E41F-46FE-9B2C-75BB237D89A6" class="sect1"><span class="enumeration_chapter">3</span> Preparing the System for Oracle GoldenGate</h1>
<div>
<div><span>This chapter contains guidelines for preparing the database and the system to support Oracle GoldenGate. This chapter contains the following sections:</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate.htm#GUID-48B9793A-C42B-49A0-8DFE-9E9C219147E0">Preparing Tables for Processing</a><br /></li>
</ul>
</div>
<a id="GITER167"></a>
<div class="props_rev_3"><a id="GUID-48B9793A-C42B-49A0-8DFE-9E9C219147E0"></a>
<h2 id="GITER-GUID-48B9793A-C42B-49A0-8DFE-9E9C219147E0" class="sect2"><span class="enumeration_section">3.1</span> Preparing Tables for Processing</h2>
<div>
<p>The following table attributes must be addressed in an Oracle GoldenGate environment.</p>
<p><a href="preparing-system-oracle-goldengate.htm#GUID-1D165EC8-351C-453E-808B-8CD5789EDDE0">Disabling Triggers and Cascade Constraints</a></p>
<p><a href="preparing-system-oracle-goldengate.htm#GUID-45B8EB13-4D55-4CA3-8B92-95C45D21ECC1">Assigning Row Identifiers</a></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate.htm#GUID-1D165EC8-351C-453E-808B-8CD5789EDDE0">Disabling Triggers and Cascade Constraints</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate.htm#GUID-45B8EB13-4D55-4CA3-8B92-95C45D21ECC1">Assigning Row Identifiers</a><br /></li>
</ul>
</div>
<a id="GITER168"></a>
<div class="props_rev_3"><a id="GUID-1D165EC8-351C-453E-808B-8CD5789EDDE0"></a>
<h3 id="GITER-GUID-1D165EC8-351C-453E-808B-8CD5789EDDE0" class="sect3"><span class="enumeration_section">3.1.1</span> Disabling Triggers and Cascade Constraints</h3>
<div>
<div class="section">
<p>Disable triggers, cascade delete constraints, and cascade update constraints on target Teradata tables. Oracle GoldenGate replicates DML that results from a trigger or cascade constraint. If the same trigger or constraint gets activated on the target table, it becomes redundant because of the replicated version, and the database returns an error. Consider the following example, where the source tables are <code class="codeph">emp_src</code> and <code class="codeph">salary_src</code> and the target tables are <code class="codeph">emp_targ</code> and <code class="codeph">salary_targ</code>.</p>
</div>
<!-- class="section" -->
<ol>
<li><span>A delete is issued for <code class="codeph">emp_src</code>.</span></li>
<li><span>It cascades a delete to <code class="codeph">salary_src</code>.</span></li>
<li><span>Oracle GoldenGate sends both deletes to the target.</span></li>
<li><span>The parent delete arrives first and is applied to <code class="codeph">emp_targ</code>.</span></li>
<li><span>The parent delete cascades a delete to <code class="codeph">salary_targ</code>.</span></li>
<li><span>The cascaded delete from <code class="codeph">salary_src</code> is applied to <code class="codeph">salary_targ</code><span class="italic">.</span></span></li>
<li><span>The row cannot be located because it was already deleted in step 5.</span></li>
</ol>
</div>
</div>
<a id="GITER169"></a>
<div class="props_rev_3"><a id="GUID-45B8EB13-4D55-4CA3-8B92-95C45D21ECC1"></a>
<h3 id="GITER-GUID-45B8EB13-4D55-4CA3-8B92-95C45D21ECC1" class="sect3"><span class="enumeration_section">3.1.2</span> Assigning Row Identifiers</h3>
<div>
<p>Oracle GoldenGate requires some form of unique row identifier on the source and target tables to locate the correct target rows for replicated updates and deletes.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate.htm#GUID-AF39F787-3885-4C7D-8D6C-0267DF809ED2">How Oracle GoldenGate Determines the Kind of Row Identifier to Use</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate.htm#GUID-E9E79550-614F-4489-920A-7E8E5FDC3458">Using KEYCOLS to Specify a Custom Key</a><br /></li>
</ul>
</div>
<a id="GITER170"></a>
<div class="props_rev_3"><a id="GUID-AF39F787-3885-4C7D-8D6C-0267DF809ED2"></a>
<h4 id="GITER-GUID-AF39F787-3885-4C7D-8D6C-0267DF809ED2" class="sect4"><span class="enumeration_section">3.1.2.1</span> How Oracle GoldenGate Determines the Kind of Row Identifier to Use</h4>
<div>
<div class="section">
<p>Unless a <code class="codeph">KEYCOLS</code> clause is used in the <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Primary key</span></li>
<li><span>First unique key alphanumerically that does not contain a timestamp or non-materialized computed column.</span></li>
<li><span>If none of the preceding key types exist (even though there might be other types of keys defined on the table) Oracle GoldenGate constructs a pseudo key of all columns that the database allows to be used in a unique key, excluding those that are not supported by Oracle GoldenGate in a key or those that are excluded from the Oracle GoldenGate configuration.</span></li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-AF39F787-3885-4C7D-8D6C-0267DF809ED2__GUID-938D162B-07D5-42E3-841F-368CB2451222">
<p class="notep1">Note:</p>
<p>If there are other, non-usable keys on a table or if there are no keys at all on the table, Oracle GoldenGate logs an appropriate message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code class="codeph">WHERE</code> clause.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="GITER171"></a>
<div class="props_rev_3"><a id="GUID-E9E79550-614F-4489-920A-7E8E5FDC3458"></a>
<h4 id="GITER-GUID-E9E79550-614F-4489-920A-7E8E5FDC3458" class="sect4"><span class="enumeration_section">3.1.2.2</span> Using KEYCOLS to Specify a Custom Key</h4>
<div>
<p>If a table does not have one of the preceding types of row identifiers, or if you prefer those identifiers not to be used, you can define a substitute key if the table has columns that always contain unique values. You define this substitute key by including a <code class="codeph">KEYCOLS</code> clause within the Replicat <code class="codeph">MAP</code> parameter. The specified key will override any existing primary or unique key that Oracle GoldenGate finds. For more information, see <a class="olink GWURF546" target="_blank" href="../GWURF/table-map.htm#GWURF546"><span class="italic"><span id="GUID-E9E79550-614F-4489-920A-7E8E5FDC3458__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a>.</p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment158">
<tr>
<td class="cellalignment165">
<table class="cellalignment163">
<tr>
<td class="cellalignment162"><a href="installing-oracle-goldengate.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment162"><a href="configuring-oracle-goldengate.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment167">
<table class="cellalignment161">
<tr>
<td class="cellalignment162"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment162"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
