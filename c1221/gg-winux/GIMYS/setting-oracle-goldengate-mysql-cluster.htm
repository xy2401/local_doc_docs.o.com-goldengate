<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Setting up Oracle GoldenGate for MySQL Cluster</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-07-19T04:12:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Installing and Configuring Oracle GoldenGate for MySQL" />
<meta name="dcterms.identifier" content="E67826-03" />
<meta name="dcterms.isVersionOf" content="GIMYS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="installing-oracle-goldengate-windows.htm" title="Previous" type="text/html" />
<link rel="Next" href="integrating-oracle-goldengate-cluster.htm" title="Next" type="text/html" />
<link rel="alternate" href="GIMYS.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AAA483E7-F951-48B5-B108-DEB23D5D956E"></a> <span id="PAGE" style="display:none;">19/39</span> <!-- End Header -->
<a id="GIMYS145"></a>
<h1 id="GIMYS-GUID-AAA483E7-F951-48B5-B108-DEB23D5D956E" class="sect1"><span class="enumeration_section">2.7</span> Setting up Oracle GoldenGate for MySQL Cluster</h1>
<div>
<div class="section">
<p>Oracle GoldenGate supports MySQL cluster in 11.2.1.0.4 and later versions and is certified on MySQL Cluster 7.1.15 and MySQL 5.1.<span class="italic">x</span>. The following procedures show how you can set up Oracle GoldenGate to work for MySQL cluster.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="setting-oracle-goldengate-mysql-cluster.htm#GUID-D36531FB-7EB9-4EFC-A328-482D8CF4EFA8">Step 1: Install MySQL Cluster</a></p>
</li>
<li>
<p><a href="setting-oracle-goldengate-mysql-cluster.htm#GUID-442463AC-6273-4FAE-AAF0-F958730D77C7">Step 2: Start MySQL Cluster</a></p>
</li>
<li>
<p><a href="setting-oracle-goldengate-mysql-cluster.htm#GUID-436F6426-780C-40F9-B140-869554B19779">Step 3: Install and Run Oracle GoldenGate</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<a id="GIMYS146"></a>
<div class="props_rev_3"><a id="GUID-D36531FB-7EB9-4EFC-A328-482D8CF4EFA8"></a>
<h2 id="GIMYS-GUID-D36531FB-7EB9-4EFC-A328-482D8CF4EFA8" class="sect2"><span class="enumeration_section">2.7.1</span> Step 1: Install MySQL Cluster</h2>
<div>
<p>Install MySQL Cluster as described in the MySQL document "<span class="italic">Installing MySQL Cluster on Linux</span>" at:</p>
<p><a href="https://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-install-linux.html" target="_blank"><code class="codeph">https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-install-linux.html</code></a></p>
<div class="infobox-note" id="GUID-D36531FB-7EB9-4EFC-A328-482D8CF4EFA8__GUID-7A49EC4D-33E2-4761-B8A8-CE3BB1800729">
<p class="notep1">Note:</p>
<p>Oracle GoldenGate now supports MySQL Cluster/NDB storage mode only. Therefore, the following setup is needed in the configuration file (i.e. <code class="codeph">my.cnf</code>):</p>
<pre dir="ltr">
default-storage-engine=ndbcluster
</pre>
<p>After you create MySQL database and tables, you can check the status to make sure correct engine and data type is used. The following is an example:</p>
<pre dir="ltr">
show table status where Name='te'; 
</pre></div>
</div>
</div>
<a id="GIMYS147"></a>
<div class="props_rev_3"><a id="GUID-442463AC-6273-4FAE-AAF0-F958730D77C7"></a>
<h2 id="GIMYS-GUID-442463AC-6273-4FAE-AAF0-F958730D77C7" class="sect2"><span class="enumeration_section">2.7.2</span> Step 2: Start MySQL Cluster</h2>
<div>
<p>To use <span>Oracle GoldenGate</span> for MySQL Cluster, you need to disable the <code class="codeph">NDB-LOG-UPDATE-AS-WRITE</code> and <code class="codeph">NDB-LOG-UPDATED-ONLY</code> parameters inside their respective MySQL database configuration files (<code class="codeph">my.cnf</code>/<code class="codeph">my.ini</code>) or by using the <code class="codeph">mysqld</code> command. Extract must be positioned to a point in time where the disabled options are already in effect; for example:</p>
<pre dir="ltr">
mysqld --default-file=/rdbms/mysql/myssqlcluster/my_cluster/conf/my.cnf -uroot --datadir=/rdbms/mysql/myssqlcluster/my_cluster/mysqld_data--ndbcluster --ndb-log-update-as-write=0 --ndb-log-updated-only=0 --default-storage-engine=ndbcluster --max_allowed_packet=1G
</pre>
<p>The <code class="codeph">--ndb-log-updated-only</code> option for MySQL does the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Logs complete rows.</p>
</li>
<li>
<p>Logs only column data that has been updated; that is, column data whose value has been set, regardless of whether or not the value was actually changed. This is the default behavior. If you need to log full rows, you can do so by setting <code class="codeph">--ndb-log-updated-only</code> to 0 or <code class="codeph">OFF</code>.</p>
</li>
</ul>
<p>The <code class="codeph">--ndb-log-update-as-write</code> option logs changed data as <code class="codeph">UPDATE</code> operations.</p>
</div>
</div>
<a id="GIMYS148"></a>
<div class="props_rev_3"><a id="GUID-436F6426-780C-40F9-B140-869554B19779"></a>
<h2 id="GIMYS-GUID-436F6426-780C-40F9-B140-869554B19779" class="sect2"><span class="enumeration_section">2.7.3</span> Step 3: Install and Run Oracle GoldenGate</h2>
<div>
<p>Follow the instructions in <a href="installing-oracle-goldengate-mysql.htm#GUID-8E516E4C-C334-4455-8EB6-9F80377F7715">Installing Oracle GoldenGate on Linux and UNIX</a> to install Oracle GoldenGate. To support the cluster environment, install Oracle GoldenGate on a shared file system that can be accessed by all of the cluster nodes.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment226">
<tr>
<td class="cellalignment233">
<table class="cellalignment231">
<tr>
<td class="cellalignment230"><a href="installing-oracle-goldengate-windows.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment230"><a href="integrating-oracle-goldengate-cluster.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment235">
<table class="cellalignment229">
<tr>
<td class="cellalignment230"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment230"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
