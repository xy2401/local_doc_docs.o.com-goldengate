<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Preparing Oracle Times Ten for Oracle GoldenGate</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1079" />
<meta name="description" content="This chapter contains steps to configure the Oracle TimesTen database properly to support Oracle GoldenGate." />
<meta name="dcterms.created" content="2016-03-22T9:32:28Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Installing and Configuring Oracle GoldenGate for Oracle TimesTen" />
<meta name="dcterms.identifier" content="E66648-01" />
<meta name="dcterms.isVersionOf" content="GIOTT" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="install.htm" title="Previous" type="text/html" />
<link rel="Next" href="uninstall.htm" title="Next" type="text/html" />
<link rel="alternate" href="GIOTT.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">6/8</span> <!-- End Header -->
<div id="GIOTT146" class="chapter"><a id="sthref26"></a>
<h1 class="chapter"><span class="secnum">3</span> Preparing Oracle Times Ten for Oracle GoldenGate</h1>
<p><a id="GIOTT147"></a>This chapter contains steps to configure the Oracle TimesTen database properly to support Oracle GoldenGate.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#BABECCEI">Section 3.1, "Configuring the ODBC Driver"</a></p>
</li>
<li>
<p><a href="#BABDIJFB">Section 3.2, "Preparing Tables for Processing"</a></p>
</li>
<li>
<p><a href="#A1546922">Section 3.3, "Next Steps in the Deployment"</a></p>
</li>
</ul>
<a id="BABECCEI"></a>
<div id="GIOTT148" class="sect1"><!-- infotype="Task" -->
<h2 class="sect1"><span class="secnum">3.1</span> Configuring the ODBC Driver</h2>
<p>Follow these directions to configure ODBC (Open Database Connectivity), which Replicat will use to connect to the target database. Establish a system data source name (DSN) on each Windows system where Oracle GoldenGate will interface with an Oracle TimesTen database. A DSN stores information about how to connect to the target database.</p>
<p class="subhead2"><a id="GIOTT226"></a>To Create a DSN on Windows</p>
<ol>
<li>
<p>Install the Oracle TimesTen Client driver on the target Windows system. (Note: The TimesTen Data Manager production ODBC driver is installed by default on Windows systems.)</p>
</li>
<li>
<p>On the Windows system, open the <span class="gui-object-action">Control Panel</span> folder.</p>
</li>
<li>
<p>Open the <span class="gui-object-action">Administrative Tools</span> folder.</p>
</li>
<li>
<p>Open <span class="gui-object-action">Data Sources (ODBC)</span>. The <span class="gui-object-action">ODBC Data Source Administrator</span> dialog box is displayed.</p>
</li>
<li>
<p>Select the <span class="gui-object-action">System DSN</span> tab, and then click <span class="gui-object-action">Add</span>.</p>
</li>
<li>
<p>Under <span class="gui-object-action">Create New Data Source</span>, select the <span class="gui-object-action">TimesTen Client Driver</span>.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Finish</span>. The <span class="gui-object-action">Create a New Data Source</span> wizard is displayed.</p>
</li>
<li>
<p>Supply the following:</p>
<ul>
<li>
<p>For <span class="gui-object-action">Client DSN</span>, type a name for the DSN of the client name, up to 32 alpha-numeric characters, excluding special keyboard characters except for the underscore and dash.</p>
</li>
<li>
<p>(Optional) For <span class="gui-object-action">Description</span>, type a description of this DSN.</p>
</li>
<li>
<p>For the rest of the fields in this dialog, supply the correct information for the Oracle TimesTen Server and its host. For detailed instructions, or if you have any problems, see the Oracle TimesTen documentation.</p>
</li>
</ul>
</li>
<li>
<p>Click <span class="bold">OK</span> to close the dialog.</p>
</li>
<li>
<p>Repeat these steps on the other systems where Oracle GoldenGate will interact with Oracle TimesTen.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABDIJFB"></a>
<div id="GIOTT151" class="sect1"><!-- infotype="Orientation" -->
<h2 class="sect1"><span class="secnum">3.2</span> Preparing Tables for Processing</h2>
<p>This section describes the table attributes you must address in an Oracle GoldenGate environment.</p>
<p><a href="#BABBGEIJ">Section 3.2.1, "Disabling Triggers and Cascade Constraints"</a></p>
<p><a href="#BABIIBID">Section 3.2.2, "Assigning Row Identifiers"</a></p>
<a id="BABBGEIJ"></a>
<div id="GIOTT152" class="sect2"><!-- infolevel="all" infotype="Task" -->
<h3 class="sect2"><span class="secnum">3.2.1</span> Disabling Triggers and Cascade Constraints</h3>
<p>Disable triggers, cascade delete constraints, and cascade update constraints on the target tables, or alter them to ignore changes made by the Oracle GoldenGate database user. Oracle GoldenGate replicates DML that results from a trigger or cascade constraint. If the same trigger or constraint gets activated on the target table, it becomes redundant because of the replicated version, and the database returns an error. Consider the following example, where the source tables are <code dir="ltr">emp_src</code> and <code dir="ltr">salary_src</code> and the target tables are <code dir="ltr">emp_targ</code> and <code dir="ltr">salary_targ</code>.</p>
<ol>
<li>
<p>A delete is issued for <code dir="ltr">emp_src</code><code dir="ltr">.</code></p>
</li>
<li>
<p>It cascades a delete to <code dir="ltr">salary_src</code>.</p>
</li>
<li>
<p>Oracle GoldenGate sends both deletes to the target.</p>
</li>
<li>
<p>The parent delete arrives first and is applied to <code dir="ltr">emp_targ</code>.</p>
</li>
<li>
<p>The parent delete cascades a delete to <code dir="ltr">salary_targ</code>.</p>
</li>
<li>
<p>The cascaded delete from <code dir="ltr">salary_src</code> is applied to <code dir="ltr">salary_targ</code><code dir="ltr">.</code></p>
</li>
<li>
<p>The row cannot be located because it was already deleted in step 5.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABIIBID"></a>
<div id="GIOTT153" class="sect2"><!-- infolevel="all" infotype="Orientation" -->
<h3 class="sect2"><span class="secnum">3.2.2</span> Assigning Row Identifiers</h3>
<p>Oracle GoldenGate requires some form of unique row identifier on the source and target tables to locate the correct target rows for replicated updates and deletes.</p>
<div id="GIOTT154" class="sect3"><!-- infolevel="all" infotype="Task" --><a id="sthref27"></a>
<h4 class="sect3"><span class="secnum">3.2.2.1</span> How Oracle GoldenGate Determines the Kind of Row Identifier to Use</h4>
<p>Unless a <code dir="ltr">KEYCOLS</code> clause is used in the <code dir="ltr">TABLE</code> or <code dir="ltr">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority:</p>
<ol>
<li>
<p>Primary key</p>
</li>
<li>
<p>First unique key alphanumerically that does not contain a timestamp or non-materialized computed column.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
If there are other, non-usable keys on a table or if there are no keys at all on the table, Oracle GoldenGate logs an appropriate message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code dir="ltr">WHERE</code> clause.</div>
</li>
<li>
<p>If none of the preceding key types exist (even though there might be other types of keys defined on the table) Oracle GoldenGate constructs a pseudo key of all columns that the database allows to be used in a unique key, excluding those that are not supported by Oracle GoldenGate in a key or those that are excluded from the Oracle GoldenGate configuration.</p>
</li>
</ol>
</div>
<!-- class="sect3" -->
<div id="GIOTT155" class="sect3"><!-- infolevel="all" infotype="Concept" --><a id="sthref28"></a>
<h4 class="sect3"><span class="secnum">3.2.2.2</span> Using <code dir="ltr">KEYCOLS</code> to Specify a Custom Key</h4>
<p>If a table does not have one of the preceding types of row identifiers, or if you prefer those identifiers not to be used, you can define a substitute key if the table has columns that always contain unique values. You define this substitute key by including a <code dir="ltr">KEYCOLS</code> clause within the Replicat <code dir="ltr">MAP</code> parameter. The specified key will override any existing primary or unique key that Oracle GoldenGate finds. For more information, see <a class="olink GWURF546" href="../GWURF/table-map.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1546922"></a>
<div id="GIOTT246" class="sect1"><!-- infolevel="all" infotype="Concept" -->
<h2 class="sect1"><span class="secnum">3.3</span> Next Steps in the Deployment</h2>
<p>Because of its flexibility, Oracle GoldenGate offers numerous features and options that must be considered before you start any processes. To further configure Oracle GoldenGate to suit your business needs, see the following:</p>
<ul>
<li>
<p>For additional configuration guidelines to achieve specific replication topologies, see <a class="olink GWUAD" href="../GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. This guide also contains information about:</p>
<ul>
<li>
<p>Oracle GoldenGate architecture</p>
</li>
<li>
<p>Oracle GoldenGate commands</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods</p>
</li>
<li>
<p>Configuring security</p>
</li>
<li>
<p>Using customization features</p>
</li>
<li>
<p>Mapping columns that contain dissimilar data</p>
</li>
<li>
<p>Data filtering and manipulation</p>
</li>
</ul>
</li>
<li>
<p>For syntax options and descriptions of Oracle GoldenGate GGSCI commands and Oracle GoldenGate parameters shown in this guide, see <a class="olink GWURF" href="../GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment198">
<tr>
<td class="cellalignment207">
<table class="cellalignment203">
<tr>
<td class="cellalignment202"><a href="install.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment202"><a href="uninstall.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment209">
<table class="cellalignment201">
<tr>
<td class="cellalignment202"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment202"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
