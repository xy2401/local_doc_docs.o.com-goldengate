<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>DELETE MASTERKEY</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-07-19T03:21:52Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66350-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="renew-masterkey.htm" title="Previous" type="text/html" />
<link rel="Next" href="undelete-masterkey.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE"></a> <span id="PAGE" style="display:none;">51/459</span> <!-- End Header -->
<a id="GWURF946"></a><a id="GWURF947"></a><a id="GWURF945"></a>
<h1 id="GWURF-GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE" class="sect1"><span class="enumeration_section">1.43</span> DELETE MASTERKEY</h1>
<div>
<div class="section">
<p>Use the <code class="codeph">DELETE MASTERKEY</code> command to mark a version of a master key for deletion. Routinely deleting older versions of a master key ensures that they cannot be used maliciously.</p>
<p>The <code class="codeph">OPEN WALLET</code> command must be used before using this command or any of the commands that add or renew the master keys or purge the wallet.</p>
<p>To view the version of a master key, use the <code class="codeph"><a href="info-masterkey.htm#GUID-5E31EE8D-3E88-4C59-AAE6-6A30440D83E6">INFO MASTERKEY</a></code> command.</p>
<p>This command marks a version for deletion but does not physically remove it from the wallet. See <code class="codeph"><span class="q">"<a href="purge-wallet.htm#GUID-1DA76CDE-867D-4B20-9FEA-5115CF9C3A4A">PURGE WALLET</a>"</span></code> to remove the master key version permanently.</p>
<div class="infobox-note" id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-39940D2D-3601-46E3-BA1F-152CCAADC42E">
<p class="notep1">Note:</p>
<p>For Oracle GoldenGate deployments using a shared wallet, the older versions of the master key should be retained after the master key is renewed until all processes are using the newest version. The time to wait depends on the topology, latency, and data load of the deployment. A minimum wait of 24 hours is a conservative estimate, but you may need to perform testing to determine how long it takes for all processes to start using a new key. To determine whether all of the processes are using the newest version, view the report file of each Extract immediately after renewing the master key to confirm the last SCN that was mined with the old key. Then, monitor the Replicat report files to verify that this SCN was applied by all Replicat groups. At this point, you can delete the older versions of the master key.</p>
</div>
<p>See <span class="q">"<a href="undelete-masterkey.htm#GUID-E37BBF6E-3B4D-4985-9BA4-E77BCB6000F3">UNDELETE MASTERKEY</a>"</span> to reverse a deletion made by <code class="codeph">DELETE MASTERKEY</code>.</p>
<p>Once a version number is used, the wallet reserves it forever, and no other key of the same version can be generated. For example, you cannot mark version 2 of a key for deletion, then purge the wallet to remove it, and then issue <code class="codeph">RENEW MASTERKEY</code> to add a version 2 again. Even though only version 1 of the key remains in the wallet after the purge, the renewal generates version 3, not version 2.</p>
<p>The use of a wallet and master key is not supported for the iSeries, z/OS, and NonStop platforms.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
DELETE MASTERKEY
{VERSION <span class="italic">version</span> | RANGE FROM <span class="italic">begin_value</span> TO <span class="italic">end_value</span> | ALL}
</pre>
<dl>
<dt class="dlterm"><a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-FF627F46-0DFF-4D8F-8A31-4594A2DA3A25"><!-- --></a><code class="codeph">VERSION</code> <span class="italic"><code class="codeph">version</code></span></dt>
<dd>
<p>Specifies a single version to be marked for deletion.</p>
</dd>
<dt class="dlterm"><a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-9CE57778-296C-4E25-83F8-6257A9307EB9"><!-- --></a><code class="codeph">RANGE FROM</code> <span class="italic"><code class="codeph">begin_value</code></span> <code class="codeph">TO</code> <span class="italic"><code class="codeph">end_value</code></span></dt>
<dd>
<p>Specifies a range of versions to be marked for deletion. The versions must be contiguous. For example, specifying <code class="codeph">RANGE FROM 3 TO 6</code> marks versions 3, 4, 5, and 6.</p>
</dd>
<dt class="dlterm"><a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-F18BCE05-560A-4709-BDDF-D9D03B5168F2"><!-- --></a><code class="codeph">ALL</code></dt>
<dd>
<p>Marks all versions of the master key for deletion, including the currently active one. When this option is used, it should always be followed by a <code class="codeph">RENEW MASTERKEY</code> command to create a new, current version of the master key.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-9D40B404-4237-4CD0-8390-629E0C2FB32B"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>This command marks one version of the master key for deletion and returns a message similar to the one shown.</p>
<pre dir="ltr">
DELETE MASTERKEY VERSION 10
Version 10 of Masterkey 'OGG_DEFAULT_MASTERKEY' deleted from wallet at location './dirwlt'.
</pre></dd>
<dt class="dlterm"><a id="GUID-059ECDEC-2D43-4800-A9D3-A7F0CF9B62DE__GUID-A27C56F8-1994-4D02-B0EC-419AD6666F01"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>This command marks versions 3, 4, 5, and 6 for deletion and returns a message similar to the one shown.</p>
<pre dir="ltr">
DELETE MASTERKEY RANGE FROM 3 TO 6

Version 3 of Masterkey 'OGG_DEFAULT_MASTERKEY' deleted from wallet at location './dirwlt'.
Version 4 of Masterkey 'OGG_DEFAULT_MASTERKEY' deleted from wallet at location './dirwlt'.
Version 5 of Masterkey 'OGG_DEFAULT_MASTERKEY' deleted from wallet at location './dirwlt'.
Version 6 of Masterkey 'OGG_DEFAULT_MASTERKEY' deleted from wallet at location './dirwlt'.
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment453">
<tr>
<td class="cellalignment460">
<table class="cellalignment458">
<tr>
<td class="cellalignment457"><a href="renew-masterkey.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment457"><a href="undelete-masterkey.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment462">
<table class="cellalignment456">
<tr>
<td class="cellalignment457"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment457"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
