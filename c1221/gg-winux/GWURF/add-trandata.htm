<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>ADD TRANDATA</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-07-19T03:21:52Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66350-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="add-schematrandata.htm" title="Previous" type="text/html" />
<link rel="Next" href="delete-schematrandata.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC"></a> <span id="PAGE" style="display:none;">78/459</span> <!-- End Header -->
<a id="GWURF970"></a><a id="GWURF971"></a><a id="GWURF972"></a><a id="GWURF973"></a><a id="GWURF974"></a><a id="GWURF975"></a><a id="GWURF269"></a><a id="GWURF270"></a><a id="GWURF271"></a><a id="GWURF272"></a><a id="GWURF273"></a><a id="GWURF1195"></a><a id="GWURF268"></a>
<h1 id="GWURF-GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC" class="sect1"><span class="enumeration_section">1.70</span> ADD TRANDATA</h1>
<div>
<div class="section">
<p>Use <code class="codeph">ADD TRANDATA</code> to enable Oracle GoldenGate to acquire the transaction information that it needs from the transaction records.</p>
<p>Before using this command, use the <a href="dblogin.htm#GUID-2674DB7E-C765-4BDD-BDA7-5B7E5226A9A9">DBLOGIN</a> command to establish a database connection.</p>
<p><code class="codeph">ADD TRANDATA</code> is valid only for the databases that are listed here. For other supported databases, this functionality may exist already or must be configured through the database interface. See the Oracle GoldenGate installation guide for your database for any special requirements that apply to making transaction information available.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">DB2 for i Databases</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use <code class="codeph">ADD TRANDATA</code> to start the journaling of data. The <code class="codeph">ADD TRANDATA</code> command calls <code class="codeph">STRJRNPF</code> and is the recommended method to start journaling for tables, because it ensures that the required journal image attribute of <code class="codeph">Record Images (IMAGES): *BOTH</code> is set on the <code class="codeph">STRJRNPF</code> command.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">DB2 LUW Database</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use <code class="codeph">ADD TRANDATA</code> to enable <code class="codeph">DATA CAPTURE CHANGES</code> on specified tables. By default, <code class="codeph">ADD TRANDATA</code> issues the following command to the database:</p>
<pre dir="ltr">
ALTER TABLE <span class="italic">name</span> DATA CAPTURE CHANGES INCLUDE LONGVAR COLUMNS;
</pre>
<p>You can exclude the <code class="codeph">LONGVAR</code> clause by using <code class="codeph">ADD TRANDATA</code> with the <code class="codeph">EXCLUDELONG</code> option.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">DB2 z/OS Database</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use <code class="codeph">ADD TRANDATA</code> to enable <code class="codeph">DATA CAPTURE CHANGES</code> on specified tables. By default, <code class="codeph">ADD TRANDATA</code> issues the following command to the database:</p>
<pre dir="ltr">
ALTER TABLE <span class="italic">name</span> DATA CAPTURE CHANGES;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Oracle Database</p>
</div>
<!-- class="section" -->
<div class="section">
<p>By default, <code class="codeph">ADD TRANDATA</code> for Oracle enables the unconditional logging of the primary key and the conditional supplemental logging of all unique key(s) and foreign key(s) of the specified table. See <a class="olink GIORA363" target="_blank" href="../GIORA/additional-oracle-goldengate-configuration-considerations.htm#GIORA363"><span class="italic"><span id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GIORA"><cite>Installing and Configuring Oracle GoldenGate for Oracle Database</cite></span></span></a> for more information about how Oracle GoldenGate handles supplemental logging for Oracle databases.</p>
<p>If possible, use the <code class="codeph">ADD SCHEMATRANDATA</code> command rather than the <code class="codeph">ADD TRANDATA</code> command. The <code class="codeph">ADD SCHEMATRANDATA</code> command ensures replication continuity should DML occur on an object for which DDL has just been performed. You can exclude objects from the schema specification by using the exclusion parameters. See <a href="summary-oracle-goldengate-parameters.htm#GUID-E7E0B840-34D0-4D4B-9FEC-841886EC1095">Summary of Wildcard Exclusion Parameters</a>for more information.</p>
<p>To use the Oracle GoldenGate DDL replication feature, you must use the <code class="codeph">ADD SCHEMATRANDATA</code> command to log the required supplemental data.</p>
<p>When using <code class="codeph">ADD SCHEMATRANDATA</code>, you can use <code class="codeph">ADD TRANDATA</code> with the <code class="codeph">COLS</code> option to log any non-key columns, such as those needed for <code class="codeph">FILTER</code> statements and <code class="codeph">KEYCOLS</code> clauses in the <code class="codeph">TABLE</code> and <code class="codeph">MAP</code> parameters.</p>
<div class="infobox-note" id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-C9BD658F-4076-4246-8B04-39AB98B83A2C">
<p class="notep1">Note:</p>
<p>It is possible to use <code class="codeph">ADD TRANDATA</code> for Oracle when DDL support is enabled, but only if you can stop DML on all tables before DDL is performed on them or, if that is not possible, you can guarantee that no users or applications will issue DDL that adds new tables whose names satisfy an object specification in a <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statement. There must be no possibility that users or applications will issue DDL that changes the key definitions of any tables that are already in the Oracle GoldenGate configuration.</p>
</div>
<p>For more information, see <a href="add-schematrandata.htm#GUID-5DA7C3DC-5D87-4A8B-AD23-6EF587A5CF41">ADD SCHEMATRANDATA</a>.</p>
<p>Oracle strongly encourages putting the source database into forced logging mode and enabling minimal supplemental logging at the database level when using Oracle GoldenGate. This adds row chaining information, if any exists, to the redo log for update operations. See <a class="olink GIORA364" target="_blank" href="../GIORA/preparing-database-oracle-goldengate.htm#GIORA364"><span class="italic"><span><cite>Installing and Configuring Oracle GoldenGate for Oracle Database</cite></span></span></a> for more information about configuring logging to support Oracle GoldenGate.</p>
<p>Take the following into account when using <code class="codeph">ADD TRANDATA</code> for an Oracle database:</p>
<ul style="list-style-type: disc;">
<li>
<p>If any of the logging details change after Oracle GoldenGate starts extracting data, you must stop and then start the Extract process that is reading from the affected table before any data is changed.</p>
</li>
<li>
<p>When creating a supplemental log group with <code class="codeph">ADD TRANDATA</code>, Oracle GoldenGate appends the object ID to a prefix of <code class="codeph">GGS_</code>, for example <code class="codeph">GGS_18342</code>.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">SQL Server Database</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Use <code class="codeph">ADD TRANDATA</code> to provide the extended logging information that Oracle GoldenGate needs to reconstruct SQL operations. The SQL Server transaction log does not provide enough information by default.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Sybase Database</p>
</div>
<!-- class="section" -->
<div class="section">
<p><code class="codeph">ADD TRANDATA</code> marks a Sybase table for replication by executing the Sybase <code class="codeph">sp_setreptable</code> and <code class="codeph">sp_setrepcol</code> system procedures. <code class="codeph">ADD TRANDATA</code> options employ database features to control how the database propagates <code class="codeph">LOB</code> data for the specified table. See the <code class="codeph">ADD TRANDATA</code> options list.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
ADD TRANDATA {[container.]owner.table | schema.table [JOURNAL 
library/journal] | 
   library/file [JOURNAL library/journal]} 
[, NOSCHEDULINGCOLS | ALLCOLS] 
[, COLS (columns)] 
[, INCLUDELONG | EXCLUDELONG] 
[, LOBSNEVER | LOBSALWAYS | LOBSIFCHANGED | LOBSALWAYSNOINDEX] 
[, NOKEY] 
[, PREPARECSN  {WAIT | LOCK | NOWAIT | NONE}]
</pre>
<dl>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-DCF5BF50-9A19-4013-9E9E-3DF8AFDB03A6"><!-- --></a><code class="codeph">[</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">owner</code></span><code class="codeph">.</code><span class="italic"><code class="codeph">table</code></span></dt>
<dd>
<p>Valid for DB2 LUW, DB2 for z/OS, Oracle, SQL Server, and Sybase.</p>
<p>The two-part or three-part name specification. Use a two-part name of <span class="italic"><code class="codeph">owner.table</code></span> for all supported databases except an Oracle multitenant container database. Use a three-part name of <span class="italic"><code class="codeph">container.owner.table</code></span> for an Oracle multitenant container database. A wildcard can be used for any component. Used with a wildcard, <code class="codeph">ADD TRANDATA</code> filters out names that match the names of system objects. To use <code class="codeph">ADD TRANDATA</code> for objects that are not system objects but have names that match those of system objects in a wildcard pattern, issue <code class="codeph">ADD TRANDATA</code> for those objects without using a wildcard.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-EB69BD26-8E43-483F-B2AA-55296B6992D0"><!-- --></a><span class="italic"><code class="codeph">schema.table</code></span> <code class="codeph">[JOURNAL</code> <span class="italic"><code class="codeph">library/journal</code></span><code class="codeph">] |</code></dt>
<dt class="dlterm"><span class="italic"><code class="codeph">library/file</code></span> <code class="codeph">[JOURNAL</code> <span class="italic"><code class="codeph">library/journal</code></span><code class="codeph">]</code></dt>
<dd>
<p>Valid for DB2 for i.</p>
<p>Specifies the SQL schema and name of a table or the native library and file name. If a default journal is set with the <code class="codeph">DEFAULTJOURNAL</code> command, you can omit the <code class="codeph">JOURNAL</code> option; otherwise it is required.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-F9944F1E-6EC4-4874-AB6D-F4FB75D95D79"><!-- --></a><code class="codeph">NOSCHEDULINGCOLS | ALLCOLS</code></dt>
<dd>
<p>Valid for Oracle</p>
<p>These options satisfy the logging requirements of an integrated Replicat that will be processing the tables that you are specifying with <code class="codeph">ADD TRANDATA</code>.</p>
<dl>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-1AD64088-E4E0-4214-A743-C316A273C12E"><!-- --></a><code class="codeph">NOSCHEDULINGCOLS</code></dt>
<dd>
<p>Disables the logging of scheduling columns. By default, <code class="codeph">ADD TRANDATA</code> enables the unconditional logging of the primary key and the conditional supplemental logging of all unique key(s) and foreign key(s) of the specified table. Unconditional logging forces the primary key values to the log whether or not the key was changed in the current operation. Conditional logging logs all of the column values of a foreign or unique key if at least one of them was changed in the current operation. The primary key, unique keys, and foreign keys must all be available to the inbound server to compute dependencies. For more information about integrated Replicat, see <a class="olink GIORA218" target="_blank" href="../GIORA/choosing-capture-and-apply-modes.htm#GIORA218"><span class="italic"><span><cite>Installing and Configuring Oracle GoldenGate for Oracle Database</cite></span></span></a>.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-D60A50A9-F5C9-4A47-B87B-F2D84A639DE4"><!-- --></a><code class="codeph">ALLCOLS</code></dt>
<dd>
<p>Enables the unconditional supplemental logging of all of the key and non-key columns of the table. This option enables the logging of the keys required to compute dependencies, plus all other columns for use in filtering, conflict resolution, or other purposes.</p>
</dd>
</dl>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-4693318C-D058-4466-A2B6-912345060F43"><!-- --></a><code class="codeph">COLS (</code><span class="italic"><code class="codeph">columns</code></span><code class="codeph">)</code></dt>
<dd>
<p>Valid for all databases supported by <code class="codeph">ADD TRANDATA</code>.</p>
<p>Use the <code class="codeph">COLS</code> option to log specific non-key columns. Can be used to log columns specified in a <code class="codeph">KEYCOLS</code> clause and to log columns that will be needed for filtering or manipulation purposes, which might be more efficient than fetching those values with a <code class="codeph">FETCHCOLS</code> clause in a <code class="codeph">TABLE</code> statement. Separate multiple columns with commas, for example <code class="codeph">NAME</code>, <code class="codeph">ID</code>, <code class="codeph">DOB</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-3B00406F-A0B2-4DCA-8A0D-4CA16BD6A5AB"><!-- --></a><code class="codeph">INCLUDELONG | EXCLUDELONG</code></dt>
<dd>
<p>Valid for DB2 LUW.</p>
<p>Controls whether or not the <code class="codeph">ALTER TABLE</code> issued by <code class="codeph">ADD TRANDATA</code> includes the <code class="codeph">INCLUDE LONGVAR COLUMNS</code> attribute. <code class="codeph">INCLUDELONG</code> is the default. When <code class="codeph">ADD TRANDATA</code> is issued with this option, Oracle GoldenGate issues the following statement:</p>
<pre dir="ltr">
ALTER TABLE <span class="italic">name</span> DATA CAPTURE CHANGES INCLUDE LONGVAR COLUMNS;
</pre>
<p>When <code class="codeph">EXCLUDELONG</code> is used, the following is the command:</p>
<pre dir="ltr">
ALTER TABLE <span class="italic">name</span> DATA CAPTURE CHANGES;
</pre>
<p>When <code class="codeph">EXCLUDELONG</code> is used, Oracle GoldenGate does not support functionality that requires before images of tables that include <code class="codeph">LONGVAR</code> columns. Examples of this functionality are the <code class="codeph">GETUPDATEBEFORES</code>, <code class="codeph">NOCOMPRESSUPDATES</code>, and <code class="codeph">NOCOMPRESSDELETES</code> parameters. To support this functionality, changes to <code class="codeph">LONGVAR</code> columns in the transaction logs must include both the before and after images of the column value.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-87596C3D-4825-4CB3-B731-26AB38CC3963"><!-- --></a><code class="codeph">LOBSNEVER | LOBSALWAYS | LOBSIFCHANGED | LOBSALWAYSNOINDEX</code></dt>
<dd>
<p>Valid for Sybase.</p>
<p>Controls how the database propagates <code class="codeph">LOB</code> data for the specified table.</p>
<div class="infobox-note" id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-D64AB792-6D5F-4B27-B6E1-E51296E2F6BE">
<p class="notep1">Note:</p>
<p>The <code class="codeph">ADD TRANDATA</code> command will overwrite the LOB setting that is currently set for the table. To change the setting afterwards, you must use the <code class="codeph">sp_setrepcol</code> script.</p>
</div>
<dl>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-5FD03031-7F6F-41BB-81F3-0E76EAEB6B36"><!-- --></a><code class="codeph">LOBSNEVER</code></dt>
<dd>
<p>Prevents <code class="codeph">LOB</code> data from being propagated. Note this exception: If the LOB column is inserted with a <code class="codeph">NULL</code> value, or if it is skipped in an <code class="codeph">INSERT</code> operation, then Extract will write that column to the trail with <code class="codeph">NULL</code> data.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-A48642F0-3CC7-4E87-9DBE-9051CF73C9AC"><!-- --></a><code class="codeph">LOBSALWAYS</code></dt>
<dd>
<p>Does two things: it uses <code class="codeph">sp_setrepcol</code> to set <code class="codeph">LOB</code> replication to <code class="codeph">ALWAYS_REPLICATE</code> (always replicate <code class="codeph">LOB</code> data whether or not it has changed in a transaction), and it marks the table to use an index on replication (by means of the <code class="codeph">USE_INDEX</code> option of <code class="codeph">sp_setreptable).</code> Because a <code class="codeph">LOB</code> is marked for replication in a single transaction, this can take a long time, and <code class="codeph">USE_INDEX</code> reduces that time by creating a global nonclustered index for every <code class="codeph">LOB</code>. A shared-table lock is held while the global nonclustered index is created.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-38138431-E8C0-4738-8BBD-E769297CAC2F"><!-- --></a><code class="codeph">LOBSIFCHANGED</code></dt>
<dd>
<p>Replicates <code class="codeph">LOB</code> data only if it was changed during a transaction. This reduces replication overhead but does not protect against inconsistencies that could occur on the target outside the replication environment. This is the default.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-9C0CCAA6-FD5E-4440-AD6E-09618667BD3E"><!-- --></a><code class="codeph">LOBSALWAYSNOINDEX</code></dt>
<dd>
<p>Sets <code class="codeph">LOB</code> replication to <code class="codeph">ALWAYS_REPLICATE</code> (always replicate <code class="codeph">LOB</code> data whether or not it has changed in a transaction). This adds overhead, but protects against inconsistencies that could occur on the target outside the replication environment. <code class="codeph">LOBSALWAYSNOINDEX</code> does not mark the table to use an index on replication. The benefit is that no lock is held while <code class="codeph">ADD TRANDATA</code> is being executed. <code class="codeph">LOBSALWAYSNOINDEX</code> is the default for Sybase databases earlier than version 15.</p>
</dd>
</dl>
<div class="infobox-note" id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-8C290B1C-B461-4604-B098-3BE98B12A47B">
<p class="notep1">Note:</p>
<p>When using the <code class="codeph">ALWAYS_REPLICATE</code> option, if a LOB column contains a <code class="codeph">NULL</code> value, and then another column in the table gets updated (but not the LOB), that LOB will not be captured even though <code class="codeph">ALWAYS_REPLICATE</code> is enabled.</p>
</div>
<p>You can check the LOB settings of a table with the <code class="codeph">INFO TRANDATA</code> command, after <code class="codeph">ADD TRANDATA</code> has been used for that table. It shows the LOB settings for all of the LOB columns. You can use the Sybase system procedures to change the LOB settings for any given column as needed.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-4297A62B-A295-46EC-9802-E50C48B7F0A6"><!-- --></a><code class="codeph">NOKEY</code></dt>
<dd>
<p>Valid for all databases supported by <code class="codeph">ADD TRANDATA</code>.</p>
<p>Suppresses the supplemental logging of primary key columns. If using <code class="codeph">NOKEY</code>, use the <code class="codeph">COLS</code> option to log alternate columns that can serve as keys, and designate those columns as substitute keys by using the <code class="codeph">KEYCOLS</code> option of the <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> parameter.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-A5FD3D9A-498D-4305-8AC1-70DF1169C65A"><!-- --></a><code class="codeph">PREPARECSN {WAIT | LOCK | NOWAIT | NONE}</code></dt>
<dd>
<p>Valid for Oracle for both DML and DDL. Automatically prepares the tables at the source so the Oracle Datapump Export dump file will includes Instantiation CSNs. Replicat uses the per table instantiation CSN set by the Oracle Datapump (on import) to filter out trail records. On the target, the data pump import populates the system tables and views with instantiation SCNs using the <code class="codeph">DBOPTIONS ENABLE_INSTANTIATION_FILTERING</code> parameter to enable table-level instantiation filtering.</p>
<dl>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-25237479-9502-488C-8C3B-EB0A9EFE92D1"><!-- --></a><code class="codeph">WAIT</code></dt>
<dd>
<p>Wait for any in-flight transactions and prepare table instantiation.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-AF23584D-685D-4ED7-90ED-086B9691C521"><!-- --></a><code class="codeph">LOCK</code></dt>
<dd>
<p>Put a lock on the table (to prepare for table instantiation).</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-EB091DFA-1B1C-4FE5-B07D-43624AB16226"><!-- --></a><code class="codeph">NOWAIT</code></dt>
<dd>
<p>Default behavior, preparing for instantiation is done immediately.</p>
</dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-EF91053E-A494-4E95-8A9D-35E721865622"><!-- --></a><code class="codeph">NONE</code></dt>
<dd>
<p>No instantiation preparation occurs.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-B7EC95DF-B5A7-4C56-98AE-8B65E2A46484"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example causes one of the following: the primary key to be logged for an Oracle table; supplemental data to be logged for a SQL Server table; or a Sybase table to be marked for replication.</p>
<pre dir="ltr">
ADD TRANDATA finance.acct
</pre></dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-EBDB7203-679F-4A5E-B856-34123F5C5963"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example enables the unconditional supplemental logging of all of the key and non-key columns for the table named <code class="codeph">acct</code>.</p>
<pre dir="ltr">
ADD TRANDATA acct ALLCOLS
</pre></dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-C9F5B8A5-4B22-49C1-9CCE-D87EC7AD2B0B"><!-- --></a>Example 3&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following Oracle example causes the primary key to be logged plus the non-key columns name and address.</p>
<pre dir="ltr">
ADD TRANDATA finance.acct, COLS (name, address)
</pre></dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-C4FB81E2-4E62-4D23-8545-96AE1BA41A4A"><!-- --></a>Example 4&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following Oracle example prevents the primary key from being logged, but logs the non-key columns <code class="codeph">name</code> and <code class="codeph">pid</code> instead.</p>
<pre dir="ltr">
ADD TRANDATA finance.acct, NOKEY, COLS (name, pid)
</pre></dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-C9A145A0-A3A0-4A9A-B123-E14FD19A83A0"><!-- --></a>Example 5&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following Sybase example marks the <code class="codeph">acct</code> table for replication and specifies to log <code class="codeph">LOB</code> data only if it was changed during a transaction.</p>
<pre dir="ltr">
ADD TRANDATA finance.acct, LOBSIFCHANGED
</pre></dd>
<dt class="dlterm"><a id="GUID-D3FD004B-81E4-4185-92D3-812834A5DEFC__GUID-60B7412F-F1CC-4F8E-AAFB-313926AC976B"><!-- --></a>Example 6&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example adds logging though does not prepare the table for instantiation.</p>
<pre dir="ltr">
ADD TRANDATA acct PREPARECSN NONE
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment453">
<tr>
<td class="cellalignment460">
<table class="cellalignment458">
<tr>
<td class="cellalignment457"><a href="add-schematrandata.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment457"><a href="delete-schematrandata.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment462">
<table class="cellalignment456">
<tr>
<td class="cellalignment457"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment457"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
