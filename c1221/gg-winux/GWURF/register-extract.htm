<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>REGISTER EXTRACT</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-07-19T03:21:52Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66350-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="lag-extract.htm" title="Previous" type="text/html" />
<link rel="Next" href="send-extract.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3"></a> <span id="PAGE" style="display:none;">22/459</span> <!-- End Header -->
<a id="GWURF161"></a><a id="GWURF162"></a><a id="GWURF1079"></a><a id="GWURF1080"></a><a id="GWURF1081"></a><a id="GWURF1082"></a><a id="GWURF1194"></a><a id="GWURF1204"></a><a id="GWURF160"></a>
<h1 id="GWURF-GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3" class="sect1"><span class="enumeration_section">1.14</span> REGISTER EXTRACT</h1>
<div>
<div class="section">
<p>Use <code class="codeph">REGISTER EXTRACT</code> to register a primary Extract group with an Oracle database to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Enable integrated capture mode</p>
</li>
<li>
<p>Specify options for integrated Extract from a multitenant container database</p>
</li>
<li>
<p>Enable Extract in classic capture mode to work with Oracle Recovery Manager to retain the archive logs needed for recovery</p>
</li>
</ul>
<p><code class="codeph">REGISTER EXTRACT</code> is not valid for a data pump Extract.</p>
<p>To unregister an Extract group from the database, use the <code class="codeph">UNREGISTER EXTRACT</code> command (see <span class="q">"<a href="unregister-extract.htm#GUID-DF0409AE-07A1-4CC1-8F42-636BA03B1300">UNREGISTER EXTRACT</a>"</span>).</p>
<p>See <a class="olink GIORA" target="_blank" href="../GIORA/toc.htm"><span class="italic"><span id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GIORA"><cite>Installing and Configuring Oracle GoldenGate for Oracle Database</cite></span></span></a> for more information about using <code class="codeph">REGISTER EXTRACT</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<p>For classic Extract:</p>
<pre dir="ltr">
REGISTER EXTRACT group_name LOGRETENTION
</pre>
<p>For integrated Extract:</p>
<pre dir="ltr">
RREGISTER EXTRACT &lt;group-name&gt;
 ( LOGRETENTION | DATABASE
          ( [ CONTAINER &lt;container-list&gt; |
              ADD   CONTAINER &lt;container-list&gt; |
              DROP  CONTAINER &lt;container-list&gt; ]  
            [ SCN   &lt;scn&gt;   ]  
            [ SHARE ( AUTOMATIC | &lt;group-name&gt; | NONE ) ]  
            [ [NO]OPTIMIZED ]  
)
)
</pre>
<p>The default value is <code class="codeph">NOOPTIMIZED</code>.</p>
</div>
<!-- class="section" -->
<div class="section">
<dl>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-98F04405-E28F-4129-8416-A40F8013AC6E"><!-- --></a><span class="italic"><code class="codeph">group_name</code></span></dt>
<dd>
<p>The name of the Extract group that is to be registered. Do not use a wildcard.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-43C0D3E6-9186-49D5-9F23-24822BAF8F9D"><!-- --></a><code class="codeph">DATABASE</code> <code class="codeph">[</code></dt>
<dt class="dlterm"><code class="codeph">CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...]) |</code></dt>
<dt class="dlterm"><code class="codeph">ADD CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...]) |</code></dt>
<dt class="dlterm"><code class="codeph">DROP CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...])</code></dt>
<dt class="dlterm"><code class="codeph">[</code></dt>
<dd>
<p>Without options, <code class="codeph">DATABASE</code> enables integrated capture from a non-CDB database for the Extract group. In this mode, Extract integrates with the database logmining server to receive change data in the form of logical change records (LCR). Extract does not read the redo logs. Extract performs capture processing, transformation, and other requirements. The DML filtering is performed by the Logmining server. For support information and configuration steps, see <a class="olink GIORA" target="_blank" href="../GIORA/toc.htm"><span class="italic"><span><cite>Installing and Configuring Oracle GoldenGate for Oracle Database</cite></span></span></a>.</p>
<p>Before using <code class="codeph">REGISTER EXTRACT</code> with <code class="codeph">DATABASE</code>, use the <a href="dblogin.htm#GUID-2674DB7E-C765-4BDD-BDA7-5B7E5226A9A9">DBLOGIN</a> command for all Extracts with the privileges granted using the <code class="codeph">dbms_goldengate_auth.grant_admin_privilege</code> procedure. If you have a downstream configuration, then you must also issue the <a href="miningdblogin.htm#GUID-5872F1FD-E9AF-4B97-BC35-DC12E0E916BA">MININGDBLOGIN</a> command. If the source database you are registering is a CDB database and Extract will fetch data, then <code class="codeph">grant_admin_privilege</code> must be called with the <code class="codeph">CONTAINER=&gt;'ALL</code>' parameter.</p>
<p>After using <code class="codeph">REGISTER EXTRACT</code>, use <code class="codeph">ADD EXTRACT</code> with the <code class="codeph">INTEGRATED TRANLOG</code> option to create an Extract group of the same name. You must register an Extract group before adding it.</p>
<dl>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-D3F87B66-0D6E-49A2-9BCA-6564CC55C813"><!-- --></a><code class="codeph">CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...]</code><code class="codeph">)</code></dt>
<dd>
<p>Applies the registration to a list of one or more pluggable databases (containers) of a multitenant container database (CDB). Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code class="codeph">CONTAINER (pdb1, pdb2, pdb3)</code>. All of the pluggable databases must exist in the database, and all names must be explicit, not wildcarded.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-790D9705-C6FA-41A6-A320-D09A1B954005"><!-- --></a><code class="codeph">ADD CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...]</code><code class="codeph">)</code></dt>
<dd>
<p>Adds the specified pluggable database to an existing Extract capture configuration. Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code class="codeph">ADD CONTAINER (pdb1, pdb2, pdb3)</code>. Before issuing <code class="codeph">REGISTER EXTRACT</code> with this option, stop the Extract group.</p>
<p>For Oracle, adding <code class="codeph">CONTAINER</code>s at particular SCN on an existing Extract is not supported.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-92D6A0EC-76CC-4460-AE80-B1D5B636731D"><!-- --></a><code class="codeph">DROP CONTAINER (</code><span class="italic"><code class="codeph">container</code></span><code class="codeph">[, ...]</code><code class="codeph">)</code></dt>
<dd>
<p>Drops the specified pluggable database from an existing Extract capture configuration. Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code class="codeph">DROP CONTAINER (pdb1, pdb2, pdb3)</code>. Before issuing <code class="codeph">REGISTER EXTRACT</code> with this option, stop the Extract group.</p>
</dd>
</dl>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-D751303D-0DA8-41A2-A2B4-DE97F4EC4C74"><!-- --></a><code class="codeph">LOGRETENTION</code></dt>
<dd>
<p>Valid for classic Extract only. Enables an Extract group in classic capture mode to work with Oracle Recovery Manager (RMAN) to retain the logs that Extract needs for recovery. <code class="codeph">LOGRETENTION</code> is ignored if the Extract group is configured for integrated capture.</p>
<p><code class="codeph">LOGRETENTION</code> creates an underlying Oracle Streams capture process that is dedicated to the Extract group and has a similar name. This capture is used only for the purpose of log retention.</p>
<p>The logs are retained from the time that <code class="codeph">REGISTER EXTRACT</code> is issued, based on the current database SCN. The log-retention feature is controlled with the <code class="codeph">LOGRETENTION</code> option of the <code class="codeph">TRANLOGOPTIONS</code> parameter.</p>
<p>Before using <code class="codeph">REGISTER EXTRACT</code> with <code class="codeph">LOGRETENTION</code>, issue the <code class="codeph">DBLOGIN</code> command with the privileges shown in <span class="q">"<a href="dblogin.htm#GUID-2674DB7E-C765-4BDD-BDA7-5B7E5226A9A9">DBLOGIN</a>"</span>.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-E6917A02-B405-40E2-B4CA-66B3C1C27F96"><!-- --></a><code class="codeph">SCN</code> <span class="italic"><code class="codeph">system_change_number</code></span></dt>
<dd>
<p>Registers Extract to begin capture at a specific system change number (SCN) in the past. Without this option, capture begins from the time that <code class="codeph">REGISTER EXTRACT</code> is issued. The specified SCN must correspond to the begin SCN of a dictionary build operation in a log file. You can issue the following query to find all valid SCN values:</p>
<pre dir="ltr">
SELECT first_change#
   FROM v$archived_log 
   WHERE dictionary_begin = 'YES' AND 
      standby_dest = 'NO' AND
      name IS NOT NULL AND 
      status = 'A';
</pre>
<p>When used alone, the SCN value is the beginning SCN of the dictionary build operation in a log file.</p>
<p>When used in conjunction with <code class="codeph">SHARE AUTOMATIC</code> or <code class="codeph">SHARE</code> <span class="italic"><code class="codeph">extract_name</code></span>, then the specified SCN is the <code class="codeph">start_scn</code> for the capture session and has the following restrictions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Should be lesser than or equal to the current SCN.</p>
</li>
<li>
<p>Should be greater than the minimum (first SCN) of the existing captures.</p>
</li>
</ul>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-167B9304-0B90-4DCD-96CE-3C7C5AE3F987"><!-- --></a><code class="codeph">{SHARE [</code></dt>
<dt class="dlterm"><code class="codeph">AUTOMATIC |</code></dt>
<dt class="dlterm"><span class="italic"><code class="codeph">extract</code></span> |</dt>
<dt class="dlterm"><code class="codeph">NONE]}</code></dt>
<dd>
<p>Registers the Extract to return to an existing LogMiner data dictionary build with a specified SCN creating a clone. This allows for faster creation of Extracts by leveraging existing dictionary builds.</p>
<p><code class="codeph">SHARE</code> cannot be used on a CDB.</p>
<p>The following GGSCI commands are supported:</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> database SCN <span class="italic">####</span> SHARE AUTOMATIC 
REGISTER EXTRACT <span class="italic">extract</span> database SCN <span class="italic">####</span> SHARE <span class="italic">extract</span> 
REGISTER EXTRACT <span class="italic">extract</span> database SHARE NONE 
REGISTER EXTRACT <span class="italic">extract</span> database SCN <span class="italic">####</span> SHARE NONE
</pre>
<p>Or</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> DATABASE SHARE NONE
REGISTER EXTRACT <span class="italic">extract</span> DATABASE SCN <span class="italic">####</span> SHARE NONE
</pre>
<p>In contrast, the following GGSCI commands are <span class="italic">not</span> supported in a downstream configuration:</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> DATABASE SHARE AUTOMATIC
REGISTER EXTRACT <span class="italic">extract</span> DATABASE SHARE extract
</pre>
<dl>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-554512ED-416A-4599-BCE8-B751DFD2C14D"><!-- --></a><code class="codeph">AUTOMATIC</code></dt>
<dd>
<p>Clone from the existing closest capture. If no suitable clone candidate is found, then a new build is created.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-F562DDB4-B711-4A83-81A7-80A599D4913B"><!-- --></a><span class="italic"><code class="codeph">extract</code></span></dt>
<dd>
<p>Clone from the capture session associated for the specified Extract. If this is not possible, then an error occurs the register does not complete.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-ADF8A5D2-441D-4380-BB8E-12E3376650BB"><!-- --></a><code class="codeph">NONE</code></dt>
<dd>
<p>Does not clone or create a new build; this is the default.</p>
</dd>
</dl>
<p>In a downstream configuration, the <code class="codeph">SHARE</code> clause <span class="italic">must</span> be used in conjunction with the <code class="codeph">SCN</code> clause when registering for Extract.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Examples</p>
<dl>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-B8A19664-A9A1-4933-A19D-6A17A2120434"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales LOGRETENTION
</pre></dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-0C02FBAB-B7B5-4675-927F-1A6D3F4EFC0A"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE
</pre></dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-B575F76F-BAF8-421F-866E-D53C652CFE0F"><!-- --></a>Example 3&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE CONTAINER (sales, finance, hr)
</pre></dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-F0FF822E-A218-4D98-867B-A283E8912C91"><!-- --></a>Example 4&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE ADD CONTAINER (customers)
</pre></dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-5869AF19-DB1A-4725-B96A-74D03D2FFA17"><!-- --></a>Example 5&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE DROP CONTAINER (finance)
</pre></dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-A8B65DCD-3C82-4CB2-AC4E-C93CD596FB91"><!-- --></a>Example 6&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE SCN 136589
</pre>
<p>The beginning SCN of the dictionary build is 136589.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-C632A9B3-351A-4620-8264-4C0CF3934051"><!-- --></a>Example 7&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE SCN 67000 SHARE ext2
</pre>
<p>The valid start SCN, 67000 in this case; it is not necessarily the current SCN.</p>
</dd>
<dt class="dlterm"><a id="GUID-5E42DB9E-EFDF-40C0-89D7-88413496B8A3__GUID-06810845-44FB-415B-B283-668F26E6F05E"><!-- --></a>Example 8&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE CONTAINER (sales, finance, hr) SCN 136589
</pre></dd>
</dl>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment453">
<tr>
<td class="cellalignment460">
<table class="cellalignment458">
<tr>
<td class="cellalignment457"><a href="lag-extract.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment457"><a href="send-extract.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment462">
<table class="cellalignment456">
<tr>
<td class="cellalignment457"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment457"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
