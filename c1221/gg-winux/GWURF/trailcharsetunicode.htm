<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>TRAILCHARSETUNICODE</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-07-19T03:21:52Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66350-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="trailcharsetascii.htm" title="Previous" type="text/html" />
<link rel="Next" href="trailcharsetebcdic.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-991C2A46-46D1-4187-9B0A-56315CC4E0D4"></a> <span id="PAGE" style="display:none;">317/459</span> <!-- End Header -->
<a id="GWURF1277"></a><a id="GWURF1278"></a><a id="GWURF1276"></a>
<h1 id="GWURF-GUID-991C2A46-46D1-4187-9B0A-56315CC4E0D4" class="sect1"><span class="enumeration_section">3.184</span> TRAILCHARSETUNICODE</h1>
<div>
<div class="section">
<p class="subhead1">Valid For</p>
<p>Extract for DB2 for i</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>In all prior releases of the DB2 for i, for Extract all text data was converted to Unicode. Either UTF-8 for single and multi-byte CCSIDs or UTF-16 for double byte CCSIDs. For SQL that means all non-binary <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR</code> and <code class="codeph">CLOB</code> data would be converted to UTF-8 and all <code class="codeph">GRAPHIC</code>, <code class="codeph">VARGRAPHIC</code> and <code class="codeph">DBCLOB</code> data would be converted to UTF-16 for the trail, either for initial loads or "normal" Extracts. This is still true if you are using a trail format in Extract that is prior to the Oracle GoldenGate 12<span class="italic">c</span> (12.2.0.1) release.</p>
<p>The behavior of <code class="codeph">defgen</code> in prior releases for versions that had a column charset column, was to indicate -1 to represent that the column characters set was the default for columns that used character sets. The trail header would then be used to indicate the character set for the column data that was always set to UTF-8/UTF16.</p>
<p>In this release, the default behavior allows character sets that are supported by Oracle GoldenGate conversions to pass through unchanged. This automatically reduces the CPU consumption and increases the throughput rate of Extracts proportional to the amount of text data in the records being processed. If a CCSID is found in the Extract that Oracle GoldenGate cannot convert, the Extract defaults to its original behavior and convert the text data to the appropriate Unicode character set as it did in prior releases. This ensures that any Replicat that processes a trail from the new Extract is capable of handling the text data from the Extract.</p>
<p>If you want to use the original behavior of the DB2 for i Extract, then the keyword <code class="codeph">TRAILCHARSETUNICODE</code> must be added to the Extract <code class="codeph">prm</code> file. This causes all text data to be converted to Unicode as it was in the prior releases.</p>
<p>Alternatively, you can selectively revert to the old conversion behavior at the specific object or even column level by using the <a href="colcharset.htm#GUID-2C44A634-D0D7-4945-BC8E-CF965C29222C">COLCHARSET</a> parameter on the table definition.</p>
<p>Examples in a typical <code class="codeph">prm</code> file for a "normal" (non-initial load) Extract:</p>
<ul style="list-style-type: disc;">
<li>
<p>All text data in objects included in all table statements is converted to Unicode.</p>
</li>
<li>
<p>- if this keyword is not included the extract will not convert text data by default</p>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, COLCHARSET(UTF-8, ALL)</code></p>
<p>or</p>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, charset(UTF-8)</code></p>
</li>
<li>
<p>All text data in objects that match this specific table statement are converted to Unicode (double-byte columns are UTF-16).</p>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, COLCHARSET(UTF-8, TXTCOL4)</code></p>
</li>
<li>
<p>Only <code class="codeph">TXTCOL4</code> is converted to UTF-8; all other text data passes through unchanged.</p>
<div class="infobox-note" id="GUID-991C2A46-46D1-4187-9B0A-56315CC4E0D4__GUID-DA241F1C-01A7-4533-8BDE-93D922D135FD">
<p class="notep1">Note:</p>
<p>Due to how the DB2 for i PASE database layer functions, as well as Oracle GoldenGate's internal processing, there are certain situations where Unicode conversion is still required.</p>
</div>
</li>
<li>
<p>Initial Load Extracts automatically convert all data to Unicode and indicate the Unicode data in the columns.</p>
</li>
<li>
<p>Extracts that use a trail format that is prior to the Oracle GoldenGate 12c (12.2.0.1) release, these Extracts automatically fall back to converting text data to Unicode.</p>
</li>
<li>
<p>Table specifications that include any column functions, or <code class="codeph">SQLEXEC</code>, <code class="codeph">FETCHCOLUMNS,</code> or <code class="codeph">FETCHMODCOLS</code> require that either <code class="codeph">TRAILCHARSETUNICODE</code> is specified or the specific tables or columns are changed to include the <code class="codeph">COLCHARSET</code> modifier. This is true if Replicat is using column functions as well. In such a case, the extract tables that map to the Replicat tables must be sent as Unicode.</p>
</li>
</ul>
<p><code class="codeph">DEFGEN</code> and <code class="codeph">TRAILCHARSETUNICODE</code></p>
<p>For <code class="codeph">DEFGEN</code>, <code class="codeph">TRAILCHARSETUNICODE</code> is not supported because <code class="codeph">DEFGEN</code> does not generate a trail. If you are using <code class="codeph">TRAILCHARSETUNICODE</code> or overriding the column character sets and are using a <code class="codeph">defs</code> file on Replicat, then <code class="codeph">defgen</code> must also specify the equivalent column <code class="codeph">CHARSET</code> overrides as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, COLCHARSET(ALL, UTF-8)</code></p>
<p>or</p>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, CHARSET(UTF-8)</code></p>
</li>
<li>
<p>All text data in objects that match this specific table statement will be converted to Unicode (double byte columns will be UTF-16).</p>
<p><code class="codeph">table</code> <span class="italic"><code class="codeph">schema.table</code></span><code class="codeph">, COLCHARSET(TXTCOL4, UTF-8</code>)</p>
</li>
<li>
<p>Only <code class="codeph">TXTCOL4</code> is converted to UTF-8; all other text data will pass through unchanged.</p>
</li>
</ul>
<p>In this release, the default behavior is to have column metadata included in the trail data inline with the operation data as required. This means that definitions files are no longer needed by Oracle GoldenGate replication and are ignored.</p>
<p>However, if the Oracle GoldenGate Replicats or pumps indicate that they choose to override this behavior and use the definitions files, or a prior trail format level is used, the <code class="codeph">defgen</code> definitions files must be recreated. In this case, care must be taken to ensure that the definitions match what extract is writing to the trails. Therefore, any <code class="codeph">TRAILCHARSETUNICODE</code> keywords, <code class="codeph">CHARSET</code> or <code class="codeph">COLCHARSET</code> modifiers that exist in the extract <code class="codeph">prm</code> file must also exist in the <code class="codeph">defgen</code> <code class="codeph">prm</code> file that matches the Extract.</p>
<p>Any <code class="codeph">ASSUMETARGETDEFS OVERRIDE</code> in Replicat also require that the Extract use <code class="codeph">TRAILCHARSETUNICODE</code> or the equivalent <code class="codeph">COLCHARSET</code> modifiers on the tables in the Extract parameter file. This is due to Replicat still connecting to the database with a Unicode connection so internally treats all text fields as Unicode.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<p>None</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
TRAILCHARSETUNICODE
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment453">
<tr>
<td class="cellalignment460">
<table class="cellalignment458">
<tr>
<td class="cellalignment457"><a href="trailcharsetascii.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment457"><a href="trailcharsetebcdic.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment462">
<table class="cellalignment456">
<tr>
<td class="cellalignment457"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment457"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
