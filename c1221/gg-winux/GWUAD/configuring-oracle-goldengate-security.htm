<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Oracle GoldenGate Security</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter describes how to configure Oracle GoldenGate security." />
<meta name="dcterms.created" content="2018-07-19T06:21:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66357-07" />
<meta name="dcterms.isVersionOf" content="GWUAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="configuring-conflict-detection-and-resolution.htm" title="Previous" type="text/html" />
<link rel="Next" href="mapping-and-manipulating-data.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWUAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-E14F094A-A46B-4D31-857F-3916C0090875"></a> <span id="PAGE" style="display:none;">18/34</span> <!-- End Header -->
<script  >
//<![CDATA[
window.name='configuring-oracle-goldengate-security'
//]]>
</script> <script  >
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript><a id="GWUAD355"></a><a id="GWUAD354"></a>
<h1 id="GWUAD-GUID-E14F094A-A46B-4D31-857F-3916C0090875" class="sect1"><span class="enumeration_chapter">11</span> Configuring Oracle GoldenGate Security</h1>
<div>
<div><span>This chapter describes how to configure Oracle GoldenGate security.</span></div>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-119E5669-BFDC-4C1F-AB8F-3859DA0FB621">Overview of Oracle GoldenGate Security Options</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F">Configuring GGSCI Command Security</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-075E9E50-F197-4188-9C87-33D24169735A">Securing Manager</a></p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-119E5669-BFDC-4C1F-AB8F-3859DA0FB621">Overview of Oracle GoldenGate Security Options</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F">Configuring GGSCI Command Security</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-075E9E50-F197-4188-9C87-33D24169735A">Securing Manager</a><br /></li>
</ul>
</div>
<a id="GWUAD356"></a>
<div class="props_rev_3"><a id="GUID-119E5669-BFDC-4C1F-AB8F-3859DA0FB621"></a>
<h2 id="GWUAD-GUID-119E5669-BFDC-4C1F-AB8F-3859DA0FB621" class="sect2"><span class="enumeration_section">11.1</span> Overview of Oracle GoldenGate Security Options</h2>
<div>
<p>You can use the following security features to protect your Oracle GoldenGate environment and the data that is being processed.</p>
<div class="tblformalwide" id="GUID-119E5669-BFDC-4C1F-AB8F-3859DA0FB621__GUID-077C8643-6363-463F-872C-70727CB30E61">
<table class="cellalignment49" summary="This table offers an overview of Oracle GoldenGate security options. It lists and describes each security feature, what it secures, and the supported databases.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment89" id="d34912e143">Security Feature</th>
<th class="cellalignment89" id="d34912e146">What it Secures</th>
<th class="cellalignment89" id="d34912e149">Supported Databases</th>
<th class="cellalignment89" id="d34912e152">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e157" headers="d34912e143">
<p>Data Encryption</p>
<p>Two methods are available:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a></p>
</li>
</ul>
</td>
<td class="cellalignment90" headers="d34912e157 d34912e146">
<ul style="list-style-type: disc;">
<li>
<p>Data in the trails or an extract file</p>
</li>
<li>
<p>Data sent across TCP/IP networks</p>
</li>
</ul>
</td>
<td class="cellalignment90" headers="d34912e157 d34912e149">
<p>Master key and wallet method is the preferred method on platforms that support it. Not valid for the iSeries, z/OS, and NonStop platforms.</p>
<p><code class="codeph">ENCKEYS</code> method is valid for all Oracle GoldenGate-supported databases and platforms. Blowfish must be used on the iSeries, z/OS, and NonStop platforms.</p>
</td>
<td class="cellalignment90" headers="d34912e157 d34912e152">
<p>Encrypts the data in files, across data links, and across TCP/IP. Use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Any Advanced Encryption Security (AES)<a id="fn_1" href="#fn_1" onclick='footdisplay(1,"Advanced Encryption Standard (AES) is a symmetric-key encryption standard that is used by governments and other organizations that require a high degree of data security. It offers three 128-bit block-ciphers: a 128-bit key cipher, a 192-bit key cipher, and a 256-bit key cipher. To use AES for any database other than Oracle on a 32-bit platform, the path to the lib sub-directory of the Oracle GoldenGate installation directory must be set with the LD_LIBRARY_PATH or SHLIB_PATH variable (UNIX) or the PATH variable (Windows). Not required for 64-bit platforms. ")'><sup>Foot&nbsp;1</sup></a> cipher:</p>
<p>AES-128</p>
<p>AES-192</p>
<p>AES-256</p>
</li>
<li>
<p>Blowfish<a id="fn_2" href="#fn_2" onclick='footdisplay(2,"Blowfish encryption: A keyed symmetric-block cipher. The Oracle GoldenGate implementation of Blowfish has a 64-bit block size with a variable-length key size from 32 bits to 256 bits. ")'><sup>Foot&nbsp;2</sup></a></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e210" headers="d34912e143">
<p>Credential Store Identity Management</p>
<p>See <a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a>.</p>
</td>
<td class="cellalignment90" headers="d34912e210 d34912e146">
<p>User IDs and passwords (credentials) assigned to Oracle GoldenGate processes to log into a database.</p>
</td>
<td class="cellalignment90" headers="d34912e210 d34912e149">
<p>Credential store is the preferred password management method on platforms that support it. Not valid on the iSeries, z/OS, and NonStop platforms.</p>
</td>
<td class="cellalignment90" headers="d34912e210 d34912e152">
<p>User credentials are maintained in secure wallet storage. Aliases for the credentials are specified in commands and parameters.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e228" headers="d34912e143">
<p>Password Encryption</p>
<p>See <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a>.</p>
</td>
<td class="cellalignment90" headers="d34912e228 d34912e146">
<p>Passwords specified in commands and parameter files that are used by Oracle GoldenGate processes to log into a database.</p>
</td>
<td class="cellalignment90" headers="d34912e228 d34912e149">
<p>Valid for all Oracle GoldenGate-supported databases and platforms. Blowfish must be used on the iSeries, z/OS, and NonStop platforms. On other platforms, the credential store is the preferred password-management method.</p>
</td>
<td class="cellalignment90" headers="d34912e228 d34912e152">
<p>Encrypts a password and then provides for specifying the encrypted password in the command or parameter input. Use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>AES-128</p>
</li>
<li>
<p>AES-192</p>
</li>
<li>
<p>AES-256</p>
</li>
<li>
<p>Blowfish</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e259" headers="d34912e143">
<p>Command Authentication</p>
<p>See <a href="configuring-oracle-goldengate-security.htm#GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F">Configuring GGSCI Command Security</a>.</p>
</td>
<td class="cellalignment90" headers="d34912e259 d34912e146">
<p>Oracle GoldenGate commands issued through GGSCI.</p>
</td>
<td class="cellalignment90" headers="d34912e259 d34912e149">
<p>Valid for all Oracle GoldenGate-supported databases and platforms.</p>
</td>
<td class="cellalignment90" headers="d34912e259 d34912e152">
<p>Stores authentication permissions in an operating-system-secured file. Configure a <code class="codeph">CMDSEC</code> (Command Security) file.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e280" headers="d34912e143">
<p>Trusted Connection</p>
<p>See <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a>.</p>
</td>
<td class="cellalignment90" headers="d34912e280 d34912e146">
<p>TCP/IP connection to untrusted Oracle GoldenGate host machines that are outside a firewall.</p>
</td>
<td class="cellalignment90" headers="d34912e280 d34912e149">
<p>Valid for all Oracle GoldenGate-supported databases and platforms.</p>
</td>
<td class="cellalignment90" headers="d34912e280 d34912e152">
<p>Use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>AES-128</p>
</li>
<li>
<p>AES-192</p>
</li>
<li>
<p>AES-256</p>
</li>
<li>
<p>Blowfish</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e311" headers="d34912e143">
<p>Manager Security</p>
</td>
<td class="cellalignment90" headers="d34912e311 d34912e146">
<p>Access rules for Manager.</p>
</td>
<td class="cellalignment90" headers="d34912e311 d34912e149">
<p>Valid for all Oracle GoldenGate-supported databases and platforms.</p>
</td>
<td class="cellalignment90" headers="d34912e311 d34912e152">
<p>You can secure the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">GGSCI</code>: Secures access to the GGSCI command-line interface.</p>
</li>
<li>
<p><code class="codeph">GUI</code>: Secures access to Oracle GoldenGate from the Activity Console.</p>
</li>
<li>
<p><code class="codeph">MGR | MANAGER</code>: Secures access to all inter-process commands controlled by Manager, such as <code class="codeph">START</code>, <code class="codeph">STOP</code>, and <code class="codeph">KILL</code></p>
</li>
<li>
<p><code class="codeph">REPLICAT</code>: Secures connection to the Replicat process.</p>
</li>
<li>
<p><code class="codeph">COLLECTOR | SERVER</code>: Secures the ability to dynamically create a Collector process.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment90" id="d34912e358" headers="d34912e143">
<p>CryptoEngine&nbsp;</p>
</td>
<td class="cellalignment90" headers="d34912e358 d34912e146">
<p>Allows you to select the cryptographic library that better suits your needs: Portability (Classic),&nbsp;Portability and compliance with FIPS-140 standard&nbsp; (FIPS140), or enhanced throughput (Native).</p>
</td>
<td class="cellalignment90" headers="d34912e358 d34912e149">
<p>Valid for all Oracle GoldenGate-supported databases and platforms (Classic and FIPS140).</p>
<p>Valid for all Oracle GoldenGate-supported databases on Linux.x64 and Windows.x64 (Native).</p>
</td>
<td class="cellalignment90" headers="d34912e358 d34912e152">
<p>Selects which cryptographic library the Oracle GoldenGate processes will use.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1</sup></p>
<p>Advanced Encryption Standard (AES) is a symmetric-key encryption standard that is used by governments and other organizations that require a high degree of data security. It offers three 128-bit block-ciphers: a 128-bit key cipher, a 192-bit key cipher, and a 256-bit key cipher. To use AES for any database other than Oracle on a 32-bit platform, the path to the lib sub-directory of the Oracle GoldenGate installation directory must be set with the LD_LIBRARY_PATH or SHLIB_PATH variable (UNIX) or the PATH variable (Windows). Not required for 64-bit platforms.</p>
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2</sup></p>
<p>Blowfish encryption: A keyed symmetric-block cipher. The Oracle GoldenGate implementation of Blowfish has a 64-bit block size with a variable-length key size from 32 bits to 256 bits.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD937"></a>
<div class="props_rev_3"><a id="GUID-EC282970-4C1F-47F2-8E42-7B999166C44B"></a>
<h2 id="GWUAD-GUID-EC282970-4C1F-47F2-8E42-7B999166C44B" class="sect2"><span class="enumeration_section">11.2</span> Encrypting Data with the Master Key and Wallet Method</h2>
<div>
<div class="section">
<p>To use this method of data encryption, you create a master-key wallet and add a master key to the wallet. This method works as follows, depending on whether the data is encrypted in the trails or across TCP/IP:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Each time Oracle GoldenGate creates a trail file, it generates a new encryption key automatically. This encryption key encrypts the trail contents. The master key encrypts the encryption key. This process of encrypting encryption keys is known as <span class="italic">key wrap</span> and is described in standard ANS X9.102 from American Standards Committee.</p>
</li>
<li>
<p>To encrypt data across the network, Oracle GoldenGate generates a session key using a cryptographic function based on the master key.</p>
</li>
</ul>
<p>Oracle GoldenGate uses an auto-login wallet (file extension <code class="codeph">.sso</code>), meaning that it is an obfuscated container that does not require human intervention to supply the necessary passwords.</p>
<p>Encrypting data with a master key and wallet is not supported on the iSeries, z/OS or NonStop platforms.</p>
<p>This section guides you through the following tasks:</p>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-3A1E95A7-56FC-49EA-BC57-E4A303DE372C">Creating the Wallet and Adding a Master Key</a></p>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-CC262D20-6C27-4AE3-8501-BC7FF5987779">Specifying Encryption Parameters in the Parameter File</a></p>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-B86D8D76-E698-4FAA-B83A-14B21D16322B">Renewing the Master Key</a></p>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0">Deleting Stale Master Keys</a></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-3A1E95A7-56FC-49EA-BC57-E4A303DE372C">Creating the Wallet and Adding a Master Key</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-CC262D20-6C27-4AE3-8501-BC7FF5987779">Specifying Encryption Parameters in the Parameter File</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-B86D8D76-E698-4FAA-B83A-14B21D16322B">Renewing the Master Key</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0">Deleting Stale Master Keys</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD1001"></a>
<div class="props_rev_3"><a id="GUID-3A1E95A7-56FC-49EA-BC57-E4A303DE372C"></a>
<h3 id="GWUAD-GUID-3A1E95A7-56FC-49EA-BC57-E4A303DE372C" class="sect3"><span class="enumeration_section">11.2.1</span> Creating the Wallet and Adding a Master Key</h3>
<div>
<div class="section">
<p>The wallet is created in a platform-independent format. The wallet can be stored on a shared file system that is accessible by all systems in the Oracle GoldenGate environment. Alternatively, you can use an identical wallet on each system in the Oracle GoldenGate environment. If you use a wallet on each system, you must create the wallet on one system, typically the source system, and then copy it to all of the other systems in the Oracle GoldenGate environment. This must also be done every time you add, change, or delete a master key.</p>
<p>This procedure creates the wallet on the source system and then guides you through copying it to the other systems in the Oracle GoldenGate environment.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>(Optional) To store the wallet in a location other than the <code class="codeph">dirwlt</code> subdirectory of the Oracle GoldenGate installation directory, specify the desired location with the <code class="codeph">WALLETLOCATION</code> parameter in the <code class="codeph">GLOBALS</code> file. (See <a href="getting-started-oracle-goldengate-process-interfaces.htm#GUID-667FC1C1-AB7F-424E-9005-8672801CCFFF">Working with the GLOBALS File</a> for more information about the <code class="codeph">GLOBALS</code> file.)</span>
<div>
<pre dir="ltr">
WALLETLOCATION <span class="italic">directory_path</span>
</pre></div>
</li>
<li class="stepexpand"><span>Create a master-key wallet with the <code class="codeph">CREATE WALLET</code> command in GGSCI.</span>
<div>
<pre dir="ltr">
CREATE WALLET
</pre></div>
</li>
<li class="stepexpand"><span>Add a master key to the wallet with the <code class="codeph">ADD MASTERKEY</code> command in GGSCI.</span>
<div>
<pre dir="ltr">
ADD MASTERKEY
</pre></div>
</li>
<li class="stepexpand"><span>Issue the <code class="codeph">INFO MASTERKEY</code> command to confirm that the key you added is the current version. In a new installation, the version should be 1.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY
</pre></div>
</li>
<li class="stepexpand"><span>Issue the <code class="codeph">INFO MASTERKEY</code> command with the <code class="codeph">VERSION</code> option, where the version is the current version number. Record the version number and the AES hash value of that version.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY VERSION <span class="italic">version</span>
</pre></div>
</li>
<li class="stepexpand"><span>Copy the wallet to all of the other Oracle GoldenGate systems.</span></li>
<li class="stepexpand"><span>Issue the <code class="codeph">INFO MASTERKEY</code> command with the <code class="codeph">VERSION</code> option on each system to which you copied the wallet, where the version is the version number that you recorded. For each wallet, make certain the <code class="codeph">Status</code> is <code class="codeph">Current</code> and compare the AES hash value with the one that you originally recorded. All wallets must show identical key versions and hash values.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY VERSION <span class="italic">version</span>
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1002"></a>
<div class="props_rev_3"><a id="GUID-CC262D20-6C27-4AE3-8501-BC7FF5987779"></a>
<h3 id="GWUAD-GUID-CC262D20-6C27-4AE3-8501-BC7FF5987779" class="sect3"><span class="enumeration_section">11.2.2</span> Specifying Encryption Parameters in the Parameter File</h3>
<div>
<div class="section">
<p>This procedure adds the parameters that are required to support data encryption in the trails and across the network with the master key and wallet method.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In the following parameter files, add the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">To encrypt trail data</span>: In the parameter file of the primary Extract group and the data pump, add an <code class="codeph">ENCRYPTTRAIL</code> parameter statement before any parameter that specifies a trail or file that you want to be encrypted. Parameters that specify trails or files are <code class="codeph">EXTTRAIL</code>, <code class="codeph">RMTTRAIL</code>, <code class="codeph">EXTFILE</code>, and <code class="codeph">RMTFILE</code>. The syntax is:</p>
<pre dir="ltr">
ENCRYPTTRAIL {AES128 | AES192 | AES256 | BLOWFISH} 
</pre></li>
<li>
<p><span class="italic">To encrypt data across TCP/IP</span>: In the parameter file of the data pump (or the primary Extract, if no pump is being used), use the <code class="codeph">ENCRYPT</code> option of the <code class="codeph">RMTHOSTOPTIONS</code> parameter. The syntax is:</p>
<pre dir="ltr">
RMTHOSTOPTIONS <span class="italic">host</span>, MGRPORT <span class="italic">port</span>, ENCRYPT {AES128 | AES192 | AES256 | BLOWFISH}

RMTHOSTOPTIONS ENCRYPT {AES128 | AES192 | AES256 | BLOWFISH}
</pre></li>
</ul>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">RMTHOSTOPTIONS</code> is used for Extract including passive extracts. See <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a> for more information about passive Extract.</p>
</li>
<li>
<p><code class="codeph">ENCRYPTTRAIL</code> without options specifies 256-key byte substitution. This format is not secure and should not be used in a production environment. Use only for backward compatibility with earlier Oracle GoldenGate versions.</p>
</li>
<li>
<p><code class="codeph">AES128</code> encrypts with the AES-128 encryption algorithm.</p>
</li>
<li>
<p><code class="codeph">AES192</code> encrypts with AES-192 encryption algorithm.</p>
</li>
<li>
<p><code class="codeph">AES256</code> encrypts with AES-256 encryption algorithm.</p>
</li>
<li>
<p><code class="codeph">BLOWFISH</code> uses Blowfish encryption with a 64-bit block size and a variable-length key size from 32 bits to 128 bits. Use AES if supported for the platform. Use <code class="codeph">BLOWFISH</code> for backward compatibility with earlier Oracle GoldenGate versions, and for DB2 on z/OS, DB2 for i, and SQL/MX on NonStop. AES is not supported on those platforms.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Use the <code class="codeph">DECRYPTTRAIL</code> parameter for a data pump if you want trail data to be decrypted before it is written to the output trail. Otherwise, the data pump automatically decrypts it, if processing is required, and then reencrypts it before writing to the output trail. (Replicat decrypts the data automatically without any parameter input.)</span>
<div>
<pre dir="ltr">
DECRYPTTRAIL
</pre></div>
</li>
</ol>
<div class="section">
<div class="infobox-note" id="GUID-CC262D20-6C27-4AE3-8501-BC7FF5987779__GUID-615C86F3-6FB4-4233-BC48-9A5ED6B2B49C">
<p class="notep1">Note:</p>
<p>You can explicitly decrypt incoming trail data and then re-encrypt it again for any output trails or files. First, enter <code class="codeph">DECRYPTTRAIL</code> to decrypt the data, and then enter <code class="codeph">ENCRYPTTRAIL</code> and its output trail specifications. <code class="codeph">DECRYPTTRAIL</code> must precede <code class="codeph">ENCRYPTTRAIL</code>. Explicit decryption and re-encryption enables you to vary the AES algorithm from trail to trail, if desired. For example, you can use AES 128 to encrypt a local trail and AES 256 to encrypt a remote trail. Alternatively, you can use the master key and wallet method to encrypt from one process to a second process, and then use the <code class="codeph">ENCKEYS</code> method to encrypt from the second process to the third process.</p>
</div>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1003"></a>
<div class="props_rev_3"><a id="GUID-B86D8D76-E698-4FAA-B83A-14B21D16322B"></a>
<h3 id="GWUAD-GUID-B86D8D76-E698-4FAA-B83A-14B21D16322B" class="sect3"><span class="enumeration_section">11.2.3</span> Renewing the Master Key</h3>
<div>
<div class="section">
<p>This procedure renews the master encryption key in the encryption-key wallet. Renewing the master key creates a new version of the key. Its name remains the same, but the bit ordering changes. As part of your security policy, you should renew the current master key regularly so that it does not get stale.</p>
<p>All renewed versions of a master key remain in the wallet until they are marked for deletion with the <code class="codeph">DELETE MASTERKEY</code> command and then the wallet is purged with the <code class="codeph">PURGE WALLET</code> command. See <a href="configuring-oracle-goldengate-security.htm#GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0">Deleting Stale Master Keys</a> for more information.</p>
<p>Unless the wallet is maintained centrally on shared storage (as a shared wallet), the updated wallet must be copied to all of the other systems in the Oracle GoldenGate configuration that use that wallet. To do so, the Oracle GoldenGate must be stopped. This procedure includes steps for performing those tasks in the correct order.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Stop Extract.</span>
<div>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>On the target systems, issue the following command for each Replicat until it returns <code class="codeph">At EOF</code>.</span>
<div>
<pre dir="ltr">
SEND REPLICAT <span class="italic">group</span> STATUS
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, stop the data pumps.</span>
<div>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>On the target systems, stop the Replicat groups.</span>
<div>
<pre dir="ltr">
STOP REPLICAT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command to open the wallet.</span>
<div>
<pre dir="ltr">
OPEN WALLET
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command to confirm the version of the current key. Make a record of the version.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command to renew the master key.</span>
<div>
<pre dir="ltr">
RENEW MASTERKEY
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command to confirm that a new version is current.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY
</pre>
<div class="infobox-note" id="GUID-B86D8D76-E698-4FAA-B83A-14B21D16322B__GUID-89A0242E-3F65-4561-84AA-5072D458D260">
<p class="notep1">Note:</p>
<p>If you are using a shared wallet, go to step <a href="configuring-oracle-goldengate-security.htm#GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0__CDDIFFDC">12</a>. If you are using a wallet on each system, continue to the next step.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command, where <span class="italic"><code class="codeph">version</code></span> is the new version of the master key. Make a record of the hash value.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY VERSION <span class="italic">version</span>
</pre></div>
</li>
<li class="stepexpand"><span>Copy the updated wallet from the source system to the same location as the old wallet on all of the target systems.</span></li>
<li class="stepexpand"><span>On each target, issue the following command, where <span class="italic"><code class="codeph">version</code></span> is the new version number of the master key. For each wallet, make certain the <code class="codeph">Status</code> is <code class="codeph">Current</code> and compare the new hash value with the one that you originally recorded. All wallets must show identical key versions and hash values.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY VERSION <span class="italic">version</span>
</pre></div>
</li>
<li class="stepexpand"><span>Restart Extract.</span>
<div>
<pre dir="ltr">
START EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Restart the data pumps.</span>
<div>
<pre dir="ltr">
START EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Restart Replicat.</span>
<div>
<pre dir="ltr">
START REPLICAT <span class="italic">group</span>
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1004"></a>
<div class="props_rev_3"><a id="GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0"></a>
<h3 id="GWUAD-GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0" class="sect3"><span class="enumeration_section">11.2.4</span> Deleting Stale Master Keys</h3>
<div>
<div class="section">
<p>This procedure deletes stale versions of the master key. Deleting stale keys should be part of the overall policy for maintaining a secure Oracle GoldenGate wallet. It is recommended that you develop a policy for how many versions of a key you want to keep in the wallet and how long you want to keep them.</p>
<div class="infobox-note" id="GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0__GUID-6A37CF5C-093C-4F39-9B5C-F0CE6EBF44C0">
<p class="notep1">Note:</p>
<p>For Oracle GoldenGate deployments using a shared wallet, the older versions of the master key should be retained after the master key is renewed until all processes are using the newest version. The time to wait depends on the topology, latency, and data load of the deployment. A minimum wait of 24 hours is a conservative estimate, but you may need to perform testing to determine how long it takes for all processes to start using a new key. To determine whether all of the processes are using the newest version, view the report file of each Extract immediately after renewing the master key to confirm the last SCN that was mined with the old key. Then, monitor the Replicat report files to verify that this SCN was applied by all Replicat groups. At this point, you can delete the older versions of the master key.</p>
</div>
<p>If the wallet is on central storage that is accessible by all Oracle GoldenGate installations that use that wallet, you need only perform these steps once to the shared wallet. You do not need to stop the Oracle GoldenGate processes.</p>
<p>If the wallet is not on central storage (meaning there is a copy on each Oracle GoldenGate system) you can do one of the following:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>If you can stop the Oracle GoldenGate processes, you only need to perform the steps to change the wallet once and then copy the updated wallet to the other systems before restarting the Oracle GoldenGate processes.</p>
</li>
<li>
<p>If you cannot stop the Oracle GoldenGate processes, you must perform the steps to change the wallet on each system, making certain to perform them exactly the same way on each one.</p>
<p>These steps include prompts for both scenarios.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the source system, issue the following command to determine the versions of the master key that you want to delete. Typically, the oldest versions should be the ones deleted. Make a record of these versions.</span>
<div>
<pre dir="ltr">
INFO MASTERKEY
</pre></div>
</li>
<li class="stepexpand"><span>On the source system, issue the following command to open the wallet.</span>
<div>
<pre dir="ltr">
OPEN WALLET
</pre></div>
</li>
<li class="stepexpand"><span>Issue the following command to delete the stale master keys. Options are available to delete a specific version, a range of versions, or all versions including the current one. To delete all of the versions, transaction activity and the Oracle GoldenGate processes must be stopped.</span>
<div>
<pre dir="ltr">
DELETE MASTERKEY {VERSION <span class="italic">version</span> | RANGE FROM <span class="italic">begin_value</span> TO <span class="italic">end_value</span>}
</pre>
<div class="infobox-note" id="GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0__GUID-F8067EE8-AB55-46A0-8E5D-DC3A89BBD85E">
<p class="notep1">Note:</p>
<p><code class="codeph">DELETE MASTERKEY</code> marks the key versions for deletion but does not actually delete them.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Review the messages returned by the <code class="codeph">DELETE MASTERKEY</code> command to ensure that the correct versions were marked for deletion. To unmark any version that was marked erroneously, use the <code class="codeph">UNDELETE MASTERKEY</code> <code class="codeph">VERSION</code> <span class="italic"><code class="codeph">version</code></span> command before proceeding with these steps. If desired, you can confirm the marked deletions with the <code class="codeph">INFO MASTERKEY</code> command.</span></li>
<li class="stepexpand"><span>When you are satisfied that the correct versions are marked for deletion, issue the following command to purge them from the wallet. This is a permanent deletion and cannot be undone.</span>
<div>
<pre dir="ltr">
PURGE WALLET
</pre>
<p>Next steps:</p>
<ul style="list-style-type: disc;">
<li>
<p>If the wallet resides on shared storage, you are done with these steps.</p>
</li>
<li>
<p>If there is a wallet on each system and you cannot stop the Oracle GoldenGate processes, repeat the preceding steps on each Oracle GoldenGate system.</p>
</li>
<li>
<p>If there is a wallet on each system and you can stop the Oracle GoldenGate processes, continue with these steps to stop the processes and copy the wallet to the other systems in the correct order.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Stop Extract.</span>
<div>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>In GGSCI, issue the following command for each data pump Extract until each returns <code class="codeph">At EOF</code>, indicating that all of the data in the local trail has been processed.</span>
<div>
<pre dir="ltr">
SEND EXTRACT <span class="italic">group</span> STATUS
</pre></div>
</li>
<li class="stepexpand"><span>Stop the data pumps.</span>
<div>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>On the target systems, issue the following command for each Replicat until it returns <code class="codeph">At EOF</code>.</span>
<div>
<pre dir="ltr">
SEND REPLICAT <span class="italic">group</span> STATUS
</pre></div>
</li>
<li class="stepexpand"><span>Stop the Replicat groups.</span>
<div>
<pre dir="ltr">
STOP REPLICAT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Copy the updated wallet from the source system to the same location as the old wallet on all of the target systems.</span></li>
<li class="stepexpand" id="GUID-9401E5C0-D574-4A5C-A61B-3DCFDD275CF0__CDDIFFDC"><span>Restart Extract.</span>
<div>
<pre dir="ltr">
START EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Restart the data pumps.</span>
<div>
<pre dir="ltr">
START EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Restart Replicat.</span>
<div>
<pre dir="ltr">
START REPLICAT <span class="italic">group</span>
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-EC282970-4C1F-47F2-8E42-7B999166C44B">Encrypting Data with the Master Key and Wallet Method</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD938"></a>
<div class="props_rev_3"><a id="GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B"></a>
<h2 id="GWUAD-GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B" class="sect2"><span class="enumeration_section">11.3</span> Encrypting Data with the ENCKEYS Method</h2>
<div>
<p>To use this method of data encryption, you configure Oracle GoldenGate to generate an encryption key and store the key in a local <code class="codeph">ENCKEYS</code> file. This method makes use of a permanent key that can only be changed by regenerating the algorithm according to the instructions in <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a>. The <code class="codeph">ENCKEYS</code> file must be secured through the normal method of assigning file permissions in the operating system.</p>
<p>This procedure generates an AES encryption key and provides instructions for storing it in the <code class="codeph">ENCKEYS</code> file.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA">Encrypting the Data with the ENCKEYS Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-79E5EE2B-DFA7-4E3A-AAF4-FC0499642B74">Decrypting the Data with the ENCKEYS Method</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE">Examples of Data Encryption using the ENCKEYS Method</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD1074"></a>
<div class="props_rev_3"><a id="GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA"></a>
<h3 id="GWUAD-GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA" class="sect3"><span class="enumeration_section">11.3.1</span> Encrypting the Data with the ENCKEYS Method</h3>
<div>
<ol>
<li class="stepexpand"><span>Generate an encryption key and store it in the <code class="codeph">ENCKEYS</code> file. See <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a>. Make certain to copy the finished <code class="codeph">ENCKEYS</code> file to the Oracle GoldenGate installation directory on any intermediary systems and all target systems.</span></li>
<li class="stepexpand"><span>In the following parameter files, add the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">To encrypt trail data</span>: In the parameter file of the primary Extract group and the data pump, add an <code class="codeph">ENCRYPTTRAIL</code> parameter before any parameter that specifies a trail or file that you want to be encrypted. Parameters that specify trails or files are <code class="codeph">EXTTRAIL</code>, <code class="codeph">RMTTRAIL</code>, <code class="codeph">EXTFILE</code>, and <code class="codeph">RMTFILE</code>. The syntax is one of the following:</p>
<pre dir="ltr">
ENCRYPTTRAIL {AES128 | AES192 | AES256 | BLOWFISH}  
</pre>
<pre dir="ltr">
ENCRYPTTRAIL AES192, KEYNAME <span class="italic">keyname</span>
</pre></li>
<li>
<p><span class="italic">To encrypt data across TCP/IP</span>: In the <code class="codeph">RMTHOSTOPTIONS</code> parameter in the parameter file of the data pump (or the primary Extract, if no pump is being used), add the <code class="codeph">ENCRYPT</code> option with the <code class="codeph">KEYWORD</code> clause. The syntax is one of the following:</p>
<pre dir="ltr">
RMTHOSTOPTIONS <span class="italic">host</span>, MGRPORT <span class="italic">port</span>, ENCRYPT {AES128 | AES192 | AES256 | BLOWFISH} KEYNAME <span class="italic">keyname</span>
</pre>
<pre dir="ltr">
RMTHOSTOPTIONS ENCRYPT {AES128 | AES192 | AES256 | BLOWFISH} KEYNAME <span class="italic">keyname</span>
</pre></li>
</ul>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">RMTHOSTOPTIONS</code> is used for Extract. See <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a> for more information about passive Extract.</p>
</li>
<li>
<p><code class="codeph">ENCRYPTTRAIL</code> without options uses AES128 as the default for all database types except the iSeries, z/OS, and NonStop platforms, where <code class="codeph">BLOWFISH</code> is the default.</p>
</li>
<li>
<p><code class="codeph">AES128</code> encrypts with the AES-128 encryption algorithm. Not supported for iSeries, z/OS, and NonStop platforms.</p>
</li>
<li>
<p><code class="codeph">AES192</code> encrypts with AES-192 encryption algorithm. Not supported for iSeries, z/OS, and NonStop platforms.</p>
</li>
<li>
<p><code class="codeph">AES256</code> encrypts with AES-256 encryption algorithm. Not supported for iSeries, z/OS, and NonStop platforms.</p>
</li>
<li>
<p><code class="codeph">BLOWFISH</code> uses Blowfish encryption with a 64-bit block size and a variable-length key size from 32 bits to 128 bits. Use AES if supported for the platform. Use <code class="codeph">BLOWFISH</code> for backward compatibility with earlier Oracle GoldenGate versions, and for DB2 on z/OS, DB2 for i, and SQL/MX on NonStop. AES is not supported on those platforms.</p>
</li>
<li>
<p><code class="codeph">KEYNAME</code> <span class="italic"><code class="codeph">keyname</code></span> specifies the logical look-up name of an encryption key in the <code class="codeph">ENCKEYS</code> file. Not an option of <code class="codeph">ENCRYPTTRAIL</code>.</p>
<div class="infobox-note" id="GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA__GUID-F3AC3654-3681-4507-8E72-15AA47994614">
<p class="notep1">Note:</p>
<p><code class="codeph">RMTHOST</code> is used unless the Extract is in a passive configuration. See <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a> for more information.</p>
</div>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>If using a static Collector with data encrypted over TCP/IP, append the following parameters in the Collector startup string:</span>
<div>
<pre dir="ltr">
-KEYNAME <span class="italic">keyname</span>
-ENCRYPT <span class="italic">algorithm</span>
</pre>
<p>The specified key name and algorithm must match those specified with the <code class="codeph">KEYNAME</code> and <code class="codeph">ENCRYPT</code> options of <code class="codeph">RMTHOST</code>.</p>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1076"></a><a id="GWUAD1077"></a><a id="GWUAD1078"></a><a id="GWUAD1075"></a>
<div class="props_rev_3"><a id="GUID-79E5EE2B-DFA7-4E3A-AAF4-FC0499642B74"></a>
<h3 id="GWUAD-GUID-79E5EE2B-DFA7-4E3A-AAF4-FC0499642B74" class="sect3"><span class="enumeration_section">11.3.2</span> Decrypting the Data with the ENCKEYS Method</h3>
<div>
<div class="section">
<p>Data that is encrypted over TCP/IP connections is decrypted automatically at the destination before it is written to a trail, unless trail encryption also is specified.</p>
<p>Data that is encrypted in the trail remains encrypted unless the <code class="codeph">DECRYPTTRAIL</code> parameter is used. <code class="codeph">DECRYPTTRAIL</code> is required by Replicat before it can apply encrypted data to the target. A data pump passes encrypted data untouched to the output trail, unless the <code class="codeph">DECRYPTTRAIL</code> and <code class="codeph">ENCRYPTTRAIL</code> parameters are used. If the data pump must perform work on the data, decrypt and encrypt the data as follows.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Decrypt Data for Processing by a Data Pump</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Add the <code class="codeph">DECRYPTTRAIL</code> parameter to the parameter file of the data pump. The decryption algorithm and key must match the ones that were used to encrypt the trail (see <a href="configuring-oracle-goldengate-security.htm#GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA">Encrypting the Data with the ENCKEYS Method</a>).</p>
<pre dir="ltr">
DECRYPTTRAIL {AES128 | AES192 | AES256 | BLOWFISH}
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Encrypt Data After Processing by a Data Pump</p>
</div>
<!-- class="section" -->
<div class="section">
<p>To encrypt data before the data pump writes it to an output trail or file, use the <code class="codeph">ENCRYPTTRAIL</code> parameter before the parameters that specify those trails or files. Parameters that specify trails or files are <code class="codeph">EXTTRAIL</code>, <code class="codeph">RMTTRAIL</code>, <code class="codeph">EXTFILE</code>, and <code class="codeph">RMTFILE</code>. The <code class="codeph">ENCRYPTTRAIL</code> parameter and the trail or file specifications must occur after the <code class="codeph">DECRYPTTRAIL</code> parameter. See <a href="configuring-oracle-goldengate-security.htm#GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA">Encrypting the Data with the ENCKEYS Method</a>.</p>
<div class="infobox-note" id="GUID-79E5EE2B-DFA7-4E3A-AAF4-FC0499642B74__GUID-9510DC2D-83FD-49A6-A96D-B763520D943C">
<p class="notep1">Note:</p>
<p>The algorithm specified with <code class="codeph">ENCRYPTTRAIL</code> can vary from trail to trail. For example, you can use AES 128 to encrypt a local trail and AES 256 to encrypt a remote trail.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Decrypt Data for Processing by Replicat</p>
</div>
<!-- class="section" -->
<div class="section">
<p>If a trail that Replicat reads is encrypted, add a <code class="codeph">DECRYPTTRAIL</code> parameter statement to the Replicat parameter file. The decryption algorithm and key must match the ones that were used to encrypt the trail. See <a href="configuring-oracle-goldengate-security.htm#GUID-82DF56DF-456D-4246-BDC2-DA1AC9AA6EEA">Encrypting the Data with the ENCKEYS Method</a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD940"></a><a id="GWUAD941"></a><a id="GWUAD942"></a><a id="GWUAD943"></a><a id="GWUAD944"></a><a id="GWUAD1079"></a>
<div class="props_rev_3"><a id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE"></a>
<h3 id="GWUAD-GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE" class="sect3"><span class="enumeration_section">11.3.3</span> Examples of Data Encryption using the ENCKEYS Method</h3>
<div>
<div class="section">
<p>The following example shows how to turn encryption on and off for different trails or files. In this example, Extract writes to two local trails, only one of which must be encrypted.</p>
<p>In the Extract configuration, trail <code class="codeph">bb</code> is the non-encrypted trail, so its <code class="codeph">EXTTRAIL</code> parameter is placed before the <code class="codeph">ENCRYPTTRAIL</code> parameter that encrypts trail <code class="codeph">aa</code>. Alternatively, you can use the <code class="codeph">NOENCRYPTTRAIL</code> parameter before the <code class="codeph">EXTTRAIL</code> parameter that specifies trail <code class="codeph">bb</code> and then use the <code class="codeph">ENCRYPTTRAIL</code> parameter before the <code class="codeph">EXTTRAIL</code> parameter that specifies trail <code class="codeph">aa</code>.</p>
<div class="figure" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-4DD4C796-F08E-4AC6-9B23-0EA61CF1D7C1"><img width="744" height="431" src="img/encrypt_trail_2.jpg" alt="Description of encrypt_trail_2.jpg follows" title="Description of encrypt_trail_2.jpg follows" /><br />
<a href="img_text/encrypt_trail_2.htm">Description of the illustration encrypt_trail_2.jpg</a></div>
<!-- class="figure" -->
<p>In this example, the encrypted data must be decrypted so that data pump <code class="codeph">1pump</code> can perform work on it. Therefore, the <code class="codeph">DECRYPTTRAIL</code> parameter is used in the parameter file of the data pump. To re-encrypt the data for output, the <code class="codeph">ENCRYPTTRAIL</code> parameter must be used after <code class="codeph">DECRYPTTRAIL</code> but before the output trail specification(s). If the data pump did not have to perform work on the data, the <code class="codeph">DECRYPTTRAIL</code> and <code class="codeph">ENCRYPTTRAIL</code> parameters could have been omitted to retain encryption all the way to Replicat.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-BF8A1791-4C2A-47AC-8567-27276AD93589">
<p class="titleinexample">Example 11-1 Extract Parameter File</p>
<pre dir="ltr">
EXTRACT capt
USERIDALIAS ogg
DISCARDFILE /ogg/capt.dsc, PURGE
-- Do not encrypt this trail.
EXTTRAIL /ogg/dirdat/bb
TABLE SALES.*;
-- Encrypt this trail with AES-192.
ENCRYPTTRAIL AES192
EXTTRAIL /ogg/dirdat/aa
TABLE FIN.*;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-37C6782E-FCA9-474E-9569-EF4DF50B4C63">
<p class="titleinexample">Example 11-2 Data Pump 1 Parameter File</p>
<pre dir="ltr">
EXTRACT 1pump
USERIDALIAS ogg
DISCARDFILE /ogg/1pmp.dsc, PURGE
-- Decrypt the trail this pump reads. Use encryption key mykey1.
DECRYPTTRAIL AES192
-- Encrypt the trail this pump writes to, using AES-192.
RMTHOSTOPTIONS myhost1, MGRPORT 7809
ENCRYPTTRAIL AES192
RMTTRAIL /ogg/dirdat/cc
TABLE FIN.*;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-0540A21E-AFFD-447A-B524-1CA23F85E29B">
<p class="titleinexample">Example 11-3 Data pump 2 Parameter File</p>
<pre dir="ltr">
EXTRACT 2pump
USERIDALIAS ogg
DISCARDFILE /ogg/2pmp.dsc, PURGE
RMTHOST myhost2, MGRPORT 7809
RMTTRAIL /ogg/dirdat/dd
TABLE SALES.*;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-761DDC58-58A5-4780-8BDD-1C11C56110A8">
<p class="titleinexample">Example 11-4 Replicat1 (on myhost1) Parameter File</p>
<pre dir="ltr">
REPLICAT 1deliv
USERIDALIAS ogg
ASSUMETARGETDEFS
DISCARDFILE /ogg/1deliv.dsc, PURGE
-- Decrypt the trail this Replicat reads. Use encryption key mykey2.
DECRYPTTRAIL AES192
MAP FIN.*, TARGET FIN.*;
</pre></div>
<!-- class="example" -->
<div class="example" id="GUID-F0B9346D-43A9-4E9D-A592-F99000491DCE__GUID-E418DE56-3AA1-4193-A6BE-DA20B91FAE4B">
<p class="titleinexample">Example 11-5 Replicat 2 (on myhost2) parameter file</p>
<pre dir="ltr">
REPLICAT 2deliv
USERIDALIAS ogg
ASSUMETARGETDEFS
DISCARDFILE /ogg/2deliv.dsc, PURGE
MAP SALES.*, TARGET SALES.*;
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD945"></a>
<div class="props_rev_3"><a id="GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5"></a>
<h2 id="GWUAD-GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5" class="sect2"><span class="enumeration_section">11.4</span> Managing Identities in a Credential Store</h2>
<div>
<p>This section shows how to use an Oracle GoldenGate credential store to maintain encrypted database passwords and user IDs and associate them with an alias. It is the alias, not the actual user ID or password, that is specified in a command or parameter file, and no user input of an encryption key is required. The credential store is implemented as an autologin wallet within the Oracle Credential Store Framework (CSF).</p>
<p>Another benefit of using a credential store is that multiple installations of Oracle GoldenGate can use the same one, while retaining control over their local credentials. You can partition the credential store into logical containers known as <span class="italic">domains</span>, for example, one domain per installation of Oracle GoldenGate. Domains enable you to develop one set of aliases (for example <code class="codeph">ext</code> for Extract, <code class="codeph">rep</code> for Replicat) and then assign different local credentials to those aliases in each domain. For example, credentials for user <code class="codeph">ogg1</code> can be stored as <code class="codeph">ALIAS ext</code> under <code class="codeph">DOMAIN system1</code>, while credentials for user <code class="codeph">ogg2</code> can be stored as <code class="codeph">ALIAS ext</code> under <code class="codeph">DOMAIN system2</code>.</p>
<p>The credential store security feature is not supported on the iSeries, z/OS, and NonStop platforms. For those platforms, as well as any other supported platforms, see <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a>.</p>
<p>Using a credential store involves these steps:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-F012F7B7-5112-4833-A9B6-A191E6CE79A3">Creating and Populating the Credential Store</a></p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-1F467DFC-5F67-4F05-89C9-501051E99647">Specifying the Alias in a Parameter File or Command</a></p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-F012F7B7-5112-4833-A9B6-A191E6CE79A3">Creating and Populating the Credential Store</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-1F467DFC-5F67-4F05-89C9-501051E99647">Specifying the Alias in a Parameter File or Command</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD946"></a>
<div class="props_rev_3"><a id="GUID-F012F7B7-5112-4833-A9B6-A191E6CE79A3"></a>
<h3 id="GWUAD-GUID-F012F7B7-5112-4833-A9B6-A191E6CE79A3" class="sect3"><span class="enumeration_section">11.4.1</span> Creating and Populating the Credential Store</h3>
<div>
<ol>
<li class="stepexpand"><span>(Optional) To store the credential store in a location other than the <code class="codeph">dircrd</code> subdirectory of the Oracle GoldenGate installation directory, specify the desired location with the <code class="codeph">CREDENTIALSTORELOCATION</code> parameter in the <code class="codeph">GLOBALS</code> file. (See <a href="getting-started-oracle-goldengate-process-interfaces.htm#GUID-667FC1C1-AB7F-424E-9005-8672801CCFFF">Working with the GLOBALS File</a> for more information about the <code class="codeph">GLOBALS</code> file.)</span></li>
<li class="stepexpand"><span>From the Oracle GoldenGate installation directory, run GGSCI.</span></li>
<li class="stepexpand"><span>Issue the following command to create the credential store.</span>
<div>
<pre dir="ltr">
ADD CREDENTIALSTORE
</pre></div>
</li>
<li class="stepexpand"><span>Issue the following command to add each set of credentials to the credential store.</span>
<div>
<pre dir="ltr">
ALTER CREDENTIALSTORE ADD USER <span class="italic">userid</span>,
  [PASSWORD <span class="italic">password</span>]
  [ALIAS <span class="italic">alias</span>]
  [DOMAIN <span class="italic">domain</span>]
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">userid</code></span> is the user name. Only one instance of a user name can exist in the credential store unless the <code class="codeph">ALIAS</code> or <code class="codeph">DOMAIN</code> option is used.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">password</code></span> is the password. The password is echoed (not obfuscated) when this option is used. For security reasons, it is recommended that you omit this option and allow the command to prompt for the password, so that it is obfuscated as it is entered.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">alias</code></span> is an alias for the user name. The alias substitutes for the credential in parameters and commands where a login credential is required. If the <code class="codeph">ALIAS</code> option is omitted, the alias defaults to the user name. If you do not want user names in parameters or command input, use <code class="codeph">ALIAS</code> and specify a different name from that of the user.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">domain</code></span> is the domain that is to contain the specified alias. The default domain is <span class="italic"><code class="codeph">Oracle GoldenGate</code></span>.</p>
</li>
</ul>
</div>
</li>
</ol>
<div class="section">
<p>For more information about the commands used in this procedure and additional credential store commands, see <a class="olink GWURF895" target="_blank" href="../GWURF/summary-oracle-goldengate-commands.htm#GWURF895"><span class="italic"><span id="GUID-F012F7B7-5112-4833-A9B6-A191E6CE79A3__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD948"></a><a id="GWUAD947"></a>
<div class="props_rev_3"><a id="GUID-1F467DFC-5F67-4F05-89C9-501051E99647"></a>
<h3 id="GWUAD-GUID-1F467DFC-5F67-4F05-89C9-501051E99647" class="sect3"><span class="enumeration_section">11.4.2</span> Specifying the Alias in a Parameter File or Command</h3>
<div>
<div class="section">
<p>The following commands and parameters accept an alias as substitution for a login credential.</p>
<div class="tblformal" id="GUID-1F467DFC-5F67-4F05-89C9-501051E99647__GUID-C701D1DE-53BE-4C22-9A38-3287AE5AA6A6">
<p class="titleintable">Table 11-1 Specifying Credential Aliases in Parameters and Commands</p>
<table class="cellalignment80" title="Specifying Credential Aliases in Parameters and Commands" summary="This table lists the commands and parameters that accept an alias as substitution for a login credential. The left column gives the purpose of the credential and the right column lists the parameter or command to use.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment43" id="d34912e1853">Purpose of the Credential</th>
<th class="cellalignment43" id="d34912e1856">Parameter or Command to Use</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1861" headers="d34912e1853">
<p>Oracle GoldenGate database login<a id="fn_3" href="#fn_3" onclick='footdisplay(3,"Syntax elements required for USERIDALIAS vary by database type. See Reference for Oracle GoldenGate for Windows and UNIX for more information. ")'><sup>Foot&nbsp;3</sup></a></p>
</td>
<td class="cellalignment44" headers="d34912e1861 d34912e1856">
<pre dir="ltr">
USERIDALIAS <span class="italic">alias</span>
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1884" headers="d34912e1853">
<p>Oracle GoldenGate database login for Oracle ASM instance</p>
</td>
<td class="cellalignment44" headers="d34912e1884 d34912e1856">
<pre dir="ltr">
TRANLOGOPTIONS ASMUSERALIAS <span class="italic">alias</span>
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1894" headers="d34912e1853">
<p>Oracle GoldenGate database login for a downstream Oracle mining database</p>
</td>
<td class="cellalignment44" headers="d34912e1894 d34912e1856">
<pre dir="ltr">
TRANLOGOPTIONS MININGUSERALIAS <span class="italic">alias</span>
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1904" headers="d34912e1853">
<p>Password substitution for <code class="codeph">{CREATE | ALTER} USER</code> <span class="italic"><code class="codeph">name</code></span> <code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span></p>
</td>
<td class="cellalignment44" headers="d34912e1904 d34912e1856">
<pre dir="ltr">
DDLOPTIONS DEFAULTUSERPASSWORDALIAS <span class="italic">alias</span>
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1927" headers="d34912e1853">
<p>Oracle GoldenGate database login from GGSCI</p>
</td>
<td class="cellalignment44" headers="d34912e1927 d34912e1856">
<pre dir="ltr">
DBLOGIN USERIDALIAS <span class="italic">alias</span>
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d34912e1937" headers="d34912e1853">
<p>Oracle GoldenGate database login to a downstream Oracle mining database from GGSCI</p>
</td>
<td class="cellalignment44" headers="d34912e1937 d34912e1856">
<pre dir="ltr">
MININGDBLOGIN USERIDALIAS <span class="italic">alias</span>
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3</sup></p>
<p>Syntax elements required for <code class="codeph">USERIDALIAS</code> vary by database type. See <a class="olink GWURF730" target="_blank" href="../GWURF/useridalias.htm#GWURF730"><span class="italic"><span id="GUID-1F467DFC-5F67-4F05-89C9-501051E99647__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for more information.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD370"></a>
<div class="props_rev_3"><a id="GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0"></a>
<h2 id="GWUAD-GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0" class="sect2"><span class="enumeration_section">11.5</span> Encrypting a Password in a Command or Parameter File</h2>
<div>
<div class="section">
<p>This section shows how to encrypt a database password that is to be specified in a command or parameter file. This method takes a clear-text password as input and produces an obfuscated password string and a lookup key, both of which can then be used in the command or parameter file. This encryption method supports all of the databases that require a login for an Oracle GoldenGate process to access the database.</p>
<p>Depending on the database, you may be able to use a credential store as an alternative to this method. See <a href="configuring-oracle-goldengate-security.htm#GUID-860D20AF-6A6B-49C3-8C74-BCAE4C14E0F5">Managing Identities in a Credential Store</a>.</p>
<p>Using an encrypted password in a command or parameter file involves these steps:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-E6315202-8F47-42D9-ACA5-1B41D11C0254">Encrypting the Password</a>.</p>
</li>
<li>
<p><a href="configuring-oracle-goldengate-security.htm#GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756">Specifying the Encrypted Password in a Parameter File or Command</a>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-E6315202-8F47-42D9-ACA5-1B41D11C0254">Encrypting the Password</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756">Specifying the Encrypted Password in a Parameter File or Command</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD949"></a>
<div class="props_rev_3"><a id="GUID-E6315202-8F47-42D9-ACA5-1B41D11C0254"></a>
<h3 id="GWUAD-GUID-E6315202-8F47-42D9-ACA5-1B41D11C0254" class="sect3"><span class="enumeration_section">11.5.1</span> Encrypting the Password</h3>
<div>
<ol>
<li class="stepexpand"><span>Run GGSCI.</span></li>
<li class="stepexpand"><span>Issue the <code class="codeph">ENCRYPT PASSWORD</code> command.</span>
<div>
<pre dir="ltr">
ENCRYPT PASSWORD <span class="italic">password</span> <span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">key_name</span> | DEFAULT}
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">password</code></span> is the clear-text login password. Do not enclose the password within quotes. If the password is case-sensitive, type it that way.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">algorithm</code></span> specifies the encryption algorithm to use:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">AES128</code> uses the AES-128 cipher, which has a key size of 128 bits.</p>
</li>
<li>
<p><code class="codeph">AES192</code> uses the AES-192 cipher, which has a key size of 192 bits.</p>
</li>
<li>
<p><code class="codeph">AES256</code> uses the AES-256 cipher, which has a key size of 256 bits.</p>
</li>
<li>
<p><code class="codeph">BLOWFISH</code> uses Blowfish encryption with a 64-bit block size and a variable-length key size from 32 bits to 128 bits. Use AES if supported for the platform. Use <code class="codeph">BLOWFISH</code> for backward compatibility with earlier Oracle GoldenGate versions, and for DB2 on z/OS, DB2 for i, and SQL/MX on NonStop. AES is not supported on those platforms.</p>
</li>
</ul>
</li>
<li>
<p><code class="codeph">ENCRYPTKEY</code> <span class="italic"><code class="codeph">key_name</code></span> specifies the logical name of a user-created encryption key in the <code class="codeph">ENCKEYS</code> lookup file. The key name is used to look up the actual key in the <code class="codeph">ENCKEYS</code> file. Using a user-defined key and an <code class="codeph">ENCKEYS</code> file is required for AES encryption. To create a key and <code class="codeph">ENCKEYS</code> file, see <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a>.</p>
</li>
<li>
<p><code class="codeph">ENCRYPTKEY DEFAULT</code> directs Oracle GoldenGate to generate a predefined Blowfish key. This type of key is insecure and should not be used in a production environment if the platform supports AES. Use this option only for DB2 on /OS, DB2 for i, and SQL/MX when <code class="codeph">BLOWFISH</code> is specified. <code class="codeph">ENCRYPT PASSWORD</code> returns an error if AES is used with <code class="codeph">DEFAULT</code>.</p>
<p>If no algorithm is specified, AES128 is the default for all database types except DB2 on z/OS and NonStop SQL/MX, where <code class="codeph">BLOWFISH</code> is the default.</p>
</li>
</ul>
<p>The following are examples of <code class="codeph">ENCRYPT PASSWORD</code> with its various options.</p>
<pre dir="ltr">
ENCRYPT PASSWORD mypassword AES256 ENCRYPTKEY mykey1
ENCRYPT PASSWORD mypassword BLOWFISH ENCRYPTKEY mykey1
ENCRYPT PASSWORD mypassword BLOWFISH ENCRYPTKEY DEFAULT
</pre></div>
</li>
<li class="stepexpand"><span>The encrypted password is output to the screen when you run the <code class="codeph">ENCRYPT PASSWORD</code> command. Copy the encrypted password and then see <a href="configuring-oracle-goldengate-security.htm#GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756">Specifying the Encrypted Password in a Parameter File or Command</a> for instructions on pasting it to a command or parameter.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD372"></a><a id="GWUAD371"></a>
<div class="props_rev_3"><a id="GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756"></a>
<h3 id="GWUAD-GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756" class="sect3"><span class="enumeration_section">11.5.2</span> Specifying the Encrypted Password in a Parameter File or Command</h3>
<div>
<div class="section">
<p>Copy the encrypted password that you generated with the <code class="codeph">ENCRYPT PASSWORD</code> command (see <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a>), and then paste it into the appropriate Oracle GoldenGate parameter statement or command as shown in <a href="configuring-oracle-goldengate-security.htm#GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756__G1078037" title="This table shows how to specify encrypted passwords in the Oracle GoldenGate parameter file. The left column gives the purpose of the password and the right column lists the parameter or command to use.">Table 11-2</a>. Option descriptions follow the table.</p>
<div class="tblformal" id="GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756__G1078037">
<p class="titleintable">Table 11-2 Specifying Encrypted Passwords in Parameters and Commands</p>
<table class="cellalignment80" title="Specifying Encrypted Passwords in Parameters and Commands" summary="This table shows how to specify encrypted passwords in the Oracle GoldenGate parameter file. The left column gives the purpose of the password and the right column lists the parameter or command to use.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment62" id="d34912e2209">Purpose of the Password</th>
<th class="cellalignment107" id="d34912e2212">Parameter or Command to Use</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2217" headers="d34912e2209">
<p>Oracle GoldenGate database login<a id="fn_4" href="#fn_4" onclick='footdisplay(4,"Syntax elements required for USERID vary by database type. See Reference for Oracle GoldenGate for Windows and UNIX for more information. ")'><sup>Foot&nbsp;4</sup></a></p>
</td>
<td class="cellalignment108" headers="d34912e2217 d34912e2212">
<pre dir="ltr">
USERID <span class="italic">user</span>, PASSWORD <span class="italic">password</span>, &amp;
<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2253" headers="d34912e2209">
<p>Oracle GoldenGate database login for Oracle ASM instance</p>
</td>
<td class="cellalignment108" headers="d34912e2253 d34912e2212">
<pre dir="ltr">
TRANLOGOPTIONS ASMUSER SYS@<span class="italic">ASM_instance_name</span>, &amp;
ASMPASSWORD <span class="italic">password</span>, &amp;
<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2276" headers="d34912e2209">
<p>Oracle GoldenGate database login for a downstream Oracle mining database</p>
</td>
<td class="cellalignment108" headers="d34912e2276 d34912e2212">
<pre dir="ltr">
[MININGUSER {/ | <span class="italic">user</span>}[, MININGPASSWORD <span class="italic">password</span>]&amp;
[<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">key_name</span> | DEFAULT}]&amp;
[SYSDBA]]
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2299" headers="d34912e2209">
<p>Password substitution for <code class="codeph">{CREATE | ALTER} USER</code> <span class="italic"><code class="codeph">name</code></span> <code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span></p>
</td>
<td class="cellalignment108" headers="d34912e2299 d34912e2212">
<pre dir="ltr">
DDLOPTIONS DEFAULTUSERPASSWORD <span class="italic">password</span> &amp;
<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2331" headers="d34912e2209">
<p>Oracle TDE shared-secret password</p>
</td>
<td class="cellalignment108" headers="d34912e2331 d34912e2212">
<pre dir="ltr">
DBOPTIONS DECRYPTPASSWORD <span class="italic">password</span><a id="fn_5" href="#fn_5" onclick='footdisplay(5,"This is the shared secret. ")'><sup>Foot 5</sup></a> <span class="italic">algorithm</span> &amp;
ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2353" headers="d34912e2209">
<p>Oracle GoldenGate database login from GGSCI</p>
</td>
<td class="cellalignment108" headers="d34912e2353 d34912e2212">
<pre dir="ltr">
DBLOGIN USERID <span class="italic">user</span>, PASSWORD <span class="italic">password</span>, &amp;
<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2376" headers="d34912e2209">
<p>Oracle GoldenGate database login to a downstream Oracle mining database from GGSCI</p>
</td>
<td class="cellalignment108" headers="d34912e2376 d34912e2212">
<pre dir="ltr">
MININGDBLOGIN USERID <span class="italic">user</span>, PASSWORD <span class="italic">password</span>,&amp;
<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;4</sup></p>
<p>Syntax elements required for <code class="codeph">USERID</code> vary by database type. See <a class="olink GWURF730" target="_blank" href="../GWURF/useridalias.htm#GWURF730"><span class="italic"><span id="GUID-71E9B20E-6CEF-489D-B8CF-797B3E876756__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for more information.</p>
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;5</sup></p>
<p>This is the shared secret.</p>
<p>Where:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">user</code></span> is the database user name for the Oracle GoldenGate process or (Oracle only) a host string. For Oracle ASM, the user must be <code class="codeph">SYS</code>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">password</code></span> is the encrypted password that is copied from the <code class="codeph">ENCRYPT PASSWORD</code> command results.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">algorithm</code></span> specifies the encryption algorithm that was used to encrypt the password: <code class="codeph">AES128</code>, <code class="codeph">AES192</code>, <code class="codeph">AES256</code>, or <code class="codeph">BLOWFISH</code>. AES128 is the default if the default key is used and no algorithm is specified.</p>
</li>
<li>
<p><code class="codeph">ENCRYPTKEY</code> <span class="italic"><code class="codeph">keyname</code></span> specifies the logical name of a user-created encryption key in the <code class="codeph">ENCKEYS</code> lookup file. Use if <code class="codeph">ENCRYPT PASSWORD</code> was used with the <code class="codeph">KEYNAME</code> <span class="italic"><code class="codeph">keyname</code></span> option.</p>
</li>
<li>
<p><code class="codeph">ENCRYPTKEY DEFAULT</code> directs Oracle GoldenGate to use a random key. Use if <code class="codeph">ENCRYPT PASSWORD</code> was used with the <code class="codeph">KEYNAME</code> <code class="codeph">DEFAULT</code> option.</p>
</li>
</ul>
<p>The following are examples of using an encrypted password in parameters and command:</p>
<pre dir="ltr">
SOURCEDB db1 USERID ogg,&amp;
PASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES128, ENCRYPTKEY securekey1

USERID ogg, PASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
BLOWFISH, ENCRYPTKEY securekey1

USERID ogg, PASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
BLOWFISH, ENCRYPTKEY DEFAULT

TRANLOGOPTIONS ASMUSER SYS@asm1, &amp;
ASMPASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES128, ENCRYPTKEY securekey1

DBLOGIN USERID ogg, PASSWORD &amp;
AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES128, ENCRYPTKEY securekey1

DDLOPTIONS DEFAULTUSERPASSWORD &amp;
AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES 256 ENCRYPTKEY mykey

DBOPTIONS DECRYPTPASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES 256 ENCRYPTKEY mykey

DDLOPTIONS PASSWORD AACAAAAAAAAAAAJAUEUGODSCVGJEEIUGKJDJTFNDKEJFFFTC, &amp;
AES 256 ENCRYPTKEY mykey
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD376"></a>
<div class="props_rev_3"><a id="GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A"></a>
<h2 id="GWUAD-GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A" class="sect2"><span class="enumeration_section">11.6</span> Populating an ENCKEYS File with Encryption Keys</h2>
<div>
<div class="section">
<p>You must generate and store encryption keys when using the following security features:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ENCRYPTTRAIL</code> (see <a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a>)</p>
</li>
<li>
<p><code class="codeph">ENCRYPT PASSWORD</code> with <code class="codeph">ENCRYPTKEY</code> <span class="italic"><code class="codeph">keyname</code></span> (see <a href="configuring-oracle-goldengate-security.htm#GUID-8FC79BFD-DED7-4672-B06F-44A4CBE180B0">Encrypting a Password in a Command or Parameter File</a>)</p>
</li>
<li>
<p><code class="codeph">RMTHOST</code> or <code class="codeph">RMTHOSTOPTIONS</code> with <code class="codeph">ENCRYPT</code> (see <a href="configuring-oracle-goldengate-security.htm#GUID-C8E42442-ACE7-4812-A32D-ACB1F047185B">Encrypting Data with the ENCKEYS Method</a>)</p>
</li>
</ul>
<p>In this procedure you will:</p>
<ul style="list-style-type: disc;">
<li>
<p>Create one or more encryption keys.</p>
</li>
<li>
<p>Store the keys in an <code class="codeph">ENCKEYS</code> lookup file on the source system.</p>
</li>
<li>
<p>Copy the <code class="codeph">ENCKEYS</code> file to each target system.</p>
</li>
</ul>
<p>You can define your own key or run the Oracle GoldenGate <code class="codeph">KEYGEN</code> utility to create a random key.</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-0CDC8500-9A84-4D1F-8C07-51B31ED5C4BD">Defining Your Own Key</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-B08EB193-E999-470D-B245-4B24547FA871">Using KEYGEN to Generate a Key</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-3510B5F6-AAC1-41D0-AC39-487EA9DADB7B">Creating and Populating the ENCKEYS Lookup File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD377"></a>
<div class="props_rev_3"><a id="GUID-0CDC8500-9A84-4D1F-8C07-51B31ED5C4BD"></a>
<h3 id="GWUAD-GUID-0CDC8500-9A84-4D1F-8C07-51B31ED5C4BD" class="sect3"><span class="enumeration_section">11.6.1</span> Defining Your Own Key</h3>
<div>
<div class="section">
<p>Use a tool of your choice. The key value can be up to 256 bits (32 bytes) as either of the following:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>a quoted alphanumeric string (for example <code class="codeph">"Dailykey")</code></p>
</li>
<li>
<p>a hex string with the prefix 0x (for example <code class="codeph">0x420E61BE7002D63560929CCA17A4E1FB</code>)</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD378"></a>
<div class="props_rev_3"><a id="GUID-B08EB193-E999-470D-B245-4B24547FA871"></a>
<h3 id="GWUAD-GUID-B08EB193-E999-470D-B245-4B24547FA871" class="sect3"><span class="enumeration_section">11.6.2</span> Using KEYGEN to Generate a Key</h3>
<div>
<div class="section">
<p>Change directories to the Oracle GoldenGate home directory on the source system, and issue the following shell command. You can create multiple keys, if needed. The key values are returned to your screen. You can copy and paste them into the <code class="codeph">ENCKEYS</code> file.</p>
<pre dir="ltr">
KEYGEN <span class="italic">key_length</span> <span class="italic">n</span>
</pre>
<p>Where:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">key_length</code></span> is the encryption key length, up to 256 bits (32 bytes).</p>
</li>
<li>
<p><span class="italic"><code class="codeph">n</code></span> represents the number of keys to generate.</p>
</li>
</ul>
<p>Example:</p>
<pre dir="ltr">
KEYGEN 128 4
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD379"></a>
<div class="props_rev_3"><a id="GUID-3510B5F6-AAC1-41D0-AC39-487EA9DADB7B"></a>
<h3 id="GWUAD-GUID-3510B5F6-AAC1-41D0-AC39-487EA9DADB7B" class="sect3"><span class="enumeration_section">11.6.3</span> Creating and Populating the ENCKEYS Lookup File</h3>
<div>
<ol>
<li class="stepexpand"><span>On the source system, open a new ASCII text file.</span></li>
<li class="stepexpand"><span>For each key value that you generated, enter a logical name of your choosing, followed by the key value itself.</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>The key name can be a string of 1 to 24 alphanumeric characters without spaces or quotes.</p>
</li>
<li>
<p>Place multiple key definitions on separate lines.</p>
</li>
<li>
<p>Do not enclose a key name or value within quotes; otherwise it will be interpreted as text.</p>
<p>Use the following sample <code class="codeph">ENCKEYS</code> file as a guide.</p>
<div class="tblformal" id="GUID-3510B5F6-AAC1-41D0-AC39-487EA9DADB7B__GUID-B114637A-D8BA-4E55-9E8E-E644E2210C76">
<table class="cellalignment127" summary="This table shows a sample ENCKEYS file.It gives the encryption key name and encryption key value.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment58" id="d34912e2748">Encryption key name</th>
<th class="cellalignment128" id="d34912e2751">Encryption key value</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment61" id="d34912e2756" headers="d34912e2748">
<pre dir="ltr">
## Key name
superkey
secretkey
superkey1
superkey2
superkey3
</pre></td>
<td class="cellalignment129" headers="d34912e2756 d34912e2751">
<pre dir="ltr">
Key value
0x420E61BE7002D63560929CCA17A4E1FB
0x027742185BBF232D7C664A5E1A76B040
0x42DACD1B0E94539763C6699D3AE8E200
0x0343AD757A50A08E7F9A17313DBAB045
0x43AC8DCE660CED861B6DC4C6408C7E8A
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Save the file as the name <code class="codeph">ENCKEYS</code> in all upper case letters, <span class="italic">without an extension</span>, in the Oracle GoldenGate installation directory.</span></li>
<li class="stepexpand"><span>Copy the <code class="codeph">ENCKEYS</code> file to the Oracle GoldenGate installation directory on every system. The key names and values in all of the <code class="codeph">ENCKEYS</code> files must be identical, or else the data exchange will fail and Extract and Collector will abort with the following message:</span>
<div>
<pre dir="ltr">
GGS error 118 &ndash; TCP/IP Server with invalid data.
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-B1F7ABE2-AD55-4DF4-8E21-B9F4FE71861A">Populating an ENCKEYS File with Encryption Keys</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD380"></a>
<div class="props_rev_3"><a id="GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F"></a>
<h2 id="GWUAD-GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F" class="sect2"><span class="enumeration_section">11.7</span> Configuring GGSCI Command Security</h2>
<div>
<div class="section">
<p>You can establish command security for Oracle GoldenGate to control which users have access to which Oracle GoldenGate functions. For example, you can allow certain users to issue <code class="codeph">INFO</code> and <code class="codeph">STATUS</code> commands, while preventing their use of <code class="codeph">START</code> and <code class="codeph">STOP</code> commands. Security levels are defined by the operating system's user groups.</p>
<p>To implement security for Oracle GoldenGate commands, you create a <code class="codeph">CMDSEC</code> file in the Oracle GoldenGate directory. Without this file, access to all Oracle GoldenGate commands is granted to all users.</p>
<div class="infobox-note" id="GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F__GUID-F42499B0-57B7-4FBE-B069-7D54B4447FB5">
<p class="notep1">Note:</p>
<p>The security of the ggsci program itself is controlled by the security controls of the operating system.</p>
</div>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B">Setting Up Command Security</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-BD8D009A-29AE-4D2F-A2DE-A4CE7EEE21CF">Securing the CMDSEC File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD381"></a><a id="GWUAD382"></a><a id="GWUAD950"></a>
<div class="props_rev_3"><a id="GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B"></a>
<h3 id="GWUAD-GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B" class="sect3"><span class="enumeration_section">11.7.1</span> Setting Up Command Security</h3>
<div>
<ol>
<li class="stepexpand"><span>Open a new ASCII text file.</span></li>
<li class="stepexpand"><span>Referring to the following syntax and the example on , create one or more security rules for each command that you want to restrict, one rule per line. List the rules in order from the most specific (those with no wildcards) to the least specific. Security rules are processed from the top of the <code class="codeph">CMDSEC</code> file downward. The first rule satisfied is the one that determines whether or not access is allowed.</span>
<div>
<p>Separate each of the following components with spaces or tabs.</p>
<pre dir="ltr">
<span class="italic">command_name</span> <span class="italic">command_object</span> <span class="italic">OS_group</span> <span class="italic">OS_user</span> {YES | NO}
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">command_name</code></span> is a GGSCI command name or a wildcard, for example <code class="codeph">START</code> or <code class="codeph">STOP</code> or *.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">command_object</code></span> is any GGSCI command object or a wildcard, for example <code class="codeph">EXTRACT</code> or <code class="codeph">REPLICAT</code> or <code class="codeph">MANAGER</code>.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">OS_group</code></span> is the name of a Windows or UNIX user group. On a UNIX system, you can specify a numeric group ID instead of the group name. You can use a wildcard to specify all groups.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">OS_user</code></span> is the name of a Windows or UNIX user. On a UNIX system, you can specify a numeric user ID instead of the user name. You can use a wildcard to specify all users.</p>
</li>
<li>
<p><code class="codeph">YES | NO</code> specifies whether access to the command is granted or prohibited.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Save the file as <code class="codeph">CMDSEC</code> (using upper case letters on a UNIX system) in the Oracle GoldenGate home directory.</span></li>
</ol>
<div class="section">
<p>The following example illustrates the correct implementation of a <code class="codeph">CMDSEC</code> file on a UNIX system.</p>
<div class="tblformal" id="GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B__G1077966">
<p class="titleintable">Table 11-3 Sample CMDSEC File with Explanations</p>
<table class="cellalignment80" title="Sample CMDSEC File with Explanations" summary="This table shows a sample CMDSEC file. It lists the file contents and explains each one.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment62" id="d34912e2972">File Contents</th>
<th class="cellalignment107" id="d34912e2975">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2980" headers="d34912e2972">
<pre dir="ltr">
#GG command security
</pre></td>
<td class="cellalignment108" headers="d34912e2980 d34912e2975">
<p>Comment line</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e2987" headers="d34912e2972">
<pre dir="ltr">
STATUS REPLICAT * Smith NO
</pre></td>
<td class="cellalignment108" headers="d34912e2987 d34912e2975">
<p><code class="codeph">STATUS REPLICAT</code> is denied to user <code class="codeph">Smith</code>.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3002" headers="d34912e2972">
<pre dir="ltr">
STATUS * dpt1 * YES
</pre></td>
<td class="cellalignment108" headers="d34912e3002 d34912e2975">
<p>Except for the preceding rule, all users in <code class="codeph">dpt1</code> are granted all <code class="codeph">STATUS</code> commands.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3015" headers="d34912e2972">
<pre dir="ltr">
START REPLICAT root * YES
</pre></td>
<td class="cellalignment108" headers="d34912e3015 d34912e2975">
<p><code class="codeph">START REPLICAT</code> is granted to all members of the <code class="codeph">root</code> group.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3027" headers="d34912e2972">
<pre dir="ltr">
START REPLICAT * * NO
</pre></td>
<td class="cellalignment108" headers="d34912e3027 d34912e2975">
<p>Except for the preceding rule, <code class="codeph">START REPLICAT</code> is denied to all users.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3037" headers="d34912e2972">
<pre dir="ltr">
* EXTRACT 200 * NO
</pre></td>
<td class="cellalignment108" headers="d34912e3037 d34912e2975">
<p>All <code class="codeph">EXTRACT</code> commands are denied to all groups with ID of 200.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3047" headers="d34912e2972">
<pre dir="ltr">
* * root root YES
</pre></td>
<td class="cellalignment108" headers="d34912e3047 d34912e2975">
<p>Grants the <code class="codeph">root</code> user any command.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3057" headers="d34912e2972">
<pre dir="ltr">
* * * * NO
</pre></td>
<td class="cellalignment108" headers="d34912e3057 d34912e2975">
<p>Denies all commands to all users. This line covers security for any other users that were not explicitly granted or denied access by preceding rules. Without it, all commands would be granted to all users except for preceding explicit grants or denials.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The following <span class="italic">incorrect</span> example illustrates what to avoid when creating a <code class="codeph">CMDSEC</code> file.</p>
<div class="tblformal" id="GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B__G1077997">
<p class="titleintable">Table 11-4 Incorrect CMDSEC Entries</p>
<table class="cellalignment80" title="Incorrect CMDSEC Entries" summary="This table offers an incorrect example to illustrate what to avoid when creating a CMDSEC file. It lists and describes the file contents.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment62" id="d34912e3081">File Contents</th>
<th class="cellalignment107" id="d34912e3084">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3089" headers="d34912e3081">
<pre dir="ltr">
STOP * dpt2 * NO
</pre></td>
<td class="cellalignment108" headers="d34912e3089 d34912e3084">
<p>All <code class="codeph">STOP</code> commands are denied to everyone in group <code class="codeph">dpt2</code>.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment64" id="d34912e3102" headers="d34912e3081">
<pre dir="ltr">
STOP * * Chen YES
</pre></td>
<td class="cellalignment108" headers="d34912e3102 d34912e3084">
<p>All <code class="codeph">STOP</code> commands are granted to <code class="codeph">Chen</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The order of the entries in <a href="configuring-oracle-goldengate-security.htm#GUID-EBBF34FC-8D4D-4283-8BDA-F92D5AF0CB8B__G1077997" title="This table offers an incorrect example to illustrate what to avoid when creating a CMDSEC file. It lists and describes the file contents.">Table 11-4</a> causes a logical error. The first rule (line 1) denies all <code class="codeph">STOP</code> commands to all members of group <code class="codeph">dpt2</code>. The second rule (line 2) grants all <code class="codeph">STOP</code> commands to user <code class="codeph">Chen</code>. However, because Chen is a member of the <code class="codeph">dpt2</code> group, he has been denied access to all <code class="codeph">STOP</code> commands by the second rule, even though he is supposed to have permission to issue them.</p>
<p>The proper way to configure this security rule is to set the user-specific rule before the more general rule(s). Thus, to correct the error, you would reverse the order of the two <code class="codeph">STOP</code> rules.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F">Configuring GGSCI Command Security</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD383"></a>
<div class="props_rev_3"><a id="GUID-BD8D009A-29AE-4D2F-A2DE-A4CE7EEE21CF"></a>
<h3 id="GWUAD-GUID-BD8D009A-29AE-4D2F-A2DE-A4CE7EEE21CF" class="sect3"><span class="enumeration_section">11.7.2</span> Securing the CMDSEC File</h3>
<div>
<div class="section">
<p>The security of the GGSCI program and that of the CMDSEC file is controlled by the security controls of the operating system. Because the <code class="codeph">CMDSEC</code> file is a source of security, it must be secured. You can grant read access as needed, but Oracle GoldenGate recommends denying write and delete access to everyone but Oracle GoldenGate Administrators.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-F3699B40-D4F6-4360-89C1-EE7E1071BD2F">Configuring GGSCI Command Security</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD385"></a><a id="GWUAD384"></a>
<div class="props_rev_3"><a id="GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7"></a>
<h2 id="GWUAD-GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7" class="sect2"><span class="enumeration_section">11.8</span> Using Target System Connection Initiation</h2>
<div>
<div class="section">
<p>When a target system resides inside a trusted intranet zone, initiating connections from the source system (the standard Oracle GoldenGate method) may violate security policies if the source system is in a less trusted zone. It also may violate security policies if a system in a less trusted zone contains information about the ports or IP address of a system in the trusted zone, such as that normally found in an Oracle GoldenGate Extract parameter file.</p>
<p>In this kind of intranet configuration, you can use a <span class="italic">passive-alias Extract</span> configuration. Connections are initiated from the target system inside the trusted zone by an <span class="italic">alias Extract</span> group, which acts as an alias for a regular Extract group on the source system, known in this case as the <span class="italic">passive Extract</span>. Once a connection between the two systems is established, data is processed and transferred across the network by the passive Extract group in the usual way.</p>
<div class="figure" id="GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7__GUID-4BA5A262-8D98-47D2-94B7-54D6F7418E6C">
<p class="titleinfigure">Figure 11-1 Connection Initiation from Trusted Network Zone</p>
<img width="828" height="316" src="img/extract_listener.jpg" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" /><br />
<a href="img_text/extract_listener.htm">Description of "Figure 11-1 Connection Initiation from Trusted Network Zone"</a></div>
<!-- class="figure" --></div>
<!-- class="section" -->
<ol>
<li><span>An Oracle GoldenGate user starts the alias Extract on the trusted system, or an <code class="codeph">AUTOSTART</code> or <code class="codeph">AUTORESTART</code> parameter causes it to start.</span></li>
<li><span>GGSCI on the trusted system sends a message to Manager on the less trusted system to start the associated passive Extract. The host name or IP address and port number of the Manager on the trusted system are sent to the less trusted system.</span></li>
<li><span>On the less trusted system, Manager starts the passive Extract, and the passive Extract finds an open port (according to rules in the <code class="codeph">DYNAMICPORTLIST</code> Manager parameter) and listens on that port.</span></li>
<li><span>The Manager on the less trusted system returns that port to GGSCI on the trusted system.</span></li>
<li><span>GGSCI on the trusted system sends a request to the Manager on that system to start a Collector process on that system.</span></li>
<li><span>The target Manager starts the Collector process and passes it the port number where Extract is listening on the less trusted system.</span></li>
<li><span>Collector on the trusted system opens a connection to the passive Extract on the less trusted system.</span></li>
<li><span>Data is sent across the network from the passive Extract to the Collector on the target and is written to the trail in the usual manner for processing by Replicat.</span></li>
</ol>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-82D70837-5CEE-410C-B1A4-D54327E833FD">Configuring the Passive Extract Group</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-5D08BCD4-06B1-41E5-8AC2-A1B9C3014ED8">Configuring the Alias Extract Group</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-091F0F89-4BAA-48D6-8141-BFFEF1C2D11A">Starting and Stopping the Passive and Alias Processes</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-F32A7028-B397-4B6A-B0BB-9F54F3746285">Managing Extraction Activities</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-security.htm#GUID-E293ED62-5910-407E-A2F2-D5E60BFBFD23">Other Considerations when using Passive-Alias Extract</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
<a id="GWUAD386"></a>
<div class="props_rev_3"><a id="GUID-82D70837-5CEE-410C-B1A4-D54327E833FD"></a>
<h3 id="GWUAD-GUID-82D70837-5CEE-410C-B1A4-D54327E833FD" class="sect3"><span class="enumeration_section">11.8.1</span> Configuring the Passive Extract Group</h3>
<div>
<div class="section">
<p>The passive Extract group on the less trusted source system will be one of the following, depending on which one is responsible for sending data across the network:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A solo Extract group that reads the transaction logs and also sends the data to the target, or:</p>
</li>
<li>
<p>A data pump Extract group that reads a local trail supplied by a primary Extract and then sends the data to the target. In this case, there are no special configuration requirements for the primary Extract, just the data pump.</p>
</li>
</ul>
<p>To create an Extract group in passive mode, use the standard <code class="codeph">ADD EXTRACT</code> command and options, but add the <code class="codeph">PASSIVE</code> keyword in any location relative to other command options. Examples:</p>
<pre dir="ltr">
ADD EXTRACT fin, TRANLOG, BEGIN NOW, PASSIVE, DESC 'passive Extract'
ADD EXTRACT fin, PASSIVE, TRANLOG, BEGIN NOW, DESC 'passive Extract'
</pre>
<p>To configure parameters for the passive Extract group, create a parameter file in the normal manner, except:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">Exclude</span> the <code class="codeph">RMTHOST</code> parameter, which normally would specify the host and port information for the target Manager.</p>
</li>
<li>
<p>Use the optional <code class="codeph">RMTHOSTOPTIONS</code> parameter to specify any compression and encryption rules. For information about the <code class="codeph">RMTHOSTOPTIONS</code> options, see <a class="olink GWURF635" target="_blank" href="../GWURF/rmthostoptions.htm#GWURF635"><span class="italic"><span id="GUID-82D70837-5CEE-410C-B1A4-D54327E833FD__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a>.</p>
</li>
</ul>
<p>For more information about configuring an Extract group, see <a href="configuring-online-change-synchronization.htm#GUID-3388C553-994A-4ECD-95C8-A54FC7446E67" title="This chapter describes how to configure online change synchronization.">Configuring Online Change Synchronization</a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD387"></a>
<div class="props_rev_3"><a id="GUID-5D08BCD4-06B1-41E5-8AC2-A1B9C3014ED8"></a>
<h3 id="GWUAD-GUID-5D08BCD4-06B1-41E5-8AC2-A1B9C3014ED8" class="sect3"><span class="enumeration_section">11.8.2</span> Configuring the Alias Extract Group</h3>
<div>
<div class="section">
<p>The alias Extract group on the trusted target does not perform any data processing activities. Its sole purpose is to initiate and terminate connections to the less trusted source. In this capacity, the alias Extract group does not use a parameter file nor does it write processing checkpoints. A checkpoint file is used only to determine whether the passive Extract group is running or not and to record information required for the remote connection.</p>
<p>To create an Extract group in alias mode, use the <code class="codeph">ADD EXTRACT</code> command without any other options except the following:</p>
<pre dir="ltr">
ADD EXTRACT <span class="italic">group</span>
, RMTHOST {<span class="italic">host_name</span> | <span class="italic">IP_address</span>}
, MGRPORT <span class="italic">port</span>
[, RMTNAME <span class="italic">name</span>]
[, DESC '<span class="italic">description</span>']
</pre>
<p>The <code class="codeph">RMTHOST</code> specification identifies this group as an alias Extract, and the information is written to the checkpoint file. The <span class="italic"><code class="codeph">host_name</code></span> and <span class="italic"><code class="codeph">IP_address</code></span> options specify the name or IP address of the source system. <code class="codeph">MGRPORT</code> specifies the port on the source system where Manager is running.</p>
<p>The alias Extract name can be the same as that of the passive Extract, or it can be different. If the names are different, use the optional <code class="codeph">RMTNAME</code> specification to specify the name of the passive Extract. If <code class="codeph">RMTNAME</code> is not used, Oracle GoldenGate expects the names to be identical and writes the name to the checkpoint file of the alias Extract for use when establishing the connection.</p>
<p>Error handling for TCP/IP connections is guided by the <code class="codeph">TCPERRS</code> file on the target system. It is recommended that you set the response values for the errors in this file to <code class="codeph">RETRY</code>. The default is <code class="codeph">ABEND</code>. This file also provides options for setting the number of retries and the delay between attempts. For more information about error handling for TCP/IP and the <code class="codeph">TCPERRS</code> file, see <a href="handling-processing-errors.htm#GUID-9780396C-4BB4-4E49-8BA1-733B9A636D99" title="This chapter describes how to configure the Oracle GoldenGate processes to handle errors.">Handling Processing Errors</a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD388"></a>
<div class="props_rev_3"><a id="GUID-091F0F89-4BAA-48D6-8141-BFFEF1C2D11A"></a>
<h3 id="GWUAD-GUID-091F0F89-4BAA-48D6-8141-BFFEF1C2D11A" class="sect3"><span class="enumeration_section">11.8.3</span> Starting and Stopping the Passive and Alias Processes</h3>
<div>
<div class="section">
<p>To start or stop Oracle GoldenGate extraction in the passive-alias Extract configuration, you must start or stop the alias Extract group from GGSCI on the target.</p>
<pre dir="ltr">
START EXTRACT <span class="italic">alias_group_name</span>
</pre>
<p>or,</p>
<pre dir="ltr">
STOP EXTRACT <span class="italic">alias_group_name</span>
</pre>
<p>The command is sent to the source system to start or stop the passive Extract group. Do not issue these commands directly against the passive Extract group. You can issue a <code class="codeph">KILL EXTRACT</code> command directly for the passive Extract group.</p>
<p>When using the Manager parameters <code class="codeph">AUTOSTART</code> and <code class="codeph">AUTORESTART</code> to automatically start or restart processes, use them on the target system, not the source system. The alias Extract is started first and then the start command is sent to the passive Extract.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD389"></a>
<div class="props_rev_3"><a id="GUID-F32A7028-B397-4B6A-B0BB-9F54F3746285"></a>
<h3 id="GWUAD-GUID-F32A7028-B397-4B6A-B0BB-9F54F3746285" class="sect3"><span class="enumeration_section">11.8.4</span> Managing Extraction Activities</h3>
<div>
<div class="section">
<p>Once extraction processing has been started, you can manage and monitor it in the usual manner by issuing commands against the passive Extract group from GGSCI on the source system. The standard GGSCI monitoring commands, such as <code class="codeph">INFO</code> and <code class="codeph">VIEW REPORT</code>, can be issued from either the source or target systems. If a monitoring command is issued for the alias Extract group, it is forwarded to the passive Extract group. The alias Extract group name is replaced in the command with the passive Extract group name. For example, <code class="codeph">INFO EXTRACT</code> <span class="italic"><code class="codeph">alias</code></span> becomes <code class="codeph">INFO EXTRACT</code> <span class="italic"><code class="codeph">passive.</code></span> The results of the command are displayed on the system where the command was issued.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD390"></a>
<div class="props_rev_3"><a id="GUID-E293ED62-5910-407E-A2F2-D5E60BFBFD23"></a>
<h3 id="GWUAD-GUID-E293ED62-5910-407E-A2F2-D5E60BFBFD23" class="sect3"><span class="enumeration_section">11.8.5</span> Other Considerations when using Passive-Alias Extract</h3>
<div>
<p>When using a passive-alias Extract configuration, these rules apply:</p>
<ul style="list-style-type: disc;">
<li>
<p>In this configuration, Extract can only write to one target system.</p>
</li>
<li>
<p>This configuration can be used in an Oracle RAC installation by creating the Extract group in the normal manner (using the <code class="codeph">THREADS</code> option to specify the number of redo threads).</p>
</li>
<li>
<p>The <code class="codeph">ALTER EXTRACT</code> command cannot be used for the alias Extract, because that group does not do data processing.</p>
</li>
<li>
<p>To use the <code class="codeph">DELETE EXTRACT</code> command for a passive or alias Extract group, issue the command from the local GGSCI.</p>
</li>
<li>
<p>Remote tasks, specified with <code class="codeph">RMTTASK</code> in the Extract parameter file and used for some initial load methods, are not supported in this configuration. A remote task requires the connection to be initiated from the source system and uses a direct connection between Extract and Replicat.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-5728C9E8-CEFF-42FA-895F-D76C0D2BABB7">Using Target System Connection Initiation</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD1201"></a>
<div class="props_rev_3"><a id="GUID-075E9E50-F197-4188-9C87-33D24169735A"></a>
<h2 id="GWUAD-GUID-075E9E50-F197-4188-9C87-33D24169735A" class="sect2"><span class="enumeration_section">11.9</span> Securing Manager</h2>
<div>
<div class="section">
<p>You can use the Manager parameter, <code class="codeph">ACCESSRULE</code>, to set security access rules for Manager. It allows GGSCI access from a remote host if you are using passive Extract or Director. <code class="codeph">ACCESSRULE</code> controls connection access to the Manager process and the processes under its control. You can establish multiple rules by specifying multiple <code class="codeph">ACCESSRULE</code> statements in the parameter file and control their priority. To establish priority, you can either list the rules in order from most important to least important, or you can explicitly set the priority of each rule with the PRI option.</p>
<p>You must specify one of the following options:</p>
<p><code class="codeph">IPADDR</code>, <code class="codeph">login_ID</code>, or <code class="codeph">PROGRAM</code></p>
<p>For example, the following access rules have been assigned explicit priority levels through the PRI option. These rules allow any user to access the Collector process (the <code class="codeph">SERVER</code> program), and in addition, allow the IP address 122.11.12.13 to access GGSCI commands. Access to all other Oracle GoldenGate programs is denied.</p>
<pre dir="ltr">
ACCESSRULE, PROG *, DENY, PRI 99
ACCESSRULE, PROG SERVER, ALLOW, PRI 1
ACCESSRULE, PROG GGSCI, IPADDR 122.11.12.13, PRI 1
</pre>
<p>Another example, the following access rule grants access to all programs to the user <code class="codeph">JOHN</code> and designates an encryption key to decrypt the password. If the password provided with <code class="codeph">PASSWORD</code> matches the one in the <code class="codeph">ENCKEYS</code> lookup file, connection is granted.</p>
<pre dir="ltr">
ACCESSRULE, PROG *, USER JOHN, PASSWORD OCEAN1, ENCRYPTKEY lookup1
</pre>
<p>For information about the <code class="codeph">ACCESSRULE</code> options, see <a class="olink GWURF1247" target="_blank" href="../GWURF/accessrule.htm#GWURF1247"><span class="italic"><span id="GUID-075E9E50-F197-4188-9C87-33D24169735A__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a></p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-security.htm#GUID-E14F094A-A46B-4D31-857F-3916C0090875" title="This chapter describes how to configure Oracle GoldenGate security.">Configuring Oracle GoldenGate Security</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment24">
<tr>
<td class="cellalignment31">
<table class="cellalignment29">
<tr>
<td class="cellalignment28"><a href="configuring-conflict-detection-and-resolution.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment28"><a href="mapping-and-manipulating-data.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment33">
<table class="cellalignment27">
<tr>
<td class="cellalignment28"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment28"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
