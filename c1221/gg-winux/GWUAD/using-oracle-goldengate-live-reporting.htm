<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Using Oracle GoldenGate for Live Reporting</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter describes the usage of Oracle GoldenGate for live reporting." />
<meta name="dcterms.created" content="2018-07-19T06:21:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66357-07" />
<meta name="dcterms.isVersionOf" content="GWUAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="getting-started-oracle-goldengate-process-interfaces.htm" title="Previous" type="text/html" />
<link rel="Next" href="using-oracle-goldengate-real-time-data-distribution.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWUAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C"></a> <span id="PAGE" style="display:none;">12/34</span> <!-- End Header -->
<a id="GWUAD204"></a><a id="GWUAD203"></a>
<h1 id="GWUAD-GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" class="sect1"><span class="enumeration_chapter">5</span> Using Oracle GoldenGate for Live Reporting</h1>
<div>
<div><span>This chapter describes the usage of Oracle GoldenGate for live reporting.</span></div>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="using-oracle-goldengate-live-reporting.htm#GUID-8191D660-D372-4B14-8A48-74C6BE35D82A">Overview of the Reporting Configuration</a></p>
</li>
<li>
<p><a href="using-oracle-goldengate-live-reporting.htm#GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF">Creating a Standard Reporting Configuration</a></p>
</li>
<li>
<p><a href="using-oracle-goldengate-live-reporting.htm#GUID-42796577-36F6-4B20-994B-512CEF7DEB56">Creating a Reporting Configuration with a Data Pump on the Source System</a></p>
</li>
<li>
<p><a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a></p>
</li>
<li>
<p><a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a></p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-8191D660-D372-4B14-8A48-74C6BE35D82A">Overview of the Reporting Configuration</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF">Creating a Standard Reporting Configuration</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-42796577-36F6-4B20-994B-512CEF7DEB56">Creating a Reporting Configuration with a Data Pump on the Source System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a><br /></li>
</ul>
</div>
<a id="GWUAD205"></a>
<div class="props_rev_3"><a id="GUID-8191D660-D372-4B14-8A48-74C6BE35D82A"></a>
<h2 id="GWUAD-GUID-8191D660-D372-4B14-8A48-74C6BE35D82A" class="sect2"><span class="enumeration_section">5.1</span> Overview of the Reporting Configuration</h2>
<div>
<p>The most basic Oracle GoldenGate configuration is a one-to-one configuration that replicates in one direction: from a source database to a target database that is used only for data retrieval purposes such as reporting and analysis. Oracle GoldenGate supports like-to-like or heterogeneous transfer of data, with capabilities for filtering and conversion on either system in the configuration (support varies by database platform).</p>
<div class="figure" id="GUID-8191D660-D372-4B14-8A48-74C6BE35D82A__GUID-D68B7A45-81F5-4986-96D0-D3721B9AA841"><img width="386" height="128" src="img/simple_config_reporting.jpg" alt="Description of simple_config_reporting.jpg follows" title="Description of simple_config_reporting.jpg follows" /><br />
<a href="img_text/simple_config_reporting.htm">Description of the illustration simple_config_reporting.jpg</a></div>
<!-- class="figure" -->
<p>Oracle GoldenGate supports different reporting topologies that enable you to custom-configure the processes based on your requirements for scalability, availability, and performance. This section contains things to take into consideration when choosing a reporting configuration.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-76217E95-FDAD-4D2F-A5BC-A76F571C7914">Filtering and Conversion</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-042AF15E-D444-4A6C-BED6-1D4033E20716">Read-only vs. High Availability</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-EFCB49E1-513A-4D07-AE67-C0BF46D2DCF1">Additional Information</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" title="This chapter describes the usage of Oracle GoldenGate for live reporting.">Using Oracle GoldenGate for Live Reporting</a></p>
</div>
</div>
</div>
<a id="GWUAD211"></a>
<div class="props_rev_3"><a id="GUID-76217E95-FDAD-4D2F-A5BC-A76F571C7914"></a>
<h3 id="GWUAD-GUID-76217E95-FDAD-4D2F-A5BC-A76F571C7914" class="sect3"><span class="enumeration_section">5.1.1</span> Filtering and Conversion</h3>
<div>
<div class="section">
<p>Data filtering and data conversion both add overhead, and these activities are sometimes prone to configuration errors. If Oracle GoldenGate must perform a large amount of filtering and conversion, consider using one or more data pumps to handle this work. You can use Replicat for this purpose, but you would be sending more data across the network that way, as it will be unfiltered. You can split filtering and conversion between the two systems by dividing it between the data pump and Replicat.</p>
<p>To filter data, you can use:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A <code class="codeph">FILTER</code> or <code class="codeph">WHERE</code> clause in a <code class="codeph">TABLE</code> statement (Extract) or in a <code class="codeph">MAP</code> statement (Replicat)</p>
</li>
<li>
<p>A SQL query or procedure</p>
</li>
<li>
<p>User exits</p>
</li>
</ul>
<p>To transform data, you can use:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Oracle GoldenGate conversion functions</p>
</li>
<li>
<p>A user exit from the Extract or Replicat process that applies rules from an external transformation solution, then returns the manipulated data to Oracle GoldenGate</p>
</li>
<li>
<p>Replicat to deliver data directly to an ETL solution or other transformation engine</p>
</li>
</ul>
<p>For more information about Oracle GoldenGate's filtering and conversion support, see:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="mapping-and-manipulating-data.htm#GUID-86A97786-5D74-4074-BCD4-DFD23FF1D4C6" title="This chapter describe how you can integrate data between source and target tables.">Mapping and Manipulating Data</a></p>
</li>
<li>
<p><a href="customizing-oracle-goldengate-processing.htm#GUID-222806A8-5556-41C2-BADA-C8A0E95D8F92" title="This chapter describes how to customize Oracle GoldenGate processing.">Customizing Oracle GoldenGate Processing</a></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-8191D660-D372-4B14-8A48-74C6BE35D82A">Overview of the Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD212"></a>
<div class="props_rev_3"><a id="GUID-042AF15E-D444-4A6C-BED6-1D4033E20716"></a>
<h3 id="GWUAD-GUID-042AF15E-D444-4A6C-BED6-1D4033E20716" class="sect3"><span class="enumeration_section">5.1.2</span> Read-only vs. High Availability</h3>
<div>
<p>The Oracle GoldenGate live reporting configuration supports a read-only target. See <a href="configuring-oracle-goldengate-active-active-high-availability.htm#GUID-2348ADBE-D528-4BD5-83AE-3BC26FEECADE" title="This chapter describes how to configure Oracle GoldenGate for active-active high availability.">Configuring Oracle GoldenGate for Active-Active High Availability</a> if the target in this configuration will also be used for transactional activity in support of high availability.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-8191D660-D372-4B14-8A48-74C6BE35D82A">Overview of the Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD213"></a>
<div class="props_rev_3"><a id="GUID-EFCB49E1-513A-4D07-AE67-C0BF46D2DCF1"></a>
<h3 id="GWUAD-GUID-EFCB49E1-513A-4D07-AE67-C0BF46D2DCF1" class="sect3"><span class="enumeration_section">5.1.3</span> Additional Information</h3>
<div>
<div class="section">
<p>The following documentation provides additional information of relevance to configuring Oracle GoldenGate.</p>
<ul style="list-style-type: disc;">
<li>
<p>For additional system requirements, process configuration, and database setup requirements, see the Oracle GoldenGate installation and configuration document for your database type. These guides are listed in the <a href="preface.htm">Preface</a> of this book.</p>
</li>
<li>
<p>For detailed instructions on configuring Oracle GoldenGate change capture and delivery groups, see <a href="configuring-online-change-synchronization.htm#GUID-3388C553-994A-4ECD-95C8-A54FC7446E67" title="This chapter describes how to configure online change synchronization.">Configuring Online Change Synchronization</a>.</p>
</li>
<li>
<p>For additional tuning options for Oracle GoldenGate, see <a href="tuning-performance-oracle-goldengate.htm#GUID-CAD4585D-9CC9-4542-AD5C-9FA941896FC9" title="This chapter contains suggestions for improving the performance of Oracle GoldenGate components.">Tuning the Performance of Oracle GoldenGate</a>.</p>
</li>
<li>
<p>For complete syntax and descriptions of the Oracle GoldenGate commands and parameters, see <a class="olink GWURF-GUID-2E0A4248-E8DA-4561-A77F-46206E6F1ECB" target="_blank" href="../GWURF/oracle-goldengate-parameters.htm#GWURF-GUID-2E0A4248-E8DA-4561-A77F-46206E6F1ECB">Reference for Oracle GoldenGate for Windows and UNIX</a>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-8191D660-D372-4B14-8A48-74C6BE35D82A">Overview of the Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD215"></a><a id="GWUAD214"></a>
<div class="props_rev_3"><a id="GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF"></a>
<h2 id="GWUAD-GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF" class="sect2"><span class="enumeration_section">5.2</span> Creating a Standard Reporting Configuration</h2>
<div>
<div class="section">
<p>In the standard Oracle GoldenGate configuration, one Extract group sends captured data over TCP/IP to a trail on the target system, where it is stored until processed by one Replicat group.</p>
<p>Refer to <a href="using-oracle-goldengate-live-reporting.htm#GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF__BABJAJCE">Figure 5-1</a> for a visual representation of the objects you will be creating.</p>
<div class="figure" id="GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF__BABJAJCE">
<p class="titleinfigure">Figure 5-1 Configuration Elements for Creating a Standard Reporting Configuration</p>
<img width="799" height="234" src="img/reporting_basic.jpg" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows" /><br />
<a href="img_text/reporting_basic.htm">Description of "Figure 5-1 Configuration Elements for Creating a Standard Reporting Configuration"</a></div>
<!-- class="figure" --></div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-00BB9639-C0A6-4D34-B263-9DB46FA77112">Source System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-24649C7B-68DD-44F0-8F7D-FF46DD6DFCEC">Target System</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" title="This chapter describes the usage of Oracle GoldenGate for live reporting.">Using Oracle GoldenGate for Live Reporting</a></p>
</div>
</div>
</div>
<a id="GWUAD934"></a><a id="GWUAD935"></a><a id="GWUAD216"></a>
<div class="props_rev_3"><a id="GUID-00BB9639-C0A6-4D34-B263-9DB46FA77112"></a>
<h3 id="GWUAD-GUID-00BB9639-C0A6-4D34-B263-9DB46FA77112" class="sect3"><span class="enumeration_section">5.2.1</span> Source System</h3>
<div>
<div class="section">
<p>Configure the Manager process and Extract group on the source system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<p>On the source, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Extract Group</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create an Extract group. For documentation purposes, this group is called <span class="italic">ext</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">ext</span>, {TRANLOG | INTEGRATED TRANLOG}, BEGIN <span class="italic">time</span> [<span class="italic">option</span>[, ...]]
</pre>
<p>See <a class="olink GWURF122" target="_blank" href="../GWURF/add-extract.htm#GWURF122"><span class="italic"><span id="GUID-00BB9639-C0A6-4D34-B263-9DB46FA77112__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other <code class="codeph">ADD EXTRACT</code> options that may be required for your installation.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail to be created on the target system.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail</span>, EXTRACT <span class="italic">ext</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link this trail to the Extract group.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Extract group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</span>
<div>
<pre dir="ltr">
-- Identify the Extract group:
EXTRACT <span class="italic">ext</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Log  all of the supplementally logged columns if using integrated Replicat
LOGALLSUPCOLS
-- Valid for Oracle. Specify the name or IP address of the target system and
-- optional encryption across TCP/IP:
RMTHOSTOPTIONS <span class="italic">target</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify the remote trail and encryption algorithm on the target system:
ENCRYPTTRAIL <span class="italic">algorithm</span>
RMTTRAIL <span class="italic">remote_trail</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF">Creating a Standard Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1023"></a><a id="GWUAD1024"></a><a id="GWUAD217"></a>
<div class="props_rev_3"><a id="GUID-24649C7B-68DD-44F0-8F7D-FF46DD6DFCEC"></a>
<h3 id="GWUAD-GUID-24649C7B-68DD-44F0-8F7D-FF46DD6DFCEC" class="sect3"><span class="enumeration_section">5.2.2</span> Target System</h3>
<div>
<div class="section">
<p>Configure the Manager process and Replicat group on the target system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the target, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the local trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Replicat Group</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the target, create a Replicat checkpoint table (unless using Oracle integrated Replicat). See <a href="configuring-online-change-synchronization.htm#GUID-8C910642-0080-487C-A162-9633FB11E9E9">Creating a Checkpoint Table</a> for instructions. All Replicat groups can use the same checkpoint table.</span></li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">ADD REPLICAT</code> command to create a Replicat group. For documentation purposes, this group is called <span class="italic">rep</span>.</span>
<div>
<pre dir="ltr">
ADD REPLICAT <span class="italic">rep</span>
[, INTEGRATED | COORDINATED [MAXTHREADS <span class="italic">number</span>]]
, EXTTRAIL <span class="italic">remote_trail</span>
, BEGIN <span class="italic">time</span>
</pre>
<p>Use the <code class="codeph">EXTTRAIL</code> argument to link the Replicat group to the remote trail.</p>
<p>See <a class="olink GWURF183" target="_blank" href="../GWURF/add-replicat.htm#GWURF183"><span class="italic"><span id="GUID-24649C7B-68DD-44F0-8F7D-FF46DD6DFCEC__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other options that may be required for your installation.</p>
</div>
</li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Replicat group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</span>
<div>
<pre dir="ltr">
-- Identify the Replicat group:
REPLICAT <span class="italic">rep</span>
-- Specify database login information as needed for the database:
[TARGETDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Specify error handling rules:
REPERROR (<span class="italic">error</span>, <span class="italic">response</span>)
-- Specify tables for delivery and threads if using coordinated Replicat:
MAP [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>, TARGET <span class="italic">owner</span>.<span class="italic">table</span>[, DEF <span class="italic">template</span>]
[, THREAD (thread_ID)][, THREADRANGE (thread_range[, column_list])]
;
</pre>
<div class="infobox-note" id="GUID-24649C7B-68DD-44F0-8F7D-FF46DD6DFCEC__GUID-22AC4003-6E31-4E19-8CA4-6E4DDBE15262">
<p class="notep1">Note:</p>
<p>For DB2 for i, you may need to use the <code class="codeph">ADD TRANDATA</code> command on the target tables if they are not already journaled. Alternatively, you could use the <code class="codeph">STRJRNPF</code> command to assign the tables to the appropriate journal. If the target tables are not required to be replicated by Oracle GoldenGate, the <code class="codeph">IMAGES(*AFTER)</code> option can be used with <code class="codeph">STRJRNPF</code>. Since Oracle GoldenGate operates using transactions, all tables must be journaled to support transactions and this is not the default with DB2 for i.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-E3D3E943-EEDD-47C9-BB0D-6A873C1A26AF">Creating a Standard Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD219"></a><a id="GWUAD218"></a>
<div class="props_rev_3"><a id="GUID-42796577-36F6-4B20-994B-512CEF7DEB56"></a>
<h2 id="GWUAD-GUID-42796577-36F6-4B20-994B-512CEF7DEB56" class="sect2"><span class="enumeration_section">5.3</span> Creating a Reporting Configuration with a Data Pump on the Source System</h2>
<div>
<div class="section">
<p>You can add a data pump on the source system to isolate the primary Extract from TCP/IP functions, to add storage flexibility, and to offload the overhead of filtering and conversion processing from the primary Extract.</p>
<p>In this configuration, the primary Extract writes to a local trail on the source system. A local data pump reads that trail and moves the data to a remote trail on the target system, which is read by Replicat.</p>
<p>You can, but are not required to, use a data pump to improve the performance and fault tolerance of Oracle GoldenGate.</p>
<p>Refer to <a href="using-oracle-goldengate-live-reporting.htm#GUID-42796577-36F6-4B20-994B-512CEF7DEB56__BABDDDIB">Figure 5-2</a> for a visual representation of the objects you will be creating.</p>
<div class="figure" id="GUID-42796577-36F6-4B20-994B-512CEF7DEB56__BABDDDIB">
<p class="titleinfigure">Figure 5-2 Configuration Elements for Replicating to One Target with a Data Pump</p>
<img width="901" height="208" src="img/data_pump_single.jpg" alt="Description of Figure 5-2 follows" title="Description of Figure 5-2 follows" /><br />
<a href="img_text/data_pump_single.htm">Description of "Figure 5-2 Configuration Elements for Replicating to One Target with a Data Pump"</a></div>
<!-- class="figure" --></div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-E8C4AC36-0FBB-417D-B3C4-C7AF5BBD71BB">Source System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-0BC8EB1C-E278-41B9-AA65-0BCB4C5171BB">Target System</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" title="This chapter describes the usage of Oracle GoldenGate for live reporting.">Using Oracle GoldenGate for Live Reporting</a></p>
</div>
</div>
</div>
<a id="GWUAD1025"></a><a id="GWUAD1026"></a><a id="GWUAD1027"></a><a id="GWUAD220"></a>
<div class="props_rev_3"><a id="GUID-E8C4AC36-0FBB-417D-B3C4-C7AF5BBD71BB"></a>
<h3 id="GWUAD-GUID-E8C4AC36-0FBB-417D-B3C4-C7AF5BBD71BB" class="sect3"><span class="enumeration_section">5.3.1</span> Source System</h3>
<div>
<div class="section">
<p>Configure the Manager process and Extract group on the source system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the local trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Primary Extract Group</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create an Extract group. For documentation purposes, this group is called <span class="italic">ext</span>.</p>
<pre dir="ltr">
ADD EXTRACT <span class="italic">ext</span>, {TRANLOG | INTEGRATED TRANLOG}, BEGIN <span class="italic">time</span> [<span class="italic">option</span>[, ...]]
</pre>
<p>See <a class="olink GWURF122" target="_blank" href="../GWURF/add-extract.htm#GWURF122"><span class="italic"><span id="GUID-E8C4AC36-0FBB-417D-B3C4-C7AF5BBD71BB__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other <code class="codeph">ADD EXTRACT</code> options that may be required for your installation.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">ADD EXTTRAIL</code> command to create a local trail. The primary Extract writes to this trail, and the data-pump Extract reads it.</p>
<pre dir="ltr">
ADD EXTTRAIL <span class="italic">local_trail</span>, EXTRACT <span class="italic">ext</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link this trail to the primary Extract group. The primary Extract group writes to this trail, and the data pump group reads it.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the primary Extract group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</p>
<pre dir="ltr">
-- Identify the Extract group:
EXTRACT <span class="italic">ext</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_1</span>][,USERIDALIAS <span class="italic">alias</span>]
-- Log all scheduling columns if using integrated Replicat
LOGALLSUPCOLS
-- Specify the local trail that this Extract writes to and 
-- encryption algorithm:
ENCRYPTTRAIL <span class="italic">algorithm</span>
EXTTRAIL <span class="italic">local_trail</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Data Pump Extract Group</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create a data pump group. For documentation purposes, this group is called <span class="italic">pump</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">pump</span>, EXTTRAILSOURCE <span class="italic">local_trail</span>, BEGIN <span class="italic">time</span>
</pre>
<p>Use <code class="codeph">EXTTRAILSOURCE</code> as the data source option, and specify the name of the local trail.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail that will be created on the target system.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail</span>, EXTRACT <span class="italic">pump</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link the remote trail to the data pump group. The linked data pump writes to this trail.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the data pump. Include the following parameters plus any others that apply to your database environment.</span>
<div>
<pre dir="ltr">
-- Identify the data pump group:
EXTRACT <span class="italic">pump</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Decrypt the data only if the data pump must process it.
-- DECRYPTTRAIL
-- Specify the name or IP address of the target system
-- and optional encryption of data over TCP/IP:
RMTHOSTOPTIONS <span class="italic">target</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify the remote trail and encryption algorithm on the target system:
ENCRYPTTRAIL <span class="italic">alogrithm</span>
RMTTRAIL <span class="italic">remote_trail</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-42796577-36F6-4B20-994B-512CEF7DEB56">Creating a Reporting Configuration with a Data Pump on the Source System</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1028"></a><a id="GWUAD1029"></a><a id="GWUAD221"></a>
<div class="props_rev_3"><a id="GUID-0BC8EB1C-E278-41B9-AA65-0BCB4C5171BB"></a>
<h3 id="GWUAD-GUID-0BC8EB1C-E278-41B9-AA65-0BCB4C5171BB" class="sect3"><span class="enumeration_section">5.3.2</span> Target System</h3>
<div>
<div class="section">
<p>Configure the Manager process and Replicat group on the target system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the target, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the local trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Replicat Group</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the target, create a Replicat checkpoint table (unless using Oracle integrated Replicat). See <a href="configuring-online-change-synchronization.htm#GUID-8C910642-0080-487C-A162-9633FB11E9E9">Creating a Checkpoint Table</a> for instructions.</span></li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">ADD REPLICAT</code> command to create a Replicat group. For documentation purposes, this group is called <span class="italic">rep</span>.</span>
<div>
<pre dir="ltr">
ADD REPLICAT <span class="italic">rep</span>
[, INTEGRATED | COORDINATED [MAXTHREADS <span class="italic">number</span>]]
, EXTTRAIL <span class="italic">remote_trail</span> 
, BEGIN <span class="italic">time</span>
</pre>
<p>Use the <code class="codeph">EXTTRAIL</code> argument to link the Replicat group to the remote trail.</p>
<p>See <a class="olink GWURF183" target="_blank" href="../GWURF/add-replicat.htm#GWURF183"><span class="italic"><span id="GUID-0BC8EB1C-E278-41B9-AA65-0BCB4C5171BB__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other options that may be required for your installation.</p>
</div>
</li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Replicat group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</span>
<div>
<pre dir="ltr">
-- Identify the Replicat group:
REPLICAT <span class="italic">rep</span>
-- Specify database login information as needed for the database:
[TARGETDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Specify error handling rules:
REPERROR (<span class="italic">error</span>, <span class="italic">response</span>)
-- Specify tables for delivery and threads if using coordinated Replicat:
MAP [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>, TARGET <span class="italic">owner</span>.<span class="italic">table</span>[, DEF <span class="italic">template</span>]
[, THREAD (thread_ID)][, THREADRANGE (thread_range[, column_list])]
;
</pre>
<div class="infobox-note" id="GUID-0BC8EB1C-E278-41B9-AA65-0BCB4C5171BB__GUID-F3E92EB9-BBC1-49DC-9166-0EA6C65E8013">
<p class="notep1">Note:</p>
<p>For DB2 for i, you may need to use the <code class="codeph">ADD TRANDATA</code> command on the target tables if they are not already journaled. Alternatively, you could use the <code class="codeph">STRJRNPF</code> command to assign the tables to the appropriate journal. If the target tables are not required to be replicated by Oracle GoldenGate, the <code class="codeph">IMAGES(*AFTER)</code> option can be used with <code class="codeph">STRJRNPF</code>. Since Oracle GoldenGate operates using transactions, all tables must be journaled to support transactions and this is not the default with DB2 for i.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-42796577-36F6-4B20-994B-512CEF7DEB56">Creating a Reporting Configuration with a Data Pump on the Source System</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD223"></a><a id="GWUAD222"></a>
<div class="props_rev_3"><a id="GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370"></a>
<h2 id="GWUAD-GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370" class="sect2"><span class="enumeration_section">5.4</span> Creating a Reporting Configuration with a Data Pump on an Intermediary System</h2>
<div>
<div class="section">
<p>You can use an intermediary system as a transfer point between the source and target systems. In this configuration, a data pump on the source system sends captured data to a remote trail on the intermediary system. A data pump on the intermediary system reads the trail and sends the data to a remote trail on the target. A Replicat on the target reads the remote trail and applies the data to the target database.</p>
<div class="figure" id="GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370__GUID-0954A51D-3678-48C7-9029-42C4F6CDF242">
<p class="titleinfigure">Figure 5-3 Configuration Elements for Replication through an Intermediary System</p>
<img width="842" height="471" src="img/data_pump_on_intermediary.jpg" alt="Description of Figure 5-3 follows" title="Description of Figure 5-3 follows" /><br />
<a href="img_text/data_pump_on_intermediary.htm">Description of "Figure 5-3 Configuration Elements for Replication through an Intermediary System"</a></div>
<!-- class="figure" -->
<p>When considering this topology, take note of the following:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>This configuration is practical if the source and target systems are in different networks and there is no direct connection between them. You can transfer the data through an intermediary system that can connect to both systems.</p>
</li>
<li>
<p>This configuration can be used to add storage flexibility to compensate for deficiences on the source or target.</p>
</li>
<li>
<p>This configuration can be used to perform data filtering and conversion if the character sets on all systems are identical. If character sets differ, the data pump cannot perform conversion between character sets, and you must configure Replicat to perform the conversion and transformation on the target.</p>
</li>
<li>
<p>To use the data pump on the intermediary system to perform data conversion and transformation, assuming character sets are identical, you must create a source definitions file and a target definitions file with the DEFGEN utility and then transfer both files to the intermediary system. See <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a> for more information about definitions files and conversion.</p>
</li>
<li>
<p>This configuration is a form of cascaded replication. However, in this configuration, data is not applied to a database on the intermediary system. See <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a> to include a database on the intermediary system in the Oracle GoldenGate configuration.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-73320770-68D9-41A6-BA56-FC526A7D7575">Source System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-F59085CB-A441-4A91-88BE-AD7338DC7319">Intermediary System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-D394EC39-5EE9-400B-9E1C-5F0E2E7BAB8F">Target System</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" title="This chapter describes the usage of Oracle GoldenGate for live reporting.">Using Oracle GoldenGate for Live Reporting</a></p>
</div>
</div>
</div>
<a id="GWUAD1030"></a><a id="GWUAD1031"></a><a id="GWUAD1032"></a><a id="GWUAD224"></a>
<div class="props_rev_3"><a id="GUID-73320770-68D9-41A6-BA56-FC526A7D7575"></a>
<h3 id="GWUAD-GUID-73320770-68D9-41A6-BA56-FC526A7D7575" class="sect3"><span class="enumeration_section">5.4.1</span> Source System</h3>
<div>
<div class="section">
<p>Refer to Figure 10 for a visual representation of the objects you will be creating.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Primary Extract Group on the Source</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create an Extract group. For documentation purposes, this group is called <span class="italic">ext</span>.</p>
<pre dir="ltr">
ADD EXTRACT <span class="italic">ext</span>, {TRANLOG | INTEGRATED TRANLOG}, BEGIN <span class="italic">time</span> [<span class="italic">option</span>[, ...]]
</pre>
<p>See <a class="olink GWURF122" target="_blank" href="../GWURF/add-extract.htm#GWURF122"><span class="italic"><span id="GUID-73320770-68D9-41A6-BA56-FC526A7D7575__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other <code class="codeph">ADD EXTRACT</code> options that may be required for your installation.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">ADD EXTTRAIL</code> command to create a local trail. The primary Extract writes to this trail, and the data-pump Extract reads it.</p>
<pre dir="ltr">
ADD EXTTRAIL <span class="italic">local_trail</span>, EXTRACT <span class="italic">ext</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link this trail to the primary Extract group. The primary Extract group writes to this trail, and the data pump group reads it.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the primary Extract group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</p>
<pre dir="ltr">
-- Identify the Extract group:
EXTRACT <span class="italic">ext</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Log all scheduling columns if using integrated Replicat
LOGALLSUPCOLS
-- Specify the local trail that this Extract writes to and
-- encryption algorithm:
ENCRYPTTRAIL <span class="italic">algorithm</span>
EXTTRAIL <span class="italic">local_trail</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Data Pump on the Source</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create a data pump group. For documentation purposes, this group is called <span class="italic">pump_1</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">pump_1</span>, EXTTRAILSOURCE <span class="italic">local_trail</span>, BEGIN <span class="italic">time</span>
</pre>
<p>Use <code class="codeph">EXTTRAILSOURCE</code> as the data source option, and specify the name of the local trail. For a local Extract, you must use <code class="codeph">EXTTRAIL</code> not <code class="codeph">RMTTRAIL</code>.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail that will be created on the intermediary system.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail_1</span>, EXTRACT <span class="italic">pump_1</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link the remote trail to the <span class="italic">pump_1</span> data pump group. The linked data pump writes to this trail.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">pump_1</span> data pump. Include the following parameters plus any others that apply to your database environment.</span>
<div>
<pre dir="ltr">
-- Identify the data pump group:
EXTRACT <span class="italic">pump_1</span>
-- Specify database login information:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Decrypt the data only if the data pump must process it.
-- DECRYPTTRAIL
-- Specify the name or IP address of the intermediary system
-- and optional encryption of data over TCP/IP:
RMTHOSTOPTIONS <span class="italic">target_1</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify remote trail and encryption algorithm on intermediary system:
ENCRYPTTRAIL <span class="italic">algorithm</span>
RMTTRAIL <span class="italic">remote_trail_1</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1033"></a><a id="GWUAD1034"></a><a id="GWUAD225"></a>
<div class="props_rev_3"><a id="GUID-F59085CB-A441-4A91-88BE-AD7338DC7319"></a>
<h3 id="GWUAD-GUID-F59085CB-A441-4A91-88BE-AD7338DC7319" class="sect3"><span class="enumeration_section">5.4.2</span> Intermediary System</h3>
<div>
<div class="section">
<p>Configure the Manager process and data pump on the intermediary system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process on the Intermediary System</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the intermediary system, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Data Pump on the Intermediary System</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the intermediary system, use the <code class="codeph">ADD EXTRACT</code> command to create a data-pump group. For documentation purposes, this group is called <span class="italic">pump_2</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">pump_2</span>, EXTTRAILSOURCE <span class="italic">local_trail_1</span>, BEGIN <span class="italic">time</span>
</pre>
<p>Use <code class="codeph">EXTTRAILSOURCE</code> as the data source option, and specify the name of the trail that you created on this system</p>
</div>
</li>
<li class="stepexpand"><span>On the intermediary system, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail on the target system.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail_2</span>, EXTRACT <span class="italic">pump_2</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link the remote trail to the <span class="italic">pump_2</span> data pump. The linked data pump writes to this trail.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span id="GUID-F59085CB-A441-4A91-88BE-AD7338DC7319__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the intermediary system, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">pump_2</span> data pump. Include the following parameters plus any others that apply to your database environment.</span>
<div>
<pre dir="ltr">
-- Identify the data pump group:
EXTRACT <span class="italic">pump_2</span>
-- Note that no database login parameters are required in this case.
-- Specify the target definitions file if SOURCEDEFS was used:
TARGETDEFS <span class="italic">full_pathname</span>
-- Decrypt the data only if the data pump must process it.
-- DECRYPTTRAIL
-- Specify the name or IP address of the target system
-- and optional encryption of data over TCP/IP:
RMTHOSTOPTIONS <span class="italic">target_2</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify the remote trail and encryption algorithm on the target system:
ENCRYPTTRAIL <span class="italic">algorithm</span>
RMTTRAIL <span class="italic">remote_trail_2</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre>
<ul style="list-style-type: disc;"></ul>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1035"></a><a id="GWUAD1036"></a><a id="GWUAD226"></a>
<div class="props_rev_3"><a id="GUID-D394EC39-5EE9-400B-9E1C-5F0E2E7BAB8F"></a>
<h3 id="GWUAD-GUID-D394EC39-5EE9-400B-9E1C-5F0E2E7BAB8F" class="sect3"><span class="enumeration_section">5.4.3</span> Target System</h3>
<div>
<div class="section">
<p>Configure the Manager process and Replicat group on the target system.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process on the Target</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the target system, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Replicat Group on the Target</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the target, create a Replicat checkpoint table (unless using Oracle integrated Replicat). See <a href="configuring-online-change-synchronization.htm#GUID-8C910642-0080-487C-A162-9633FB11E9E9">Creating a Checkpoint Table</a> for instructions.</span></li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">ADD REPLICAT</code> command to create a Replicat group. For documentation purposes, this group is called <span class="italic">rep</span>.</span>
<div>
<pre dir="ltr">
ADD REPLICAT <span class="italic">rep</span> 
[, INTEGRATED | COORDINATED [MAXTHREADS <span class="italic">number</span>]]
, EXTTRAIL <span class="italic">remote_trail_2</span>, 
, BEGIN <span class="italic">time</span>
</pre>
<p>Use the <code class="codeph">EXTTRAIL</code> argument to link the Replicat group to the trail on this system.</p>
<p>See <a class="olink GWURF183" target="_blank" href="../GWURF/add-replicat.htm#GWURF183"><span class="italic"><span id="GUID-D394EC39-5EE9-400B-9E1C-5F0E2E7BAB8F__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other options that may be required for your installation.</p>
</div>
</li>
<li class="stepexpand"><span>On the target, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Replicat group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</span>
<div>
<pre dir="ltr">
-- Identify the Replicat group:
REPLICAT <span class="italic">rep</span>
-- Specify database login information as needed for the database:
[TARGETDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Specify error handling rules:
REPERROR (<span class="italic">error</span>, <span class="italic">response</span>)
-- Specify tables for delivery and threads if using coordinated Replicat:
MAP [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>, TARGET <span class="italic">owner</span>.<span class="italic">table</span>[, DEF <span class="italic">template</span>]
[, THREAD (thread_ID)][, THREADRANGE (thread_range[, column_list])]
;
</pre>
<div class="infobox-note" id="GUID-D394EC39-5EE9-400B-9E1C-5F0E2E7BAB8F__GUID-5FB44238-A3CA-413E-833F-4D3E955E89C4">
<p class="notep1">Note:</p>
<p>For DB2 for i, you may need to use the <code class="codeph">ADD TRANDATA</code> command on the target tables if they are not already journaled. Alternatively, you could use the <code class="codeph">STRJRNPF</code> command to assign the tables to the appropriate journal. If the target tables are not required to be replicated by Oracle GoldenGate, the <code class="codeph">IMAGES(*AFTER)</code> option can be used with <code class="codeph">STRJRNPF</code>. Since Oracle GoldenGate operates using transactions, all tables must be journaled to support transactions and this is not the default with DB2 for i.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD228"></a><a id="GWUAD227"></a>
<div class="props_rev_3"><a id="GUID-4C93821B-1A25-4A20-94F1-5DADB3766538"></a>
<h2 id="GWUAD-GUID-4C93821B-1A25-4A20-94F1-5DADB3766538" class="sect2"><span class="enumeration_section">5.5</span> Creating a Cascading Reporting Configuration</h2>
<div>
<div class="section">
<p>Oracle GoldenGate supports cascading synchronization, where Oracle GoldenGate propagates data changes from the source database to a second database, and then on to a third database. In this configuration:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>A primary Extract on the source writes captured data to a local trail, and a data pump sends the data to a remote trail on the second system in the cascade.</p>
</li>
<li>
<p>On the second system, Replicat applies the data to the local database.</p>
</li>
<li>
<p>Another primary Extract on that same system captures the data from the local database and writes it to a local trail.</p>
</li>
<li>
<p>A data pump sends the data to a remote trail on the third system in the cascade, where it is applied to the local database by another Replicat.</p>
<div class="infobox-note" id="GUID-4C93821B-1A25-4A20-94F1-5DADB3766538__GUID-5A3CF83B-F33A-4605-A2C2-E743EF2C3E2F">
<p class="notep1">Note:</p>
<p>See <a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a> if you do not need to apply the replicated changes to a database on the secondary system.</p>
</div>
</li>
</ul>
<div class="figure" id="GUID-4C93821B-1A25-4A20-94F1-5DADB3766538__BABBJAHA">
<p class="titleinfigure">Figure 5-4 Cascading Configuration</p>
<img width="679" height="533" src="img/cascading_config.jpg" alt="Description of Figure 5-4 follows" title="Description of Figure 5-4 follows" /><br />
<a href="img_text/cascading_config.htm">Description of "Figure 5-4 Cascading Configuration"</a></div>
<!-- class="figure" -->
<p>Use this configuration if:</p>
<ul style="list-style-type: disc;">
<li>
<p>One or more of the target systems does not have a direct connection to the source, but the second system can connect in both directions.</p>
</li>
<li>
<p>You want to limit network activity from the source system.</p>
</li>
<li>
<p>You are sending data to two or more servers that are very far apart geographically, such as from Chicago to Los Angeles and then from Los Angeles to servers throughout China.</p>
</li>
</ul>
<p>When considering this topology, take note of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>This configuration can be used to perform data filtering and conversion if the character sets on all systems are identical. If character sets differ, a data pump cannot perform conversion between character sets, and you must configure Replicat to perform the conversion and transformation on the target.</p>
</li>
<li>
<p>To use the data pump on the second system to perform data conversion and transformation, assuming character sets are identical, you must create a source definitions file on the first system with the DEFGEN utility and then transfer it to the second system. Additionally, you must create a source definitions file on the second system and transfer it to the third system. See <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a> for more information about definitions files and conversion.</p>
</li>
<li>
<p>On the second system, you must configure the Extract group to capture Replicat activity and to ignore local business application activity. The Extract parameters that control this behavior are <code class="codeph">IGNOREAPPLOPS</code> and <code class="codeph">GETREPLICATES</code>.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-17D82E36-E5FD-45DE-8847-B815FD57B51D">Source System</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-A39425E2-9052-454B-81AA-3453238B92C4">Second System in the Cascade</a><br /></li>
<li class="ulchildlink"><a href="using-oracle-goldengate-live-reporting.htm#GUID-3C360AB9-E37C-4650-9FD3-D3FFE2FBB55B">Third System in the Cascade</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-C4A2B484-4A6B-4601-9C61-5CA778FF7C2C" title="This chapter describes the usage of Oracle GoldenGate for live reporting.">Using Oracle GoldenGate for Live Reporting</a></p>
</div>
</div>
</div>
<a id="GWUAD1037"></a><a id="GWUAD1038"></a><a id="GWUAD1039"></a><a id="GWUAD229"></a>
<div class="props_rev_3"><a id="GUID-17D82E36-E5FD-45DE-8847-B815FD57B51D"></a>
<h3 id="GWUAD-GUID-17D82E36-E5FD-45DE-8847-B815FD57B51D" class="sect3"><span class="enumeration_section">5.5.1</span> Source System</h3>
<div>
<div class="section">
<p>Refer to <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538__BABBJAHA">Figure 5-4</a> for a visual representation of the objects you will be creating.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process on the Source</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Primary Extract Group on the Source</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create an Extract group. For documentation purposes, this group is called <span class="italic">ext_1</span>.</p>
<pre dir="ltr">
ADD EXTRACT <span class="italic">ext_1</span>, {TRANLOG | INTEGRATED TRANLOG}, BEGIN <span class="italic">time</span> [<span class="italic">option</span>[, ...]]
</pre>
<p>See <a class="olink GWURF122" target="_blank" href="../GWURF/add-extract.htm#GWURF122"><span class="italic"><span id="GUID-17D82E36-E5FD-45DE-8847-B815FD57B51D__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other <code class="codeph">ADD EXTRACT</code> options that may be required for your installation.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">ADD EXTTRAIL</code> command to create a local trail.</p>
<pre dir="ltr">
ADD EXTTRAIL <span class="italic">local_trail_1</span>, EXTRACT <span class="italic">ext_1</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link this trail to the <span class="italic">ext_1</span> Extract group.</p>
</li>
<li>
<p>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">ext_1</span> Extract group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</p>
<pre dir="ltr">
-- Identify the Extract group:
EXTRACT <span class="italic">ext_1</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Log all scheduling columns if using integrated Replicat
LOGALLSUPCOLS
-- Specify the local trail that this Extract writes to
-- and encryption algorithm:
ENCRYPTTRAIL <span class="italic">algorithm</span>
EXTTRAIL <span class="italic">local_trail</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Data Pump on the Source</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create a data pump group. For documentation purposes, this group is called <span class="italic">pump_1</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">pump_1</span>, EXTTRAILSOURCE <span class="italic">local_trail_1</span>, BEGIN <span class="italic">time</span>
</pre>
<p>Use <code class="codeph">EXTTRAILSOURCE</code> as the data source option, and specify the name of the local trail.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail that will be created on the second system in the cascade.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail_1</span>, EXTRACT <span class="italic">pump_1</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link the remote trail to the <span class="italic">pump_1</span> data pump group. The linked data pump writes to this trail.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the source, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">pump_1</span> data pump. Include the following parameters plus any others that apply to your database environment.</span>
<div>
<pre dir="ltr">
-- Identify the data pump group:
EXTRACT <span class="italic">pump_1</span>
-- Specify database login information if using NOPASSTHROUGH:
[SOURCEDB <span class="italic">dsn_1</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Decrypt the data only if the data pump must process it.
-- DECRYPTTRAIL
-- Specify the name or IP address of second system in cascade
-- and optional encryption of data over TCP/IP:
RMTHOSTOPTIONS <span class="italic">target_1</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify the remote trail and encryption algorithm on the second system:
ENCRYPTTRAIL <span class="italic">algorithm</span>
RMTTRAIL <span class="italic">remote_trail_1</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1040"></a><a id="GWUAD1041"></a><a id="GWUAD1042"></a><a id="GWUAD1043"></a><a id="GWUAD230"></a>
<div class="props_rev_3"><a id="GUID-A39425E2-9052-454B-81AA-3453238B92C4"></a>
<h3 id="GWUAD-GUID-A39425E2-9052-454B-81AA-3453238B92C4" class="sect3"><span class="enumeration_section">5.5.2</span> Second System in the Cascade</h3>
<div>
<div class="section">
<p>Configure the Manager process, Replicat group, and data pump on the second system in the cascade.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process on the Second System</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the second system, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Replicat Group on the Second System</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>Create a Replicat checkpoint table (unless using Oracle integrated Replicat). See <a href="configuring-online-change-synchronization.htm#GUID-8C910642-0080-487C-A162-9633FB11E9E9">Creating a Checkpoint Table</a> for instructions.</p>
</li>
<li>
<p>On the second system, use the <code class="codeph">ADD REPLICAT</code> command to create a Replicat group. For documentation purposes, this group is called <span class="italic">rep_1</span>.</p>
<pre dir="ltr">
ADD REPLICAT <span class="italic">rep_1</span> 
[, INTEGRATED | COORDINATED [MAXTHREADS <span class="italic">number</span>]]
, EXTTRAIL <span class="italic">remote_trail_1</span>, 
, BEGIN <span class="italic">time</span>
</pre>
<p>Use the <code class="codeph">EXTTRAIL</code> option to link the <span class="italic">rep_1</span> group to the remote trail <span class="italic">remote_trail_1</span> that is on the local system.</p>
<p>See <a class="olink GWURF183" target="_blank" href="../GWURF/add-replicat.htm#GWURF183"><span class="italic"><span id="GUID-A39425E2-9052-454B-81AA-3453238B92C4__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other options that may be required for your installation.</p>
</li>
<li>
<p>On the second system, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Replicat group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</p>
<pre dir="ltr">
-- Identify the Replicat group:
REPLICAT <span class="italic">rep_1</span>
-- Specify database login information as needed for the database:
[TARGETDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Specify error handling rules:
REPERROR (<span class="italic">error</span>, <span class="italic">response</span>)
-- Specify tables for delivery and threads if using coordinated Replicat:
MAP [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>, TARGET <span class="italic">owner</span>.<span class="italic">table</span>[, DEF <span class="italic">template</span>]
[, THREAD (thread_ID)][, THREADRANGE (thread_range[, column_list])]
;
</pre>
<div class="infobox-note" id="GUID-A39425E2-9052-454B-81AA-3453238B92C4__GUID-D2D5BB5F-545A-416D-954A-764394967558">
<p class="notep1">Note:</p>
<p>For DB2 for i, you may need to use the <code class="codeph">ADD TRANDATA</code> command on the target tables if they are not already journaled. Alternatively, you could use the <code class="codeph">STRJRNPF</code> command to assign the tables to the appropriate journal. If the target tables are not required to be replicated by Oracle GoldenGate, the <code class="codeph">IMAGES(*AFTER)</code> option can be used with <code class="codeph">STRJRNPF</code>. Since Oracle GoldenGate operates using transactions, all tables must be journaled to support transactions and this is not the default with DB2 for i.</p>
</div>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure an Extract Group on the Second System</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the source, use the <code class="codeph">ADD EXTRACT</code> command to create an Extract group. For documentation purposes, this group is called <span class="italic">ext_2</span>.</p>
<pre dir="ltr">
ADD EXTRACT <span class="italic">ext_2</span>, {TRANLOG | INTEGRATED TRANLOG}, BEGIN <span class="italic">time</span> [<span class="italic">option</span>[, ...]]
</pre>
<p>See <a class="olink GWURF122" target="_blank" href="../GWURF/add-extract.htm#GWURF122"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other <code class="codeph">ADD EXTRACT</code> options that may be required for your installation.</p>
</li>
<li>
<p>On the second system, use the <code class="codeph">ADD EXTTRAIL</code> command to specify a local trail that will be created on the third system.</p>
<pre dir="ltr">
ADD EXTTRAIL <span class="italic">local_trail_2</span>, EXTRACT <span class="italic">ext_2</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link this local trail to the <span class="italic">ext_2</span> Extract group.</p>
</li>
<li>
<p>On the second system, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">ext_2</span> Extract group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</p>
<pre dir="ltr">
-- Identify the Extract group:
EXTRACT <span class="italic">ext_2</span>
-- Specify database login information as needed for the database:
[SOURCEDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Log all scheduling columns if using integrated Replicat
LOGALLSUPCOLS
-- Specify the local trail that this Extract writes to
-- and encryption algorithm:
ENCRYPTTRAIL <span class="italic">algorithm</span>
EXTTRAIL <span class="italic">local_trail_2</span>
-- Ignore local DML, capture Replicat DML:
IGNOREAPPLOPS, GETREPLICATES
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></li>
</ol>
<div class="infobox-note" id="GUID-A39425E2-9052-454B-81AA-3453238B92C4__GUID-1BA764BE-F8B5-4F99-B089-9966A704A205">
<p class="notep1">Note:</p>
<p>If replicating DDL operations, <code class="codeph">IGNOREAPPLOPS, GETREPLICATES</code> functionality is controlled by the <code class="codeph">DDLOPTIONS</code> parameter.</p>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Data Pump on the Second System</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the second system, use the <code class="codeph">ADD EXTRACT</code> command to create a data pump group. For documentation purposes, this group is called <span class="italic">pump_2</span>.</span>
<div>
<pre dir="ltr">
ADD EXTRACT <span class="italic">pump_2</span>, EXTTRAILSOURCE <span class="italic">local_trail_2</span>, BEGIN <span class="italic">time</span>
</pre>
<p>Use <code class="codeph">EXTTRAILSOURCE</code> as the data source option, and specify the name of the local trail.</p>
</div>
</li>
<li class="stepexpand"><span>On the second system, use the <code class="codeph">ADD RMTTRAIL</code> command to specify a remote trail that will be created on the third system in the cascade.</span>
<div>
<pre dir="ltr">
ADD RMTTRAIL <span class="italic">remote_trail_2</span>, EXTRACT <span class="italic">pump_2</span>
</pre>
<p>Use the <code class="codeph">EXTRACT</code> argument to link the remote trail to the <span class="italic">pump_2</span> data pump group. The linked data pump writes to this trail.</p>
<p>See <a class="olink GWURF227" target="_blank" href="../GWURF/add-rmttrail.htm#GWURF227"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for additional <code class="codeph">ADD RMTTRAIL</code> options.</p>
</div>
</li>
<li class="stepexpand"><span>On the second system, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the <span class="italic">pump_2</span> data pump. Include the following parameters plus any others that apply to your database environment.</span>
<div>
<pre dir="ltr">
-- Identify the data pump group:
EXTRACT <span class="italic">pump_2</span>
-- Specify database login information if using NOPASSTHRU:
[SOURCEDB <span class="italic">dsn_2</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Decrypt the data only if the data pump must process it.
-- DECRYPTTRAIL
-- Specify the name or IP address of third system in cascade
-- and optional encryption of data over TCP/IP:
RMTHOSTOPTIONS <span class="italic">target_2</span>, MGRPORT <span class="italic">port_number</span>, ENCRYPT <span class="italic">encryption_options</span>
-- Specify the remote trail and encryption algorithm on the third system:
ENCRYPTTRAIL <span class="italic">algorithm</span>
RMTTRAIL <span class="italic">remote_trail_2</span>
-- Specify tables and sequences to be captured:
SEQUENCE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.sequence;
TABLE [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1044"></a><a id="GWUAD1045"></a><a id="GWUAD231"></a>
<div class="props_rev_3"><a id="GUID-3C360AB9-E37C-4650-9FD3-D3FFE2FBB55B"></a>
<h3 id="GWUAD-GUID-3C360AB9-E37C-4650-9FD3-D3FFE2FBB55B" class="sect3"><span class="enumeration_section">5.5.3</span> Third System in the Cascade</h3>
<div>
<div class="section">
<p>Configure the Manager process and Replicat group on the third system in the cascade.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Manager Process</p>
</div>
<!-- class="section" -->
<div class="section">
<ol>
<li>
<p>On the third system, configure the Manager process according to the instructions in <a href="configuring-manager-and-network-communications.htm#GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" title="This chapter describes how to configure the Manager process and specify ports for local and remote network communications.">Configuring Manager and Network Communications</a>.</p>
</li>
<li>
<p>In the Manager parameter file, use the <code class="codeph">PURGEOLDEXTRACTS</code> parameter to control the purging of files from the trail.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Configure the Replicat Group</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>On the third system, create a Replicat checkpoint table (unless using Oracle integrated Replicat). See <a href="configuring-online-change-synchronization.htm#GUID-8C910642-0080-487C-A162-9633FB11E9E9">Creating a Checkpoint Table</a> for instructions.</span></li>
<li class="stepexpand"><span>On the third system, use the <code class="codeph">ADD REPLICAT</code> command to create a Replicat group. For documentation purposes, this group is called <span class="italic">rep_2</span>.</span>
<div>
<pre dir="ltr">
ADD REPLICAT <span class="italic">rep_2</span>
[, INTEGRATED | COORDINATED [MAXTHREADS <span class="italic">number</span>]]
, EXTTRAIL <span class="italic">remote_trail_2</span>, 
, BEGIN <span class="italic">time</span>
</pre>
<p>Use the <code class="codeph">EXTTRAIL</code> option to link the <span class="italic">rep_2</span> group to the <span class="italic">remote_trail_2</span> trail.</p>
<p>See <a class="olink GWURF183" target="_blank" href="../GWURF/add-replicat.htm#GWURF183"><span class="italic"><span id="GUID-3C360AB9-E37C-4650-9FD3-D3FFE2FBB55B__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for detailed information about these and other options that may be required for your installation.</p>
</div>
</li>
<li class="stepexpand"><span>On the third system, use the <code class="codeph">EDIT PARAMS</code> command to create a parameter file for the Replicat group. Include the following parameters plus any others that apply to your database environment. For possible additional required parameters, see the Oracle GoldenGate installation and setup guide for your database.</span>
<div>
<pre dir="ltr">
-- Identify the Replicat group:
REPLICAT rep_2
-- Specify database login information as needed for the database:
[TARGETDB <span class="italic">dsn_3</span>][, USERIDALIAS <span class="italic">alias</span>]
-- Specify error handling rules:
REPERROR (<span class="italic">error</span>, <span class="italic">response</span>)
-- Specify tables for delivery and threads if using coordinated Replicat:
MAP [<span class="italic">container</span>.|<span class="italic">catalog</span>.]<span class="italic">owner</span>.<span class="italic">table</span>, TARGET <span class="italic">owner</span>.<span class="italic">table</span>[, DEF <span class="italic">template</span>]
[, THREAD (thread_ID)][, THREADRANGE (thread_range[, column_list])]
;
</pre>
<div class="infobox-note" id="GUID-3C360AB9-E37C-4650-9FD3-D3FFE2FBB55B__GUID-CBFA9B14-3682-43CB-98B0-32922E222CA3">
<p class="notep1">Note:</p>
<p>For DB2 for i, you may need to use the <code class="codeph">ADD TRANDATA</code> command on the target tables if they are not already journaled. Alternatively, you could use the <code class="codeph">STRJRNPF</code> command to assign the tables to the appropriate journal. If the target tables are not required to be replicated by Oracle GoldenGate, the <code class="codeph">IMAGES(*AFTER)</code> option can be used with <code class="codeph">STRJRNPF</code>. Since Oracle GoldenGate operates using transactions, all tables must be journaled to support transactions and this is not the default with DB2 for i.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment24">
<tr>
<td class="cellalignment31">
<table class="cellalignment29">
<tr>
<td class="cellalignment28"><a href="getting-started-oracle-goldengate-process-interfaces.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment28"><a href="using-oracle-goldengate-real-time-data-distribution.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment33">
<table class="cellalignment27">
<tr>
<td class="cellalignment28"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment28"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
