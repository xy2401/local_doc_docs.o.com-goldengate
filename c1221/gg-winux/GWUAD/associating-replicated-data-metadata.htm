<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Associating Replicated Data with Metadata</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter describes the uses of metadata and how to associate replicated data with metadata." />
<meta name="dcterms.created" content="2018-07-19T06:21:43Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E66357-07" />
<meta name="dcterms.isVersionOf" content="GWUAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="mapping-and-manipulating-data.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-online-change-synchronization.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWUAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73"></a> <span id="PAGE" style="display:none;">20/34</span> <!-- End Header -->
<a id="GWUAD474"></a><a id="GWUAD473"></a>
<h1 id="GWUAD-GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" class="sect1"><span class="enumeration_chapter">13</span> Associating Replicated Data with Metadata</h1>
<div>
<div><span>This chapter describes the uses of metadata and how to associate replicated data with metadata.</span></div>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-E0DE73B2-179A-4655-8E09-2F41F5B6DB8C">Overview</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-CDAF9ED7-10F0-4476-8A71-CC163BDBB519">Using Automatic Trail File Recovery</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B">Configuring Oracle GoldenGate to Use Self-Describing Trail Files</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E">Configuring Oracle GoldenGate to Assume Identical Metadata</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-2B1F3571-A3D3-4526-BC39-96889D8FFC6D">Configuring Oracle GoldenGate to Assume Dissimilar Metadata</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-194F4F3B-3656-4D4A-BB20-EB02CE530BEF">Configuring Oracle GoldenGate to Use a Combination of Similar and Dissimilar Definitions</a></p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-E0DE73B2-179A-4655-8E09-2F41F5B6DB8C">Overview</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-CDAF9ED7-10F0-4476-8A71-CC163BDBB519">Using Automatic Trail File Recovery</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B">Configuring Oracle GoldenGate to Use Self-Describing Trail Files</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E">Configuring Oracle GoldenGate to Assume Identical Metadata</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-2B1F3571-A3D3-4526-BC39-96889D8FFC6D">Configuring Oracle GoldenGate to Assume Dissimilar Metadata</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-194F4F3B-3656-4D4A-BB20-EB02CE530BEF">Configuring Oracle GoldenGate to Use a Combination of Similar and Dissimilar Definitions</a><br /></li>
</ul>
</div>
<a id="GWUAD475"></a>
<div class="props_rev_3"><a id="GUID-E0DE73B2-179A-4655-8E09-2F41F5B6DB8C"></a>
<h2 id="GWUAD-GUID-E0DE73B2-179A-4655-8E09-2F41F5B6DB8C" class="sect2"><span class="enumeration_section">13.1</span> Overview</h2>
<div>
<p>When replicating data from one table to another, an important consideration is whether the column structures (metadata) of the source and target tables are identical. Oracle GoldenGate looks up metadata for the following purposes:</p>
<ul style="list-style-type: disc;">
<li>
<p>On the source, to supply complete information about captured operations to the Replicat process.</p>
</li>
<li>
<p>On the target, to determine the structures of the target tables, so that the replicated data is correctly mapped and converted (if needed) by Replicat.</p>
</li>
</ul>
<p>In each of the following scenarios, you must use a different parameter or set of parameters to describe the metadata properly to the Oracle GoldenGate process that is processing it:</p>
<ul style="list-style-type: disc;">
<li>
<p>You are replicating a source table to a target table that has identical metadata definitions (homogeneous replication).</p>
</li>
<li>
<p>You are replicating a source table to a target table that has different metadata definitions.</p>
</li>
<li>
<p>You are replicating a source table to two target tables, one with identical definitions and one that has different definitions.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1202"></a>
<div class="props_rev_3"><a id="GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E"></a>
<h2 id="GWUAD-GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E" class="sect2"><span class="enumeration_section">13.2</span> Understanding Data Definition Files</h2>
<div>
<p>Oracle GoldenGate can query the local database to get one set of definitions, but it must rely on a <span class="italic">data-definitions file</span> to get definitions from the remote database. The data-definitions file contains information about the metadata of the data that is being replicated. There are two types of definitions files:</p>
<ul style="list-style-type: disc;">
<li>
<p>A <span class="italic">source-definitions file</span> contains the definitions of source tables.</p>
</li>
<li>
<p>A <span class="italic">target-definitions file</span> contains the definitions of the target tables.</p>
</li>
</ul>
<p>You can use multiple data-definitions files in a parameter file. For example, each one can contain the definitions for a distinct application.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-6E84327C-F98C-4B26-BD5F-83DD40992289">Contents of the Definitions File</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-FEDB7FB4-CFB6-4A63-A778-7A19947BF43C">Which Definitions File Type to Use, and Where</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-DE65100A-2736-4241-9058-E2ABCFE1DFC1">Using a Definitions Template</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-FADB52D8-A3EE-4135-85FA-779439600FD1">Configuring Oracle GoldenGate to Capture Data-definitions</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-B41BD1C2-9CB9-4E1C-AD48-A798FB71110E">Adding Tables that Satisfy a Definitions Template</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2">Examples of Using a Definitions File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
<a id="GWUAD479"></a>
<div class="props_rev_3"><a id="GUID-6E84327C-F98C-4B26-BD5F-83DD40992289"></a>
<h3 id="GWUAD-GUID-6E84327C-F98C-4B26-BD5F-83DD40992289" class="sect3"><span class="enumeration_section">13.2.1</span> Contents of the Definitions File</h3>
<div>
<p>The format of a data-definitions file is for internal use and should not be edited by an Oracle GoldenGate user unless instructed to do so in documented procedures or by a support representative. The file begins with a file header that shows the version of DEFGEN, information about character sets, the database type, the locale, and internal metadata that indicates other data properties. Following the header are the table-definition sections. Each table-definition section contains a table name, record length, number of columns, and one or more column definitions.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD480"></a>
<div class="props_rev_3"><a id="GUID-FEDB7FB4-CFB6-4A63-A778-7A19947BF43C"></a>
<h3 id="GWUAD-GUID-FEDB7FB4-CFB6-4A63-A778-7A19947BF43C" class="sect3"><span class="enumeration_section">13.2.2</span> Which Definitions File Type to Use, and Where</h3>
<div>
<p>The type of definitions file to use depends on where column mapping and conversion will be performed.</p>
<ul style="list-style-type: disc;">
<li>
<p>When replicating from any type of Windows or UNIX-based database system to any other Windows or UNIX-based system, the mapping and conversion can be performed by Extract, a data-pump Extract, or Replicat, but is usually performed by Replicat on the target system. However, if Oracle GoldenGate must convert between different character sets, the mapping and conversion must be performed by Replicat on the target. See <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a>.</p>
</li>
<li>
<p>When replicating from any Windows, UNIX, or Linux-based database system to an Enscribe target on a NonStop system, the mapping and conversion must be performed on the Windows, UNIX, or Linux system: Only Extract can convert two- and three-part SQL names and data types to the three-part file names that are used on the NonStop platform. In this scenario, Oracle GoldenGate cannot convert between source and target character sets. See <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a>.</p>
</li>
</ul>
<p>Therefore:</p>
<ul style="list-style-type: disc;">
<li>
<p>To perform column mapping and conversion on the target, use a <span class="italic">source-definitions file</span> that was generated on the source to supply the source definitions to Replicat.</p>
</li>
<li>
<p>To perform column mapping and conversion on the source, use a <span class="italic">target-definitions file</span> that was generated on the target to supply target definitions to the primary Extract or a data-pump Extract, depending on which process does the conversion<span class="italic">.</span></p>
</li>
<li>
<p>To perform column mapping or transformation on an intermediary system, you may need to use multiple definition file types. See <a href="using-oracle-goldengate-live-reporting.htm#GUID-CF69C6AA-3ED1-4DFE-8292-90144B383370">Creating a Reporting Configuration with a Data Pump on an Intermediary System</a> and <a href="using-oracle-goldengate-live-reporting.htm#GUID-4C93821B-1A25-4A20-94F1-5DADB3766538">Creating a Cascading Reporting Configuration</a>. Note that if there is not a Replicat on the intermediary system, conversion between character sets cannot be performed.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD481"></a>
<div class="props_rev_3"><a id="GUID-E22E6692-3F23-411B-946E-61D3C860D66F"></a>
<h3 id="GWUAD-GUID-E22E6692-3F23-411B-946E-61D3C860D66F" class="sect3"><span class="enumeration_section">13.2.3</span> Understanding the Effect of Character Sets on Definitions Files</h3>
<div>
<p>Oracle GoldenGate takes into consideration the character set encoding of the database when performing data conversion, and it takes into consideration the character set of the local operating system when creating a definitions file. Take the following guidelines into account when the source and target data have different character sets.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-54F657DF-6310-487F-9355-79252A725B58">Confining Data Mapping and Conversion to the Replicat Process</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-7A969712-CF27-4349-9F7D-C31FA5ACEAAB">Avoiding File Corruptions Due to Operating System Character Sets</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-C53E0D73-63C3-4A0A-BFEB-123965F081D8">Changing the Character Set of Existing Definitions Files</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-D50B915B-05B2-413B-A630-608FB9E0550B">Downloading from a z/OS system to another platform</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
<a id="GWUAD482"></a>
<div class="props_rev_3"><a id="GUID-54F657DF-6310-487F-9355-79252A725B58"></a>
<h4 id="GWUAD-GUID-54F657DF-6310-487F-9355-79252A725B58" class="sect4"><span class="enumeration_section">13.2.3.1</span> Confining Data Mapping and Conversion to the Replicat Process</h4>
<div>
<p>Replicat is the only process that converts replicated data between different character sets. It converts data <span class="italic">from</span> the source database character set <span class="italic">to</span> the target database character set (or to the character set of the database on an intermediary system in a cascading configuration). As a result, data mapping and conversion must be performed by Replicat if source and target character sets are different. It cannot be performed on a source system, nor on an intermediary system that only contains a data pump. A target-definitions file is invalid in these cases.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD483"></a>
<div class="props_rev_3"><a id="GUID-7A969712-CF27-4349-9F7D-C31FA5ACEAAB"></a>
<h4 id="GWUAD-GUID-7A969712-CF27-4349-9F7D-C31FA5ACEAAB" class="sect4"><span class="enumeration_section">13.2.3.2</span> Avoiding File Corruptions Due to Operating System Character Sets</h4>
<div>
<p>By default, DEFGEN writes the definitions file itself in the character set of the local operating system. A definitions file can be created on the local system and transferred to the remote system without any encoding-related problems if the following is true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The remote system to which you are transferring the definitions file has the same or equivalent operating-system character set as the local system</p>
</li>
<li>
<p>The operating-system character set of the remote system is a subset of the operating-system character set of the local system, For example, if the source and target character sets both are ASCII-compatible or EBCDIC-compatible and all table and column names use only 7-bit US-ASCII or equivalent characters, you can move the definition file between those systems.</p>
</li>
</ul>
<p>Many operating-system character sets have little or no compatibility between them. To write the definitions file in a character set that is compatible with, or the same as, the one used by the remote system, use the <code class="codeph">CHARSET</code> option of the <code class="codeph">DEFSFILE</code> parameter when you configure DEFGEN.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD484"></a>
<div class="props_rev_3"><a id="GUID-C53E0D73-63C3-4A0A-BFEB-123965F081D8"></a>
<h4 id="GWUAD-GUID-C53E0D73-63C3-4A0A-BFEB-123965F081D8" class="sect4"><span class="enumeration_section">13.2.3.3</span> Changing the Character Set of Existing Definitions Files</h4>
<div>
<p>In the case of an existing definitions file that is transferred to an operating system with an incompatible character set, you can run the DEFGEN utility on that system to convert the character set of the file to the required one. This procedure takes two input arguments: the name of the definitions file and the <code class="codeph">UPDATECS</code> <span class="italic"><code class="codeph">character_set</code></span> parameter. For example:</p>
<pre dir="ltr">
defgen ./dirdef/source.def UPDATECS UTF-8
</pre>
<p><code class="codeph">UPDATECS</code> helps in situations such as when a Japanese table name on Japanese Windows is written in Windows CP932 to the data-definitions file, and then the definitions file is transferred to Japanese UNIX. The file cannot be used unless the UNIX is configured in PCK locale. Thus, you must use <code class="codeph">UPDATECS</code> to convert the encoding of the definitions file to the correct format.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1105"></a>
<div class="props_rev_3"><a id="GUID-D50B915B-05B2-413B-A630-608FB9E0550B"></a>
<h4 id="GWUAD-GUID-D50B915B-05B2-413B-A630-608FB9E0550B" class="sect4"><span class="enumeration_section">13.2.3.4</span> Downloading from a z/OS system to another platform</h4>
<div>
<p>Definitions files generated on an IBM z/OS platform must be downloaded in <code class="codeph">BINARY</code> mode when transferring them to a non-z/OS platform.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD485"></a>
<div class="props_rev_3"><a id="GUID-DE65100A-2736-4241-9058-E2ABCFE1DFC1"></a>
<h3 id="GWUAD-GUID-DE65100A-2736-4241-9058-E2ABCFE1DFC1" class="sect3"><span class="enumeration_section">13.2.4</span> Using a Definitions Template</h3>
<div>
<p>When you create a definitions file, you can specify a definitions template that reduces the need to create new definitions files when tables are added to the Oracle GoldenGate configuration after the initial startup. To use a template, all of the new tables must have identical structures, such as in a customer database where there are separate but identical tables for each customer (see <a href="associating-replicated-data-metadata.htm#GUID-E44DC733-7977-4399-9114-A11307F00954">Rules for Tables to be Considered Identical</a>).</p>
<p>If you do not use a template and new tables are added after startup, you must generate a definitions file for each new table that is added to the Oracle GoldenGate configuration, then copy their contents to the existing master definitions file, and then restart the process.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD486"></a>
<div class="props_rev_3"><a id="GUID-FADB52D8-A3EE-4135-85FA-779439600FD1"></a>
<h3 id="GWUAD-GUID-FADB52D8-A3EE-4135-85FA-779439600FD1" class="sect3"><span class="enumeration_section">13.2.5</span> Configuring Oracle GoldenGate to Capture Data-definitions</h3>
<div>
<p>To configure Oracle GoldenGate to use a data-definitions file and template (if needed), you will:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C">Configure DEFGEN</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-FD53DCB0-505A-4CB1-903C-A0CF133817DD">Run DEFGEN</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-CB014A7A-BB52-4012-B6A5-68CB665B4908">Transfer the Definitions File to the Remote System</a></p>
</li>
<li>
<p><a href="associating-replicated-data-metadata.htm#GUID-609D9695-231C-44B9-BBCB-CB7E9A0D1607">Specify the Definitions File</a></p>
<div class="infobox-note" id="GUID-FADB52D8-A3EE-4135-85FA-779439600FD1__GUID-3E4C1996-70F8-4408-A74B-53F9DC26C95A">
<p class="notep1">Note:</p>
<p>Do not create a data-definitions file for Oracle sequences. It is not needed and DEFGEN does not support it.</p>
</div>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C">Configure DEFGEN</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-FD53DCB0-505A-4CB1-903C-A0CF133817DD">Run DEFGEN</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-CB014A7A-BB52-4012-B6A5-68CB665B4908">Transfer the Definitions File to the Remote System</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-609D9695-231C-44B9-BBCB-CB7E9A0D1607">Specify the Definitions File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
<a id="GWUAD488"></a><a id="GWUAD487"></a>
<div class="props_rev_3"><a id="GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C"></a>
<h4 id="GWUAD-GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C" class="sect4"><span class="enumeration_section">13.2.5.1</span> Configure DEFGEN</h4>
<div>
<div class="section">
<p>Perform these steps on the system from which you want to obtain metadata definitions.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>From the Oracle GoldenGate directory, run GGSCI.</span></li>
<li class="stepexpand"><span>In GGSCI, issue the following command to create a DEFGEN parameter file.</span>
<div>
<pre dir="ltr">
EDIT PARAMS DEFGEN
</pre></div>
</li>
<li class="stepexpand"><span>Enter the parameters listed in <a href="associating-replicated-data-metadata.htm#GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C__G1083696" title="This table describes the DEFGEN parameters.">Table 13-1</a> in the order shown, starting a new line for each parameter statement.</span>
<div>
<div class="tblformalwide" id="GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C__G1083696">
<p class="titleintable">Table 13-1 DEFGEN Parameters</p>
<table class="cellalignment34" title="DEFGEN Parameters" summary="This table describes the DEFGEN parameters.">
<thead>
<tr class="cellalignment25">
<th class="cellalignment43" id="d50325e682">Parameter</th>
<th class="cellalignment43" id="d50325e685">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment25">
<td class="cellalignment44" id="d50325e690" headers="d50325e682">
<pre dir="ltr">
CHARSET <span class="italic">character_set</span>
</pre></td>
<td class="cellalignment44" headers="d50325e690 d50325e685">
<p>Use this parameter to specify a character set that DEFGEN will use to read the parameter file. By default, the character set of the parameter file is that of the local operating system. If used, <code class="codeph">CHARSET</code> must be the first line of the parameter file.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d50325e704" headers="d50325e682">
<pre dir="ltr">
DEFSFILE <span class="italic">file_name</span> [APPEND | PURGE] [CHARSET <span class="italic">character_set</span>] [FORMAT RELEASE <span class="italic">major</span>.<span class="italic">minor</span>]
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">APPEND</code> directs DEFGEN to write new content (from the current run) at the end of any existing content, if the specified file already exists.</p>
</li>
<li>
<p><code class="codeph">PURGE</code> directs DEFGEN to purge the specified file before writing new content from the current run. This is the default.</p>
</li>
<li>
<p><code class="codeph">CHARSET</code> generates the definitions file in the specified character set instead of the default character set of the operating system.</p>
</li>
<li>
<p><code class="codeph">FORMAT</code> <code class="codeph">RELEASE</code> specifies the Oracle GoldenGate release version of the definitions file. Use when the definitions file will be read by a process that is in an earlier version of Oracle GoldenGate than the DEFGEN process.</p>
</li>
</ul>
</td>
<td class="cellalignment44" headers="d50325e704 d50325e685">
<p>Specifies the relative or fully qualified name of the data-definitions file that is to be the output of DEFGEN.</p>
<p>See <a class="olink GWURF461" target="_blank" href="../GWURF/defsfile.htm#GWURF461"><span class="italic"><span id="GUID-8978E646-18FC-4D89-9700-0ADF7C0AC35C__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for important information about these parameter options and their effect on character sets.</p>
<p>See <a href="associating-replicated-data-metadata.htm#GUID-E22E6692-3F23-411B-946E-61D3C860D66F">Understanding the Effect of Character Sets on Definitions Files</a> for more information.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d50325e765" headers="d50325e682">
<pre dir="ltr">
[{SOURCEDB | TARGETDB} <span class="italic">datasource</span>]
{USERIDALIAS <span class="italic">alias</span> | USERID <span class="italic">user</span>, PASSWORD <span class="italic">password</span> [<span class="italic">encryption_options</span>]}
</pre>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SOURCEDB | TARGETDB</code> specifies a data source name, if required as part of the connection information. Not required for Oracle.</p>
</li>
<li>
<p><code class="codeph">USERID</code> <span class="italic"><code class="codeph">user</code></span><code class="codeph">, PASSWORD</code> <span class="italic"><code class="codeph">password</code></span> <span class="italic"><code class="codeph">[encryption_options]</code></span> specifies a user name and password, with optional encryption options.</p>
</li>
<li>
<p><code class="codeph">USERIDALIAS</code> supplies database authentication through credentials stored in the Oracle GoldenGate credential store.</p>
</li>
</ul>
</td>
<td class="cellalignment44" headers="d50325e765 d50325e685">
<p>Specifies database connection information.</p>
<p>The <span class="italic"><code class="codeph">datasource</code></span> can be a DSN (Datasource Name), a SQL/MX catalog, or a container of an Oracle container database (CDB). If connecting to an Oracle container database, connect to the root container as the common user if you need to generate definitions for objects in more than one container. Otherwise, you can connect to a specific container to generate definitions only for that container.</p>
<p>For more information about <code class="codeph">SOURCEDB</code>, <code class="codeph">USERID</code>, and <code class="codeph">USERIDALIAS</code>, including the databases they support, see <a class="olink GWURF978" target="_blank" href="../GWURF/summary-oracle-goldengate-parameters.htm#GWURF978"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a>.</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d50325e844" headers="d50325e682">
<p><code class="codeph">NOCATALOG</code></p>
</td>
<td class="cellalignment44" headers="d50325e844 d50325e685">
<p>Removes the container name (Oracle) or the catalog name (SQL/MX) from table names before their definitions are written to the definitions file. Use this parameter if the definitions file is to be used for mapping to a database that only supports two-part names (<span class="italic"><code class="codeph">owner.object</code></span>).</p>
</td>
</tr>
<tr class="cellalignment25">
<td class="cellalignment44" id="d50325e856" headers="d50325e682">
<pre dir="ltr">
TABLE <span class="italic">[container. | catalog.]owner</span>.<span class="italic">table</span>
[, {DEF | TARGETDEF} <span class="italic">template</span>];
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">container</code></span> is a container in an Oracle container database.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">catalog</code></span> is a catalog in a SQL/MX database.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">owner</code></span> is the name of the schema that contains the table to be defined.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">table</code></span> is the table that is to be defined.</p>
</li>
<li>
<p><code class="codeph">[, {DEF | TARGETDEF}</code> <span class="italic"><code class="codeph">template</code></span><code class="codeph">]</code> additionally creates a definitions template based on the metadata of this table. This option is not supported for initial loads. See <a class="olink GWURF546" target="_blank" href="../GWURF/table-map.htm#GWURF546"><span class="italic"><span><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a> for information about this option.</p>
</li>
</ul>
</td>
<td class="cellalignment44" headers="d50325e856 d50325e685">
<p>Specifies the fully qualified name of a table or tables for which definitions will be defined and optionally uses the metadata of the table as a basis for a definitions template. Case-sensitivity of both table name and template name is preserved for case-sensitive databases. See <a href="getting-started-oracle-goldengate-process-interfaces.htm#GUID-12E08D28-53C7-4C0A-8B37-6790A2C9C4BD">Specifying Object Names in Oracle GoldenGate Input</a> for instructions on wildcarding and case-sensitivity.</p>
<p>Specify a source table(s) if generating a source-definitions file or a target table(s) if generating a target-definitions file.</p>
<p>To exclude tables from a wildcard specification, use the <code class="codeph">TABLEEXCLUDE</code> parameter.</p>
<p>Note that DEFGEN does not support UDTs.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>Save and close the file.</span></li>
<li class="stepexpand"><span>Exit GGSCI.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-FADB52D8-A3EE-4135-85FA-779439600FD1">Configuring Oracle GoldenGate to Capture Data-definitions</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD489"></a>
<div class="props_rev_3"><a id="GUID-FD53DCB0-505A-4CB1-903C-A0CF133817DD"></a>
<h4 id="GWUAD-GUID-FD53DCB0-505A-4CB1-903C-A0CF133817DD" class="sect4"><span class="enumeration_section">13.2.5.2</span> Run DEFGEN</h4>
<div>
<ol>
<li class="stepexpand"><span>From the directory where Oracle GoldenGate is installed, run DEFGEN using the following arguments. This example shows a UNIX file system structure.</span>
<div>
<pre dir="ltr">
defgen paramfile dirprm/defgen.prm [reportfile dirrpt/defgen.rpt]
[NOEXTATTR]
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">defgen</code> is the name of the program.</p>
</li>
<li>
<p><code class="codeph">paramfile</code> is a required keyword. <code class="codeph">dirprm/defgen.prm</code> is the relative or full path name of the DEFGEN parameter file. (The typical location is shown in the example.)</p>
</li>
<li>
<p><code class="codeph">reportfile</code> is a required keyword. <code class="codeph">dirrpt/defgen.rpt</code> sends output to the screen and to the designated report file. (The typical location is shown in the example.) You can omit the <code class="codeph">reportfile</code> argument to print to the screen only.</p>
</li>
<li>
<p><code class="codeph">NOEXTATTR</code> can be used to support backward compatibility with Oracle GoldenGate versions that are older than Release 11.2.1 and do not support character sets other than ASCII, nor case-sensitivity or object names that are quoted with spaces. <code class="codeph">NOEXTATTR</code> prevents DEFGEN from including the database locale and character set that support the globalization features that were introduced in Oracle GoldenGate Release 11.2.1. If the table or column name has multi-byte or special characters such as white spaces, DEFGEN does not include the table definition when <code class="codeph">NOEXTATTR</code> is specified. If <code class="codeph">APPEND</code> mode is used in the parameter file, <code class="codeph">NOEXTATTR</code> is ignored, and the new table definition is appended in the existing file format, whether with the extra attributes or not.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Repeat these steps for any additional definitions files that you want to create.</span></li>
<li class="stepexpand"><span>Using ASCII mode, FTP the definitions file (or files) from the local Oracle GoldenGate <code class="codeph">dirdef</code> sub-directory to the remote <code class="codeph">dirdef</code> sub-directory.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-FADB52D8-A3EE-4135-85FA-779439600FD1">Configuring Oracle GoldenGate to Capture Data-definitions</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD490"></a>
<div class="props_rev_3"><a id="GUID-CB014A7A-BB52-4012-B6A5-68CB665B4908"></a>
<h4 id="GWUAD-GUID-CB014A7A-BB52-4012-B6A5-68CB665B4908" class="sect4"><span class="enumeration_section">13.2.5.3</span> Transfer the Definitions File to the Remote System</h4>
<div>
<div class="section">
<p>Use <code class="codeph">BINARY</code> mode to FTP the data definitions file to the remote system if the local and remote operating systems are different and the definitions file is created for the remote operating system character set. This avoids unexpected characters to be placed in the file by the FTP program, such as new-line and line-feed characters. Always use <code class="codeph">BINARY</code> mode when transferring definitions files from z/OS to a non-z/OS platform.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-FADB52D8-A3EE-4135-85FA-779439600FD1">Configuring Oracle GoldenGate to Capture Data-definitions</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD491"></a>
<div class="props_rev_3"><a id="GUID-609D9695-231C-44B9-BBCB-CB7E9A0D1607"></a>
<h4 id="GWUAD-GUID-609D9695-231C-44B9-BBCB-CB7E9A0D1607" class="sect4"><span class="enumeration_section">13.2.5.4</span> Specify the Definitions File</h4>
<div>
<p>Associate a data-definitions file with the correct Oracle GoldenGate process in the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Associate a target-definitions file with an Extract group or data pump by using the <code class="codeph">TARGETDEFS</code> parameter in the Extract parameter file.</p>
</li>
<li>
<p>Associate a source-definitions file with the Replicat group by using the <code class="codeph">SOURCEDEFS</code> parameter in the Replicat parameter file.</p>
</li>
<li>
<p>If Oracle GoldenGate is to perform mapping or conversion on an intermediary system that contains neither the source nor target database, associate a source-definitions file and a target-definitions file with the data pump Extract by using <code class="codeph">SOURCEDEFS</code> and <code class="codeph">TARGETDEFS</code> in the parameter file. For Oracle databases, the Oracle libraries also must be present on the intermediary system.</p>
</li>
</ul>
<p>See <a href="associating-replicated-data-metadata.htm#GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2">Examples of Using a Definitions File</a> for the correct way to specify multiple definitions files.</p>
<p>Do not use <code class="codeph">SOURCEDEFS</code> and <code class="codeph">ASSUMETARGETDEFS</code> in the same parameter file. See <a href="associating-replicated-data-metadata.htm#GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E">Configuring Oracle GoldenGate to Assume Identical Metadata</a> for more information about <code class="codeph">ASSUMETARGETDEFS</code>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-FADB52D8-A3EE-4135-85FA-779439600FD1">Configuring Oracle GoldenGate to Capture Data-definitions</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD492"></a>
<div class="props_rev_3"><a id="GUID-B41BD1C2-9CB9-4E1C-AD48-A798FB71110E"></a>
<h3 id="GWUAD-GUID-B41BD1C2-9CB9-4E1C-AD48-A798FB71110E" class="sect3"><span class="enumeration_section">13.2.6</span> Adding Tables that Satisfy a Definitions Template</h3>
<div>
<div class="section">
<p>To map a new table in the Oracle GoldenGate configuration to a definitions template, use the following options of the <code class="codeph">TABLE</code> and <code class="codeph">MAP</code> parameters, as appropriate:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">DEF</code> to specify the name of a source-definitions template.</p>
</li>
<li>
<p><code class="codeph">TARGETDEF</code> to specify the name of a target-definitions template.</p>
</li>
</ul>
<p>Because these options direct the Extract or Replicat process to use the same definitions as the specified template, you need not create a new definitions file for the new table, nor restart the process.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD493"></a>
<div class="props_rev_3"><a id="GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2"></a>
<h3 id="GWUAD-GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2" class="sect3"><span class="enumeration_section">13.2.7</span> Examples of Using a Definitions File</h3>
<div>
<p>This topic contains some basic use cases that include a definitions file.</p>
<p><a href="associating-replicated-data-metadata.htm#GUID-2741B5D1-600A-47AE-A01D-7688895AFB34">Creating a Source-definitions file for Use on a Target System</a></p>
<p><a href="associating-replicated-data-metadata.htm#GUID-8771FEF6-09CF-4936-8744-532903A8F172">Creating Target-definitions Files for Use on a Source System</a></p>
<p><a href="associating-replicated-data-metadata.htm#GUID-B0FE831C-E364-43DB-A13D-010842C91F2D">Creating Multiple Source Definition Files for Use on a Target System</a></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-2741B5D1-600A-47AE-A01D-7688895AFB34">Creating a Source-definitions file for Use on a Target System</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-8771FEF6-09CF-4936-8744-532903A8F172">Creating Target-definitions Files for Use on a Source System</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-B0FE831C-E364-43DB-A13D-010842C91F2D">Creating Multiple Source Definition Files for Use on a Target System</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-24EE316D-C1C5-476D-9712-E38ACCBA5B4E">Understanding Data Definition Files</a></p>
</div>
</div>
</div>
<a id="GWUAD1106"></a>
<div class="props_rev_3"><a id="GUID-2741B5D1-600A-47AE-A01D-7688895AFB34"></a>
<h4 id="GWUAD-GUID-2741B5D1-600A-47AE-A01D-7688895AFB34" class="sect4"><span class="enumeration_section">13.2.7.1</span> Creating a Source-definitions file for Use on a Target System</h4>
<div>
<div class="section">
<p>The following configuration uses a DEFGEN parameter file that creates a source-definitions file as output. This example is for tables from an Oracle database.</p>
<pre dir="ltr">
DEFSFILE C:\ggs\dirdef\record.def
USERIDALIAS ogg
TABLE acct.cust100, DEF custdef;
TABLE ord.*;
TABLE hr.*;
</pre>
<p>The results of this DEFGEN configuration are:</p>
<ul style="list-style-type: disc;">
<li>
<p>Individual definitions by name are created for all tables in the <code class="codeph">ord</code> and <code class="codeph">hr</code> schemas.</p>
</li>
<li>
<p>A <code class="codeph">custdef</code> template is created based on table <code class="codeph">acct.cust100</code>. In the database, there are other <code class="codeph">acct.cust*</code> tables, each with identical definitions to <code class="codeph">acct.cust100</code>.</p>
</li>
</ul>
<p>The tables are mapped in the Replicat parameter file as follows:</p>
<pre dir="ltr">
-- This is a simplified parameter file. Your requirements may vary.
REPLICAT acctrep
USERIDALIAS ogg
SOURCEDEFS c:\ggs\dirdef\record.def
MAP acct.cust*, TARGET acct.cust*, DEF custdef;
MAP ord.prod, TARGET ord.prod;
MAP ord.parts, TARGET ord.parts;
MAP hr.emp, TARGET hr.emp;
MAP hr.salary, TARGET hr.salary;
</pre>
<p>Note that definitions for tables that satisfy the wildcard specification <code class="codeph">acct.cust*</code> are obtained from the <code class="codeph">custdef</code> template, as directed by the <code class="codeph">DEF</code> option of the first <code class="codeph">MAP</code> statement.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2">Examples of Using a Definitions File</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1107"></a>
<div class="props_rev_3"><a id="GUID-8771FEF6-09CF-4936-8744-532903A8F172"></a>
<h4 id="GWUAD-GUID-8771FEF6-09CF-4936-8744-532903A8F172" class="sect4"><span class="enumeration_section">13.2.7.2</span> Creating Target-definitions Files for Use on a Source System</h4>
<div>
<div class="section">
<p>If target definitions are required for the same tables, those tables can be mapped for a primary Extract or a data pump.</p>
<ul style="list-style-type: disc;">
<li>
<p>Target definitions are required instead of source definitions if the target is an Enscribe database.</p>
</li>
<li>
<p>Target definitions are required in addition to source definitions if mapping and conversion are to be done on an intermediary system.</p>
</li>
</ul>
<p>The DEFGEN configuration to make the target-definitions file looks similar to the following:</p>
<pre dir="ltr">
DEFSFILE C:\ggs\dirdef\trecord.def
USERIDALIAS ogg
TABLE acct.cust100, DEF tcustdef;
TABLE ord.*;
TABLE hr.*;
</pre>
<div class="infobox-note" id="GUID-8771FEF6-09CF-4936-8744-532903A8F172__GUID-DA411D28-F168-4BFA-ADAE-6B77206FC8B0">
<p class="notep1">Note:</p>
<p>See the previous example for the DEFGEN configuration that makes the source-definitions file.</p>
</div>
<p>The Extract configuration looks similar to the following:</p>
<pre dir="ltr">
-- This is a simplified parameter file. Your requirements may vary.
EXTRACT acctex
USERIDALIAS ogg
RMTHOSTOPTIONS sysb, MGRPORT 7890, ENCRYPT AES192 KEYNAME mykey1
ENCRYPTTRAIL AES192
RMTTRAIL $data.ggsdat.rt
SOURCEDEFS c:\ggs\dirdef\record.def
TARGETDEFS c:\ggs\dirdef\trecord.def
TABLE acct.cust*, TARGET acct.cust*, DEF custdef, TARGETDEF tcustdef;
TABLE ord.prod, TARGET ord.prod;
TABLE ord.parts, TARGET ord.parts;
TABLE hr.emp, TARGET hr.emp;
TABLE hr.salary, TARGET hr.salary;
</pre>
<p>In this example, the source template named <code class="codeph">custdef</code> (from the <code class="codeph">record.def</code> file) and a target template named <code class="codeph">tcustdef</code> (from the <code class="codeph">trecord.def</code> file) are used for the <code class="codeph">acc.cust*</code> tables. Definitions for the tables from the <code class="codeph">ord</code> and <code class="codeph">hr</code> schemas are obtained from explicit definitions based on the table names (but a wildcard specification could have been used here, instead)</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2">Examples of Using a Definitions File</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1108"></a>
<div class="props_rev_3"><a id="GUID-B0FE831C-E364-43DB-A13D-010842C91F2D"></a>
<h4 id="GWUAD-GUID-B0FE831C-E364-43DB-A13D-010842C91F2D" class="sect4"><span class="enumeration_section">13.2.7.3</span> Creating Multiple Source Definition Files for Use on a Target System</h4>
<div>
<div class="section">
<p>This is a simple example of how to use multiple definitions files. Your parameter requirements may vary, based on the Oracle GoldenGate topology and database type.</p>
<p>The following is the DEFGEN parameter file that creates the first data-definitions file.</p>
<pre dir="ltr">
DEFSFILE C:\ggs\dirdef\sales.def
USERIDALIAS ogg
TABLE ord.*;
</pre>
<p>The following is the DEFGEN parameter file that creates the second data-definitions file. Note the file name and table specification are different from the first one.</p>
<pre dir="ltr">
DEFSFILE C:\ggs\dirdef\admin.def
USERIDALIAS ogg
TABLE hr.*;
</pre>
<p>The tables for the first and second definitions file are mapped in the same Replicat parameter file as follows:</p>
<pre dir="ltr">
REPLICAT acctrep
USERIDALIAS ogg
SOURCEDEFS c:\ggs\dirdef\sales.def
MAP ord.*, TARGET ord.*;
SOURCEDEFS c:\ggs\dirdef\admin.def
MAP hr.*, TARGET hr.*;
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-5DD9DD76-AC9B-41C2-A9DC-F20BC0EB90B2">Examples of Using a Definitions File</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD1203"></a>
<div class="props_rev_3"><a id="GUID-CDAF9ED7-10F0-4476-8A71-CC163BDBB519"></a>
<h2 id="GWUAD-GUID-CDAF9ED7-10F0-4476-8A71-CC163BDBB519" class="sect2"><span class="enumeration_section">13.3</span> Using Automatic Trail File Recovery</h2>
<div>
<p>The trail recovery process has the ability to, in some cases, automatically rebuild trail files that are corrupt or missing by Oracle GoldenGate. When an Extract pump restarts, if the last trail that the pump was writing to is missing, then the Extract pump attempts to rebuild the missing trail file on the target system. This is done automatically using the checkpoint information for the process and the last valid trail file. The Replicat process automatically skips over any duplicate data in the trail files that have been rebuilt by the new trail recovery feature. This recovery will occur as long as there is at least 1 target trail from this sequence and that the trail files still exist on the source where the Extract pump is reading them.</p>
<p>This process can also be used to rebuild corrupt or invalid trail files on the target. Simply delete the corrupt trail file, and any trail files after that, and then restart the Extract pump. With this new behavior, Oracle recommends that <code class="codeph">PURGEOLDEXTRACTS MINKEEP</code> rules are properly configured to ensure that there are trail files from the source that can be used to rebuild the target environment. This feature requires that Oracle GoldenGate release 12.1.2.1.8 or greater is used on both the source and target servers. Do <span class="italic">not</span> attempt to start the Replicat with <code class="codeph">NOFILTERDUPTRANSACTIONS</code> because it will override Replicat's default behavior and may cause transactions that have already been applied to the target database to be applied again.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1204"></a>
<div class="props_rev_3"><a id="GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B"></a>
<h2 id="GWUAD-GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B" class="sect2"><span class="enumeration_section">13.4</span> Configuring Oracle GoldenGate to Use Self-Describing Trail Files</h2>
<div>
<p>The default behavior in this release is to store and forward metadata from the source to the target and encapsulates it in each of the trail files. In other words, a self-describing Extract trail or file is created by adding the metadata records in each file. There are two types of metadata records:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic">Database Definition Record</span> (DDR)</p>
<p>A DDR provides information about a specific database, such as character set and time zone. A Database Definition Record is added to the trail to store the database metadata for each pluggable database being captured. All the row change records from a pluggable database will have character and timestamp with local time zone data based on the corresponding DDR for that pluggable database. DDRs are generated for both consolidated and non-consolidated databases.</p>
</li>
<li>
<p><span class="italic">Table Definition Record</span> (TDR)</p>
<p>A TDR provides details about the definition about a table and the columns that it contains. The content of this record is similar to what is provided in a definitions file, which is a subset of the information found in the <code class="codeph">file_def</code> and <code class="codeph">col_def</code> classes. Each database can embed its own database specific information to each TDR. A TDR contains a complete table definition and is used to describe many row change records for the same table. A new TDR is written when the output trail rolls over to a new file or the source table definition has changed.</p>
<p>It is important to note that a TDR describes the definition of a table object represented by the row change records. It will be similar though may not be identical to the table definition in the source. For example, if a column-conversion function is applied to a source column, the metadata for that value in the database will be different from the metadata that shows up in a trail file.</p>
</li>
</ul>
<p>The metadata records in a self-describing trail file format operate as follows:</p>
<div class="figure" id="GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B__GUID-7ECB8BBC-01A5-417D-A0FA-E7BF36128EDF"><img width="557" height="394" src="img/tdr_ddr.jpg" alt="The image describes how the metadata records in a self-describing trail file format operates" title="The image describes how the metadata records in a self-describing trail file format operates" /></div>
<!-- class="figure" -->
<p>Using self-described trail files eliminates the need for <code class="codeph">SOURCEDEFS</code> and <code class="codeph">ASSUMETARGETDEFS</code> so parameter files are simpler and it is simpler to configure heterogeneous replication and provides:</p>
<ul style="list-style-type: disc;">
<li>
<p>A reduction in trail file size due to object name compression.</p>
</li>
<li>
<p>The ability to extract data from multiple catalogs with different character sets and time zones into one trail.</p>
</li>
<li>
<p>The ability to configure DDL replication among more than two Oracle databases. There is no need to use the <code class="codeph">GETREPLICATS</code>, <code class="codeph">UPDATEMETADATA</code>, and <code class="codeph">NOTAG</code> parameters. You can replicate DDLs when source and target tables are not alike and without having to synchronize Oracle GoldenGate processes .</p>
</li>
<li>
<p>No necessity to create and maintain source definitions files.</p>
</li>
</ul>
<div class="section">
<p class="subhead2">Understanding the Self-Describing Trail Behavior</p>
<p>When you are modifying the Source Table Definition the following criteria must be met to update the new TDR into the Extract's memory, as well as the trail file.</p>
<dl>
<dt><strong>Term heading</strong></dt>
<dd><strong>Description heading</strong></dd>
<dt class="dlterm"><a id="GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B__GUID-D062EF29-ED0F-4E14-9153-7F082E1D1D93"><!-- --></a>Oracle Database Sources</dt>
<dd>
<p>Integrated Extract (with Oracle Database 11.2.0.4 or higher and compatible = 11.2.0.4 or higher): No manual steps are needed because Integrated Extract seamlessly generates updated metadata records after a DDL is performed on the source table. This is true irrespective of whether DDL replication is enabled or not.</p>
<p>Classic Extract: The Extract parameter file should include DDL parameter for Extract to seamlessly generate updated metadata records after a DDL. Alternatively, as in-releases earlier than 12.2 , DDL should be performed only after Extract has completely output all the relevant database changes to the trail and is stopped. After DDL is executed, you must restart the Extract. Unlike previous releases, there is no need to stop Replicat and regenerate <code class="codeph">SOURCEDEFS</code> using <code class="codeph">DEFGEN</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B__GUID-C93DD509-5336-4B7C-8DA4-D0EABEFA72E8"><!-- --></a>Heterogeneous Database Sources</dt>
<dd>
<p>As in releases earlier than 12.2, DDL should be performed only after Extract has completely output all the relevant database changes to the trail and is stopped. After DDL is executed, you must restart the Extract should be restarted. Unlike previous releases, there is no need to stop Replicat and regenerate <code class="codeph">SOURCEDEFS</code> using <code class="codeph">DEFGEN</code>.</p>
</dd>
</dl>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-D2309B8D-2D09-4272-9CE2-E6DECCDB404E">Support Considerations</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-EA40623F-BEA5-4DAD-80CE-2E400D1ECBEA">Using Self-Describing Trail Files</a><br /></li>
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-2030EC12-16D8-4074-839C-58B54D699C5B">Examples of Parameter Files</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
<a id="GWUAD1205"></a>
<div class="props_rev_3"><a id="GUID-D2309B8D-2D09-4272-9CE2-E6DECCDB404E"></a>
<h3 id="GWUAD-GUID-D2309B8D-2D09-4272-9CE2-E6DECCDB404E" class="sect3"><span class="enumeration_section">13.4.1</span> Support Considerations</h3>
<div>
<p>Review the following support information:</p>
<ul style="list-style-type: disc;">
<li>
<p>Trail File Formats:</p>
<ul style="list-style-type: disc;">
<li>
<p>Must be Oracle GoldenGate release 12<span class="italic">c</span> (12.2.0.1) or greater to contain metadata records.</p>
</li>
<li>
<p>Cannot generate a 12<span class="italic">c</span> (12.2.0.1) trail format with the older trail format in a multi-trail configuration.</p>
</li>
<li>
<p><code class="codeph">FORMATASCII</code>, <code class="codeph">FORMATSQL</code> and <code class="codeph">FORMATXML</code> trails will not contain metadata records.</p>
</li>
</ul>
</li>
<li>
<p>For existing trail file configurations, you can easily switch between the previous and self-describing extract trail methods of resolving the table metadata by:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the <code class="codeph">USE_TRAILDEFS</code> GLOBALS parameter to control all pumps and Replicats.</p>
</li>
<li>
<p>Use the <code class="codeph">OVERRIDE</code> option of <code class="codeph">SOURCEDEFS</code> and <code class="codeph">ASSUMETARGETDEFS</code> to control an individual pump or Replicat. Oracle does not recommend this.</p>
</li>
</ul>
</li>
<li>
<p>Logdump displays the metadata records similar to DEFGEN output.</p>
</li>
<li>
<p>Reverse is not supported in the 12<span class="italic">c</span> (12.2.0.1) trail format.</p>
</li>
<li>
<p>If a table is mapped, the generated TDR is based on the definition of the mapped table not the source table.</p>
</li>
<li>
<p>Metadata in the trail is supported for all databases except HP NonStop (Guardian).</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B">Configuring Oracle GoldenGate to Use Self-Describing Trail Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1207"></a><a id="GWUAD1206"></a>
<div class="props_rev_3"><a id="GUID-EA40623F-BEA5-4DAD-80CE-2E400D1ECBEA"></a>
<h3 id="GWUAD-GUID-EA40623F-BEA5-4DAD-80CE-2E400D1ECBEA" class="sect3"><span class="enumeration_section">13.4.2</span> Using Self-Describing Trail Files</h3>
<div>
<div class="section">
<p>Use the <code class="codeph">USE_TRAILDEFS</code> GLOBALS parameter to enable or disable all pumps and Replicats. This command usage in relation to the <code class="codeph">SOURCDEFS</code> and <code class="codeph">ASSUMETARGETDEF</code>, and its source table definitions are described as follows.</p>
<div class="figure" id="GUID-EA40623F-BEA5-4DAD-80CE-2E400D1ECBEA__GUID-32AAA94E-F7F3-4D26-B0A5-BEEF48F53523">
<p class="titleinfigure">Figure 13-1 <code class="codeph">USE_TRAILDEFS</code> | <code class="codeph">NOUSE_TRAILDEFS</code> USAGE</p>
<img width="609" height="318" src="img/source_table_defs.jpg" alt="The image shows the command usage in relation to the SOURCDEFS and ASSUMETARGETDEF, and describes its source table definitions." title="The image shows the command usage in relation to the SOURCDEFS and ASSUMETARGETDEF, and describes its source table definitions." /></div>
<!-- class="figure" -->
<p>You must use the <code class="codeph">OVERRIDE</code> option with the <code class="codeph">ASSUMETARGETDEFS</code> and <code class="codeph">SOURCEDEFS</code> parameters when using self-describing trail files.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B">Configuring Oracle GoldenGate to Use Self-Describing Trail Files</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD1208"></a>
<div class="props_rev_3"><a id="GUID-2030EC12-16D8-4074-839C-58B54D699C5B"></a>
<h3 id="GWUAD-GUID-2030EC12-16D8-4074-839C-58B54D699C5B" class="sect3"><span class="enumeration_section">13.4.3</span> Examples of Parameter Files</h3>
<div>
<div class="section">
<p>The following is an example of an Extract parameter file:</p>
<pre dir="ltr">
EXTRACT ext1
USERID tkggadmin@inst1, password tkggadmin
DDL include objname hr.*, include objname st_hr.*
RMTTRAIL $data/ggs12.2/a1
TABLE hr.*;
TABLE st_hr.salary, TARGET hr.salary, COLMAP  (USEDEFAULTS, 
                                                     ts = @GETENV('GGHEADER' , 'COMMITTIMESTAMP'));
RMTTRAIL $data/ggs12.2/a2, NO_OBJECTDEFS
TABLE orders.*;
</pre>
<p>The following is an example of an Replicat parameter file:</p>
<pre dir="ltr">
REPLCAT rep1
USERID tkggadmin@inst2, password tkggadmin
DDLERROR default discard
DDL include all
DISCARDFILE ./dirrpt/rep1.dsc purge
MAP hr.*, TARGET hr.*;
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-BEA146B4-A3B6-4D2B-95A3-0425F59BB75B">Configuring Oracle GoldenGate to Use Self-Describing Trail Files</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD476"></a>
<div class="props_rev_3"><a id="GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E"></a>
<h2 id="GWUAD-GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E" class="sect2"><span class="enumeration_section">13.5</span> Configuring Oracle GoldenGate to Assume Identical Metadata</h2>
<div>
<div class="infobox-note" id="GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E__GUID-B5AF663C-8EC6-4E76-8C80-48E520F6C5C8">
<p class="notep1">Note:</p>
<p>This section does not apply to self-describing trail files.</p>
</div>
<p>When source and target tables have identical metadata definitions, use the <code class="codeph">ASSUMETARGETDEFS</code> parameter in the Replicat parameter file. This parameter directs Replicat to assume that the target definitions are the same as those of the source, and to apply those definitions to the replicated data when constructing SQL statements. The source and target tables must be identical in every way, thus needing no conversion processing, although their catalogs or containers, owners and/or names can be different.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="associating-replicated-data-metadata.htm#GUID-E44DC733-7977-4399-9114-A11307F00954">Rules for Tables to be Considered Identical</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
<a id="GWUAD477"></a>
<div class="props_rev_3"><a id="GUID-E44DC733-7977-4399-9114-A11307F00954"></a>
<h3 id="GWUAD-GUID-E44DC733-7977-4399-9114-A11307F00954" class="sect3"><span class="enumeration_section">13.5.1</span> Rules for Tables to be Considered Identical</h3>
<div>
<p>For source and target structures to be identical, they must:</p>
<ul style="list-style-type: disc;">
<li>
<p>be of the same database type, that is, all Oracle.</p>
</li>
<li>
<p>have the same character set and locale, for example <code class="codeph">american_AMERICA.</code></p>
</li>
<li>
<p>contain the same number of columns.</p>
</li>
<li>
<p>have identical column names (including case, white spaces, and quotes if applicable).</p>
</li>
<li>
<p>have identical data types.</p>
</li>
<li>
<p>have identical column lengths.</p>
</li>
<li>
<p>have the same column length semantics for character columns (bytes versus characters).</p>
</li>
<li>
<p>define all of the columns in the same order.</p>
</li>
</ul>
<p>The following is a simple Replicat parameter file that illustrates the use of <code class="codeph">ASSUMETARGETDEFS</code>. For more information, see <code class="codeph">ASSUMETARGETDEFS</code> in <a class="olink GWURF401" target="_blank" href="../GWURF/assumetargetdefs.htm#GWURF401"><span class="italic"><span id="GUID-E44DC733-7977-4399-9114-A11307F00954__GWURF"><cite>Reference for Oracle GoldenGate for Windows and UNIX</cite></span></span></a>.</p>
<pre dir="ltr">
-- Specifies the group name.
REPLICAT acctrep
-- Specifies database login with an alias to a credential in the credential store.
USERIDALIAS ogg
-- Specifies a file for discard output.
DISCARDFILE ./dirrpt/backup/r_prod.dsc, APPEND
-- States that source and target definitions are identical.
ASSUMETARGETDEFS
-- Maps source tables to target tables.
MAP hq.product, TARGET region1.product;
MAP hq.price, TARGET region1.price;
</pre>
<p>When source and target structures are different, use the <code class="codeph">SOURCEDEFS</code> parameter. See <a href="associating-replicated-data-metadata.htm#GUID-2B1F3571-A3D3-4526-BC39-96889D8FFC6D">Configuring Oracle GoldenGate to Assume Dissimilar Metadata</a>. <code class="codeph">ASSUMETARGETDEFS</code> and <code class="codeph">SOURCEDEFS</code> cannot be used in the same parameter file.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-C62E9A63-4334-4DCB-AA3F-C72ACEFC5E6E">Configuring Oracle GoldenGate to Assume Identical Metadata</a></p>
</div>
</div>
</div>
</div>
</div>
<a id="GWUAD478"></a>
<div class="props_rev_3"><a id="GUID-2B1F3571-A3D3-4526-BC39-96889D8FFC6D"></a>
<h2 id="GWUAD-GUID-2B1F3571-A3D3-4526-BC39-96889D8FFC6D" class="sect2"><span class="enumeration_section">13.6</span> Configuring Oracle GoldenGate to Assume Dissimilar Metadata</h2>
<div>
<p>Source and target metadata definitions are not considered identical if they do not meet the rules in <a href="associating-replicated-data-metadata.htm#GUID-E44DC733-7977-4399-9114-A11307F00954">Rules for Tables to be Considered Identical</a>. When source and target table definitions are dissimilar, Oracle GoldenGate must perform a conversion from one format to the other. To perform conversions, both sets of definitions must be known to Oracle GoldenGate.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
</div>
<a id="GWUAD495"></a>
<div class="props_rev_3"><a id="GUID-194F4F3B-3656-4D4A-BB20-EB02CE530BEF"></a>
<h2 id="GWUAD-GUID-194F4F3B-3656-4D4A-BB20-EB02CE530BEF" class="sect2"><span class="enumeration_section">13.7</span> Configuring Oracle GoldenGate to Use a Combination of Similar and Dissimilar Definitions</h2>
<div>
<div class="infobox-note" id="GUID-194F4F3B-3656-4D4A-BB20-EB02CE530BEF__GUID-D8A84F72-BBAE-4608-B2EF-14BC7A076C40">
<p class="notep1">Note:</p>
<p>This section does not apply to self-describing trail files.</p>
</div>
<p><code class="codeph">ASSUMETARGETDEFS</code> and <code class="codeph">SOURCEDEFS</code> can be used in the same parameter file. This can be done when column mapping or conversion must be performed between some of the source-target table pairs, but not for other table pairs that are identical.</p>
<p>The following is an example of how to use <code class="codeph">SOURCEDEFS</code> and <code class="codeph">ASSUMETARGETDEFS</code> in the same parameter file. This example builds on the previous examples where tables in the <code class="codeph">acct</code>, <code class="codeph">ord</code>, and <code class="codeph">hr</code> schemas require <code class="codeph">SOURCEDEFS</code>, but it adds a <code class="codeph">rpt</code> schema with tables that are dynamically created with the name <code class="codeph">stock</code> appended with a random numerical value. For Oracle GoldenGate to replicate the DDL as well as the DML, the target tables must be identical. In that case, <code class="codeph">ASSUMETARGETDEFS</code> is required.</p>
<pre dir="ltr">
REPLICAT acctrep
USERIDALIAS ogg
SOURCEDEFS c:\ggs\dirdef\record.def
MAP acct.cust*, TARGET acct.cust*, DEF custdef;
MAP ord.prod, TARGET ord.prod;
MAP ord.parts, TARGET ord.parts;
MAP hr.emp, TARGET hr.emp;
MAP hr.salary, TARGET hr.salary;
ASSUMETARGETDEFS
MAP rpt.stock, TARGET rpt.stock;
</pre></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="associating-replicated-data-metadata.htm#GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" title="This chapter describes the uses of metadata and how to associate replicated data with metadata.">Associating Replicated Data with Metadata</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment24">
<tr>
<td class="cellalignment31">
<table class="cellalignment29">
<tr>
<td class="cellalignment28"><a href="mapping-and-manipulating-data.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment28"><a href="configuring-online-change-synchronization.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment33">
<table class="cellalignment27">
<tr>
<td class="cellalignment28"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment28"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
