<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>A Adapter Examples</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1023">
<meta name="description" content="This appendix lists the examples that are included with the Oracle GoldenGate Adapter installation and explains examples for some use cases.">
<meta name="dcterms.created" content="2015-04-08T9:18:57Z">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="robots" content="all">
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Application Adapters Administering Oracle GoldenGate Adapters">
<meta name="dcterms.identifier" content="E61853-01">
<meta name="partno" content="E64636-01">

<meta name="dcterms.isVersionOf" content="GADAD">
<link rel="Start" href="../../index.htm" title="Home" type="text/html">
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html">

<script type="application/javascript" src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript" src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html">
<link rel="Prev" href="apdx_part.htm" title="Previous" type="text/html">
<link rel="alternate" href="../GADAD.pdf" title="PDF version" type="application/pdf">
<link rel="alternate" href="../GADAD.epub" title="ePub version" type="application/epub+zip">
<link rel="alternate" href="../GADAD.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook">
<link rel="schema.dcterms" href="http://purl.org/dc/terms/">
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="application/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53addf516e0e58a5"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate Adapters</a>
</div>

<span id="PAGE" style="display:none;">28/28</span>
<!-- End Header -->
<div id="GADAD561" class="appendix"><a id="CJABBCCG"></a>
<h1 class="appendix"><span class="secnum">A</span> Adapter Examples</h1>
<p><a id="GADAD562"></a>This appendix lists the examples that are included with the Oracle GoldenGate Adapter installation and explains examples for some use cases.</p>
<p>This appendix includes the following sections:</p>
<ul>
<li>
<p><a href="#A1096897">List of Included Examples</a></p>
</li>
<li>
<p><a href="#A1105984">Configuring Logging</a></p>
</li>
</ul>
<a id="A1096897"></a>
<div id="GADAD605" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.1</span> List of Included Examples</h2>
<p>The following examples are located in the <code>AdaptersExamples</code> subdirectory of the installation location.</p>
<p class="subhead2"><a id="GADAD563"></a>Flat File Writer</p>
<ul>
<li>
<p>Using the Oracle GoldenGate Flat File Adapter to convert Oracle GoldenGate trail data to text files.</p>
</li>
</ul>
<p class="subhead2"><a id="GADAD564"></a>Message Delivery</p>
<ul>
<li>
<p>Using the Oracle GoldenGate Java Adapter to send JMS messages with a custom message format.</p>
</li>
<li>
<p>Using the Oracle GoldenGate Java Adapter to send JMS messages with custom message header properties.</p>
</li>
</ul>
<p class="subhead2"><a id="GADAD565"></a>Message Capture</p>
<ul>
<li>
<p>Using the Oracle GoldenGate Java Adapter to process JMS messages, creating an Oracle GoldenGate trail.</p>
</li>
</ul>
<p class="subhead2"><a id="GADAD566"></a>Java User Exit API</p>
<ul>
<li>
<p>Using the Oracle GoldenGate Java Adapter API to write a custom event handler.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="A1105984"></a>
<div id="GADAD606" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> Configuring Logging</h2>
<p>This example explains how to configure logging for release 11.2.1 or later Oracle GoldenGate Adapters user exits. The first section configures a typical Extract pump, which triggers the logging defaults. The second section explains how to customize the logging implementation.</p>
<div id="GADAD607" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref371"></a>
<h3 class="sect2"><span class="secnum">A.2.1</span> Example Oracle GoldenGate Java User Exit Defaults</h3>
<p>The following Oracle GoldenGate Java user exit Extract example configuration triggers the logging defaults.</p>
<p class="subhead2"><a id="GADAD608"></a>Extract Parameter File</p>
<pre>
EXTRACT jms1
SOURCEDEFS dirdef/aa.def
CUSEREXIT libggjava_ue.so CUSEREXIT PASSTHRU INCLUDEUPDATEBEFORES
GETUPDATEBEFORES
TABLE GG.*;
</pre>
<p class="subhead2"><a id="GADAD609"></a>Properties file</p>
<p>The associated property file is named for the Extract group, <code>jms1.properties</code>. All JNI properties have default values and thus do not need to be specified, so this is a complete properties file.</p>
<pre>
gg.handlerlist=my_jms
   
gg.handler.my_jms.type=jms
gg.handler.my_jms.destination=dynamicQueues/testQ1
gg.handler.my_jms.format=xml2
gg.handler.my_jms.mode=op
gg.handler.my_jms.connectionFactory=ConnectionFactory

gg.java.naming.provider.url=tcp://localhost:61616
   gg.java.naming.factory.initial=org.apache.activemq.jndi.ActiveMQInitialContextFactory
   
gg.classpath=/opt/activemq/activemq-all.jar
</pre>
<p class="subhead2"><a id="GADAD610"></a>The Resulting Log File</p>
<p>The log file will be created when you add and start the Extract in GGSCI, For example:</p>
<pre>
ggsci&gt; ADD EXTRACT jms1, EXTRAILSOURCE dirdat/aa
ggsci&gt; START MGR
ggsci&gt; START EXTRACT jms1
</pre>
<p>The log file is written to the same directory as the report file. It is named for the Extract group. For Example:</p>
<pre>
$ ls -l dirrpt/ 
total 48
-rw-rw-rw- 1 1685   Apr 16 20:38   MGR.rpt
-rw-rw-rw- 1 1685   Apr 16 20:38   jms1.rpt
-rw-rw-rw- 1 21705  Apr 19 13:59   jms1_info_0.log.0 
-rw-rw-rw- 1 0      Apr 19 13:58   jms1_info_0.log.0.lck
</pre></div>
<!-- class="sect2" -->
<div id="GADAD611" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref372"></a>
<h3 class="sect2"><span class="secnum">A.2.2</span> Customizing Logging</h3>
<p>This example describes how to customize the logging for 11.2.1 and later Oracle GoldenGate user exit adapters by using one of two methods:</p>
<ul>
<li>
<p>Use Java adapter user exit properties</p>
<pre>
gg.log={ jdk | logback | log4j }
gg.log.level={ info | debug | trace }
gg.log.classpath={ classpath for logging }
</pre>
<p>If the log implementation property <code>gg.log</code> is not set, the <code>jdk</code> option defaults. This specifies that <code>java.util.logging</code> (<code>JUL</code>) is used. The log level defaults to <code>info</code>. To customize this, you can set the <code>gg.log</code> to either:</p>
<ul>
<li>
<p><code>log4j</code> - This automatically configures the class path to include the Log4j and appropriate <code>slf4j-log4j</code> binding.</p>
</li>
<li>
<p><code>logback</code> - To use the <code>logback</code> option, the logback jars must be manually downloaded and copied into the install directory. The class path is still automatically configured as long as the jars are copied into the predefined location. See <code>ggjava/resources/lib/optional/logback/ReadMe-logback.txt</code> for more information.</p>
</li>
</ul>
</li>
<li>
<p>Use JVM options</p>
<p>Instead of using default logging or setting logging properties, <code>jvm.bootoptions</code> can be used to define the logging. To do this, set <code>jvm.bootoptions</code> to include the system property that defines the configuration file by doing one of the following:</p>
<ul>
<li>
<p>Specify a log4j configuration file:</p>
<pre>
jvm.bootoptions=-Dlog4j.configuration=<span class="codeinlineitalic">my-log4j.properties</span>
</pre>
<p>This implicitly sets <code>gg.log</code> to <code>log4j</code> as the type of logging implementation and appends <code>slf4j-log4j12</code> binding to the class path.</p>
</li>
<li>
<p>Specify a <code>java.util.logging</code> properties file or class:</p>
<pre>
jvm.bootoptions=-Djava.util.logging.config.file=<span class="codeinlineitalic">my-logging.properties</span>
</pre>
<p>This implicitly sets <code>gg.log=jdk</code>, which specifics <code>java.util.logging</code> (<code>JUL</code>). It appends <code>slf4j-jdk14</code> binding to the class path.</p>
</li>
<li>
<p>First, download and copy <code>logback-core-jar</code> and <code>logback-classic-jar</code> into <code>ggjava/resources/lib/optional/logback.</code> Then specify a logback configuration file:</p>
<pre>
jvm.bootoptions=-Dlogback.configuationFile=<span class="codeinlineitalic">my-logback.xml </span>
</pre>
<p>This implicitly sets <code>gg.log=logback</code> and appends <code>logback-classic</code> and <code>logback-core</code> to the class path.</p>
</li>
</ul>
<p>These are implicit settings of <code>gg.log</code> and <code>gg.log.classpath</code> that will be overridden by an explicit setting of either of these properties in the property file. The logging class path will also be overridden by setting the JVM class path to include specific jars, such as:</p>
<pre>
jvm.bootoptions=...-Djava.class.path=<span class="codeinlineitalic">mypath</span>/<span class="codeinlineitalic">my1</span>.jar:<span class="codeinlineitalic">mypath2</span>/<span class="codeinlineitalic">my2</span>.jar...
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
Setting the JVM class path to include specific jars may cause duplicate, possibly conflicting, implementations in the class path.</div>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="appendix" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr>
<table class="cellalignment12">
<tr>
<td class="cellalignment19"><table class="cellalignment23">
<tr>
<td class="cellalignment16"><a href="apdx_part.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page"><br>
<span class="icon">Previous</span></a></td>


</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle"><br>
Copyright&nbsp;&copy;&nbsp;2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment21">
<table class="cellalignment15">
<tr>
<td class="cellalignment16"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home"><br>
<span class="icon">Home</span></a></td>
<td class="cellalignment16"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents"><br>
<span class="icon">Contents</span></a></td>
<td class="cellalignment16"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page"><br>
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
