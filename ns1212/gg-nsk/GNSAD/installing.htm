<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Installing Oracle GoldenGate for HP NonStop</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.24" />
<meta name="description" content="Once you have planned how you want your data management environment to operate, you are ready to design its infrastructure and install Oracle GoldenGate for HP NonStop." />
<meta name="dcterms.created" content="2014-08-06T9:43:49Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="GoldenGate for Mainframe Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E28904-01" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1995, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="introduction.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring.htm" title="Next" type="text/html" />
<link rel="alternate" href="E28904-01.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">5/17</span> <!-- End Header --><a id="i934084"></a><a id="GNSAD151"></a>
<h1 class="chapter"><span class="secnum">2</span> Installing Oracle GoldenGate for HP NonStop</h1>
<p><a id="GNSAD152"></a>Once you have planned how you want your data management environment to operate, you are ready to design its infrastructure and install Oracle GoldenGate for HP NonStop. This chapter describes how to install Oracle GoldenGate for Mainframe for the Guardian operating system of the HP NonStop platform.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#i957106">Section 2.1, "Installing Oracle GoldenGate"</a></p>
</li>
<li>
<p><a href="#i937158">Section 2.2, "Upgrading Oracle GoldenGate"</a></p>
</li>
<li>
<p><a href="#i934244">Section 2.3, "Preparing your Production Environment"</a></p>
</li>
<li>
<p><a href="#A1003762">Section 2.4, "Preparing the Source and Target"</a></p>
</li>
</ul>
<a id="i957106"></a><a id="GNSAD153"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">2.1</span> Installing Oracle GoldenGate</h2>
<p>When you install Oracle GoldenGate for NonStop, you install Oracle GoldenGate components such as:</p>
<ul>
<li>
<p>Audserv</p>
</li>
<li>
<p>GGSCI</p>
</li>
<li>
<p>Manager</p>
</li>
<li>
<p>Logger</p>
</li>
<li>
<p>Extract</p>
</li>
<li>
<p>Collector</p>
</li>
<li>
<p>Replicat</p>
</li>
<li>
<p>Coordinator</p>
</li>
<li>
<p>Reader</p>
</li>
<li>
<p>Syncfile</p>
</li>
<li>
<p><code>DEFGEN</code></p>
</li>
<li>
<p><code>DDLGEN</code></p>
</li>
<li>
<p>MEAS utilities</p>
</li>
<li>
<p>Supporting files, such as Help</p>
</li>
</ul>
<p>Release 8.0 and later auto-detects your Guardian operating system version and installs the native version of Oracle GoldenGate code where applicable. You can also tell Oracle GoldenGate to install TNS code during the installation routine. This procedure takes a short amount of time.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>TNS Audserv is no longer supported as of release 12.1.2 and later.</p>
</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>HP NonStop Server installations use the <code>UNPAK</code> utility. Verify that you have a copy of this utility before proceeding.</p>
</div>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>Use a maximum of six characters to name any volume used for files or tables to be processed with Oracle GoldenGate for HP NonStop. <code>$CADATA</code> is supported, but <code>$CADATA1</code> is not.</p>
</div>
<a id="GNSAD479"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref46"></a>
<h3 class="sect2"><span class="secnum">2.1.1</span> Downloading Oracle GoldenGate for HP NonStop</h3>
<p>First go to the Oracle support site to look for the latest download of the release you want.</p>
<ol>
<li>
<p>Navigate to <code><a href="http://support.oracle.com">http://support.oracle.com</a></code>.</p>
</li>
<li>
<p>Log in with your Oracle ID and password.</p>
</li>
<li>
<p>Select the Patches and Upgrades tab.</p>
</li>
<li>
<p>On the Search tab, click Product or Family.</p>
</li>
<li>
<p>In the Product Field, type <span class="bold">Oracle GoldenGate</span>.</p>
</li>
<li>
<p>From the Release drop-down list, select the release version that you want o download.</p>
</li>
<li>
<p>Make sure Platform is displayed as the default in the next field, and then select the platform from the drop-down list.</p>
</li>
<li>
<p>Leave the last field blank.</p>
</li>
<li>
<p>Click <span class="bold">Search</span>.</p>
</li>
<li>
<p>In the Advanced Patch Search Results list, select the available builds that satisfy the criteria that you supplied.</p>
</li>
<li>
<p>In the file Download dialog box, click the zip file to begin the download.</p>
</li>
</ol>
<p>If patches are not available on the support site, go to the Oracle delivery site for the release download.</p>
<ol>
<li>
<p>Navigate to <code><a href="https://edelivery.oracle.com/.">https://edelivery.oracle.com/.</a></code></p>
</li>
<li>
<p>Sign in with your Oracle ID and password.</p>
</li>
<li>
<p>On the <span class="gui-object-title">Terms and Restrictions</span> page:</p>
<ul>
<li>
<p>Accept the <span class="gui-object-action">Trial License Agreement</span> (even if you have a permanent license).</p>
</li>
<li>
<p>Accept the <span class="gui-object-action">Export Restrictions</span>.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Continue</span>.</p>
</li>
</ul>
</li>
<li>
<p>On the <span class="gui-object-title">Media Pack Search</span> page:</p>
<ul>
<li>
<p>Select the <span class="gui-object-action">Oracle Fusion Middleware</span> Product Pack.</p>
</li>
<li>
<p>Select the platform on which you will be installing the software.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Go</span>.</p>
</li>
</ul>
</li>
<li>
<p>In the <span class="gui-object-title">Results List</span>:</p>
<ul>
<li>
<p>Select the Oracle GoldenGate Media Pack that you want.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Continue</span>.</p>
</li>
</ul>
</li>
<li>
<p>On the <span class="gui-object-title">Download</span> page:</p>
<ul>
<li>
<p>View the <code>Readme</code> file.</p>
</li>
<li>
<p>Click <span class="gui-object-action">Download</span> for each component that you want. Follow the automatic download process to transfer the <code>mediapack.zip</code> file to your system.</p>
</li>
</ul>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="GNSAD480"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref47"></a>
<h3 class="sect2"><span class="secnum">2.1.2</span> Installing Oracle GoldenGate for HP NonStop</h3>
<p>Follow these steps use the downloaded file to install Oracle GoldenGate for HP NonStop.</p>
<ol>
<li>
<p>Save the downloaded file to a directory on your workstation and unzip it to a temporary folder.</p>
</li>
<li>
<p>Upload the <code>GGSUNPAK</code> and <code>GGS</code><code><span class="codeinlineitalic">OS_version</span></code><code>PK</code> files in <span class="italic">binary</span> mode to the volume and subvolume on your HP NonStop Server where you want to install and run Oracle GoldenGate. We recommend that you preface the subvolume name with <code>GGS</code> and include the release of Oracle GoldenGate. For example, if you are installing Oracle GoldenGate release 12.1.2, then we recommend you install on <code>$PROD.GGS1212</code>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>If you are using Oracle GoldenGate against a TMF-enabled (or audited) database, then Oracle GoldenGate must be installed on a volume that is TMF-protected because the internal Oracle GoldenGate file must be audited.</p>
</div>
</li>
<li>
<p>Alter <code>GGSUNPAK</code> to be an Edit file.</p>
<pre>
TACL&gt; FUP ALTER GGSUNPAK, CODE 101 
</pre></li>
<li>
<p>Run <code>GGSUNPAK</code> and confirm the installation location. If the correct location is not displayed, you are prompted for it, as shown here.</p>
<pre>
TACL 2&gt; run ggsunpak
Installing Oracle GoldenGate at $DATA4.CPSTEMP 
Is this correct?(Y/N) N
Enter the volume and subvolume to install Oracle GoldenGate: <span class="gui-object-action">$VOL.GGS1111</span>
Installing Oracle GoldenGate at $VOL.GGS1111
Is this correct?(Y/N) <span class="gui-object-action">Y</span>
</pre>
<p>Text similar to the following will display:</p>
<pre>
UNPAK - File decompression program - T1255G06 . . .
Archive version: 1
File Mode RESTORE Program - T9074G07 . . .
(C)2000 Compaq (C)2005 Hewlett Packard Development Company, L.P.
Drives: (\GGS2.$X6JZ)
System: \PROD Operating System: G06  Tape Version: 3
Backup options:  NO AUDITED, BLOCKSIZE 8, NO IGNORE, NO OPEN, PARTONLY OFF, INDEXES IMPLICIT
Restore time: 20Apr2010 13:36  Backup time: 20Apr2010 13:33 Page: 1
Tape: 1       Code             EOF      Last modify   Owner RWEP   Type   Rec Bl
Summary Information
Disk related warnings = 2  Disk related errors = 0
Files restored = 91  Files not restored = 0
* Extractor-TDM and Replicator-TDM Installation *
*************************************************
*   The Installation routine has changed,        *
*   please pay attention to the prompting        *
*************************************************
</pre></li>
<li>
<p>(The prompts in this step appear only on a G06.16 operating system and are omitted on D30 or D40 systems.) For G06, you are asked if you need TNS versions of Extract and Replicat. Oracle GoldenGate recommends using the Native versions of these components, but if you have TNS mode user exits, enter <span class="gui-object-action">Y</span> at the prompts to install the TNS versions.</p>
<pre>
Since you are installing G06.16, we are installing Native mode objects.
Do you use TNS mode User Exits in Extract (Y/N)? <span class="bold">N</span>
Do you use TNS mode User Exits in Replicat (Y/N)? <span class="bold">N</span>
$DATA11.GGS1111.TEMP1 purged.
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>For the purposes of this documentation, it is assumed that Native mode objects will be installed.</p>
</div>
</li>
<li>
<p>You are asked whether to build Oracle GoldenGate intercept libraries. Oracle GoldenGate recommends building a <code>GGSLIB</code> object, but it can be omitted if you do not need to capture non-audited Enscribe files or FUP-related activities. (You can build a <code>GGSLIB</code> object later.)</p>
<pre>
*************************************************
*   If you need the TNS mode GGS Intercept      *
*   Library GGSLIB then answer Yes,             *
*   Otherwise you can skip this step.           *
*************************************************
Build of new GGSLIB recommended. Build now (y/n)? <span class="bold">Y</span>
</pre></li>
<li>
<p>The <code>BUILDMAC</code> utility runs and searches for run-time libraries to bind with <code>GGSLIB</code>, and you may be prompted that one or more libraries is missing. Enter <code>Y</code> to continue.</p>
<pre>
*** Running BUILDMAC to build GGSLIB ***
*******************************************************
Looking for runtime libraries to BIND with GGSLIB
*******************************************************
Adding $SYSTEM.ZCOBOLRT.CLIBOBJ (COBOL74)
Adding $SYSTEM.ZCOB85RT.C8LIB (COBOL85)
$SYSTEM.ZCRERTL.CFELIB skipped (CRE)
Adding $SYSTEM.SYSTEM.CRELIB (CRE)
Adding $SYSTEM.SYSTEM.COBOLLIB (COBOL85)
One or more libraries was missing. Continue anyway? (Y/N) <span class="bold">Y</span>
</pre></li>
<li>
<p>You are asked if you want to include a user library. Respond either <code>Y</code> or <code>N</code>.</p>
<pre>
Do you want to include your own User Library (y/n)? <span class="bold">N</span>
</pre></li>
<li>
<p>You are asked if you want to change the location of the <code>AUDCFG</code>.</p>
<pre>
Do you want to change the location for the AUDCFG segment (Y/N): <span class="bold">N</span>
</pre>
<p>If you respond with yes, it prompts you for the new default location (<span class="variable">$vol.subvol</span>) of the <code>AUDCFG</code> segment.</p>
<p>Assuming you opted to build the intercept libraries, you will see the <code>BIND</code> steps being performed. You may see the following Binder messages that can be safely ignored. They are:</p>
<pre>
WARNING 60: Parameter mode mismatch on PXS_FILE_WRITE_parameter2. Parameter mismatch between two external procedure declarations. The parameters are declared as STRING and OTHER.
WARNING 61: Parameter type mismatch on PXFS_FILE_WRITE_parameter2. Parameter mismatch between two external procedure declarations. The parameters are declared as INT32 and OTHER.
WARNING 61 Parameter type mismatch on PXFS_FILE_WRITE_parameter3.
</pre>
<p>Other warnings may also be displayed and can be ignored.</p>
</li>
<li>
<p>You are asked if you want to build the native mode Oracle GoldenGate intercept libraries <code>GGSLIBR</code> and <code>GGSSRL</code>/<code>GGSDLL</code>. To install native code, enter <code>Y</code> and continue to the next step; otherwise, enter <code>N</code> to use TNS code and then skip to step <a href="#i938903">17</a>.</p>
<pre>
*************************************************
*   If you need the Native mode GGS Intercept   *
*   Library GGSSRL/GGSLIBR then answer Yes,     *
*   Otherwise you can skip this step.           *
*************************************************
STOPPED: 2,33
CPU time: 0:00:00.945
1: Process terminated with warning diagnostics
STOPPED: 2,223
CPU time: 0:01:18.782
1: Process terminated with warning diagnostics
Build Native mode GGSLIBR &amp; GGSSRL (Y/N?) <span class="bold">Y</span>
</pre></li>
<li>
<p>The <code>NLDLIB</code> macro runs, and you are asked if you want to include a user library. Reply either <code>Y</code> or <code>N</code>.</p>
<pre>
*** Running NLDLIB to build GGSLIBR &amp; GGSSRL ***
----------------------------------------------------------------
NLDLIB builds the native relinkable libraries GGSLIBR and GGSSRL
A Native mode GGSLIB needs the re-linkable versions of some
Tandem SRLs. ZCREREL and ZCOBREL. If Native cobol support is not
required then ZCOBREL may be omitted.
If Native Cobol support is required then you have to compile the
Cobol program and search in GGSLIBR
A Native mode GGSSRL will be built for a User Library for Dynamic
linking
Enter X at any prompt to EXIT
----------------------------------------------------------------
Do you want to include your own User Library (Y/N) : <span class="bold">N</span>
</pre></li>
<li>
<p>You are asked if you want to change the location of the <code>AUDCFG</code>.</p>
<pre>
Do you want to change the location for the AUDCFG segment(Y/N) : N
</pre>
<p>If you respond with yes, it prompts you for the new default location ($<span class="variable">vol.subvol</span>) of the <code>AUDCFG</code> segment.</p>
</li>
<li>
<p>You are asked if you want to include <code>ZCREREL</code>. It is recommended to enter <code>Y</code> to include it unless you know your applications do not use these libraries.</p>
<pre>
Do you want to include ZCREREL (Y/N) : <span class="bold">Y</span>
</pre>
<p><code>NLDLIB</code> searches for <code>ZCREREL</code> locations and displays them.</p>
<pre>
Looking for ZCREREL ..
$SYSTEM.SYS02.ZCREREL $SYSTEM.SYS03.ZCREREL $SYSTEM.SYS04.ZCREREL
$DATA09.R1269G09.ZCREREL $DATA09.R8431G09.ZCREREL
</pre></li>
<li>
<p>You are asked to enter the location of the <code>ZCREREL</code> to use.</p>
<pre>
Enter location of ZCREREL : $SYSTEM.SYS03.ZCREREL
</pre></li>
<li>
<p>You are asked if you want to include <code>ZCOBREL</code>. It is recommended to enter 3 to include it unless you know your applications do not use these libraries.</p>
<pre>
Do you want to include ZCOBREL (Y/N) : <span class="bold">Y</span>
</pre>
<p><code>NLDLIB</code> searches for <code>ZCOBREL</code> locations and displays them.</p>
<pre>
Looking for ZCOBREL ..
$SYSTEM.SYS02.ZCOBREL $SYSTEM.SYS03.ZCOBREL $SYSTEM.SYS04.ZCOBREL
$DATA09.R8107G09.ZCOBREL $DATA09.R8108D46.ZCOBREL
</pre></li>
<li>
<p>You are asked to enter the location of the <code>ZCOBREL</code> to use. If you plan to use COBOL, enter a location; otherwise, you can press <span class="bold">Enter</span> to bypass this prompt.</p>
<pre>
Enter location of ZCOBREL : $SYSTEM.SYS03.ZCOBREL
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>If you omit a <code>ZCOBREL</code> location, you are prompted to confirm your choice:</p>
<pre>
Omit ZCOBREL (y/n):Y
</pre></div>
<p><code>NLDLIB</code> builds the <code>GGSLIBR</code> and <code>GGSSRL</code> libraries, displaying a series of informational messages and the names of the files that were created.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p><a id="i953362"></a>On systems running Guardian G06.23 or earlier, the <code>GGSUNPAK</code> utility installs and accelerates Audserv and Logdump. If you are running G06.24 or later, you will not see any acceleration messages.</p>
</div>
</li>
<li>
<p><a id="i938903"></a>You are asked if Oracle GoldenGate should use an existing SQL catalog or create a new catalog. Either enter <code>X</code> to specify no catalog or enter the name of a catalog to use. If you enter a catalog name and it does not exist, you are asked whether to create it.</p>
<pre>
SQL Catalog for Compilation (X for no catalog)? <span class="bold">GGSCAT</span>
Catalog $TRNG04.CPSCAT does not exist. Create it (Y/N)? <span class="bold">Y</span>
</pre>
<p>The SQL compilation completes, and then libraries and programs are linked. This happens automatically and does not require action from you.</p>
</li>
<li>
<p>You are asked if you want to migrate information from another Oracle GoldenGate environment. If you are installing Oracle GoldenGate for the first time, enter <code>N</code>. If you are upgrading from a previous version, see <a href="#i937158">"Upgrading Oracle GoldenGate"</a>. A migration requires shutting down existing Oracle GoldenGate processes and, if Logger is being used, the user application. (The following assumes a new installation.)</p>
<pre>
Would you like to Migrate information
from another GGS Environment (Y/N)? <span class="bold">N</span>
</pre></li>
<li>
<p>You are advised to license your programs as shown in the following prompt, and then the installation utility finishes.</p>
<pre>
Make sure to secure files appropriately. If EXTRACT is to be executed
outside of the SUPER group, you must PROGID and LICENSE the AUDSERV
program for SUPER.SUPER authority. PRIVLIB must also be licensed
if executing Replicat outside SUPER group.
Audserv/LOGDUMP licensing only applies to TMF installations.
TMFARUL2 must be licensed
The Native Audserv must be licensed (A TMFARUL2 restriction)
The Native Logdump must be licensed if you are going to use it
to read TMF trails (A TMFARUL2 restriction)
TACL&gt; LOGON SUPER.SUPER
TACL&gt; FUP
-GIVE Audserv, SUPER.SUPER
-SECURE Audserv, "NUNU", PROGID
-LICENSE Audserv
-LICENSE PRIV*
-LICENSE LOGDUMP
-LICENSE TMFARUL2
Installation Complete.
</pre>
<p>Licensing must be run by <code>SUPER.SUPER</code> because the following privileged access is required:</p>
<ul>
<li>
<p>Audserv and <code>TMFARUL2</code> access the TMF trails through audit read routines.</p>
</li>
<li>
<p><code>PRIVLIB</code> contains privileged Replicat code that runs certain privileged <code>FUP DUP</code> or <code>FUP LOAD</code> operations.</p>
</li>
<li>
<p>Logdump provides a version that can read the audit read routines. If you do not want Logdump to be able to read the audit trails, do not license it.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>If the version of your SQL catalog does not allow <code>FUP</code> to alter the program, you can <code>PROGID</code> and license the programs by using the following commands to license the components shown.</p>
</div>
</li>
</ul>
<pre>
TACL&gt; LOGON SUPER.SUPER
TACL&gt; SQLCI
 &gt;&gt; ALTER PROGRAM AUDSERV OWNER 255,255;
 &gt;&gt; ALTER PROGRAM AUDSERV SECURE "NUNU" PROGID;
 &gt;&gt; EXIT
TACL&gt; FUP
 - LICENSE (AUDSERV, PRIV*, LOGDUMP, TMFARUL2)
 - EXIT
</pre></li>
<li>
<p>Once your product is installed, log on as the owner of your Oracle GoldenGate environment.</p>
</li>
<li>
<p>(Optional) You can purge the <code>*PK</code> files, if desired.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i937158"></a><a id="GNSAD154"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">2.2</span> Upgrading Oracle GoldenGate</h2>
<p>Upgrading Oracle GoldenGate requires three phases: backup, installation, and migration.</p>
<ul>
<li>
<p><span class="bold">Backup:</span> Perform a full backup of your Oracle GoldenGate environment before installing and migrating to the latest Oracle GoldenGate release.</p>
</li>
<li>
<p><span class="bold">Installation:</span> Install Oracle GoldenGate following the steps discussed in <a href="#i957106">"Installing Oracle GoldenGate"</a>. Keep in mind that you must specify a new subvolume for your upgraded Oracle GoldenGate instance.</p>
</li>
<li>
<p><span class="bold">Migration:</span> Once you have installed Oracle GoldenGate, you must migrate to the latest instance. Perform the following steps to complete the migration.</p>
</li>
</ul>
<a id="GNSAD155"></a>
<div class="sect2"><a id="sthref48"></a>
<h3 class="sect2"><span class="secnum">2.2.1</span> Migrating from a Previous Release of Oracle GoldenGate:</h3>
<p>Following are the steps to migrate from a previous release of Oracle GoldenGate:</p>
<ol>
<li>
<p>Bring down your current Oracle GoldenGate instance:</p>
<pre>
TACL&gt; RUN GGSCI
GGSCI&gt; STOP SYNCFILE *
GGSCI&gt; STOP REPLICAT *
GGSCI&gt; STOP EXTRACT *
GGSCI&gt; STOP LOGGER
GGSCI&gt; STOP MANAGER
GGSCI&gt; EXIT
</pre></li>
<li>
<p>After you install Oracle GoldenGate, <code>GGSUNPAK</code> prompts you:</p>
<pre>
Would you like to Migrate information from another GGS environment (Y/N): <span class="bold">Y</span>
</pre></li>
<li>
<p>Enter your previous Oracle GoldenGate volume and subvolume:</p>
<pre>
Enter old GGS vol.subvol: $PROD.GGS1000
Copying GGS data from $PROD.GGS1000...
File Utility Program - T6553G07 - System  \GGS2
(C)1981 Tandem (C)2005 Hewlett Packard Development Company, L.P.
ALLOW ABENDS OFF
ALTER CONTEXT, NO AUDIT
LOAD $DATA11.GGS1000.CONTEXT, CONTEXT, SORTED
RECORDS LOADED: 8
ALTER CONTEXT, AUDIT
ALTER GROUP, NO AUDIT
COPY $DATA11.GGS1000.GROUP, GROUP
3 RECORDS TRANSFERRED
ALTER GROUP, AUDIT
ALTER EXTCTXT, NO AUDIT
COPY $DATA11.GGS1000.EXTCTXT, EXTCTXT
1 RECORDS TRANSFERRED
ALTER EXTCTXT, AUDIT
ALTER REPGRP, NO AUDIT
COPY $DATA11.GGS1000.REPGRP, REPGRP
1 RECORDS TRANSFERRED
ALTER REPGRP, NO AUDIT
COPY $DATA11.GGS1000.REPGRP, REPGRP
1 RECORDS TRANSFERRED
ALTER REPGRP, AUDIT
ALTER REPCTXT, NO AUDIT
COPY $DATA11.GGS1000.REPCTXT, REPCTXT
2 RECORDS TRANSFERRED
ALTER REPCTXT, AUDIT
ALTER REMCTXT, NO AUDIT
ALTER REMCTXT, AUDIT
ALTER RMTCTXT, NO AUDIT
COPY $DATA11.GGS1000.RMTCTXT, RMTCTXT
1 RECORDS TRANSFERRED
ALTER RMTCTXT, AUDIT
LOAD $DATA11.GGS1000.LOGGGS, LOGGGS, SORTED
RECORDS LOADED: 188
ALTER LOGCONF, NO AUDIT
ALTER LOGCONF, AUDIT
ALTER MRKRGGS, NO AUDIT
ALTER MRKRGGS, AUDIT
</pre></li>
<li>
<p>If you have a running Logger process, you are asked if you want to <code>HOTSWAP</code> the Logger object.</p>
<pre>
Logger was running during migrate
Do you want to HOWSWAP logger to the new ENV  (Y?N)
</pre>
<p>If you answer yes, the program will change to the Logger object running in the migration process installation location.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>You can <code>HOTSWAP</code> only when migrating from a release 10.0 or later environment. <span class="bold">Caution:</span> You must coordinate <code>HOTSWAP</code> with any manual steps to upgrade <code>BASELIB</code> as part of the upgrade process.</p>
</div>
</li>
<li>
<p><code>DUP</code> any Obey files you use in your current Oracle GoldenGate environment. This step is particularly critical if your Obey files contain table define names or startup/shutdown commands.</p>
</li>
<li>
<p>Recompile your user exits, then rebind them into Oracle GoldenGate. You must perform this step to ensure your user exits work with your newly-installed release of Oracle GoldenGate.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>When you install the new release of Oracle GoldenGate, all program locations are updated to the new default. If Extract or Replicat are expected to run from a specific place, you must manually point to the correct location using the <code>ALTER</code> command.</p>
</div>
<pre>
TACL&gt; ALTER EXTRACT <span class="variable">group_name</span> PROGRAM <span class="variable">program_location</span>
</pre></li>
<li>
<p>Point your applications to the new release of GGSLIB.</p>
<pre>
TACL&gt; BIND PROGRAMS, CHANGELIB
</pre>
<p>Enter the list of applications you want to bind.</p>
<p>Enter your new GGSLIB when prompted.</p>
<p>Enter <code>GO</code> to bind your new library to your applications.</p>
</li>
<li>
<p>Restart your Oracle GoldenGate components in your new environment.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i934244"></a><a id="GNSAD156"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">2.3</span> Preparing your Production Environment</h2>
<p>This section outlines considerations that impact the overall architecture of your particular Oracle GoldenGate environment. These considerations include:</p>
<ul>
<li>
<p>Sizing</p>
</li>
<li>
<p>CPU requirements</p>
</li>
<li>
<p>Disk space requirements</p>
</li>
<li>
<p>Data communications requirements</p>
</li>
</ul>
<a id="i936374"></a><a id="GNSAD157"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.3.1</span> Sizing</h3>
<p>Before you begin running Oracle GoldenGate in your production environment, you should consider several factors regarding the size of your replication environment, including the following statistics.</p>
<ul>
<li>
<p><span class="bold">Counts of inserts, updates and deletes generated on a per-file basis.</span> A common reference point is the application's transaction rate, from which these numbers can often be estimated.</p>
</li>
<li>
<p><span class="bold">The byte generation rate caused by inserts, updates and deletes.</span> Use this statistic to estimate disk space requirements and communications bandwidth. Byte generation totals during peak periods and over an extended time frame are also important.</p>
</li>
<li>
<p><span class="bold">For update-intensive applications, the number of bytes in a record that change during an update.</span> This is probably the most difficult statistic to extract (especially for Enscribe files) but can have a dramatic impact on bandwidth requirements. The number of bytes that change in a record during an update determines the compression rate for the record.</p>
</li>
<li>
<p><span class="bold">The cache hit rate and file busy percentages of the most heavily updated files.</span> This has a direct bearing on the throughput possible by individual Replicat processes on the target system.</p>
</li>
<li>
<p><span class="bold">Which programs are causing the heaviest amount of update activity.</span> It is often possible to avoid replicating certain types of activity (such as <code>FUP LOAD</code>) by excluding those programs from replication. Measuring individual programs is a concern primarily for non-TMF data processing.</p>
</li>
</ul>
<p>Oracle GoldenGate provides two programs, MEASFLS and MEASRPT, to assist in determining sizing and configuration parameters for TMF and non-TMF based processing. MEASFLS gathers statistics using MEASURE. MEASRPT interprets MEASURE statistics and produces a report that assists in the sizing process.The MEASFLS and MEASRPT programs collect these statistics easily without requiring knowledge of the Measure utility.</p>
<a id="GNSAD158"></a>
<div class="sect3"><a id="sthref49"></a>
<h4 class="sect3"><span class="secnum">2.3.1.1</span> Reducing Overall Requirements</h4>
<p>In some cases, due to bandwidth or application constraints, it can be desirable to eliminate certain files, programs or processes from Oracle GoldenGate.</p>
<p>To get a view of overall replication activity excluding certain files or programs, use the <code>MEASRPT EXCLUDEFILE</code> and <code>EXCLUDEPROGRAM</code> parameters.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i934259"></a><a id="GNSAD159"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.3.2</span> CPU Requirements</h3>
<p>CPU requirements for Oracle GoldenGate components vary primarily according to transactions rates, record sizes, and the I/O mix (numbers of updates versus inserts and deletes).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>The following section details system performance statistics in a variety of situations. However, your operating environment, including operating system versions, hardware, and network topology will affect the performance you experience. The following figures should be taken only as guidelines, useful for reference when you are planning your Oracle GoldenGate implementation.</p>
</div>
<p>As a percentage of overall application processing, Oracle GoldenGate as a general rule requires more CPU resources when:</p>
<ul>
<li>
<p>I/O is a larger percentage of overall application processing.</p>
</li>
<li>
<p>Files are buffered.</p>
</li>
<li>
<p>TMF auditing is off.</p>
</li>
<li>
<p>Cache hits are high.</p>
</li>
<li>
<p>When TMF is on, audit compression is used.</p>
</li>
<li>
<p>All files are replicated.</p>
</li>
</ul>
<p>More power is required because the application can produce relatively more I/O under these conditions.</p>
<a id="i934279"></a><a id="GNSAD160"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">2.3.2.1</span> TMF Data Extraction and Transfer</h4>
<p>Oracle GoldenGate extracts data in TMF applications by reading TMF audit trails (using the Audserv program). Audserv passes the data in large blocks to Extract, which formats and moves the data to the target system.</p>
<p>Oracle GoldenGate has observed TMF extraction takes between 1% and 10% of overall system processing. Typically this figure is 2-3%, but can skew higher when:</p>
<ul>
<li>
<p>The database is SQL.</p>
</li>
<li>
<p>As a percentage, there are a high number of updates in the application.</p>
</li>
<li>
<p>The SQL update statements set a large number of columns.</p>
</li>
<li>
<p><code>AUDITCOMPRESS</code> is on (Turning <code>AUDITCOMPRESS</code> off is not recommended because this can have an adverse effect on performance.)</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="GNSAD161"></a>
<div class="sect3"><a id="sthref50"></a>
<h4 class="sect3"><span class="secnum">2.3.2.2</span> Non-TMF Data Extraction and Transfer</h4>
<p>Non-TMF data extraction takes more processing power than TMF because blocks of data are written to log trails on disk, then transferred to the target system by Extract in a separate step.</p>
<p>It has been observed that non-TMF extraction activities take between 2% and 14% of overall application processing. This means that, if the application is running with an average of 50% busy for the CPUs, after replication is implemented the CPUs will be between 51% and 57% busy. This represents a significant variance and can be traced to the environmental factors listed above.</p>
</div>
<!-- class="sect3" -->
<a id="GNSAD162"></a>
<div class="sect3"><a id="sthref51"></a>
<h4 class="sect3"><span class="secnum">2.3.2.3</span> Intermediate Oracle GoldenGate Trails</h4>
<p>You can improve performance by writing data to intermediate trails. An intermediate trail is a trail written by Extract, extracted again, and transferred to Replicat. I/O to intermediate Oracle GoldenGate trails is serial, buffered and blocked at 28K bytes when the system is busy. This means that I/O rates upwards of three gigabytes per hour are possible to trails on the target (Higher rates are possible when you are running multiple instances of Extract, IP channels and controllers.) The impact of writing one gigabyte of data per hour using Extract has been measured to consume 5.5% of a single CPU on an S7000 system. (See the Note at the beginning of this chapter regarding system variance and its impact on performance.)</p>
<p>Any impact resulting from intermediate trails is absorbed by the target system. The volume of data written to the target is likely to be far less than the corresponding audit generated on the source system for TMF applications.</p>
<p>To minimize contention with other disk activity, isolate trails on separate disk drives when possible.</p>
</div>
<!-- class="sect3" -->
<a id="GNSAD163"></a>
<div class="sect3"><a id="sthref52"></a>
<h4 class="sect3"><span class="secnum">2.3.2.4</span> Replicat Performance</h4>
<p>Replicat performance on the target system is related closely to the I/O performance on the source system, as I/O is essentially the same on both. This means you can estimate the impact of I/O on the target system by determining the File Busy percentage of application files and tables on the source system.</p>
<p>When the target database is TMF-protected, the Replicat program can improve performance by 2-3 times by using the <code>GROUPTRANSOPS</code> parameter. This parameter groups several source transactions into a single transaction on the target, improving the performance of TMF significantly.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i934309"></a><a id="GNSAD164"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.3.3</span> Disk Space Requirements</h3>
<p>Disk space requirements can vary depending on whether you are processing data from TMF-enabled applications or from non-TMF-enabled applications.</p>
<a id="GNSAD165"></a>
<div class="sect3"><a id="sthref53"></a>
<h4 class="sect3"><span class="secnum">2.3.3.1</span> TMF Data Requirements</h4>
<p>TMF replication requires temporary storage for data read from audit trails. In most scenarios, extracted data is written directly to the target system. TMF audit trails generally act as safety storage if the target system or communication channel is unavailable or performing slowly.</p>
<p>In most cases, you must reserve enough space for TMF audit trails to tolerate an outage of one or more days. To determine your space requirements, check the rate at which audit is generated for a week or month and average the amount of space filled per day. Oracle GoldenGate can process tape dumps, so you can have a backlog as old as the oldest tape dump. However, restoring a tape dump can be cumbersome and usually requires manual intervention, so disk is preferred whenever possible.</p>
<p>Another way to reduce source system disk requirements is to store data in a local trail, then move it across the network through a separate Extract process. In many cases, the amount of data written to a trail by Extract is far less than the corresponding amount of data in the audit trails, especially when a subset of data is being replicated. Filtering unnecessary data in this manner reduces the total disk requirement.</p>
</div>
<!-- class="sect3" -->
<a id="GNSAD166"></a>
<div class="sect3"><a id="sthref54"></a>
<h4 class="sect3"><span class="secnum">2.3.3.2</span> Non-TMF Requirements</h4>
<p>Non-TMF database changes are stored in a log trail, which must be a local trail. Logged data is subsequently moved to the target system and replicated.</p>
<p>During typical activity, records in the log trail are replicated almost as soon as they become available, making the amount of disk required quite low. However, you must consider more extreme conditions when sizing disk space. For example, replication activity can fall behind due to:</p>
<ul>
<li>
<p>Target system maintenance (which might require suspension of Replicat processing)</p>
</li>
<li>
<p>Slow data replication on the target due to other activity on the system</p>
</li>
<li>
<p>Slow or downed communications links between the source and target</p>
</li>
</ul>
<p>When any of these conditions arise, you must store backlog locally. Many organizations use the general rule of accommodating one full day's worth of database updates. Allocate the number of bytes generated during this period for log trails on the source system.</p>
<p>In addition, you can move data to trails on the target system to minimize data loss caused by potential delays in Replicat processing. Size these trails for potential delays in replication.</p>
<p>When sizing for longer outages (for example, more than one day), you can use tape backups to reduce the amount of disk required.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="i934334"></a><a id="GNSAD167"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.3.4</span> Data Communications Requirements</h3>
<p>Each record Oracle GoldenGate sends to the target system includes a header portion and a data portion. To compute total byte generation and transfer requirements in a given period, sum the byte counts of the headers and data for each record inserted, updated or deleted during the period.</p>
<p>The overall amount of activity can be calculated using the following statement. (Headers vary in size, however, the average is approximately 50 bytes. For this reason, the following example uses an 80-byte header.)</p>
<pre>
(number of inserts * (size of average insert + 80)) +
(number of deletes * (size of average record + 80)) +
(number of updates * (size of averaged compressed update + 80))
</pre>
<p>For Enscribe files, the size of insert and delete records can vary and may not be the same as the record size for the file (which represents the maximum size of each record). For inserts and deletes, all bytes in the record are transferred, along with a header.</p>
<p>For SQL tables, all bytes are transferred for insert and delete records as well.</p>
<p>With Oracle GoldenGate, the following data is not transferred to the target system:</p>
<ul>
<li>
<p>Images of updates before the update occurs (Only after-images are sent for hot site backup.)</p>
</li>
<li>
<p>Alternate key data</p>
</li>
<li>
<p>SQL indexes</p>
</li>
<li>
<p>Data generated by <code>FUP RELOAD</code></p>
</li>
<li>
<p>Assorted other TMF records</p>
</li>
</ul>
<p>When sizing data communications bandwidth, peak byte generation is important. Bandwidth that can accommodate peak volumes helps guarantee low latency between the source and target databases at all times.</p>
<p>When moving data, Extract accumulates and sends records in 28K blocks across the network whenever database activity is high. Therefore the amount of data moved through Extract over a communication channel can be approximately 75-80% of channel capacity. For example, on a 10-megabit Ethernet network with approximately 4-megabits per second of true throughput, Extract can move approximately 3.5M bits per second (430KB/sec).</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>All network performance statistics are suggestions. Your own network configuration, bandwidth demand, and operating environment will determine the kind of performance you can expect. You can boost actual throughput considerably by using router-based compression between the source and target systems (a 4 to 1 ratio is fairly typical). This is in addition to update compression used by Oracle GoldenGate modules. For more information, contact your network vendor or NonStop representative.</p>
</div>
<p>When sizing communications requirements, note that Oracle GoldenGate can send data over multiple TCP/IP channels simultaneously. You can achieve total bandwidth requirements over multiple lines or networks as an alternative to a single path.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1003762"></a><a id="GNSAD168"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">2.4</span> Preparing the Source and Target</h2>
<p>Once you have addressed Oracle GoldenGate planning considerations, you are ready to meet its prerequisites. These include:</p>
<ul>
<li>
<p>Downloading source data definitions</p>
</li>
<li>
<p>Synchronizing source and target</p>
</li>
</ul>
<a id="i934382"></a><a id="GNSAD169"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.4.1</span> Downloading Source Data Definitions</h3>
<p>You can optionally download source data definitions from the source database into a definitions file on the target system. In most cases, you will want to download source data definitions to the target.</p>
<p>When the target resides on another NonStop system, run the <code>DEFGEN</code> utility to download data definitions. When the target resides on Windows/UNIX systems, run the <code>DDLGEN</code> utility to download data definitions.</p>
</div>
<!-- class="sect2" -->
<a id="i934387"></a><a id="GNSAD170"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">2.4.2</span> Synchronizing Source and Target</h3>
<p>Before running online synchronization for the first time, run an initial-load process to synchronize the source and target. This applies a copy of the source to the target. If Extract or Replicat stops running for any reason, you may need to re-synchronize the source and target and restart the Extract and Replicat groups to reset the checkpoints. For further assistance with your initial load, see <a href="initial_sync.htm#i952858">"Configuring Initial Data Synchronization"</a>.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment25">
<tr>
<td class="cellalignment34">
<table class="cellalignment30">
<tr>
<td class="cellalignment29"><a href="introduction.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment29"><a href="configuring.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1995, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment36">
<table class="cellalignment28">
<tr>
<td class="cellalignment29"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment29"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
