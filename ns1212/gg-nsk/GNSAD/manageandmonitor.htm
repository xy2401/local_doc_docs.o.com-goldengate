<!DOCTYPE html>
<html lang="en" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Managing and Monitoring</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.24" />
<meta name="description" content="Once you have initialized your source and target and started change synchronization you are ready to manage your Oracle GoldenGate for NonStop environment." />
<meta name="dcterms.created" content="2014-08-06T9:43:50Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="GoldenGate for Mainframe Administering Oracle GoldenGate for HP NonStop (Guardian)" />
<meta name="dcterms.identifier" content="E28904-01" />
<meta name="dcterms.isVersionOf" content="GNSAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1995, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="dataintegration.htm" title="Previous" type="text/html" />
<link rel="Next" href="utilities.htm" title="Next" type="text/html" />
<link rel="alternate" href="E28904-01.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">13/17</span> <!-- End Header --><a id="i934297"></a><a id="GNSAD395"></a>
<h1 class="chapter"><span class="secnum">10</span> Managing and Monitoring</h1>
<p><a id="GNSAD396"></a>Once you have initialized your source and target and started change synchronization you are ready to manage your Oracle GoldenGate for NonStop environment. This chapter introduces a variety of tools and techniques for these administrative tasks.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#A998761">Section 10.1, "Managing Tasks"</a></p>
</li>
<li>
<p><a href="#A999206">Section 10.2, "Managing Oracle GoldenGate Trails"</a></p>
</li>
<li>
<p><a href="#A1001074">Section 10.3, "Managing Log Trails"</a></p>
</li>
<li>
<p><a href="#i962332">Section 10.4, "Monitoring Processing"</a></p>
</li>
<li>
<p><a href="#i934449">Section 10.5, "Error Handling"</a></p>
</li>
<li>
<p><a href="#i934596">Section 10.6, "Using the Event Log"</a></p>
</li>
<li>
<p><a href="#A1003370">Section 10.7, "Using the Process Report"</a></p>
</li>
<li>
<p><a href="#A1004409">Section 10.8, "Viewing Record Counts"</a></p>
</li>
<li>
<p><a href="#A1004448">Section 10.9, "The STATS Command"</a></p>
</li>
<li>
<p><a href="#i934819">Section 10.10, "Collecting Events from Other Systems"</a></p>
</li>
</ul>
<a id="A998761"></a><a id="GNSAD397"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.1</span> Managing Tasks</h2>
<p>Tasks are processes that are special runs, such as a one-time data synchronization, or direct file extraction. Tasks are useful in managing Oracle GoldenGate, because they allow you to load data that may have been missed due to a variety of system errors. You can define a task with the GGSCI commands:</p>
<pre>
GGSCI&gt; ADD EXTRACT <span class="variable">group_name</span>, SOURCEISTABLE
GGSCI&gt; ADD REPLICAT <span class="variable">group_name</span>, SPECIALRUN
</pre>
<p>When you define a task, you must include the task type parameter in the parameter file. For the Extract parameter file, include <code>SOURCEISTABLE</code> or <code>SOURCEISFILE</code>. For the Replicat parameter file include <code>SPECIALRUN</code>.</p>
<p>Manager can purge tasks. To purge tasks enter parameters such as:</p>
<pre>
PURGEOLDTASKS EXTRACT <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> HOURS, USESTOPSTATUS
PURGEOLDTASKS REPLICAT <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> DAYS, USESTOPSTATUS
PURGEOLDTASKS ER <span class="variable">wildcard_spec</span>, AFTER <span class="variable">number</span> HOURS, USESTOPSTATUS
</pre>
<a id="GNSAD398"></a>
<div class="sect2"><a id="sthref211"></a>
<h3 class="sect2"><span class="secnum">10.1.1</span> Getting Information on Tasks</h3>
<p>You can retrieve information about a task using the <code>INFO</code> and <code>STATUS</code> commands with the <code>TASKS</code> or <code>ALLPROCESSES</code> options:</p>
<pre>
GGSCI&gt; INFO EXTRACT *, TASKS
GGSCI&gt; INFO REPLICAT *, ALLPROCESSES
GGSCI&gt; STATUS ER *, ALLPROCESSES
</pre>
<p><code>TASKS</code> reports on <code>SPECIALRUN</code> or <code>SOURCEISFILE</code> tasks. <code>ALLPROCESSES</code> reports on all processes.</p>
</div>
<!-- class="sect2" -->
<a id="GNSAD399"></a>
<div class="sect2"><a id="sthref212"></a>
<h3 class="sect2"><span class="secnum">10.1.2</span> Managing Tasks Using the Process Name</h3>
<p>Tasks defined with <code>SPECIALRUN</code>, <code>SOURCEISFILE</code>, or <code>SOURCEISTABLE</code> do not require a group name. Even without this name, it is possible to communicate with these running tasks by using the <code>SEND</code> <code>PROCESS</code> command. The syntax for this uses the process name instead of a group name as shown below.</p>
<pre>
GGSCI&gt; SEND PROCESS <span class="variable">process_name</span> {<span class="variable">text</span> | WAKE | BREAK}
</pre>
<p>The <code><span class="codeinlineitalic">text</span></code> option can be any one of the subset of GGSCI commands that are recognized by the receiving process.</p>
<p>See <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> for details about the <code>SEND</code> <code>PROCESS</code> options.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A999206"></a><a id="GNSAD400"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.2</span> Managing Oracle GoldenGate Trails</h2>
<p>Oracle GoldenGate trails can be managed by allocating optimal storage for the trail files and setting parameters for cleaning up trail files that are no longer needed.</p>
<a id="GNSAD401"></a>
<div class="sect2"><a id="sthref213"></a>
<h3 class="sect2"><span class="secnum">10.2.1</span> Initial Allocation of Storage for Trails</h3>
<p>To prevent trail activity from interfering with business applications, use a separate disk managed by a disk process different than that of the application.</p>
<p>To ensure there is enough disk space for the trail files, follow these guidelines:</p>
<ul>
<li>
<p>For trails on the source system, there should be enough space to handle data accumulation if the network connection fails. In a failure, reading from a trail terminates but the primary Extract group reading from logs or audit file continues extracting data. It is not good practice to stop the primary Extract group to prevent further accumulation. The logs could recycle or the audit files could be off-loaded.</p>
</li>
<li>
<p>For trails on the target system, data will accumulate because data is extracted and transferred across the network faster than it can be applied to the target database.</p>
</li>
</ul>
<a id="GNSAD402"></a>
<div class="sect3"><a id="sthref214"></a>
<h4 class="sect3"><span class="secnum">10.2.1.1</span> To estimate the required trail space</h4>
<ol>
<li>
<p>Estimate the longest time that you think the network can be unavailable.</p>
</li>
<li>
<p>Estimate how much transaction log volume you generate in one hour.</p>
</li>
<li>
<p>Use the following formula:</p>
<pre>
trail disk space =
transaction log volume in 1 hour x number of hours down x .4
</pre>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>The equation uses a multiplier of 40 percent because Oracle GoldenGate estimates that only 40 percent of the data in the transaction logs is written to the trail.</p>
</div>
<p>A more exact estimate can be derived by either:</p>
</li>
<li>
<p>Configuring Extract and allowing it to run for a set time period, such as an hour, to determine the growth. This growth factor can then be applied to the maximum down time.</p>
</li>
<li>
<p>Using MEASFLS and MEASRPT to collect and report on statistics over a full business cycle and using this data to determine the volume over the maximum down time.</p>
</li>
</ol>
<p>Plan to store enough data to withstand the longest anticipated outage possible because you will need to re-synchronize the source and target data should the outage outlast the disk capacity.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="GNSAD403"></a>
<div class="sect2"><a id="sthref215"></a>
<h3 class="sect2"><span class="secnum">10.2.2</span> Ongoing Trail Management</h3>
<p>Oracle GoldenGate provides options that let you manage your trails in two ways.</p>
<ul>
<li>
<p>Based on the number and size of the files.</p>
<p>The <code>MEGABYTES, MAXFILES</code>, and <code>EXTENTS</code> options specify how large each trail file may become, and how many files may exist before Extract stops with an error.</p>
</li>
<li>
<p>With the <code>PURGEOLDEXTRACTS</code> parameter.</p>
<p>This lets you purge old extracted data you no longer need. This can be based on rules you set up.</p>
<ul>
<li>
<p>The <code>MINKEEPHOURS</code>, <code>MINKEEPDAYS</code> options set the time to keep files. <code>MINKEEPFILES</code> sets the minimum number of files to keep.</p>
</li>
<li>
<p>In the Manager only, the <code>USECHECKPOINTS</code> option uses checkpoints to determine whether processing is complete. You can also set the <code>CHECKMINUTES</code> parameter to control how often the process checks the parameters to determine if anything must be purged.</p>
</li>
</ul>
</li>
</ul>
<a id="GNSAD404"></a>
<div class="sect3"><a id="sthref216"></a>
<h4 class="sect3"><span class="secnum">10.2.2.1</span> Setting the Size of the Trail</h4>
<p>Two options for managing trail size are <code>MEGABYES</code> and <code>MAXFILES</code>. <code>MEGABYTES</code> lets you specify how large your trail file gets before your data rolls to another trail file. It is useful if you want to equally distribute data between your files. The default size is <code>134</code> megabytes and the largest size supported is two gigabytes. <code>MAXFILES</code> lets you specify the number of trail files Oracle GoldenGate creates. The default is 100 files. Allowing multiple files lets data roll over when one file is full, which prevents errors. The syntax for using <code>MEGABYTES</code> and <code>MAXFILES</code> is:</p>
<pre>
GGSCI&gt; ADD EXTTRAIL <span class="variable">trail_name</span>, EXTRACT <span class="variable">group_name</span>, MEGABYTES <span class="variable">num</span>, MAXFILES <span class="variable">num</span>
</pre>
<p>Trails that either reside on the local node or on a node that is connected by Expand are considered local for NonStop. For these trails, you can also control size by setting the files' primary, secondary and maximum number of extents. The syntax for this is:</p>
<pre>
GGSCI&gt; ADD EXTTRAIL <span class="variable">trail_name</span>, EXTRACT <span class="variable">group_name</span>
[, EXTENTS (<span class="variable">primary</span>, <span class="variable">secondary</span>, <span class="variable">max</span>)]
</pre>
<p>The defaults for <code>EXTENTS</code> are <code>(64, 128, 512).</code></p>
<p>From GGSCI, an <code>INFO</code> of the trail will show the current trail settings.</p>
<div class="example">
<p class="titleinexample"><a id="i975997"></a><a id="GNSAD405"></a>Example 10-1 Showing Trail Settings</p>
<pre>
GGSCI&gt; INFO EXTTRAIL GGSDAT.ET
Extract file: \NY.$DATA04.GGSDAT.ET
       Extract group: EXTSQL
               Owner: 150,110
            Security: NUNU
       Current seqno: 0
         Current rba: 2280
      Primary extent: 64
    Secondary extent: 128
         Max extents: 512
           Max files: 100
</pre></div>
<!-- class="example" --></div>
<!-- class="sect3" -->
<a id="CHDEJIIG"></a><a id="GNSAD406"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">10.2.2.2</span> Setting the PURGEOLDEXTRACTS rules</h4>
<p>You can set <code>PURGEOLDEXTRACT</code> in the Manager, Extract, or Replicat, but only Manager has options.</p>
<p class="subhead2"><a id="GNSAD407"></a>In the Manager</p>
<p>You can set options for purging trails with the <code>PURGEOLDEXTRACTS</code> in the Manager's parameter file.</p>
<ul>
<li>
<p>Use <code>USECHECKPOINTS</code> to purge when all processes are finished with a file as indicated by checkpoints. This is the default, but it can be turned off with the <code>NOUSECHECKPOINTS</code> option.</p>
</li>
<li>
<p><code>MINKEEPHOURS</code> or <code>MINKEEPDAYS</code> to keep files <code>n</code> hours or days. <code>MINKEEPFILES</code> to keep at least <code>n</code> files including the active file. The default is <code>1</code>.</p>
</li>
</ul>
<p>Only <span class="italic">one</span> of the three <code>MINKEEP</code> options should be set. If more than one is entered the system will select one based on the following:</p>
<ul>
<li>
<p>If both <code>MINKEEPHOURS</code> and <code>MINKEEPDAYS</code> are specified, only the last setting will be used and the other will be ignored.</p>
</li>
<li>
<p>If both <code>MINKEEP</code><code>{</code><code>HOURS</code>|<code>DAYS</code>} and <code>MINKEEPFILES</code> are specified <code>MINKEEP</code><code>{HOURS|DAYS}</code> will be used and <code>MINKEEPFILES</code> will be ignored.</p>
</li>
</ul>
<p class="subhead2"><a id="GNSAD408"></a>In Extract or Replicat</p>
<p>You cannot set any options for the Extract and Replicat <code>PURGEOLDEXTRACTS</code> parameter. In this case the trail is purged as soon as the process moves to the next trail.</p>
</div>
<!-- class="sect3" -->
<a id="GNSAD409"></a>
<div class="sect3"><a id="sthref217"></a>
<h4 class="sect3"><span class="secnum">10.2.2.3</span> Manager Purge Trail Processing</h4>
<p>If <code>PURGEOLDEXTRACTS</code> is set in the Manager parameter file, when the Manager reaches <code>CHECKMINUTES</code> the purge rules are evaluated as explained below.</p>
<ol>
<li>
<p><code>USECHECKPOINTS</code> only</p>
<p>If there are no minimum rules set with the <code>USECHECKPOINTS</code> option, <code>MINKEEPFILES</code> defaults to <code>1</code>. If checkpoints indicate that a trail file has been processed, it will be purged unless it would fall below this one file minimum.</p>
</li>
<li>
<p><code>USECHECKPOINTS</code> with <code>MINKEEP</code> rules</p>
<p>If checkpoints indicate that a trail file has been processed, it will be purged unless doing so would violate the applicable <code>MINKEEP</code><code>{HOURS|DAYS}</code> or <code>MINKEEPFILES</code> rules. These <code>PURGEOLDEXTRACTS</code> minimum rules are set as explained in <a href="#CHDEJIIG">Section 10.2.2.2</a>.</p>
</li>
<li>
<p><code>NOUSECHECKPOINTS</code> only</p>
<p>If there are no minimum rules and checkpoints are not to be considered, the file will be purged, unless doing so will violate the default <code>MINKEEPFILES</code> of <code>1</code>.</p>
</li>
<li>
<p><code>NOUSECHECKPOINTS</code> with <code>MINKEEP</code> rules</p>
<p>The file will be purged unless doing so will violate applicable <code>MINKEEP{HOURS|DAYS}</code> or <code>MINKEEPFILES</code> rules. Refer to <a href="#CHDEJIIG">Section 10.2.2.2</a> for information on setting these <code>PURGEOLDEXTRACTS</code> minimum rules.</p>
</li>
</ol>
<p class="itemizedlisttitle">Purge Processing Examples&nbsp;</p>
<ul>
<li>
<p>Trail files <code>AA000000</code>, <code>AA000001</code>, and <code>AA000002</code> exist. The Replicat has been down for four hours and has not completed processing any of the files</p>
<p>The Manager parameters include:</p>
<pre>
PURGEOLDEXTRACTS $DATA1.DB.AA*, USECHECKPOINTS, MINKEEPHOURS 2
</pre>
<p>Result: The time files that are not accessed must be retained has been exceeded. No files will be purged, however, because checkpoints indicate that the files have not been fully processed by Replicat.</p>
</li>
<li>
<p>Trail files <code>AA000000</code>, <code>AA000001</code>, and <code>AA000002</code> exist. The Replicat has been down for four hours and has not completed processing.</p>
<p>The Manager parameters include:</p>
<pre>
PURGEOLDEXTRACTS $DATA1.DB.AA*, NOUSECHECKPOINTS, MINKEEPHOURS 2
</pre>
<p>Result: All trail files will be purged since the minimums have been met.</p>
</li>
<li>
<p>The following is an example of why only one of the <code>MINKEEP</code> options should be set</p>
<p>Replicat and Extract have completed processing. There has been no access to the trail files for the last five hours. Trail files <code>AA000000</code>, <code>AA000001</code>, and <code>AA000002</code> exist.</p>
<p>The Manager parameters include:</p>
<pre>
PURGEOLDEXTRACTS $DATA1.DB.AA*, USECHECKPOINTS, MINKEEPHOURS 4, MINKEEPFILES 4
</pre>
<p>Result: <code>USECHECKPOINTS</code> requirements have been met so the minimum rules will be considered when deciding whether to purge <code>AA000002</code>.</p>
<p>There will only be two files if <code>AA000002</code> is purged, which will violate the <code>MINKEEPFILES</code> parameter. Since both <code>MINKEEPFILES</code> and <code>MINKEEPHOURS</code> have been entered, however, <code>MINKEEPFILES</code> is ignored. The file will be purged because it has not been modified for 5 hours, which meets the <code>MINKEEPHOURS</code> requirement of 4 hours.</p>
<p>The Manager process determines which files to purge based on the Extract processes configured on the local system. If at least one Extract process reads the trail file, Manager applies the specified rules.</p>
<p>For further information regarding <code>PURGEOLDEXTRACTS</code> and <code>ADD</code> <code>EXTTRAIL</code> options, see <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span>.</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="i962647"></a><a id="GNSAD410"></a>
<div class="sect3">
<h4 class="sect3"><span class="secnum">10.2.2.4</span> Recommendations for Managing Trail Purges</h4>
<p>Consider the following recommendations for managing Oracle GoldenGate trails.</p>
<ul>
<li>
<p>For setting the purge rules, it is recommended that: you</p>
<ul>
<li>
<p>Specify <code>PURGEOLDEXTRACTS</code> in the Manager parameter file so you manage your trails from a single location.</p>
</li>
<li>
<p>Purge trail files through Extract or Replicat only when one process is processing the trail, such as a data pump. Use Manager to purge trail files that are being processed by both Extract and Replicat.</p>
</li>
<li>
<p>Use <code>USECHECKPOINTS</code> to ensure that the checkpoints of both Extract and Replicat are considered and reduce the chance of data loss.</p>
</li>
<li>
<p>Be aware that <code>PURGEOLDEXTRACTS</code> in Extract or Replicat can remove trails still needed by the Coordinator. If you use the Coordinator, specify <code>PURGEOLDEXTRACTS</code> in the Manager to manage the Coordinator checkpoints.</p>
</li>
</ul>
</li>
<li>
<p>The rules should be assigned to the process that resides where the trail must be cleaned.</p>
<p>For example, if there are three nodes: <code>\A</code> where the Extract is running and extracting the data; <code>\B</code> where a subset of the data is replicated and <code>\C</code> where another part of the data is replicated, it is the Manager on <code>\A</code> that should be assigned the parameters that define how to manage the trails.</p>
<p>For <code>USECHECKPOINTS</code>, this Manager will need to know the location of the checkpoint files on <code>\B</code> and <code>\C</code>, but this can be accomplished with <code>REMOTECHKPT</code> as shown below.</p>
<pre>
GGSCI&gt; ADD REMOTECHKPT \<span class="codeinlineitalic">node.$volume.subvolume</span>.REPCTXT
</pre></li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1001074"></a><a id="GNSAD411"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.3</span> Managing Log Trails</h2>
<p>Unlike trails that are created externally, if a trail created by Logger runs out of space there are no audit records to be reprocessed once the problem is fixed. This can cause data loss, so it is important to have adequate space available for log trails. The following steps help do this.</p>
<ul>
<li>
<p>Include adequate trail space when the Logger process is added.</p>
<p>Log trail files are pre-allocated during <code>ADD</code> <code>LOGGER</code> so this ensures that the space is available before the logging process begins.</p>
</li>
<li>
<p>Monitor and adjust the trail space as needed.</p>
<p>During processing, adjust the number and size of each log trail as needed by editing the Logger parameter file with the command <code>EDIT</code> <code>PARAM</code> <code>LOGPARM</code>. Then the number of files can be increased or decreased by changing the <code>NUMFILES</code> option, and the size of each trail file can be adjusted by changing the <code>MEGABYTES</code> or <code>EXTENTS</code>. The changes will be activated when an <code>ALTER</code> <code>LOGGER</code> command is issued.</p>
</li>
<li>
<p>Monitor the impact of the trail space on your system.</p>
<p>Manage creates the next log trail file if it is not available when it is time to rollover. This helps ensure that data will not be lost, but it also means that you may have more log trail files than specified in the <code>NUMFILES</code> of <code>LOGPARM</code>.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="i962332"></a><a id="GNSAD412"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.4</span> Monitoring Processing</h2>
<p>You can monitor the state of Oracle GoldenGate processing with the following tools.</p>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the tools used to monitor the state of Oracle goldenGate processing." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t3">Tool</th>
<th class="cellalignment33" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t3" headers="r1c1-t3">
<p>The event log</p>
</td>
<td class="cellalignment34" headers="r2c1-t3 r1c2-t3">
<p>The event log, named <code>LOGGGS</code>, shows processing events, messages, errors, and warnings generated by Oracle GoldenGate. You can view the event log from GGSCI using the <code>VIEW GGSEVT</code> command.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t3" headers="r1c1-t3">
<p>Process reports</p>
</td>
<td class="cellalignment34" headers="r3c1-t3 r1c2-t3">
<p>Oracle GoldenGate generates a report for Extract, Replicat, and Manager at the end of each run. The report provides information about run-time parameters and statistics, including process events and operations that were performed.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t3" headers="r1c1-t3">
<p>N/A</p>
</td>
<td class="cellalignment34" headers="r4c1-t3 r1c2-t3">
<p>The name of a process report is either <code>Manager</code> for the Manager process, or for Extract and Replicat, is the same as the group name. For example, a report for an Extract group <code>EXTORD</code> would have a report named <code>GGSRPT</code>.<code>EXTORD</code>. You can view the process report, save and store it, and use it for generating run-time statistics.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t3" headers="r1c1-t3">
<p>Record counts</p>
</td>
<td class="cellalignment34" headers="r5c1-t3 r1c2-t3">
<p>You can produce record counts at designated times during processing by using the <code>REPORTCOUNT</code> parameter in the Extract and Replicat parameter files. Results are printed to the process report file and to the screen.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r6c1-t3" headers="r1c1-t3">
<p>Discard files</p>
</td>
<td class="cellalignment34" headers="r6c1-t3 r1c2-t3">
<p>The discard file logs information about operations that failed. To generate discard files, use the <code>DISCARDFILE</code> parameter in the Extract or Replicat parameter file.</p>
<p>The SQL formatted discard file logs information and SQLCI formatted statements for operations that failed replication to SQL/MP. To generate, use the <code>SQLFORMATDISCARDFILE</code> parameter in the Replicat parameter file.</p>
<p>To control how discard files are generated, use the <code>DISCARDROLLOVER</code> parameter in the Extract or Replicat parameter file or the <code>SQLFORMATDISCARDROLLOVER</code> in the Replicat parameter file. These parameters have provisions for specifying when new files are created.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r7c1-t3" headers="r1c1-t3">
<p>GGSCI <code>INFO</code> commands</p>
</td>
<td class="cellalignment34" headers="r7c1-t3 r1c2-t3">
<p>Using the GGSCI commands <code>INFO</code>, <code>SEND</code>, <code>STATUS</code>, and <code>STATS</code>, you can retrieve information on Oracle GoldenGate processes.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" -->
<p>Each of these tools is discussed in greater detail below.</p>
</div>
<!-- class="sect1" -->
<a id="i934449"></a><a id="GNSAD413"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.5</span> Error Handling</h2>
<p>There are several error handling parameters available in Oracle GoldenGate. In addition, Oracle GoldenGate provides error-handling options for Replicat and TCP/IP processing.</p>
<a id="GNSAD414"></a>
<div class="sect2"><a id="sthref219"></a>
<h3 class="sect2"><span class="secnum">10.5.1</span> Error Handling Parameters</h3>
<p>Error handling parameters let you insert missing records, prevent duplicate records from being loaded. For a complete list, see <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span>.</p>
</div>
<!-- class="sect2" -->
<a id="GNSAD415"></a>
<div class="sect2"><a id="sthref220"></a>
<h3 class="sect2"><span class="secnum">10.5.2</span> Handling Replicat Errors</h3>
<p>To control the way that Replicat responds to errors, use the <code>REPERROR</code> parameter in the Replicat parameter file. This parameter handles most errors in a default fashion (for example, to cease processing), and you can specify <code>REPERROR</code> options to handle other errors in a specific manner, or to ignore them altogether.</p>
<p><code>REPERROR</code> provides the following options:</p>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the options provided by REPERROR." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t4">Option</th>
<th class="cellalignment33" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t4" headers="r1c1-t4">
<pre>
ABEND
</pre></td>
<td class="cellalignment34" headers="r2c1-t4 r1c2-t4">
<p>Roll back the Replicat transaction and terminate processing. This is the default.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t4" headers="r1c1-t4">
<pre>
DISCARD
</pre></td>
<td class="cellalignment34" headers="r3c1-t4 r1c2-t4">
<p>Log the error to the discard file but continue processing the transaction and subsequent transactions.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t4" headers="r1c1-t4">
<pre>
EXCEPTION
</pre></td>
<td class="cellalignment34" headers="r4c1-t4 r1c2-t4">
<p>Treat the error as an exception. To handle an exception, create an entry with the <code>MAP</code> parameter that runs after the error. For example, you can map a failed update statement to an exceptions table dedicated to missing updates.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t4" headers="r1c1-t4">
<pre>
FILEOP
</pre></td>
<td class="cellalignment34" headers="r5c1-t4 r1c2-t4">
<p>Set the error handling for a particular I/O type.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r6c1-t4" headers="r1c1-t4">
<pre>
IGNORE
</pre></td>
<td class="cellalignment34" headers="r6c1-t4 r1c2-t4">
<p>Ignore the error.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r7c1-t4" headers="r1c1-t4">
<pre>
RESET
</pre></td>
<td class="cellalignment34" headers="r7c1-t4 r1c2-t4">
<p>Remove all <code>REPERROR</code> settings made at the root level of the parameter file above the <code>RESET</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r8c1-t4" headers="r1c1-t4">
<pre>
RETRYOP
</pre></td>
<td class="cellalignment34" headers="r8c1-t4 r1c2-t4">
<p>Retry the operation. Use the <code>MAXRETRIES</code> argument with <code>RETRYOP</code> to specify the number of times to retry an operation. To control the interval between retries, use the <code>RETRYDELAY</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r9c1-t4" headers="r1c1-t4">
<pre>
RETRYOPEN
</pre></td>
<td class="cellalignment34" headers="r9c1-t4 r1c2-t4">
<p>Retry a file open error.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r10c1-t4" headers="r1c1-t4">
<pre>
TRANSABORT
</pre></td>
<td class="cellalignment34" headers="r10c1-t4 r1c2-t4">
<p>Abort the current target transaction and then retry it.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="sect2" -->
<a id="GNSAD416"></a>
<div class="sect2"><a id="sthref221"></a>
<h3 class="sect2"><span class="secnum">10.5.3</span> TCP/IP Error Handling</h3>
<p>The <code>TCPERRS</code> file in the Oracle GoldenGate installation location contains preset TCP/IP errors and instructions for how Oracle GoldenGate generally reacts to them. If a response is not explicitly defined in this file, Oracle GoldenGate responds to TCP/IP errors by exiting.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>The Manager process is an exception. When Manager has an IP error it retries every 60 seconds and does not abend. It does not use the <code>TCPERRS</code> file to determine the number of retries or the delay.</p>
</div>
<div class="example">
<p class="titleinexample"><a id="GNSAD417"></a><a id="sthref222"></a>Example 10-2 Sample of the TCPERRS File</p>
<pre>
#
# TCP/IP error handling parameters
# Default error response is abend
#
# error       Response  Delay (csecs) Max Retries
ECONNABORTED  RETRY     1000          10
ECONNREFUSED  RETRY     1000          12
ECONNRESET    RETRY     500           10
ENETDOWN      RETRY     3000          50
ENETRESET     RETRY     1000          10
ENOBUFS       RETRY     100           60
ENOTCONN      RETRY     100           10
EPIPE         RETRY     500           10
ESHUTDOWN     RETRY     1000          10
ETIMEDOUT     RETRY     1000          10
NODYNPORTS    RETRY     100           10
</pre></div>
<!-- class="example" -->
<a id="GNSAD418"></a>
<div class="sect3"><a id="sthref223"></a>
<h4 class="sect3"><span class="secnum">10.5.3.1</span> Altering TCP/IP Error Handling Parameters</h4>
<p>To alter the instructions or add instructions for new errors, open the file in a text editor and change any of the values in the following columns:</p>
<ul>
<li>
<p>Error column: Specifies a TCP/IP error for which you are defining a response.</p>
</li>
<li>
<p>Response column: Controls whether Oracle GoldenGate tries to connect again after the defined error.</p>
</li>
<li>
<p>Delay column: Controls how long Oracle GoldenGate waits before attempting to connect again.</p>
</li>
<li>
<p>Max Retries column: Controls the number of times that Oracle GoldenGate attempts to connect again before aborting.</p>
</li>
</ul>
<p>See <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> for details about the TCP/IP error messages, their causes, effects, and recovery.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="GNSAD419"></a>
<div class="sect2"><a id="sthref224"></a>
<h3 class="sect2"><span class="secnum">10.5.4</span> Using Discard Files</h3>
<p>Two types of discard files are available with Oracle GoldenGate for HP NonStop:</p>
<ul>
<li>
<p>Discard files identify a record and operation that failed., providing information to help troubleshoot the error.</p>
</li>
<li>
<p>SQL discard files provide SQLCI formatted input to process the operation to an SQL/MP database once the error is corrected.</p>
</li>
</ul>
<a id="GNSAD491"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" --><a id="sthref225"></a>
<h4 class="sect3"><span class="secnum">10.5.4.1</span> Using the Discard File</h4>
<p>The discard file logs information about operations that failed. Extract discard records have a header and a data portion; the discard file is entry-sequenced. Replicat produces discard records in an external, easy-to-understand format</p>
<p>Full record images are provided when <code>IO-TYPE</code> is <code>Delete</code>, <code>Insert</code> or <code>Update</code>. Each record has the same format as if retrieved from a program reading the original file or table directly. For SQL tables, datetime fields, nulls and other fields are output exactly as a program would <code>SELECT</code> them into an application buffer. Even though datetime fields are represented internally as an eight byte timestamp, their external form can be up to 26 bytes expressed as a string. Enscribe records are retrieved as they exist in the original file.</p>
<p>Full record images are output unless the original file has the <code>AUDITCOMPRESS</code> attribute set to <code>ON</code>. When <code>AUDITCOMPRESS</code> is <code>ON</code>, compressed update records are generated whenever the original file receives an update operation. (A full image can be retrieved by Extract using the <code>FETCHCOMPS</code> parameter.)</p>
<p>When the operation type is <code>Insert</code> or <code>Update</code>, the image is the contents of the record <span class="italic">after</span> the change is made. When the operation type is <code>Delete</code>, the image is the contents of the record <span class="italic">before</span> the change.</p>
<p>To control how discard files are generated, use the <code>DISCARDROLLOVER</code> parameter in the Extract or Replicat parameter file. The parameter has provisions for specifying when new files are created.</p>
<p class="subhead2"><a id="GNSAD492"></a>Generating Discard Files</p>
<p>To generate a discard file, use the <code>DISCARDFILE</code> parameter in the Extract or Replicat parameter file.</p>
<p>If there is no <code>DISCARDFILE</code> parameter for Replicat, a discard file is created by default when Replicat is started from GGSCI (as opposed to when it is run from the TACL prompt.) The default discard file will have the following characteristics:</p>
<ul>
<li>
<p>The file name is derived by appending a D to up to 7 characters of the Replicat group name. For example, the Replicat <code>GROUPA</code> will create discard file <code>GROUPAD</code> and Replicat <code>GROUPAB</code> will create discard file <code>GROUPABD</code>. If the Replicat group name is more than 7 characters, the process name is used instead. Replicat <code>GROUPABC</code> with process name $<code>ABR00</code> will create discard file <code>ABR00D</code>.</p>
</li>
<li>
<p>The file is created in the report file location.</p>
</li>
<li>
<p>The extents are set to (4, 4, 100)</p>
</li>
</ul>
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>Discard files that have been created by default cannot be rolled over.</p>
</div>
<p>To specify a non-default location or characteristic use the <code>DISCARDFILE</code> parameter in the Replicat parameter file.</p>
</div>
<!-- class="sect3" -->
<a id="CHDFHGJG"></a><a id="GNSAD493"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">10.5.4.2</span> Using the SQL Formatted Discard File</h4>
<p>SQL discard files provide SQLCI formatted input for failed replication operations to a target SQL/MP database. Specify <code>SQLFORMATDISCARDFILE</code> in the Replicat parameter file to generate the SQL discard file.</p>
<p>To use the SQL formatted discard file the target must be SQL/MP. The source of the operation can be any database and platform that Oracle GoldenGate supports.</p>
<p>The SQLCI formatted input will only process DML records once the original problem has been corrected.</p>
<p>To control how SQL formatted discard files are generated, use the parameter <code>SQLFORMATDISCARDROLLOVER</code>. This parameter specifies when new files are created.</p>
<p class="subhead2"><a id="GNSAD494"></a>SQL DIscard File Example</p>
<p>The following is an example of a section of a SQL formatted discard file record:</p>
<pre>
SET SESSION ERROR ABORT ON;
BEGIN WORK;
-- Problem with Insert Record, Seqno 0, RBA 1234 Error -8227
INSERT INTO \NY.$DATA2.SALES11.CUSTOMER &amp; (CUST_CODE, NAME, CITY, STATE) VALUES &amp;
(&rdquo;A543&rdquo;, &rdquo;Advantage Software            &rdquo;,&amp;
&rdquo;SEATTLE            &rdquo;, &rdquo;WA&rdquo;);
COMMIT WORK;
</pre>
<p>The following is an example of the corresponding section from the discard file record:</p>
<pre>
*** ERROR from SQL [-8227]: The row being inserted or updated in underlying 
*** table \NY.$DATA2.SALES11.CUSTOMER contains a key value that must be 
*** unique but is already present in a row.
Error -82227, guardian 10 occurred with insert record (target format). . .
*---  2013-08-28 09:46:13.775946  ----*
0,    4:CUST_CODE = &amp;rsquor;A543'
1,   12:NAME = &amp;rsquor;Advantage Software'
2,   46:CITY = &amp;rsquor;SEATTLE'
3,   70:STATE = &amp;rsquor;WA'
*--- End Discard Record --- *
Process Abending: 2013-08-28 09:46:14
</pre>
<p class="subhead2"><a id="GNSAD495"></a>Editing the SQL Discard File</p>
<p>The SQL discard file is an edit file that can be changed if needed. To change the file, first do a rollover on the file to trigger Replicat to close it and begin to use a new one. Then edit the file.</p>
<p>When you edit the SQL formatted discard file input, you must make sure your statements are valid for SQLCI:</p>
<ul>
<li>
<p>Commands greater than 132 bytes must force a line break.</p>
</li>
<li>
<p>Strings must be enclosed in quotation marks. If embedded quotes are part of the data, the outermost set of quotation marks must be of the opposite type (single or double.)</p>
</li>
<li>
<p>Quoted strings longer than the maximum size must be broken into the 132 byte segments surrounded by quotation marks and terminated by the (&amp;) continuation symbol. Note that the quotation marks and &amp; symbol are all counted in the 132 byte limit.</p>
</li>
<li>
<p>The requirements for date-time and timestamp syntax are specific to the metadata.</p>
</li>
</ul>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="GNSAD420"></a>
<div class="sect2"><a id="sthref226"></a>
<h3 class="sect2"><span class="secnum">10.5.5</span> Conflict Detection with SQLEXEC</h3>
<p><code>SQLEXEC</code> works on SQL for NonStop databases to call queries you specify. This lets you leverage application rules to resolve conflicts between incoming source records. To do this, add a <code>SQLEXEC</code> parameter in a <code>MAP</code> statement in the Replicat parameter file.</p>
<p>Some applications that support distributed processing provide their own methods for handling conflicts. Such methods include IP persistent routers or application privileges that prevent multiple users from modifying the same data. These rules can be combined with the use of <code>SQLEXEC</code> procedures.</p>
<a id="GNSAD421"></a>
<div class="sect3"><a id="sthref227"></a>
<h4 class="sect3"><span class="secnum">10.5.5.1</span> A SQLEXEC Example</h4>
<p>The following is an example of basic conflict detection based on a timestamp. It raises an exception based on a user-defined error number passed to Replicat and a SQL query to check the value of the <code>TIMESTAMP</code> column. If the timestamp is newer than the one on the existing record, the update is performed. Otherwise, the operation is ignored (because the newer timestamp is considered more valid) and a message is generated to the Replicat process report.</p>
<div class="example">
<p class="titleinexample"><a id="GNSAD422"></a><a id="sthref228"></a>Example 10-3 REPLICAT Parameter File for Conflict Detection</p>
<pre>
REPERROR (9999, EXCEPTION)
MAP $DATA.MASTER.SRC, TARGET $DATA.MASTER.TAR,
SQLEXEC (ID check, QUERY " SELECT TIMESTAMP FROM TARGTAB"
WHERE PKCOL =?P1 ", ERROR IGNORE);
PARAMS (P1 = PKCOL)),
FILTER (CREATED_BY &lt;&gt; "DBA"),
FILTER (ON UPDATE, BEFORE.TIMESTAMP &lt; CHECK.TIMESTAMP,
RAISEERROR 9999);

INSERTALLRECORDS
MAP $DATA.MASTER.SRC, TARGET $DATA.MASTER.TAREXEC,
EXCEPTIONSONLY,
COLMAP (USEDEFAULTS, ERRTYPE = "UPDATE FILTER FAILED.");
</pre></div>
<!-- class="example" -->
<p>In the example, the query is run under the logical name of <code>check</code>. Values retrieved from this query can be utilized anywhere in the <code>MAP</code> statement by referencing <code>check.column name</code>.</p>
<p>The <code>FILTER</code> statements in the example parameter file are processed in the order that they are written. If, in the first <code>FILTER</code> statement, the value of the <code>CREATED_BY</code> column in the record being applied by Replicat is equal to the <code>DBA</code> account, the operation is accepted for processing by the second <code>FILTER</code> statement. Otherwise, it is ignored.</p>
<p>In this example, <code>SQLEXEC</code> also detects database errors, but ignores them and continues processing. This is the default action for <code>ERROR</code>.</p>
<pre>
SQLEXEC (ID check, QUERY " SELECT TIMESTAMP FROM TARGTAB" 
WHERE PKCOL =?P1 ',ERROR IGNORE);
</pre>
<p>However, <code>SQLEXEC</code> could perform any of the following:</p>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the functions that can be performed by SQLEXEC." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t7">Syntax</th>
<th class="cellalignment33" id="r1c2-t7">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t7" headers="r1c1-t7">
<pre>
ERROR REPORT
</pre></td>
<td class="cellalignment34" headers="r2c1-t7 r1c2-t7">
<p>Write the database error to a report.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t7" headers="r1c1-t7">
<pre>
ERROR RAISE
</pre></td>
<td class="cellalignment34" headers="r3c1-t7 r1c2-t7">
<p>Enable the same error handling capabilities available for table replication errors.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t7" headers="r1c1-t7">
<pre>
ERROR FINAL
</pre></td>
<td class="cellalignment34" headers="r4c1-t7 r1c2-t7">
<p>Enable the same error handling capabilities as <code>ERROR RAISE</code>, but also ignore any further queries left to process.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t7" headers="r1c1-t7">
<pre>
ERROR FATAL
</pre></td>
<td class="cellalignment34" headers="r5c1-t7 r1c2-t7">
<p>Abend the process immediately.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" -->
<p>In the second <code>FILTER</code> statement, the <code>ON UPDATE</code> clause directs the filter to run only for update statements. It compares the value of <code>BEFORE.TIMESTAMP</code> (the timestamp of the row that Replicat is attempting to apply) to <code>CHECK.TIMESTAMP</code> (the timestamp of the row already in the database). If the row in the database is newer than the row being applied, then the filter raises an error and the update is ignored.</p>
<p>In the example, the error correction was implemented with <code>RAISEERROR</code> in the <code>SQLEXEC</code> clause in the first <code>MAP</code> statement, but it could have been implemented in the second <code>MAP</code> statement by replacing the <code>COLMAP</code> clause with a <code>SQLEXEC</code> clause.</p>
<p>To handle specific issues, additional <code>SQLEXEC</code> statements could be performed after the filter or even between the filter statements for increased control.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i934596"></a><a id="GNSAD423"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.6</span> Using the Event Log</h2>
<p>The Oracle GoldenGate event log shows processing events, messages, errors, and warnings generated by Oracle GoldenGate. Although this information is also recorded in the NonStop Event Management System (EMS), viewing the Oracle GoldenGate log is sometimes more convenient. Use GGSCI <code>VIEW GGSEVT</code> command to view the event log.</p>
</div>
<!-- class="sect1" -->
<a id="A1003370"></a><a id="GNSAD424"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.7</span> Using the Process Report</h2>
<p>Oracle GoldenGate generates a report about Manager, Logger, Extract, Replicat, and Syncfile at the end of each run. The report provides information about run-time parameters and statistics, including process events, and operations that were performed. The name of a process report is either <code>MANAGER</code> for the Manager process, or it is the same as the group name for Extract and Replicat. By default, reports are created in the subvolume <code>GGSRPT</code>. For example, a report for an Extract group <code>EXTORD</code> would have a report named <code>GGSRPT.EXTORD</code>.</p>
<p>Generate process reports with the <code>SEND EXTRACT</code> <code><span class="codeinlineitalic">group_name</span></code> command and the following options:</p>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the options used with the SEND EXTRACT command to generate process reports." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t8">Report</th>
<th class="cellalignment33" id="r1c2-t8">Option</th>
<th class="cellalignment33" id="r1c3-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t8" headers="r1c1-t8">
<p>The end of an audit trail</p>
</td>
<td class="cellalignment34" headers="r2c1-t8 r1c2-t8">
<p><code>AUDITEND</code></p>
</td>
<td class="cellalignment34" headers="r2c1-t8 r1c3-t8">
<p>Queries Extract to determine whether all records in the TMF audit trails have been processed. This command indicates whether more Extract or Replicat activity must occur before a scheduled switch between databases. Until <code>AUDITEND</code> returns "All audit processed," more data must be processed before it can be assumed that secondary databases are synchronized.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t8" headers="r1c1-t8">
<p>Processing status</p>
</td>
<td class="cellalignment34" headers="r3c1-t8 r1c2-t8">
<p><code>STATUS</code></p>
</td>
<td class="cellalignment34" headers="r3c1-t8 r1c3-t8">
<p>Returns a detailed status of the processing state, including current position and activity.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t8" headers="r1c1-t8">
<p>Processing statistics</p>
</td>
<td class="cellalignment34" headers="r4c1-t8 r1c2-t8">
<p><code>REPORT</code></p>
</td>
<td class="cellalignment34" headers="r4c1-t8 r1c3-t8">
<p>Generates an interim statistical report to the report file, including the number of inserts, updates, and deletes since the last report (default) or according to report options that can be entered.</p>
<p>See <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span> for details on the <code>SEND</code> <code>REPORT</code> options.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t8" headers="r1c1-t8">
<p>TCP/IP statistics</p>
</td>
<td class="cellalignment34" headers="r5c1-t8 r1c2-t8">
<p><code>GETTCPSTATS</code></p>
<p><code>RESETTCPSTATS</code></p>
</td>
<td class="cellalignment34" headers="r5c1-t8 r1c3-t8">
<p>Retrieves TCP/IP statistics, such as the quantity and byte length of inbound and outbound messages, the number of messages received and sent, wait times, process CPU time, and byte transmit averages. Time accumulates when Extract is waiting on a socket send or receive and all times are reported in microseconds.</p>
<p>Resets the TCP/IP statistics so the next report displays fresh statistics</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" -->
<div class="example">
<p class="titleinexample"><a id="GNSAD425"></a><a id="sthref229"></a>Example 10-4 Sample Report</p>
<pre>
RMTTRAIL $DATA10.LOGGER.R1000038, RBA 5348453
Session Index 1
Stats started 2011/01/10 11:46:18.804165 0:00:41.522086
Local address 192.0.2.2:1000 Remote address 192.0.2.2:1000
Inbound Msgs 199 Bytes 2337, 57 bytes/second
Outbound Msgs 200 Bytes 5389492, 131451 bytes/second
Recvs 199
Sends 200
Avg bytes per recv 11, per msg 11
Avg bytes per send 26947, per msg 26947
Recv Wait Time 17592208, per msg 88403, per recv 88403
Send Wait Time 774603, per msg 3873, per send 3873
Process CPU Time 0:00:07.715372
</pre></div>
<!-- class="example" -->
<div class="infobox-note">
<p class="notep1">Note:</p>
<p>In Oracle GoldenGate for NonStop, several additional reporting options are available. For specifics, see <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span>.</p>
</div>
<a id="GNSAD426"></a>
<div class="sect2"><a id="sthref230"></a>
<h3 class="sect2"><span class="secnum">10.7.1</span> Viewing Process Reports</h3>
<p>To view a process report, view the file directly from the operating system's command shell, or use the <code>VIEW REPORT</code> command in GGSCI. You also can view process reports from the Activity Console by clicking <code>More Info</code> beneath the name of the process.</p>
</div>
<!-- class="sect2" -->
<a id="GNSAD427"></a>
<div class="sect2"><a id="sthref231"></a>
<h3 class="sect2"><span class="secnum">10.7.2</span> Storing Process Reports</h3>
<p>By default, process reports are stored in the <code>GGSRPT</code> subvolume of the Oracle GoldenGate installation volume. You can designate an alternative file name by using the <code>REPORT</code> option of the <code>ADD EXTRACT</code> and <code>ADD REPLICAT</code> commands when you create the group from the GGSCI interface. Specify the fully qualified file name.</p>
<p>Once paired with Extract or Replicat, the report file may remain in its original location, or you may change its location with the <code>ALTER</code> command, such as:</p>
<pre>
ALTER EXTRACT <span class="variable">group_name</span> REPORT <span class="variable">filename</span>
</pre></div>
<!-- class="sect2" -->
<a id="GNSAD496"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref232"></a>
<h3 class="sect2"><span class="secnum">10.7.3</span> Managing Process Reports</h3>
<p>Whenever a process starts, a new report file is created, and a sequence number is appended to the name of the old file. The naming sequence goes from no sequence number (current), to 0 (the most recent) to 9 (the oldest), for example: <code>$DATA.GGSRPT.EXTORD, $DATA.GGSRPT.EXTORD0, $DATA.GGSRPT.EXTORD1</code> and so forth. When the file number reaches nine, the oldest file is deleted to make room for a new file, so there are never more than 11 files on the system at one time (the current report plus the ten aged reports).</p>
<p>To prevent the size of the report file from becoming too large, use the <code>REPORTROLLOVER</code> parameter in the Extract and Replicat parameter files. This parameter forces the report files to age on a regular schedule. Options are available to age the current file on a specific day and/or a specific time.</p>
<p>To minimize the impact of errors on the size of the Replicat report file, use the <code>WARNRATE</code> parameter in the Replicat parameter file. This parameter conserves the size of the report file and the event log by issuing a warning only after a specific number of errors have been generated, instead of after each one. This parameter is useful if you expect a certain number of errors and can tolerate them. The default for this parameter is to warn after 100 errors.</p>
</div>
<!-- class="sect2" -->
<a id="GNSAD497"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref233"></a>
<h3 class="sect2"><span class="secnum">10.7.4</span> Generating Run-time Statistics</h3>
<p>Run-time statistics show the current state of processing. By default, run-time statistics are written to the existing process report at the end of each run. To control when run-time statistics are generated, use the <code>REPORT</code> parameter. This parameter has options for controlling the day and time that statistics are generated.</p>
<p>To generate interim run-time statistics, use the <code>SEND EXTRACT</code> or <code>SEND REPLICAT</code> GGSCI command with the <code>REPORT</code> option syntax as shown below.</p>
<pre>
GGSCI&gt; SEND {EXTRACT|REPLICAT} <span class="variable">group_name</span>
REPORT [<span class="variable">time_option</span> [RESET | FILE <span class="variable">filename</span> | TABLE <span class="variable">name</span>]]
</pre>
<p>The time_option controls the time span covered by the report, such as since the start of Extract or since the last report request. <code>RESET</code> sets the counters for that time_option to zero. <code>FILE</code> or <code>TABLE</code> limits the report to counts for <span class="variable">name</span>. For detail on these options see <code>SEND</code> <code>REPORT</code> in the <span class="italic"><span class="italic">Reference for Oracle GoldenGate on HP NonStop Guardian</span></span>.</p>
<p>To generate run-time statistics and also cause the report file to roll over to a new one, add the <code>ROLLREPORT</code> option to the command, for example:</p>
<pre>
GGSCI&gt; SEND EXTRACT EXTORD, REPORT
GGSCI&gt; SEND EXTRACT EXTORD, ROLLREPORT
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1004409"></a><a id="GNSAD430"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.8</span> Viewing Record Counts</h2>
<p>You can produce record counts at designated times during processing by using the <code>REPORTCOUNT</code> parameter in the Extract and Replicat parameter files. Results are printed to the process report file and to screen.</p>
<p>The record count shows the number of records extracted and replicated since the Extract or Replicat process started. Counts can be obtained at regular intervals or each time a specific number of records is processed.</p>
</div>
<!-- class="sect1" -->
<a id="A1004448"></a><a id="GNSAD431"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.9</span> The STATS Command</h2>
<p>To generate a statistical report for Extract or Replicat, specify the <code>LAGSTATS</code> parameter. Oracle GoldenGate measures lag in bytes and time:</p>
<ul>
<li>
<p>Lag in bytes is the difference between the position of the Extract program in the source at the time of the last checkpoint, and the current end-of-file. A lag value of <code>UNKNOWN</code> indicates that the process may have recently started and hasn't yet processed records, or that the source system's clock may be ahead of the target system's clock due to a reason other than time zone differences.</p>
</li>
<li>
<p>Time lag reflects the lag in seconds at the time the last checkpoint was written. For example, if it is now 15:00:00, the last checkpoint was at 14:59:00 and the timestamp of the last record processed by the Replicat program was 14:58:00, the lag is reported as 00:01:00 (one minute, the difference between 14:58 and 14:59).</p>
</li>
</ul>
<p>The report includes the following general performance categories:</p>
<ul>
<li>
<p>General statistics</p>
</li>
<li>
<p>Lag statistics</p>
</li>
<li>
<p>Extract's processing in the Oracle GoldenGate trail</p>
</li>
<li>
<p>Audit trail reading statistics for Extract (when applicable)</p>
</li>
<li>
<p>Output statistics for Extract only</p>
</li>
</ul>
<p>The following table describes each item in the lag statistics report.</p>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the descriptions of items in the lag statistics report." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t10">Item</th>
<th class="cellalignment33" id="r1c2-t10">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t10" headers="r1c1-t10">
<p>Last Record Timestamp</p>
</td>
<td class="cellalignment34" headers="r2c1-t10 r1c2-t10">
<p>The timestamp of the source record (when the source record was input or committed to the target database).</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t10" headers="r1c1-t10">
<p>Configured Interval</p>
</td>
<td class="cellalignment34" headers="r3c1-t10 r1c2-t10">
<p>Determined by the <code>LAGSTATS INTERVAL</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t10" headers="r1c1-t10">
<p>Actual Duration</p>
</td>
<td class="cellalignment34" headers="r4c1-t10 r1c2-t10">
<p>The duration of time measured.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t10" headers="r1c1-t10">
<p>Records Processed</p>
</td>
<td class="cellalignment34" headers="r5c1-t10 r1c2-t10">
<p>Number of records output or replicated during the period.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r6c1-t10" headers="r1c1-t10">
<p>Records per Second</p>
</td>
<td class="cellalignment34" headers="r6c1-t10 r1c2-t10">
<p>Records processed per second during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r7c1-t10" headers="r1c1-t10">
<p>Source Records per Second</p>
</td>
<td class="cellalignment34" headers="r7c1-t10 r1c2-t10">
<p>The estimated rate of records read for either the TMF audit trails or logger processes.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r8c1-t10" headers="r1c1-t10">
<p>Last lag</p>
</td>
<td class="cellalignment34" headers="r8c1-t10 r1c2-t10">
<p>The time lag of the last record measured between (1) the records update into the source database and (2) the actual processing of the record by Extract or Replicat.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r9c1-t10" headers="r1c1-t10">
<p>Min lag</p>
</td>
<td class="cellalignment34" headers="r9c1-t10 r1c2-t10">
<p>Smallest value of Last lag during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r10c1-t10" headers="r1c1-t10">
<p>Average lag</p>
</td>
<td class="cellalignment34" headers="r10c1-t10 r1c2-t10">
<p>Average time lag calculated by adding the maximum lag during the interval to the minimum lag and dividing the result by 2.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r11c1-t10" headers="r1c1-t10">
<p>Peak lag</p>
</td>
<td class="cellalignment34" headers="r11c1-t10 r1c2-t10">
<p>Peak time lag during the interval for all records processed and the timestamp of the peak.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r12c1-t10" headers="r1c1-t10">
<p>Last est. record lag</p>
</td>
<td class="cellalignment34" headers="r12c1-t10 r1c2-t10">
<p>An estimate of the number of records the component is behind the current record.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r13c1-t10" headers="r1c1-t10">
<p>Pct Below Lag of mi:ss:mmm</p>
</td>
<td class="cellalignment34" headers="r13c1-t10 r1c2-t10">
<p>The percentage of times lag was below the time threshold you specified. This is an optional statistic, which can occur up to five times. To generate the statistic, specify the <code>THRESHOLD</code> option for <code>LAGSTATS</code>.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r14c1-t10" headers="r1c1-t10">
<p>Pct CPU Busy</p>
</td>
<td class="cellalignment34" headers="r14c1-t10 r1c2-t10">
<p>The amount of time the CPU in which Extract or Replicat was running was busy during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r15c1-t10" headers="r1c1-t10">
<p>PCT Process Busy</p>
</td>
<td class="cellalignment34" headers="r15c1-t10 r1c2-t10">
<p>The amount of time Extract or Replicat was busy during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r16c1-t10" headers="r1c1-t10">
<p>At EOF?</p>
</td>
<td class="cellalignment34" headers="r16c1-t10 r1c2-t10">
<p>Whether more data was available to process the last time more data was requested by Extract or Replicat from the audit or Oracle GoldenGate trails.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r17c1-t10" headers="r1c1-t10">
<p>Trail Reads per Second</p>
</td>
<td class="cellalignment34" headers="r17c1-t10 r1c2-t10">
<p>When reading Oracle GoldenGate trails, the number of attempted block reads per second.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r18c1-t10" headers="r1c1-t10">
<p>Bytes per Trail Read</p>
</td>
<td class="cellalignment34" headers="r18c1-t10 r1c2-t10">
<p>When reading Oracle GoldenGate trails, the number of bytes read per successful read.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r19c1-t10" headers="r1c1-t10">
<p>Records per Block Read</p>
</td>
<td class="cellalignment34" headers="r19c1-t10 r1c2-t10">
<p>When reading Oracle GoldenGate trails, the number of records read per successful read. This indicates the blocking factor on input.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r20c1-t10" headers="r1c1-t10">
<p>Wait per Block Read</p>
</td>
<td class="cellalignment34" headers="r20c1-t10 r1c2-t10">
<p>When reading Oracle GoldenGate trails, the amount of time Extract or Replicat waits, on average, to complete the read.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r21c1-t10" headers="r1c1-t10">
<p>Audit Bytes per Second</p>
</td>
<td class="cellalignment34" headers="r21c1-t10 r1c2-t10">
<p>The number of bytes of audit processed per second (TMF Extract only).</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r22c1-t10" headers="r1c1-t10">
<p>Pct EOF Trail Reads</p>
</td>
<td class="cellalignment34" headers="r22c1-t10 r1c2-t10">
<p>For TMF Extract, the percentage of times Extract reached the end of file, compared with the number of records processed. For Replicat or Extract reading Oracle GoldenGate trails, the number of times the process read at the end of file, compared with the total number of blocks it attempted to read.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r23c1-t10" headers="r1c1-t10">
<p>Transactions per Second</p>
</td>
<td class="cellalignment34" headers="r23c1-t10 r1c2-t10">
<p>For TMF Extract, the number of transactions processed per second.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r24c1-t10" headers="r1c1-t10">
<p>Transactions Aborted</p>
</td>
<td class="cellalignment34" headers="r24c1-t10 r1c2-t10">
<p>For TMF Extract, the number of transactions aborted during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r25c1-t10" headers="r1c1-t10">
<p>Audit positions</p>
</td>
<td class="cellalignment34" headers="r25c1-t10 r1c2-t10">
<p>The number of times during the interval that Extract requested Audserv to position for read.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r26c1-t10" headers="r1c1-t10">
<p>Audit position seconds</p>
</td>
<td class="cellalignment34" headers="r26c1-t10 r1c2-t10">
<p>The elapsed time in seconds required for Audserv to position for read.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r27c1-t10" headers="r1c1-t10">
<p>Audserv requests</p>
</td>
<td class="cellalignment34" headers="r27c1-t10 r1c2-t10">
<p>The number of data requests to Audserv during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r28c1-t10" headers="r1c1-t10">
<p>Audserv request wait seconds</p>
</td>
<td class="cellalignment34" headers="r28c1-t10 r1c2-t10">
<p>The elapsed time for the Audserv to fulfill data requests during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r29c1-t10" headers="r1c1-t10">
<p>Long transactions</p>
</td>
<td class="cellalignment34" headers="r29c1-t10 r1c2-t10">
<p>The number of long transactions during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r30c1-t10" headers="r1c1-t10">
<p>Long transaction seconds</p>
</td>
<td class="cellalignment34" headers="r30c1-t10 r1c2-t10">
<p>The elapsed time for the long transactions that occurred during the interval.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r31c1-t10" headers="r1c1-t10">
<p>Output Bytes per Second</p>
</td>
<td class="cellalignment34" headers="r31c1-t10 r1c2-t10">
<p>For Extract, the bytes of data output to the extract trails per second.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r32c1-t10" headers="r1c1-t10">
<p>Output Blocks per Second</p>
</td>
<td class="cellalignment34" headers="r32c1-t10 r1c2-t10">
<p>For Extract, the number of blocks of data written to the Oracle GoldenGate trails per second.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r33c1-t10" headers="r1c1-t10">
<p>Records per Block Written</p>
</td>
<td class="cellalignment34" headers="r33c1-t10 r1c2-t10">
<p>For Extract, the average number of records in each block written.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r34c1-t10" headers="r1c1-t10">
<p>Bytes per Block Written</p>
</td>
<td class="cellalignment34" headers="r34c1-t10 r1c2-t10">
<p>For Extract, the average number of bytes in each block written.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r35c1-t10" headers="r1c1-t10">
<p>Wait per Block Written</p>
</td>
<td class="cellalignment34" headers="r35c1-t10 r1c2-t10">
<p>For Extract, the amount of time waiting for the last write or TCP/IP send to complete before sending the next block of data. This statistic can indicate whether the network might be introducing a delay to Extract.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r36c1-t10" headers="r1c1-t10">
<p>Average Record Flush Delay</p>
</td>
<td class="cellalignment34" headers="r36c1-t10 r1c2-t10">
<p>For Extract, the estimated average amount of time a record was held in its buffers before flushing.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r37c1-t10" headers="r1c1-t10">
<p>Pct Output/Input</p>
</td>
<td class="cellalignment34" headers="r37c1-t10 r1c2-t10">
<p>For Extract, the ratio of bytes output compared with input bytes processed. Useful for estimating potential bandwidth required by Extract based on amount of TMF audit generated.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="sect1" -->
<a id="i934819"></a><a id="GNSAD432"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">10.10</span> Collecting Events from Other Systems</h2>
<p>Event messages created by the Collector and Replicat on Windows and UNIX systems can be captured and sent back to EMS on NonStop systems. This feature enables centralized viewing of Oracle GoldenGate messages across platforms.</p>
<p class="orderedlisttitle">To collect events from other systems: &nbsp;</p>
<ol>
<li>
<p>Run Collector on NonStop to collect and distribute EMS messages. For each EMSCLNT process, run one Collector process. The following example runs Collector and outputs its messages to <code>$0</code>.</p>
<pre>
TACL&gt; ASSIGN STDERR, $0
TACL&gt; RUN SERVER /NOWAIT/ &ndash;p 7880
</pre></li>
<li>
<p>Run the EMSCLNT utility on the remote target. EMSCLNT reads a designated error log and runs indefinitely, waiting for more messages to send. When EMSCLNT receives a message, it sends the message to a TCP/IP collector process on NonStop. See the examples for running EMSCLNT on other operating systems for syntax information.</p>
</li>
</ol>
<a id="i934836"></a><a id="GNSAD433"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">10.10.1</span> Running EMSCLNT on Other Operating Systems</h3>
<p>This Unix example reads the file <code>ggslog.err</code> for error messages. Error messages are sent to the collector to the NonStop at IP address <code>192.0.2.2</code> listening on port <code>7850</code>. The Collector on NonStop writes formatted messages to EMS Collector <code>$0</code>.</p>
<pre>
&gt; $emsclnt &ndash;h 192.0.2.2 &ndash;p 7850 &ndash;f ggserr.log &ndash;c $0
</pre>
<p>This Windows example (from the DOS prompt) reads the file <code>d:\ggserrs\log.txt</code> for error messages. Error messages are sent to the Collector on host <code>ggs2</code> listening on port <code>9876</code>. The Collector on NonStop writes formatted messages to EMS Collector <code>$P0</code>.</p>
<pre>
&gt; emsclnt &ndash;h ggs2 &ndash;p 9876 &ndash;f c:\ggs\ggserr.log &ndash;c $P0
</pre>
<div class="inftblhruleinformal">
<table class="cellalignment32" summary="This table summarizes the arguments used to run EMSCLNT on other operating systems." dir="ltr">
<thead>
<tr class="cellalignment26">
<th class="cellalignment33" id="r1c1-t11">Argument</th>
<th class="cellalignment33" id="r1c2-t11">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment26">
<td class="cellalignment34" id="r2c1-t11" headers="r1c1-t11">
<pre>
&ndash;h ggs2
</pre></td>
<td class="cellalignment34" headers="r2c1-t11 r1c2-t11">
<p>The node on which the collector is being run. Can be a name or IP address. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r3c1-t11" headers="r1c1-t11">
<pre>
&ndash;p 9876
</pre></td>
<td class="cellalignment34" headers="r3c1-t11 r1c2-t11">
<p>The port at which the collector is listening for messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r4c1-t11" headers="r1c1-t11">
<pre>
&ndash;f c:\ggs\ggserr.log
</pre></td>
<td class="cellalignment34" headers="r4c1-t11 r1c2-t11">
<p>The error file from which EMSCLNT retrieves error messages. This is a required parameter.</p>
</td>
</tr>
<tr class="cellalignment26">
<td class="cellalignment34" id="r5c1-t11" headers="r1c1-t11">
<pre>
&ndash;c $P0
</pre></td>
<td class="cellalignment34" headers="r5c1-t11 r1c2-t11">
<p>The collector to which EMS messages should be written on the NonStop (default is $0).</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment25">
<tr>
<td class="cellalignment34">
<table class="cellalignment30">
<tr>
<td class="cellalignment29"><a href="dataintegration.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment29"><a href="utilities.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1995, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment36">
<table class="cellalignment28">
<tr>
<td class="cellalignment29"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment29"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
