<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Tuning Performance</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn ways to monitor and improve performance when processing large volumes of data." />
<meta name="dcterms.created" content="2017-12-20T08:27:58Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate Veridata" />
<meta name="dcterms.identifier" content="E78472-03" />
<meta name="dcterms.isVersionOf" content="GVDUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="customizing-your-workspace.htm" title="Previous" type="text/html" />
<link rel="Next" href="column-mapping.htm" title="Next" type="text/html" />
<link rel="alternate" href="GVDUG.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-B4DBF942-2D7B-4601-968E-2F29F15FF193"></a> <span id="PAGE" style="display:none;">8/9</span> <!-- End Header -->
<a id="GVDUG367"></a><a id="GVDUG366"></a>
<h1 id="GVDUG-GUID-B4DBF942-2D7B-4601-968E-2F29F15FF193" class="sect1"><span class="enumeration_chapter">5</span> Tuning Performance</h1>
<div>
<div><span>Learn ways to monitor and improve performance when processing large volumes of data.</span></div>
<ul style="list-style-type: disc;">
<li>
<p><a href="tuning-performance.htm#GUID-673B3A8D-30AC-4D74-B291-D1CD2287C819">Improving the Performance of Oracle GoldenGate Veridata</a></p>
</li>
<li>
<p><a href="tuning-performance.htm#GUID-92A8E357-72F8-4BC6-881E-1E8CC7738B3B">Performance Statistics</a></p>
</li>
</ul>
</div>
<a id="GVDUG369"></a><a id="GVDUG370"></a><a id="GVDUG371"></a><a id="GVDUG372"></a><a id="GVDUG373"></a><a id="GVDUG374"></a><a id="GVDUG375"></a><a id="GVDUG376"></a><a id="GVDUG377"></a><a id="GVDUG378"></a><a id="GVDUG379"></a><a id="GVDUG380"></a><a id="GVDUG368"></a>
<div class="props_rev_3"><a id="GUID-673B3A8D-30AC-4D74-B291-D1CD2287C819"></a>
<h2 id="GVDUG-GUID-673B3A8D-30AC-4D74-B291-D1CD2287C819" class="sect2">Improving the Performance of Oracle GoldenGate Veridata</h2>
<div>
<p>The following are some of the factors that influence the performance of Oracle GoldenGate Veridata and some ways you can improve its performance when processing large volumes of data.</p>
<div class="section">
<p class="subhead2">Database and network use</p>
</div>
<!-- class="section" -->
<p>Two critical performance factors for Oracle GoldenGate Veridata are:</p>
<ul style="list-style-type: disc;">
<li>
<p>How data is sorted</p>
</li>
<li>
<p>How the data is sent across the network</p>
</li>
</ul>
<p><a href="tuning-performance.htm#GUID-92A8E357-72F8-4BC6-881E-1E8CC7738B3B">Performance Statistics</a> for these performance factors are printed to the comparison report for each finished comparison and are recorded for the initial comparison step on the source and target (see <a href="working-jobs.htm#GUID-8E57CC45-33E3-4068-8B19-47E222F70BF1">Using the Comparison Report</a>).</p>
<div class="section">
<p class="subhead2">Network use</p>
</div>
<!-- class="section" -->
<p>Oracle GoldenGate Veridata automatically optimizes its use of the network by using hashing and network message compression for efficient data transfer. The greater the size in bytes of the average row of a table or file (see the bytes/row performance statistic), the greater the rate of compression that is achieved through hashing (see the rh bytes/row and hash comp rate performance statistics). Whether a row is 50 bytes or 1000, the number of bytes that are used to represent its non-key values will be 12. Therefore, as a percentage of table size (in bytes), larger rows tend to use the network more efficiently. For those same reasons, the smaller the key size relative to row size, the more efficient the use of the network.</p>
<p>Additionally, on the NonStop platform check the send and receive TCP/IP buffer sizes. They should be set to 32K for Oracle GoldenGate Veridata.</p>
<div class="section">
<p class="subhead2">Database access</p>
</div>
<!-- class="section" -->
<p>By default, Oracle GoldenGate Veridata uses the database to sort data for comparison. The following factors affect the performance of the database sorting mechanism:</p>
<ul style="list-style-type: disc;">
<li>
<p>The number of rows in the tables being compared</p>
</li>
<li>
<p>The indexes that are defined on the tables</p>
</li>
<li>
<p>The keys that are being used</p>
</li>
<li>
<p>The way that the database is tuned</p>
</li>
</ul>
<p>After some test runs, if the performance of comparisons is not satisfactory, it might be faster to use server-side sorting, where Oracle GoldenGate Veridata Server itself performs the sorting.</p>
<div class="section">
<p class="subhead2">Configuration options</p>
</div>
<!-- class="section" -->
<p>The following are some other things you can consider to improve comparison performance.</p>
<div class="section">
<p class="subhead2">Partition large tables</p>
</div>
<!-- class="section" -->
<p>You can divide large source and target tables into row partitions, each partition being associated with a different row subset. Row partitions enable you to process sets of data in parallel and also to control the timing of processing. For example, you can compare one partition today and the other one tomorrow. In addition, the results of a subset comparison can give you an idea of the synchronization status of the entire table.</p>
<div class="section">
<p class="subhead2">Exclude columns</p>
</div>
<!-- class="section" -->
<p>If a table contains columns that you know will never change, or if it does not matter whether those columns are in-sync, you can exclude those columns from the comparison to reduce the processing load. You exclude columns when you create or edit compare pairs.</p>
<div class="section">
<p class="subhead2">Use delta processing</p>
</div>
<!-- class="section" -->
<p>You can configure compare pairs to use delta processing, a performance feature whereby Oracle GoldenGate Veridata only compares data blocks that have changed, instead of comparing all of the rows in a table or file. For more information about delta processing, see <a href="configuring-workflow-objects.htm#GUID-02F4F2D3-2828-4504-8968-C87231752115">Using Delta Processing</a>.</p>
<div class="section">
<p class="subhead2">Change the database transaction isolation level</p>
</div>
<!-- class="section" -->
<p>Each Oracle GoldenGate Veridata agent has an agent.properties file in the root of its installation folder that contains environment parameters. One of those parameters is database.transaction.isolation. This property controls the transaction isolation level that is used during the initial comparison step. The default value for SQL Server and Teradata is READ_UNCOMMITTED. This means that the query that is issued to select rows can read rows that have been modified by other transactions but not yet committed (dirty reads). It does not issue shared locks to prevent other transactions from modifying the data, nor is it blocked by the locks of other transactions.</p>
<p>The advantage of using the READ UNCOMMITTED option is that the initial reads of the data are faster because they are not affected by locking. The negative impact of this is that more records could be labeled as possibly out-of-sync (because the data can change over the course of the transaction) and would need to be compared again during the confirmation step. If you think that there are too many rows being compared in the confirmation step, you can edit the properties file and set database.transaction.isolation to COMMITED, which only permits the fetching of committed records. You must weigh any improvement against the possibility that the initial comparison step becomes slower due to the affect of locks to preserve read consistency.</p>
<div class="infobox-note" id="GUID-673B3A8D-30AC-4D74-B291-D1CD2287C819__GUID-5E11F555-CB71-490A-85DD-012BB680D920">
<p class="notep1">Note:</p>
<p>(The only value that is supported for Oracle is READ_COMMITTED, and the confirmation step always uses READ_COMMITTED, because at this stage dirty reads are not acceptable.)</p>
</div>
<div class="section">
<p class="subhead2">Profile options</p>
</div>
<!-- class="section" -->
<p>You can control certain parameters for the initial and confirmation steps that can help increase performance.</p>
<div class="section">
<p class="subhead2">Initial comparison step parameters</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Limit the number of rows that are compared</span>: By using the Limit Number of Input Rows parameter for a specific job profile, you can constrain the number of rows that are fetched for processing. This enables you to process a smaller number of rows to get an idea of how out-of-sync (or not) the entire table is. Based on the results, you can make a decision about whether to run a complete comparison or just resynchronize the data. The Limit Number of Input Rows parameter is a General parameter for the initial comparison process.</p>
</li>
<li>
<p><span class="bold">Increase process priority (NonStop only)</span>: Assign the Oracle GoldenGate Veridata Agent the highest process priority possible on a NonStop system. You can assign a priority (as well as a process name and CPU number) by using the NonStop settings of the initial and confirmation steps in the job profile.</p>
</li>
<li>
<p><span class="bold">Increase processing threads</span>: The default is four threads. If the machine where Oracle GoldenGate Veridata Server is running has more processors, you can change the value of the Max Concurrent Comparison Threads parameter accordingly, keeping all threads busy by executing simultaneous comparisons. This parameter is in the General profile settings of the initial comparison process.</p>
</li>
</ul>
<div class="section">
<p class="subhead2">Confirmation step parameters</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Run each comparison step separately</span>: By default, Oracle GoldenGate Veridata runs the initial compare and confirmation processes concurrently. If you run them in sequence, fewer system resources are used, but it will take longer to get results. This functionality is controlled by the Run Concurrently with Initial Compare parameter of the comparison step's General profile settings.</p>
</li>
<li>
<p><span class="bold">Skip the confirmation step</span>: The default is to always perform a confirmation step. You can skip this step if the database is quiesced or if replication is not actively replicating data changes. Use the Perform Confirmation Step parameter of the confirmation step's General profile settings.</p>
</li>
<li>
<p><span class="bold">Increase process priority (NSK)</span>: Assign the Oracle GoldenGate Veridata Agent the highest process priority possible on a NonStop system. You can assign a priority (as well as a process name and CPU number) by using the NonStop settings of the initial and confirmation steps in the job profile.</p>
</li>
</ul>
<div class="section">
<p class="subhead2">Connection options</p>
</div>
<!-- class="section" -->
<p>Try increasing the batch size of fetched rows to increase throughput. To do this, increase the size of the Initial Compare Fetch Batch Size parameter for the initial and confirmation steps.</p>
</div>
</div>
<a id="GVDUG383"></a><a id="GVDUG382"></a><a id="GVDUG384"></a><a id="GVDUG385"></a><a id="GVDUG386"></a><a id="GVDUG387"></a><a id="GVDUG388"></a><a id="GVDUG394"></a><a id="GVDUG395"></a><a id="GVDUG396"></a><a id="GVDUG413"></a><a id="GVDUG414"></a><a id="GVDUG415"></a><a id="GVDUG418"></a><a id="GVDUG419"></a><a id="GVDUG381"></a>
<div class="props_rev_3"><a id="GUID-92A8E357-72F8-4BC6-881E-1E8CC7738B3B"></a>
<h2 id="GVDUG-GUID-92A8E357-72F8-4BC6-881E-1E8CC7738B3B" class="sect2">Performance Statistics</h2>
<div>
<p>The two most critical aspects of Oracle GoldenGate Veridata performance are database access and network usage. Performance statistics for both of these aspects are printed to the comparison report for each comparison performed and are recorded for the initial comparison step on the source and target systems. The following describes these statistics. Depending on the results of these statistics, there are ways to optimize database access and network usage.</p>
<div class="section">
<p class="subhead2">duration</p>
</div>
<!-- class="section" -->
<p>The time spent processing the fetched rows.</p>
<div class="section">
<p class="subhead2">rows fetched</p>
</div>
<!-- class="section" -->
<p>The number of rows fetched from the database.</p>
<div class="section">
<p class="subhead2">rows/sec</p>
</div>
<!-- class="section" -->
<p>The number of rows processed per second.</p>
<div class="section">
<p class="subhead2">bytes fetched</p>
</div>
<!-- class="section" -->
<p>The total number of bytes that were processed.</p>
<div class="section">
<p class="subhead2">bytes/sec</p>
</div>
<!-- class="section" -->
<p>The number of rows, in terms of bytes, processed per second.</p>
<div class="section">
<p class="subhead2">lob chunks fetched</p>
</div>
<!-- class="section" -->
<p>The number of 32k blocks of LOB data fetched.</p>
<div class="section">
<p class="subhead2">batches fetched</p>
</div>
<!-- class="section" -->
<p>The number row batches fetched. The default is 10 rows per batch.</p>
<div class="section">
<p class="subhead2">ipc msgs</p>
</div>
<!-- class="section" -->
<p>The number of interprocess messages between the server and agent processes.</p>
<div class="section">
<p class="subhead2">ipc bytes</p>
</div>
<!-- class="section" -->
<p>The number of bytes transferred between the server and agent processes.</p>
<div class="section">
<p class="subhead2">bytes applied</p>
</div>
<!-- class="section" -->
<p>The number of bytes per message that were applied.</p>
<div class="section">
<p class="subhead2">lob chunks applied</p>
</div>
<!-- class="section" -->
<p>The number 32k byte LOB chunks applied at the target database.</p>
<div class="section">
<p class="subhead2">lob fetch time duration (secs)</p>
</div>
<!-- class="section" -->
<p>The amount of time spent fetching LOB data.</p>
<div class="section">
<p class="subhead2">batches applied</p>
</div>
<!-- class="section" -->
<p>The total number of bytes that were processed.</p>
<div class="section">
<p class="subhead2">transaction batches</p>
</div>
<!-- class="section" -->
<p>The number of transactions used to apply the data.</p>
<div class="section">
<p class="subhead2">transaction single statements</p>
</div>
<!-- class="section" -->
<p>the number of single row transactions applied during error recovery.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment10">
<tr>
<td class="cellalignment17">
<table class="cellalignment15">
<tr>
<td class="cellalignment14"><a href="customizing-your-workspace.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment14"><a href="column-mapping.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment19">
<table class="cellalignment13">
<tr>
<td class="cellalignment14"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment14"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
