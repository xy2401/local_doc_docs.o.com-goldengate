<!DOCTYPE html>
<html lang="en-US">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Adapter Examples</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2016-05-23T08:57:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Big Data" />
<meta name="dcterms.identifier" content="E69081-02" />
<meta name="dcterms.isVersionOf" content="GBDIN" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"   src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"   src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-E0413BB2-9A31-46C9-B377-5D1DD09AC603.htm" title="Previous" type="text/html" />
<link rel="alternate" href="E69081-02.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="E69081-02.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="E69081-02.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript"  src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript"  src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript"  src="../dcommon/js/jquery.js"></script>
<script type="application/javascript"  src="../dcommon/js/foundation.min.js"></script>
<script type="application/javascript"  src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript"  src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript"  src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><a id="GUID-AFA40490-006F-4667-A530-C01ED3962423"></a> <span id="PAGE" style="display:none;">21/21</span> <!-- End Header --><a id="GBDIN561"></a>
<h1 id="GBDIN-GUID-AFA40490-006F-4667-A530-C01ED3962423" class="sect1"><span class="enumeration_chapter">A</span> Adapter Examples</h1>
<div>
<p>This appendix includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-AFA40490-006F-4667-A530-C01ED3962423.htm#GUID-B320CDC5-7FBF-4E5A-B873-041FF6F07144">List of Included Examples</a></p>
</li>
<li>
<p><a href="GUID-AFA40490-006F-4667-A530-C01ED3962423.htm#GUID-21DC6A12-0667-43CC-BD40-734703767C2D">Configuring Logging</a></p>
</li>
</ul>
</div>
<a id="GBDIN563"></a><a id="GBDIN564"></a><a id="GBDIN565"></a><a id="GBDIN566"></a><a id="GBDIN605"></a>
<div class="props_rev_3"><a id="GUID-B320CDC5-7FBF-4E5A-B873-041FF6F07144"></a>
<h2 id="GBDIN-GUID-B320CDC5-7FBF-4E5A-B873-041FF6F07144" class="sect2"><span class="enumeration_section">A.1</span> List of Included Examples</h2>
<div>
<div class="section">
<p>The following examples are located in the <code>AdaptersExamples</code> subdirectory of the installation location.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Flat File Writer</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Using the Oracle GoldenGate Flat File Adapter to convert Oracle GoldenGate trail data to text files.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Message Delivery</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Using the Oracle GoldenGate Java Adapter to send JMS messages with a custom message format.</p>
</li>
<li>
<p>Using the Oracle GoldenGate Java Adapter to send JMS messages with custom message header properties.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Message Capture</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Using the Oracle GoldenGate Java Adapter to process JMS messages, creating an Oracle GoldenGate trail.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Java user exit API</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Using the Oracle GoldenGate Java Adapter API to write a custom event handler.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="GBDIN606"></a>
<div class="props_rev_3"><a id="GUID-21DC6A12-0667-43CC-BD40-734703767C2D"></a>
<h2 id="GBDIN-GUID-21DC6A12-0667-43CC-BD40-734703767C2D" class="sect2"><span class="enumeration_section">A.2</span> Configuring Logging</h2>
<div>
<div class="section">
<p>This example explains how to configure logging for release 11.2.1 or greater Oracle GoldenGate Adapters user exits. The first section configures a typical Extract pump, which triggers the logging defaults. The second section explains how to customize the logging implementation.</p>
</div>
<!-- class="section" --></div>
<a id="GBDIN608"></a><a id="GBDIN609"></a><a id="GBDIN610"></a><a id="GBDIN607"></a>
<div class="props_rev_3"><a id="GUID-C4645ACC-AA33-4F7C-B826-AFF2ADCE39D6"></a>
<h3 id="GBDIN-GUID-C4645ACC-AA33-4F7C-B826-AFF2ADCE39D6" class="sect3"><span class="enumeration_section">A.2.1</span> Oracle GoldenGate Java user exit Defaults Example</h3>
<div>
<div class="section">
<p>The following Oracle GoldenGate Java user exit Extract example configuration triggers the logging defaults.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Extract Parameter File</p>
</div>
<!-- class="section" -->
<div class="section">
<pre dir="ltr">
EXTRACT jms1
SOURCEDEFS dirdef/aa.def
CUSEREXIT libggjava_ue.so CUSEREXIT PASSTHRU INCLUDEUPDATEBEFORES
GETUPDATEBEFORES
TABLE GG.*;
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Properties file</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The associated property file is named for the Extract group, <code>jms1.properties</code>. All JNI properties have default values and thus do not need to be specified, so this is a complete properties file.</p>
<pre dir="ltr">
gg.handlerlist=my_jms
   
gg.handler.my_jms.type=jms
gg.handler.my_jms.destination=dynamicQueues/testQ1
gg.handler.my_jms.format=xml2
gg.handler.my_jms.mode=op
gg.handler.my_jms.connectionFactory=ConnectionFactory

gg.java.naming.provider.url=tcp://localhost:61616
   gg.java.naming.factory.initial=org.apache.activemq.jndi.ActiveMQInitialContextFactory
   
gg.classpath=/opt/activemq/activemq-all.jar
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">The Resulting Log File</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The log file will be created when you add and start the Extract in GGSCI, For example:</p>
<pre dir="ltr">
ggsci&gt; ADD EXTRACT jms1, EXTRAILSOURCE dirdat/aa
ggsci&gt; START MGR
ggsci&gt; START EXTRACT jms1
</pre>
<p>The log file is written to the same directory as the report file. It is named for the Extract group. For Example:</p>
<pre dir="ltr">
$ ls -l dirrpt/ 
total 48
-rw-rw-rw- 1 1685   Apr 16 20:38   MGR.rpt
-rw-rw-rw- 1 1685   Apr 16 20:38   jms1.rpt
-rw-rw-rw- 1 21705  Apr 19 13:59   jms1_info_0.log.0 
-rw-rw-rw- 1 0      Apr 19 13:58   jms1_info_0.log.0.lck
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GBDIN611"></a>
<div class="props_rev_3"><a id="GUID-3F450558-1325-4297-A603-9EFC95E3313A"></a>
<h3 id="GBDIN-GUID-3F450558-1325-4297-A603-9EFC95E3313A" class="sect3"><span class="enumeration_section">A.2.2</span> Customizing Logging</h3>
<div>
<div class="section">
<p>This example describes how to customize the logging for 11.2.1 and greater Oracle GoldenGate user exit adapters by using one of two methods:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use Java adapter user exit properties</p>
<pre dir="ltr">
gg.log={ jdk | logback | log4j }
gg.log.level={ info | debug | trace }
gg.log.classpath={ classpath for logging }
</pre>
<p>If the log implementation property <code>gg.log</code> is not set, the <code>jdk</code> option defaults. This specifies that <code>java.util.logging</code> (<code>JUL</code>) is used. The log level defaults to <code>info</code>. To customize this, you can set the <code>gg.log</code> to either:</p>
<ul style="list-style-type: disc;">
<li>
<p><code>log4j</code> - This automatically configures the classpath to include the Log4j and appropriate <code>slf4j-log4j</code> binding.</p>
</li>
<li>
<p><code>logback</code> - To use the <code>logback</code> option, the logback JARS must be manually downloaded and copied into the install directory. The classpath is still automatically configured as long as the JARs are copied into the predefined location. See <code>ggjava/resources/lib/optional/logback/ReadMe-logback.txt</code> for more information.</p>
</li>
</ul>
</li>
<li>
<p>Use JVM options</p>
<p>Instead of using default logging or setting logging properties, <code>jvm.bootoptions</code> can be used to define the logging. To do this, set <code>jvm.bootoptions</code> to include the system property that defines the configuration file by doing one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Specify a <code>log4j</code> configuration file:</p>
<pre dir="ltr">
jvm.bootoptions=-Dlog4j.configuration=<span class="italic">my-log4j.properties</span>
</pre>
<p>This implicitly sets <code>gg.log</code> to <code>log4j</code> as the type of logging implementation and appends <code>slf4j-log4j12</code> binding to the classpath.</p>
</li>
<li>
<p>Specify a <code>java.util.logging</code> properties file or class:</p>
<pre dir="ltr">
jvm.bootoptions=-Djava.util.logging.config.file=<span class="italic">my-logging.properties</span>
</pre>
<p>This implicitly sets <code>gg.log=jdk</code>, which specifics <code>java.util.logging</code> (<code>JUL</code>). It appends <code>slf4j-jdk14</code> binding to the classpath.</p>
</li>
<li>
<p>First, download and copy <code>logback-core-jar</code> and <code>logback-classic-jar</code> into <code>ggjava/resources/lib/optional/logback.</code> Then specify a logback configuration file:</p>
<pre dir="ltr">
jvm.bootoptions=-Dlogback.configuationFile=<span class="italic">my-logback.xml </span>
</pre>
<p>This implicitly sets <code>gg.log=logback</code> and appends <code>logback-classic</code> and <code>logback-core</code> to the classpath.</p>
</li>
</ul>
<p>These are implicit settings of <code>gg.log</code> and <code>gg.log.classpath</code> that will be overridden by an explicit setting of either of these properties in the property file. The logging classpath will also be overridden by setting the JVM classpath to include specific JARs, such as:</p>
<pre dir="ltr">
jvm.bootoptions=...-Djava.class.path=<span class="italic">mypath</span>/<span class="italic">my1</span>.jar:<span class="italic">mypath2</span>/<span class="italic">my2</span>.jar...
</pre>
<div class="infobox-note" id="GUID-3F450558-1325-4297-A603-9EFC95E3313A__GUID-2C5C5EFF-28EC-451E-8321-06F0811F4AEF">
<p class="notep1">Note:</p>
<p>Setting the JVM classpath to include specific JARs may cause duplicate, possibly conflicting, implementations in the classpath.</p>
</div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment74">
<tr>
<td class="cellalignment81">
<table class="cellalignment87">
<tr>
<td class="cellalignment78"><a href="GUID-E0413BB2-9A31-46C9-B377-5D1DD09AC603.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment83">
<table class="cellalignment77">
<tr>
<td class="cellalignment78"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment78"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
