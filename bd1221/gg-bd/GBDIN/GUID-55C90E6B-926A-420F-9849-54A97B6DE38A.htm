<!DOCTYPE html>
<html lang="en-US">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Running Java Delivery</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="keywords" content="start, application, restart" />
<meta name="dcterms.created" content="2016-05-23T08:57:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate for Big Data" />
<meta name="dcterms.identifier" content="E69081-02" />
<meta name="dcterms.isVersionOf" content="GBDIN" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"   src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"   src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm" title="Previous" type="text/html" />
<link rel="Next" href="GUID-AE752000-B425-474B-BA88-FD030AB70E15.htm" title="Next" type="text/html" />
<link rel="alternate" href="E69081-02.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="E69081-02.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="E69081-02.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript"  src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript"  src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript"  src="../dcommon/js/jquery.js"></script>
<script type="application/javascript"  src="../dcommon/js/foundation.min.js"></script>
<script type="application/javascript"  src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript"  src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript"  src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="application/javascript"  src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><a id="GUID-55C90E6B-926A-420F-9849-54A97B6DE38A"></a> <span id="PAGE" style="display:none;">14/21</span> <!-- End Header --><a id="GBDIN316"></a>
<h1 id="GBDIN-GUID-55C90E6B-926A-420F-9849-54A97B6DE38A" class="sect1"><span class="enumeration_chapter">8</span> Running Java Delivery</h1>
<div>
<p>This chapter includes the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="GUID-55C90E6B-926A-420F-9849-54A97B6DE38A.htm#GUID-FBA02E34-A5BE-4E66-ACD3-C343A2D251D8">Starting the Application</a></p>
</li>
<li>
<p><a href="GUID-55C90E6B-926A-420F-9849-54A97B6DE38A.htm#GUID-6A697F98-A782-4FA7-8FDB-9718B886475C">Restarting the Java Delivery</a></p>
</li>
</ul>
</div>
<a id="GBDIN317"></a>
<div class="props_rev_3"><a id="GUID-FBA02E34-A5BE-4E66-ACD3-C343A2D251D8"></a>
<h2 id="GBDIN-GUID-FBA02E34-A5BE-4E66-ACD3-C343A2D251D8" class="sect2"><span class="enumeration_section">8.1</span> Starting the Application</h2>
<div>
<div class="section">
<p>To run the Java Delivery and execute the Java application, you only need an existing Oracle GoldenGate trail file. If the trail file does not contain metadata records, a source definitions file is also required to describe the schema for operations in the trail file. For the examples that follow, a simple <code>TCUSTMER</code> and <code>TCUSTORD</code> trail is used (matching the demo SQL provided with the Oracle GoldenGate software download).</p>
</div>
<!-- class="section" --></div>
<a id="GBDIN644"></a>
<div class="props_rev_3"><a id="GUID-CCE863BC-2486-416B-94F1-7D44DFFCD692"></a>
<h3 id="GBDIN-GUID-CCE863BC-2486-416B-94F1-7D44DFFCD692" class="sect3"><span class="enumeration_section">8.1.1</span> Starting Using Replicat</h3>
<div>
<div class="section">
<p>To run Java Delivery using <code>Replicat</code>, simply start the <code>Replicat</code> process from GGSCI:</p>
<pre dir="ltr">
GGSCI&gt; START REPLICAT javarep
GGSCI&gt; INFO REPLICAT javarep
</pre>
<p>The <code>INFO</code> command will return information similar to the following:</p>
<pre dir="ltr">
REPLICAT JAVAREP Last Started 2015-09-10 17:25 Status RUNNINGCheckpoint Lag 00:00:00 (updated 00:00:00 ago)Log Read Checkpoint File ./dirdat/aa0000002015-09-10 17:50:41.000000 RBA 2702
</pre></div>
<!-- class="section" --></div>
</div>
<a id="GBDIN645"></a>
<div class="props_rev_3"><a id="GUID-F8F1C875-35A5-43E2-A278-024C50572FBC"></a>
<h3 id="GBDIN-GUID-F8F1C875-35A5-43E2-A278-024C50572FBC" class="sect3"><span class="enumeration_section">8.1.2</span> Starting Using Extract</h3>
<div>
<div class="section">
<p>Alternatively, to run the Java Delivery using the Extract process (Data Pump), start the Extract process from GGSCI:</p>
<pre dir="ltr">
GGSCI&gt; START EXTRACT javaue
GGSCI&gt; INFO EXTRACT javaue
</pre>
<p>If the Replicat or Extract process is running and, the file handler is being used (as in the preceding example), then you should see the output file <code>output.xml</code> in the Oracle GoldenGate installation directory (the same directory as the <code>Replicat</code> and <code>Extract</code> executables).</p>
<p>If the process does not start or abend, see <a href="GUID-C7925406-1699-41F4-8710-855912AF3375.htm#GUID-470F4A73-FFCA-4E1D-8BA0-971675F4D26A">Checking for Errors</a>.</p>
<div class="infobox-note" id="GUID-F8F1C875-35A5-43E2-A278-024C50572FBC__GUID-0249F357-0D3F-4B83-BD21-DF41626FFD03">
<p class="notep1">Note:</p>
<p>Do not modify or delete the checkpoint file on the production system.</p>
</div>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="GBDIN318"></a>
<div class="props_rev_3"><a id="GUID-6A697F98-A782-4FA7-8FDB-9718B886475C"></a>
<h2 id="GBDIN-GUID-6A697F98-A782-4FA7-8FDB-9718B886475C" class="sect2"><span class="enumeration_section">8.2</span> Restarting the Java Delivery</h2>
<div>
<div class="section">
<p>There are two possible checkpoint files when using Java Delivery session: the Java Delivery checkpoint and the Replicat or Extract process checkpoint. The Replicat or Extract process always generates a checkpoint file. The Java Delivery checkpoint file is optional and can be controlled by the following property in the Adapter Properties file.</p>
<p>To turn on Java Delivery Checkpoint generation (the default):</p>
<p><code>goldengate.userexit.nocheckpoint=false</code></p>
<p>To turn off Java Delivery Checkpoint generation:</p>
<p><code>goldengate.userexit.nocheckpoint=true</code></p>
<p>If the Java Delivery checkpointing functionality is enabled then the following property should be set to allow for unique checkpoint file naming:</p>
<p><code>goldengate.userexit.chkptprefix=</code><span class="italic"><code>something unique</code></span></p>
<p>It is considered a best practice not to generate the Java checkpoint file when Java Delivery is hosted in a <code>Replicat</code> process. It is considered a best practice to generate the Java checkpoint file when Java Delivery is hosted in an <code>Exract</code> process. The following subsections discuss the checkpoint handling in <code>Replicat</code> and <code>Extract</code>.</p>
</div>
<!-- class="section" --></div>
<a id="GBDIN646"></a>
<div class="props_rev_3"><a id="GUID-ED585BD5-8B0F-4AEB-9937-11C86725FFA6"></a>
<h3 id="GBDIN-GUID-ED585BD5-8B0F-4AEB-9937-11C86725FFA6" class="sect3"><span class="enumeration_section">8.2.1</span> Restarting Java Delivery in Replicat</h3>
<div>
<div class="section">
<p>The checkpoint handling in <code>Replicat</code> is more straightforward as it includes logic to pick which one out of the two checkpoint information is of higher priority. The logic is as follows:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>If the Java Delivery is started after user manually performed an <code>ADD</code> or <code>ALTER REPLICAT</code>, then the checkpoint information held by <code>Replicat</code> process will be used as the starting position.</p>
</li>
<li>
<p>If the Java Delivery is started without prior manual intervention to alter checkpoint (for example, upon graceful stop or an abend), then the checkpoint information held by Java module will be used as the starting position.</p>
<p>For example, restarting a Java Delivery using <code>Replicat</code> at the beginning of a trail looks like the following:</p>
<ol>
<li>
<p>Reset the <code>Replicat</code> to the beginning of the trail data:</p>
<p><code>GGSCI&gt; ALTER REPLICAT JAVAREP, EXTSEQNO 0, EXTRBA 0</code></p>
</li>
<li>
<p>Reset the <code>Replicat</code></p>
<pre dir="ltr">
GGSCI&gt; START JAVAREP
GGSCI&gt; INFO JAVAREP
REPLICAT   JAVAREP    Last Started 2015-09-10 17:25   Status RUNNING
Checkpoint Lag       00:00:00 (updated 00:00:00 ago)
Log Read Checkpoint  File ./dirdat/aa000000
2015-09-10 17:50:41.000000  RBA 2702
</pre>
<p>It may take a few seconds for the Replicat process status to report itself as running. Check the report file to see if it abended or is still in the process of starting:</p>
<p><code>GGSCI&gt; VIEW REPORT JAVAREP</code></p>
<p>In the case where the Java Delivery is restarted after a crash or an abend, the last position kept by the Java module will be used when the application restarts.</p>
</li>
</ol>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="GBDIN647"></a>
<div class="props_rev_3"><a id="GUID-49D9728D-016F-4D48-8F5D-D271A3B9A2CE"></a>
<h3 id="GBDIN-GUID-49D9728D-016F-4D48-8F5D-D271A3B9A2CE" class="sect3"><span class="enumeration_section">8.2.2</span> Restarting Java Delivery in Extract (Data Pump)</h3>
<div>
<div class="section">
<p>Before rerunning the Extract process to replay processed trail files, you must reset both the Java and the Extract process checkpoints:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Delete the Java checkpoint file.</span>
<div>
<p>In this example the name of the <code>Extract</code> group is <code>javaue</code>, so this will default to the checkpoint prefix. The prefix can also be set in the properties file using <code>goldengate.userexit.chkptprefix</code>.</p>
<p>Windows: <code>cmd&gt; del javaue_jvm.chkpt</code></p>
<p>UNIX: <code>$ rm javaue_jvm.chkpt</code></p>
</div>
</li>
<li class="stepexpand"><span>Reset the Extract to the beginning of the trail data:</span>
<div>
<p><code>GGSCI&gt; ALTER EXTRACT JAVAUE, EXTSEQNO 0, EXTRBA 0</code></p>
</div>
</li>
<li class="stepexpand"><span>Restart the <code>Extract</code>:</span>
<div>
<pre dir="ltr">
GGSCI&gt; START JAVAUE
GGSCI&gt; INFO JAVAUE
EXTRACT    JAVAUE    Last Started 2011-08-25 18:41   Status RUNNING
Checkpoint Lag       00:00:00 (updated 00:00:00 ago)
Log Read Checkpoint  File ./dirdat/ps000000
2011-09-24 12:52:58.000000  RBA 2702
</pre>
<p>It may take a few seconds for the Extract process status to report itself as running. Check the report file to see if it abended or is still in the process of starting:</p>
<p><code>GGSCI&gt; VIEW REPORT JAVAUE</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment74">
<tr>
<td class="cellalignment81">
<table class="cellalignment79">
<tr>
<td class="cellalignment78"><a href="GUID-237540A3-2A05-47D8-99BB-7EA93A0D005D.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment78"><a href="GUID-AE752000-B425-474B-BA88-FD030AB70E15.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2015, 2016, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment83">
<table class="cellalignment77">
<tr>
<td class="cellalignment78"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment78"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
