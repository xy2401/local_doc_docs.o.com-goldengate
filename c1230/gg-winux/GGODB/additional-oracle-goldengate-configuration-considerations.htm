<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Additional Oracle GoldenGate Configuration Considerations</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains additional configuration considerations that may apply to your database environment." />
<meta name="dcterms.created" content="2018-07-26T05:17:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E88785-05" />
<meta name="dcterms.isVersionOf" content="GGODB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="configuring-oracle-goldengate-apply.htm" title="Previous" type="text/html" />
<link rel="Next" href="additional-configuration-steps-using-classic-capture.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGODB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-253F9A94-CBF6-4193-B2B0-89F960780B18"></a> <span id="PAGE" style="display:none;">12/28</span> <!-- End Header -->
<h1 id="GGODB-GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" class="sect1"><span class="enumeration_chapter">9</span> Additional Oracle GoldenGate Configuration Considerations</h1>
<div>
<div><span>This chapter contains additional configuration considerations that may apply to your database environment.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-644099C5-8950-496C-8592-446FB1566AFD">Ensuring Row Uniqueness in Source and Target Tables</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-2FBECF4E-1D8D-42A7-B4B1-A1FDE56039D8">Installing Support for Oracle Sequences</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-C2191C99-7D1C-403D-83A6-66B6F4F5B9D2">Handling Other Database Properties</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-073F1413-BEF5-4434-BE02-0A521A522534">Controlling the Checkpoint Frequency</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-8B0E2902-D8EA-452E-9AC3-8B64C55D52A8">Excluding Replicat Transactions</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-AC595EFC-B2AA-46E9-AF74-EC13AA9FC7DE">Advanced Configuration Options for Oracle GoldenGate</a><br /></li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-644099C5-8950-496C-8592-446FB1566AFD"></a>
<h2 id="GGODB-GUID-644099C5-8950-496C-8592-446FB1566AFD" class="sect2"><span class="enumeration_section">9.1</span> Ensuring Row Uniqueness in Source and Target Tables</h2>
<div>
<div class="section">
<p>Oracle GoldenGate requires a unique row identifier on the source and target tables to locate the correct target rows for replicated updates and deletes. Unless a <code class="codeph">KEYCOLS</code> clause is used in the <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority, depending on the number and type of constraints that were logged (see <a href="preparing-database-oracle-goldengate.htm#GUID-9FFB0F47-A681-4EC8-8E2E-4A03B451D916">Configuring Logging Properties</a>).</p>
<ol>
<li>
<p>Primary key if it does not contain any extended (32K) <code class="codeph">VARCHAR2/NVARCHAR2</code> columns. Primary key without invisible columns.</p>
</li>
<li>
<p>Unique key. Unique key without invisible columns.</p>
<p>In the case of a nonintegrated Replicat, the selection of the unique key is as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>First unique key alphanumerically with no virtual columns, no UDTs, no function-based columns, no nullable columns, and no extended (32K) <code class="codeph">VARCHAR2/NVARCHAR2</code> columns. To support a key that contains columns that are part of an invisible index, you must use the <code class="codeph">ALLOWINVISIBLEINDEXKEYS</code> parameter in the Oracle GoldenGate <code class="codeph">GLOBALS</code> file.</p>
</li>
<li>
<p>First unique key alphanumerically with no virtual columns, no UDTs, no extended (32K) <code class="codeph">VARCHAR2/NVARCHAR2</code> columns, or no function-based columns, but can include nullable columns. To support a key that contains columns that are part of an invisible index, you must use the <code class="codeph">ALLOWINVISIBLEINDEXKEYS</code> parameter in the Oracle GoldenGate <code class="codeph">GLOBALS</code> file.</p>
</li>
</ul>
</li>
<li>
<p>If none of the preceding key types exist (even though there might be other types of keys defined on the table) Oracle GoldenGate constructs a pseudo key of all columns that the database allows to be used in a unique key, excluding virtual columns, UDTs, function-based columns, extended (32K) <code class="codeph">VARCHAR2/NVARCHAR2</code> columns, and any columns that are explicitly excluded from the Oracle GoldenGate configuration by an Oracle GoldenGate user.</p>
<p>Unless otherwise excluded due to the preceding restrictions, invisible columns are allowed in the pseudo key.</p>
</li>
</ol>
<div class="infobox-note" id="GUID-644099C5-8950-496C-8592-446FB1566AFD__GUID-613FE116-C1A6-4646-8971-5493C3338057">
<p class="notep1">Note:</p>
<p>If there are other, non-usable keys on a table or if there are no keys at all on the table, Oracle GoldenGate logs an appropriate message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code class="codeph">WHERE</code> clause.</p>
</div>
<p>If a table does not have an appropriate key, or if you prefer the existing key(s) not to be used, you can define a substitute key if the table has columns that always contain unique values. You define this substitute key by including a <code class="codeph">KEYCOLS</code> clause within the Extract <code class="codeph">TABLE</code> parameter and the Replicat <code class="codeph">MAP</code> parameter. The specified key will override any existing primary or unique key that Oracle GoldenGate finds. For more information, see <a class="olink GWURF546" target="_blank" href="../GWURF/table-map.htm#GWURF546"><span class="italic"><span id="GUID-644099C5-8950-496C-8592-446FB1566AFD__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-2FBECF4E-1D8D-42A7-B4B1-A1FDE56039D8"></a>
<h2 id="GGODB-GUID-2FBECF4E-1D8D-42A7-B4B1-A1FDE56039D8" class="sect2"><span class="enumeration_section">9.2</span> Installing Support for Oracle Sequences</h2>
<div>
<div class="section">
<p>To support Oracle sequences, you must install some database procedures. These procedures support the Oracle GoldenGate <code class="codeph">FLUSH SEQUENCE</code> command, which you issue immediately after you start the Oracle GoldenGate processes for the first time (typically when you perform the initial data synchronization procedure).</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To Install Oracle Sequence Objects</p>
</div>
<!-- class="section" -->
<div class="section">
<p>You will perform steps on the source and target systems.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In SQL*Plus, connect to the source and target Oracle systems as <code class="codeph">SYSDBA</code>.</span></li>
<li class="stepexpand"><span>If you already assigned a database user to support the Oracle GoldenGate DDL replication feature, you can skip this step. Otherwise, in SQL*Plus on both systems create a database user that can also be the DDL user.</span>
<div>
<pre dir="ltr">
CREATE USER <span class="italic">DDLuser </span>IDENTIFIED BY <span class="italic">password</span>; 
GRANT CONNECT, RESOURCE, DBA TO <span class="italic">DDLuser</span>;
</pre></div>
</li>
<li class="stepexpand"><span>From the Oracle GoldenGate installation directory on each system, run GGSCI.</span></li>
<li class="stepexpand"><span>In GGSCI, issue the following command on each system.</span>
<div>
<pre dir="ltr">
EDIT PARAMS ./GLOBALS
</pre></div>
</li>
<li class="stepexpand"><span>In each <code class="codeph">GLOBALS</code> file, enter the <code class="codeph">GGSCHEMA</code> parameter and specify the schema of the DDL user that you created earlier in this procedure.</span>
<div>
<pre dir="ltr">
GGSCHEMA <span class="italic">schema</span>
</pre></div>
</li>
<li class="stepexpand"><span>Save and close the files.</span></li>
<li class="stepexpand"><span>In SQL*Plus on both systems, run the <code class="codeph">sequence.sql</code> script from the root of the Oracle GoldenGate installation directory. This script creates some procedures for use by Oracle GoldenGate processes. (Do not run them yourself.) You are prompted for the user information that you created in the first step.</span>
<div>
<pre dir="ltr">
@sequence.sql
</pre></div>
</li>
<li class="stepexpand"><span>In SQL*Plus on the source system, grant <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">updateSequence</code> procedure to a database user that can be used to issue the <code class="codeph">DBLOGIN</code> command. Remember or record this user. You use <code class="codeph">DBLOGIN</code> to log into the database prior to issuing the <code class="codeph">FLUSH SEQUENCE</code> command, which calls the procedure.</span>
<div>
<pre dir="ltr">
GRANT EXECUTE on <span class="italic">DDLuser</span>.updateSequence TO <span class="italic">DBLOGINuser</span>;
</pre></div>
</li>
<li class="stepexpand"><span>In SQL*Plus on the target system, grant <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">replicateSequence</code> procedure to the Replicat database user.</span>
<div>
<pre dir="ltr">
GRANT EXECUTE on <span class="italic">DDLuser</span>.replicateSequence TO <span class="italic">Replicatuser</span>;
</pre></div>
</li>
<li class="stepexpand"><span>In SQL*Plus on the source system, issue the following statement in SQL*Plus.</span>
<div>
<pre dir="ltr">
ALTER TABLE sys.seq$ ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B"></a>
<h2 id="GGODB-GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B" class="sect2"><span class="enumeration_section">9.3</span> Handling Special Data Types</h2>
<div>
<div class="section">
<p>This section applies whether Extract operates in classic or integrated capture mode, unless otherwise noted. It addresses special configuration requirements for the following Oracle data types:</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-37F9F0FA-AF08-47CD-A5F4-5B2474216D60">Multibyte Character Types</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B2ADC6E5-EC1A-4C92-86C5-A9181686A077">Oracle Spatial Objects</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-E79ABA2D-BD65-4450-B060-D0BD96F80ACD">TIMESTAMP</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-5679F36D-3649-4AFC-899B-0895B8308DFE">Large Objects (LOB)</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-A0124E3A-C1E3-46DA-A434-9E3DFB9DE61A">XML</a><br /></li>
<li class="ulchildlink"><a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-F5EC278B-50E0-4D41-B603-1A1E0F2F8A62">User Defined Types</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-37F9F0FA-AF08-47CD-A5F4-5B2474216D60"></a>
<h3 id="GGODB-GUID-37F9F0FA-AF08-47CD-A5F4-5B2474216D60" class="sect3"><span class="enumeration_section">9.3.1</span> Multibyte Character Types</h3>
<div>
<div class="section">
<p>Multi-byte characters are supported as part of a supported character set. If the semantics setting of an Oracle source database is <code class="codeph">BYTE</code> and the setting of an Oracle target is <code class="codeph">CHAR</code>, use the Replicat parameter <code class="codeph">SOURCEDEFS</code> in your configuration, and place a definitions file that is generated by the <code class="codeph">DEFGEN</code> utility on the target. These steps are required to support the difference in semantics, whether or not the source and target data definitions are identical. Replicat refers to the definitions file to determine the upper size limit for fixed-size character columns.</p>
<p>For more information about character-set support, see <a class="olink GWUAD-GUID-26E04A87-91E0-4DF4-ABED-26BA1F9AD9A8" target="_blank" href="../GWUAD/supported-character-sets.htm#GWUAD-GUID-26E04A87-91E0-4DF4-ABED-26BA1F9AD9A8"><span class="italic"><span id="GUID-37F9F0FA-AF08-47CD-A5F4-5B2474216D60__GWUAD"><cite>Administering Oracle GoldenGate</cite></span></span>.</a>.</p>
<p>For information about <code class="codeph">SOURCEDEFS</code> and the <code class="codeph">DEFGEN</code> utility, see <a class="olink GWUAD-GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73" target="_blank" href="../GWUAD/associating-replicated-data-metadata.htm#GWUAD-GUID-6230CE3C-9C18-43E2-8C81-4847B4724E73"><span><cite>Administering Oracle GoldenGate</cite></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-B2ADC6E5-EC1A-4C92-86C5-A9181686A077"></a>
<h3 id="GGODB-GUID-B2ADC6E5-EC1A-4C92-86C5-A9181686A077" class="sect3"><span class="enumeration_section">9.3.2</span> Oracle Spatial Objects</h3>
<div>
<div class="section">
<p>To replicate tables that contain one or more columns of <code class="codeph">SDO_GEORASTER</code> object type from an Oracle source to an Oracle target, follow these instructions to configure Oracle GoldenGate to process them correctly.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Create a <code class="codeph">TABLE</code> statement and a <code class="codeph">MAP</code> statement for the georaster tables and also for the related raster data tables.</span></li>
<li class="stepexpand"><span>If the <code class="codeph">METADATA</code> attribute of the <code class="codeph">SDO_GEORASTER</code> data type in any of the values exceeds 1 MB, use the <code class="codeph">DBOPTIONS</code> parameter with the <code class="codeph">XMLBUFSIZE</code> option to increase the size of the memory buffer that stores the embedded <code class="codeph">SYS.XMLTYPE</code> attribute of the <code class="codeph">SDO_GEORASTER</code> data type. If the buffer is too small, Extract abends. See <code class="codeph">XMLBUFSIZE</code> in <a class="olink GWURF437" target="_blank" href="../GWURF/dboptions.htm#GWURF437"><span class="italic"><span id="GUID-B2ADC6E5-EC1A-4C92-86C5-A9181686A077__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</span></li>
<li class="stepexpand"><span>To ensure the integrity of the target georaster tables and the spatial data, keep the trigger enabled on both source and target. Use the <code class="codeph">REPERROR</code> option of the <code class="codeph">MAP</code> parameter to handle the "ORA-01403 No data found" error that occurs as a result of keeping the trigger enabled on the target. It occurs when a row in the source georaster table is deleted, and the trigger cascades the delete to the raster data table. Both deletes are replicated. The replicated parent delete triggers the cascaded (child) delete on the target. When the replicated child delete arrives, it is redundant and generates the error. To use <code class="codeph">REPERROR</code>, do the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Use a <code class="codeph">REPERROR</code> statement in each <code class="codeph">MAP</code> statement that contains a raster data table.</p>
</li>
<li>
<p>Use Oracle error 1403 as the SQL error.</p>
</li>
<li>
<p>Use any of the response options as the error handling.</p>
</li>
</ul>
</div>
</li>
</ol>
<div class="section">
<p>A sufficient way to handle the errors on raster tables caused by active triggers on target georaster tables is to use <code class="codeph">REPERROR</code> with <code class="codeph">DISCARD</code> to discard the cascaded delete that triggers them. The trigger on the target georaster table performs the delete to the raster data table, so the replicated one is not needed.</p>
<pre dir="ltr">
MAP geo.st_rdt, TARGET geo.st_rdt, REPERROR (-1403, DISCARD) ;
</pre>
<p>If you need to keep an audit trail of the error handling, use <code class="codeph">REPERROR</code> with <code class="codeph">EXCEPTION</code> to invoke exceptions handling. For this, you create an exceptions table and map the source raster data table twice:</p>
<ul style="list-style-type: disc;">
<li>
<p>once to the actual target raster data table (with <code class="codeph">REPERROR</code> handling the 1403 errors).</p>
</li>
<li>
<p>again to the exceptions table, which captures the 1403 error and other relevant information by means of a <code class="codeph">COLMAP</code> clause.</p>
</li>
</ul>
<p>For more information about using an exceptions table, see <a class="olink GWUAD-GUID-9780396C-4BB4-4E49-8BA1-733B9A636D99" target="_blank" href="../GWUAD/handling-processing-errors.htm#GWUAD-GUID-9780396C-4BB4-4E49-8BA1-733B9A636D99"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>For more information about <code class="codeph">REPERROR</code> options, see <a class="olink GWURF603" target="_blank" href="../GWURF/reperror.htm#GWURF603"><span class="italic"><span><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-E79ABA2D-BD65-4450-B060-D0BD96F80ACD"></a>
<h3 id="GGODB-GUID-E79ABA2D-BD65-4450-B060-D0BD96F80ACD" class="sect3"><span class="enumeration_section">9.3.3</span> TIMESTAMP</h3>
<div>
<div class="section">
<p>To replicate timestamp data, follow these guidelines.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>To prevent Oracle GoldenGate from abending on <code class="codeph">TIMESTAMP WITH TIME ZONE</code> as <code class="codeph">TZR</code>, use the Extract parameter <code class="codeph">TRANLOGOPTIONS</code> with one of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">INCLUDEREGIONID</code> to replicate <code class="codeph">TIMESTAMP WITH TIME ZONE</code> as <code class="codeph">TZR</code> from an Oracle source to an Oracle target of the same version or later.</p>
</li>
<li>
<p><code class="codeph">INCLUDEREGIONIDWITHOFFSET</code> to replicate <code class="codeph">TIMESTAMP WITH TIMEZONE</code> as <code class="codeph">TZR</code> from an Oracle source that is at least v10g to an earlier Oracle target, or from an Oracle source to a non-Oracle target.</p>
</li>
</ul>
<p>These options allow replication to Oracle versions that do not support <code class="codeph">TIMESTAMP WITH TIME ZONE</code> as <code class="codeph">TZR</code> and to database systems that only support time zone as a UTC offset. .</p>
</div>
</li>
<li class="stepexpand"><span>Oracle Database normalizes <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> data to the local time zone of the database that receives it, the target database in the case of Oracle GoldenGate. To preserve the original time stamp of the data that it applies, Replicat sets its session to the time zone of the source database. You can override this default and supply a different time zone by using the <code class="codeph">SOURCETIMEZONE</code> parameter in the Replicat parameter file. To force Replicat to set its session to the target time zone, use the <code class="codeph">PRESERVETARGETTIMEZONE</code> parameter.</span>
<div>
<p>You can also use the <code class="codeph">SOURCETIMEZONE</code> parameter to specify the source time zone for data that is captured by an Extract that is earlier than version 12.1.2. Those versions do not write the source time zone to the trail.</p>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-5679F36D-3649-4AFC-899B-0895B8308DFE"></a>
<h3 id="GGODB-GUID-5679F36D-3649-4AFC-899B-0895B8308DFE" class="sect3"><span class="enumeration_section">9.3.4</span> Large Objects (LOB)</h3>
<div>
<div class="section">
<p>The following are some configuration guidelines for LOBs in both classic capture and integrated capture mode.</p>
<ol>
<li>
<p>Store large objects out of row if possible.</p>
</li>
<li>
<p>(Applies only to integrated capture) Integrated capture captures LOBs from the redo log. For <code class="codeph">UPDATE</code> operations on a LOB document, only the changed portion of the LOB is logged. To force whole LOB documents to be written to the trail when only the changed portion is logged, use the <code class="codeph">TRANLOGOPTIONS</code> parameter with the <code class="codeph">FETCHPARTIALLOB</code> option in the Extract parameter file. When Extract receives partial LOB content from the logmining server, it fetches the full LOB image instead of processing the partial LOB. Use this option when replicating to a non-Oracle target or in other conditions where the full LOB image is required.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-A0124E3A-C1E3-46DA-A434-9E3DFB9DE61A"></a>
<h3 id="GGODB-GUID-A0124E3A-C1E3-46DA-A434-9E3DFB9DE61A" class="sect3"><span class="enumeration_section">9.3.5</span> XML</h3>
<div>
<div class="section">
<p>The following are tools for working with XML within Oracle GoldenGate constraints.</p>
<ul style="list-style-type: disc;">
<li>
<p>Although both classic and integrated capture modes do not support the capture of changes made to an XML schema, you may be able to evolve the schemas and then resume replication of them without the need for a resynchronization, see <a href="supporting-changes-xml-schemas-1.htm#GUID-C0B8BA6D-9F15-4DE8-8063-6E7B9EF14A98" title="This appendix contains instructions for supporting changes to an XML schema. Both classic and integrated capture modes do not support the capture of changes made to an XML schema.">Supporting Changes to XML Schemas</a>.</p>
</li>
<li>
<p>(Applies only to integrated capture) Integrated capture captures XML from the redo log. For <code class="codeph">UPDATE</code> operations on an XML document, only the changed portion of the XML is logged if it is stored as <code class="codeph">OBJECT RELATIONAL</code> or <code class="codeph">BINARY</code>. To force whole XML documents to be written to the trail when only the changed portion is logged, use the <code class="codeph">TRANLOGOPTIONS</code> parameter with the <code class="codeph">FETCHPARTIALXML</code> option in the Extract parameter file. When Extract receives partial XML content from the logmining server, it fetches the full XML document instead of processing the partial XML. Use this option when replicating to a non-Oracle target or in other conditions where the full XML image is required.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-F5EC278B-50E0-4D41-B603-1A1E0F2F8A62"></a>
<h3 id="GGODB-GUID-F5EC278B-50E0-4D41-B603-1A1E0F2F8A62" class="sect3"><span class="enumeration_section">9.3.6</span> User Defined Types</h3>
<div>
<div class="section">
<p>If Oracle Database is compatible with releases greater than or equal to 12.0.0.0.0, then integrated Extract captures data from redo (no fetch), see <a href="preparing-database-oracle-goldengate.htm#GUID-AE2D0BE3-F7C3-4A8C-B96C-0498AE71D244">Setting Flashback Query</a>.</p>
<p>If replicating source data that contains user-defined types with the <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">NCLOB</code> attribute to an Oracle target, use the <code class="codeph">HAVEUDTWITHNCHAR</code> parameter in the Replicat parameter file. When this type of data is encountered in the trail, <code class="codeph">HAVEUDTWITHNCHAR</code> causes Replicat to connect to the Oracle target in <code class="codeph">AL32UTF8</code>, which is required when a user-defined data type contains one of those attributes. <code class="codeph">HAVEUDTWITHNCHAR</code> is required even if <code class="codeph">NLS_LANG</code> is set to <code class="codeph">AL32UTF8</code> on the target. By default Replicat ignores <code class="codeph">NLS_LANG</code> and connects to an Oracle Database in the native character set of the database. Replicat uses the <code class="codeph">OCIString</code> object of the Oracle Call Interface, which does not support <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">NCLOB</code> attributes, so Replicat must bind them as <code class="codeph">CHAR</code>. Connecting to the target in <code class="codeph">AL32UTF8</code> prevents data loss in this situation. <code class="codeph">HAVEUDTWITHNCHAR</code> must appear before the <code class="codeph">USERID</code> or <code class="codeph">USERIDALIAS</code> parameter in the parameter file.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-B9D4143B-A7F4-4FF7-B995-72C44AB49A6B">Handling Special Data Types</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-C2191C99-7D1C-403D-83A6-66B6F4F5B9D2"></a>
<h2 id="GGODB-GUID-C2191C99-7D1C-403D-83A6-66B6F4F5B9D2" class="sect2"><span class="enumeration_section">9.4</span> Handling Other Database Properties</h2>
<div>
<div class="section">
<p>The following table shows database properties that may affect Oracle GoldenGate and the parameters that you can use to resolve or work around the condition.</p>
</div>
<!-- class="section" -->
<div class="tblformalwide" id="GUID-C2191C99-7D1C-403D-83A6-66B6F4F5B9D2__GUID-8B549355-1925-4879-AE9C-452D608EDD17">
<p class="titleintable">Table 9-1 Handling Other Database Properties</p>
<table class="cellalignment500" title="Handling Other Database Properties" summary="This table describes handling other database properties. It lists the database property and the concern/resolution.">
<thead>
<tr class="cellalignment483">
<th class="cellalignment517" id="d24870e946">Database Property</th>
<th class="cellalignment530" id="d24870e949">Concern/Resolution</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e954" headers="d24870e946">
<p>Table with interval partitioning</p>
</td>
<td class="cellalignment531" headers="d24870e954 d24870e949">
<p>To support tables with interval partitioning, make certain that the <code class="codeph">WILDCARDRESOLVE</code> parameter remains at its default of <code class="codeph">DYNAMIC</code>.</p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e967" headers="d24870e946">
<p>Table with virtual columns</p>
</td>
<td class="cellalignment531" headers="d24870e967 d24870e949">
<p>Virtual columns are not logged, and Oracle does not permit DML on virtual columns. You can, however, capture this data and map it to a target column that is not a virtual column by doing the following:</p>
<p>Include the table in the Extract <code class="codeph">TABLE</code> statement and use the <code class="codeph">FETCHCOLS</code> option of <code class="codeph">TABLE</code> to fetch the value from the virtual column in the database.</p>
<p>In the Replicat <code class="codeph">MAP</code> statement, map the source virtual column to the non-virtual target column.</p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e990" headers="d24870e946">
<p>Table with inherently updateable view</p>
</td>
<td class="cellalignment531" headers="d24870e990 d24870e949">
<p>To replicate to an inherently updateable view, define a key on the unique columns in the updateable view by using a <code class="codeph">KEYCOLS</code> clause in the same <code class="codeph">MAP</code> statement in which the associated source and target tables are mapped.</p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e1003" headers="d24870e946">
<p>Redo logs or archives in different locations</p>
</td>
<td class="cellalignment531" headers="d24870e1003 d24870e949">
<p>The <code class="codeph">TRANLOGOPTIONS</code> parameter contains options to handle environments where the redo logs or archives are stored in a different location than the database default or on a different platform from that on which Extract is running. These options may be required when Extract operates in classic capture mode. For more information, see <a class="olink GWURF643" target="_blank" href="../GWURF/sequence.htm#GWURF643"><span class="italic"><span id="GUID-C2191C99-7D1C-403D-83A6-66B6F4F5B9D2__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e1020" headers="d24870e946">
<p><code class="codeph">TRUNCATE</code> operations</p>
</td>
<td class="cellalignment531" headers="d24870e1020 d24870e949">
<p>To replicate <code class="codeph">TRUNCATE</code> operations, choose one of two options:</p>
<ul style="list-style-type: disc;">
<li>
<p>Standalone <code class="codeph">TRUNCATE</code> support by means of the <code class="codeph">GETTRUNCATES</code> parameter replicates <code class="codeph">TRUNCATE TABLE</code>, but no other <code class="codeph">TRUNCATE</code> options. Use only if not using Oracle GoldenGate DDL support.</p>
</li>
<li>
<p>The full DDL support replicates <code class="codeph">TRUNCATE TABLE</code>, <code class="codeph">ALTER TABLE TRUNCATE</code> <code class="codeph">PARTITION</code>, and other DDL. To install this support, see <a href="installing-trigger-based-ddl-capture-1.htm#GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E" title="This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support.">Installing Trigger-Based DDL Capture</a>..</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment518" id="d24870e1066" headers="d24870e946">
<p>Sequences</p>
</td>
<td class="cellalignment531" headers="d24870e1066 d24870e949">
<p>To replicate DDL for sequences (<code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, <code class="codeph">DROP</code>, <code class="codeph">RENAME</code>), use Oracle GoldenGate DDL support.</p>
<p>To replicate just sequence values, use the <code class="codeph">SEQUENCE</code> parameter in the Extract parameter file. This does <span class="italic">not</span> require the Oracle GoldenGate DDL support environment. For more information, see <a class="olink GWURF643" target="_blank" href="../GWURF/sequence.htm#GWURF643"><span class="italic"><span><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-073F1413-BEF5-4434-BE02-0A521A522534"></a>
<h2 id="GGODB-GUID-073F1413-BEF5-4434-BE02-0A521A522534" class="sect2"><span class="enumeration_section">9.5</span> Controlling the Checkpoint Frequency</h2>
<div>
<div class="section">
<p>The <code class="codeph">CHECKPOINTRETENTIONTIME</code> option of the <code class="codeph">TRANLOGOPTIONS</code> parameter controls the number of days that Extract in integrated mode retains checkpoints before purging them automatically. Partial days can be specified using decimal values. For example, 8.25 specifies 8 days and 6 hours. The default is seven days. For more information about this parameter, see <a class="olink GWURF712" target="_blank" href="../GWURF/tranlogoptions.htm#GWURF712"><span class="italic"><span id="GUID-073F1413-BEF5-4434-BE02-0A521A522534__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8B0E2902-D8EA-452E-9AC3-8B64C55D52A8"></a>
<h2 id="GGODB-GUID-8B0E2902-D8EA-452E-9AC3-8B64C55D52A8" class="sect2"><span class="enumeration_section">9.6</span> Excluding Replicat Transactions</h2>
<div>
<div class="section">
<p>In a bidirectional configuration, Replicat must be configured to mark its transactions, and Extract must be configured to exclude Replicat transactions so that they do not propagate back to their source. There are two methods to accomplish this as follows:</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Method 1</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Valid only for Oracle to Oracle implementations.</p>
<p>When Extract is in classic or integrated mode (Replicat can be in either integrated or nonintegrated mode), use the following parameters:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use <code class="codeph">DBOPTIONS</code> with the <code class="codeph">SETTAG</code> option in the Replicat parameter file. The inbound server tags the transactions of that Replicat with the specified value, which identifies those transactions in the redo stream. The default value for <code class="codeph">SETTAG</code> is 00.</p>
</li>
<li>
<p>Use the <code class="codeph">TRANLOGOPTIONS</code> parameter with the <code class="codeph">EXCLUDETAG</code> option in a classic or integrated Extract parameter file. The logmining server associated with that Extract excludes redo that is tagged with the <code class="codeph">SETTAG</code> value. Multiple <code class="codeph">EXCLUDETAG</code> statements can be used to exclude different tag values, if desired.</p>
<p>For Oracle to Oracle, this is the recommended method.</p>
</li>
</ul>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Method 2</p>
</div>
<!-- class="section" -->
<div class="section">
<p>Valid for any implementation; Oracle or heterogeneous database configurations.</p>
<p>Alternatively, when Extract is in classic or integrated capture mode, you could also use the Extract <code class="codeph">TRANLOGOPTIONS</code> parameter with the <code class="codeph">EXCLUDEUSER</code> or <code class="codeph">EXCLUDEUSERID</code> option to ignore Replicat the DDL and DML transactions based on its user name or ID. Multiple <code class="codeph">EXCLUDEUSER</code> statements can be used. The specified user is subject to the rules of the <code class="codeph">GETREPLICATES</code> or <code class="codeph">IGNOREREPLICATES</code> parameter.</p>
<p>For more information, see <a class="olink GWURF712" target="_blank" href="../GWURF/tranlogoptions.htm#GWURF712"><span class="italic"><span id="GUID-8B0E2902-D8EA-452E-9AC3-8B64C55D52A8__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-AC595EFC-B2AA-46E9-AF74-EC13AA9FC7DE"></a>
<h2 id="GGODB-GUID-AC595EFC-B2AA-46E9-AF74-EC13AA9FC7DE" class="sect2"><span class="enumeration_section">9.7</span> Advanced Configuration Options for Oracle GoldenGate</h2>
<div>
<div class="section">
<p>You may need to configure Oracle GoldenGate with advanced options to suit your business needs. See the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>For additional configuration guidelines to achieve specific replication topologies, see <a class="olink GWUAD-GUID-19D23453-0E67-4935-9697-6D2EC15D2108" target="_blank" href="../GWUAD/configuring-oracle-goldengate-real-time-data-warehousing.htm#GWUAD-GUID-19D23453-0E67-4935-9697-6D2EC15D2108"><span id="GUID-AC595EFC-B2AA-46E9-AF74-EC13AA9FC7DE__GWUAD"><cite>Administering Oracle GoldenGate</cite></span></a>. This guide includes instructions for the following configurations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Using Oracle GoldenGate for live reporting</p>
</li>
<li>
<p>Using Oracle GoldenGate for real-time data distribution</p>
</li>
<li>
<p>Configuring Oracle GoldenGate for real-time data warehousing</p>
</li>
<li>
<p>Using Oracle GoldenGate to maintain a live standby database</p>
</li>
<li>
<p>Using Oracle GoldenGate for active-active high availability</p>
</li>
</ul>
<p>That guide also contains information about:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle GoldenGate architecture</p>
</li>
<li>
<p>Oracle GoldenGate commands</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods</p>
</li>
<li>
<p>Configuring security</p>
</li>
<li>
<p>Using customization features</p>
</li>
<li>
<p>Configuring data filtering and manipulation</p>
</li>
</ul>
</li>
<li>
<p>If either the source or target database is non-Oracle, follow the installation and configuration instructions in the Oracle GoldenGate installation and setup guide for that database, and then refer to the Oracle GoldenGate administration and reference documentation for further information.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="additional-oracle-goldengate-configuration-considerations.htm#GUID-253F9A94-CBF6-4193-B2B0-89F960780B18" title="This chapter contains additional configuration considerations that may apply to your database environment.">Additional Oracle GoldenGate Configuration Considerations</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment482">
<tr>
<td class="cellalignment492">
<table class="cellalignment487">
<tr>
<td class="cellalignment486"><a href="configuring-oracle-goldengate-apply.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment486"><a href="additional-configuration-steps-using-classic-capture.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment494">
<table class="cellalignment485">
<tr>
<td class="cellalignment486"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment486"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment486"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
