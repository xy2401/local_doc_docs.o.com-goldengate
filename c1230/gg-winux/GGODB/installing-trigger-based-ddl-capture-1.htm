<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Installing Trigger-Based DDL Capture</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support." />
<meta name="dcterms.created" content="2018-07-26T05:17:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E88785-05" />
<meta name="dcterms.isVersionOf" content="GGODB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="example-downstream-mining-configuration.htm" title="Previous" type="text/html" />
<link rel="Next" href="supporting-changes-xml-schemas-1.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGODB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"2",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"2a2a7d32",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"2a2a7d32",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E"></a> <span id="PAGE" style="display:none;">26/28</span> <!-- End Header -->
<script  >
//<![CDATA[
window.name='installing-trigger-based-ddl-capture-1'
//]]>
</script> <script  >
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<h1 id="GGODB-GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E" class="sect1"><span class="enumeration_chapter">D</span> Installing Trigger-Based DDL Capture</h1>
<div>
<div><span>This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support.</span></div>
<p>To configure Oracle GoldenGate to capture and replicate DDL, see <a href="configuring-ddl-support.htm#GUID-A2997164-CBDF-4E9B-B2B0-2CE6889BC2DF" title="This chapter contains information to help you understand and configure DDL support in Oracle GoldenGate.">Configuring DDL Support</a>.</p>
<div class="infobox-note" id="GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E__GUID-AD7FCAB4-C8E6-40D6-904B-FEEBC3AFD077">
<p class="notep1">Note:</p>
<p>DDL support for sequences (<code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, <code class="codeph">DROP</code>, <code class="codeph">RENAME</code>) is compatible with, but not required for, replicating the sequence values themselves. To replicate just sequence values, you do not need to install the Oracle GoldenGate DDL support environment. You can just use the <code class="codeph">SEQUENCE</code> parameter in the Extract configuration.</p>
<p><span class="bold">Topics:</span></p>
</div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-trigger-based-ddl-capture-1.htm#GUID-074D20D7-E640-4189-88B6-8F1968C01234">When to Use Trigger-based DDL Capture</a><br /></li>
<li class="ulchildlink"><a href="installing-trigger-based-ddl-capture-1.htm#GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406">Overview of the Objects that Support Trigger-based DDL Capture</a><br /></li>
<li class="ulchildlink"><a href="installing-trigger-based-ddl-capture-1.htm#GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17">Installing the DDL Objects</a><br /></li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-074D20D7-E640-4189-88B6-8F1968C01234"></a>
<h2 id="GGODB-GUID-074D20D7-E640-4189-88B6-8F1968C01234" class="sect2"><span class="enumeration_section">D.1</span> When to Use Trigger-based DDL Capture</h2>
<div>
<div class="section">
<p>You <span class="italic">must</span> use trigger-based DDL capture when Extract will operate in the following configurations:</p>
<ul style="list-style-type: disc;">
<li>
<p>Extract operates in classic capture mode against any version of Oracle Database.</p>
</li>
<li>
<p>Extract operates in integrated mode against an Oracle Database version 11.2.0.3 or earlier.</p>
</li>
</ul>
<p>If Extract will run in integrated mode against a version 11.2.0.4 or later Oracle Database, the DDL trigger is not required. By default, DDL capture is handled transparently through the database logmining server.</p>
<p>If Extract will capture from a multitenant container database, integrated capture mode must be used with the native DDL capture method.</p>
<p>See <a href="choosing-capture-and-apply-modes.htm#GUID-46EEC8E7-F1A3-41F6-ABEE-706B48DC338F" title="This chapter contains information that helps you determine the appropriate capture and apply modes for your database environment.">Choosing Capture and Apply Modes</a> for more information about capture modes.</p>
<p>See <a href="configuring-ddl-support.htm#GUID-A2997164-CBDF-4E9B-B2B0-2CE6889BC2DF" title="This chapter contains information to help you understand and configure DDL support in Oracle GoldenGate.">Configuring DDL Support</a> for more information about configuring DDL support.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-trigger-based-ddl-capture-1.htm#GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E" title="This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support.">Installing Trigger-Based DDL Capture</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406"></a>
<h2 id="GGODB-GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406" class="sect2"><span class="enumeration_section">D.2</span> Overview of the Objects that Support Trigger-based DDL Capture</h2>
<div>
<p>To install the Oracle GoldenGate trigger-based DDL environment, you will be installing the database objects shown in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406__CHDECAAE" title="This table lists the DDL synchronization objects. It gives the purpose and default name for each object.">Table D-1</a>.</p>
<div class="tblformal" id="GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406__CHDECAAE">
<p class="titleintable">Table D-1 DDL Synchronization Objects</p>
<table class="cellalignment495" title="DDL Synchronization Objects" summary="This table lists the DDL synchronization objects. It gives the purpose and default name for each object.">
<thead>
<tr class="cellalignment483">
<th class="cellalignment552" id="d131656e166">Object</th>
<th class="cellalignment553" id="d131656e169">Purpose</th>
<th class="cellalignment553" id="d131656e172">Default name</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e177" headers="d131656e166">
<p>DDL marker table</p>
</td>
<td class="cellalignment555" headers="d131656e177 d131656e169">
<p>Stores DDL information. This table only receives inserts.</p>
</td>
<td class="cellalignment555" headers="d131656e177 d131656e172">
<p><code class="codeph">GGS_MARKER</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e188" headers="d131656e166">
<p>Sequence on marker table</p>
</td>
<td class="cellalignment555" headers="d131656e188 d131656e169">
<p>Used for a column in the marker table.</p>
</td>
<td class="cellalignment555" headers="d131656e188 d131656e172">
<p><code class="codeph">GGS_DDL_SEQ</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e199" headers="d131656e166">
<p>DDL history table</p>
</td>
<td class="cellalignment555" headers="d131656e199 d131656e169">
<p>Stores object metadata history. This table receives inserts, updates, deletes.</p>
</td>
<td class="cellalignment555" headers="d131656e199 d131656e172">
<p><code class="codeph">GGS_DDL_HIST</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e210" headers="d131656e166">
<p>Object ID history table</p>
</td>
<td class="cellalignment555" headers="d131656e210 d131656e169">
<p>Contains object IDs of configured objects.</p>
</td>
<td class="cellalignment555" headers="d131656e210 d131656e172">
<p><code class="codeph">GGS_DDL_HIST_ALT</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e221" headers="d131656e166">
<p>DDL trigger</p>
</td>
<td class="cellalignment555" headers="d131656e221 d131656e169">
<p>Fires on DDL operations. Writes information about the operation to the marker and history tables. Installed with the trigger are some packages.</p>
</td>
<td class="cellalignment555" headers="d131656e221 d131656e172">
<p><code class="codeph">GGS_DDL_TRIGGER_BEFORE</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e232" headers="d131656e166">
<p>DDL schema</p>
</td>
<td class="cellalignment555" headers="d131656e232 d131656e169">
<p>Contains the DDL synchronization objects.</p>
</td>
<td class="cellalignment555" headers="d131656e232 d131656e172">
<p>None; must be specified during installation and in the <code class="codeph">GLOBALS</code> file.</p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e245" headers="d131656e166">
<p>User role</p>
</td>
<td class="cellalignment555" headers="d131656e245 d131656e169">
<p>Establishes the role needed to execute DDL operations.</p>
</td>
<td class="cellalignment555" headers="d131656e245 d131656e172">
<p><code class="codeph">GGS_GGSUSER_ROLE</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e256" headers="d131656e166">
<p>Internal setup table</p>
</td>
<td class="cellalignment555" headers="d131656e256 d131656e169">
<p>Database table for internal use only.</p>
</td>
<td class="cellalignment555" headers="d131656e256 d131656e172">
<p><code class="codeph">GGS_SETUP</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e267" headers="d131656e166">
<p><code class="codeph">ddl_pin</code></p>
</td>
<td class="cellalignment555" headers="d131656e267 d131656e169">
<p>Pins DDL tracing, the DDL package, and the DDL trigger for performance improvements.</p>
</td>
<td class="cellalignment555" headers="d131656e267 d131656e172">
<p><code class="codeph">ddl_pin</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e279" headers="d131656e166">
<p><code class="codeph">ddl_cleartrace.sql</code></p>
</td>
<td class="cellalignment555" headers="d131656e279 d131656e169">
<p>Removes the DDL trace file.</p>
</td>
<td class="cellalignment555" headers="d131656e279 d131656e172">
<p><code class="codeph">ddl_cleartrace.sql</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e292" headers="d131656e166">
<p><code class="codeph">ddl_status.sql</code></p>
</td>
<td class="cellalignment555" headers="d131656e292 d131656e169">
<p>Verifies that the Oracle GoldenGate DDL objects are installed</p>
</td>
<td class="cellalignment555" headers="d131656e292 d131656e172">
<p><code class="codeph">ddl_status.sql</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e307" headers="d131656e166">
<p><code class="codeph">marker_status.sql</code></p>
</td>
<td class="cellalignment555" headers="d131656e307 d131656e169">
<p>Verifies that the marker table is installed.</p>
</td>
<td class="cellalignment555" headers="d131656e307 d131656e172">
<p><code class="codeph">marker_status.sql</code></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment554" id="d131656e319" headers="d131656e166">
<p><code class="codeph">ddl_tracelevel.sql</code></p>
</td>
<td class="cellalignment555" headers="d131656e319 d131656e169">
<p>Sets the level for DDL tracing.</p>
</td>
<td class="cellalignment555" headers="d131656e319 d131656e172">
<p><code class="codeph">ddl_tracelevel.sql</code></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-trigger-based-ddl-capture-1.htm#GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E" title="This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support.">Installing Trigger-Based DDL Capture</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17"></a>
<h2 id="GGODB-GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17" class="sect2"><span class="enumeration_section">D.3</span> Installing the DDL Objects</h2>
<div>
<div class="section">To install ddl objects, you need scripts to perform various tasks during the installation. These scripts are located in the installation directory of <span>Oracle GoldenGate</span> <span>Microservices Architecture</span>. The specific location is: <code class="codeph">oggma_install_home/lib/sql/legacy</code>.</div>
<!-- class="section" -->
<div class="section">
<p>Follow these steps to install the database objects that support Oracle GoldenGate DDL capture.</p>
<div class="infobox-note" id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__GUID-0B10CFCB-F2DE-4C59-AC5C-E26731B6FDA8">
<p class="notep1">Note:</p>
<p>When using Extract in classic mode to capture in an Active Data Guard environment, the DDL objects must be installed on the source database, not the standby.</p>
</div>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand" id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__CHDGGGCD"><span>Choose a schema that can contain the Oracle GoldenGate DDL objects. This schema cannot be case-sensitive.</span></li>
<li class="stepexpand"><span>Grant the following permission to the Oracle GoldenGate schema.</span>
<div>
<pre dir="ltr">
GRANT EXECUTE ON utl_file TO <span class="italic">schema</span>;
</pre></div>
</li>
<li class="stepexpand"><span>Create a default tablespace for the Oracle GoldenGate DDL schema. This tablespace must be dedicated to the DDL schema; do not allow any other schema to share it.</span></li>
<li class="stepexpand"><span>Set <code class="codeph">AUTOEXTEND</code> to <code class="codeph">ON</code> for the DDL tablespace, and size it to accommodate the growth of the <code class="codeph">GGS_DDL_HIST</code> and <code class="codeph">GGS_MARKER</code> tables. The <code class="codeph">GGS_DDL_HIST</code> table, in particular, will grow in proportion to overall DDL activity.</span></li>
<li class="stepexpand"><span>(Optional) To cause user DDL activity to fail when the DDL tablespace fills up, edit the <code class="codeph">params.sql</code> script and set the <code class="codeph">ddl_fire_error_in_trigger</code> parameter to <code class="codeph">TRUE</code>. Extract cannot capture DDL if the tablespace fills up, so stopping the DDL gives you time to extend the tablespace size and prevent the loss of DDL capture. Managing tablespace sizing this way, however, requires frequent monitoring of the business applications and Extract to avoid business disruptions. As a best practice, make certain to size the tablespace appropriately in the first place, and set <code class="codeph">AUTOEXTEND</code> to <code class="codeph">ON</code> so that the tablespace does not fill up.</span>
<div>
<div class="infoboxnotewarn" id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__GUID-2A53EE7A-8856-4E56-85D3-596AFC87139B">
<p class="notep1">WARNING:</p>
<p>Make a backup of the <code class="codeph">params.sql</code> script before you edit it to preserve its original state.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Create a <code class="codeph">GLOBALS</code> file (or edit it, if one exists).</span>
<div>
<pre dir="ltr">
EDIT PARAMS ./GLOBALS
</pre>
<div class="infobox-note" id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__GUID-F56E6DD2-315A-4C1B-A9FC-A1CDABB1577B">
<p class="notep1">Note:</p>
<p><code class="codeph">EDIT PARAMS</code> creates a simple text file. When you save the file after <code class="codeph">EDIT PARAMS</code>, it is saved with the name <code class="codeph">GLOBALS</code> in upper case, without a file extension, at the root of the Oracle GoldenGate directory. Do not alter the file name or location.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>In the <code class="codeph">GLOBALS</code> file, specify the name of the DDL schema by adding the following parameter to the <code class="codeph">GLOBALS</code> file.</span>
<div>
<pre dir="ltr">
GGSCHEMA <span class="italic">schema_name</span>
</pre></div>
</li>
<li class="stepexpand"><span>(Optional) To change the names of other objects listed in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406__CHDECAAE" title="This table lists the DDL synchronization objects. It gives the purpose and default name for each object.">Table D-1</a>, <span class="italic">the changes must be made now</span>, before proceeding with the rest of the installation. Otherwise, you will need to stop Oracle GoldenGate DDL processing and reinstall the DDL objects. It is recommended that you accept the default names of the database objects. To change any name in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-EE6CF358-BEA1-47CD-9020-12B577AAC406__CHDECAAE" title="This table lists the DDL synchronization objects. It gives the purpose and default name for each object.">Table D-1</a> (except the schema), do one or both of the following:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Record all name changes in the <code class="codeph">params.sql</code> script. Edit this script and change the appropriate parameters. Do not run this script.</p>
</li>
<li>
<p>List the names shown in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__CHDHDAHA" title="This table lists the GLOBALS parameters for changing DDL object names.">Table D-2</a> in the <code class="codeph">GLOBALS</code> file. The correct parameters to use are listed in the <span class="bold">Parameter</span> column of the table.</p>
<div class="tblformal" id="GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__CHDHDAHA">
<p class="titleintable">Table D-2 GLOBALS Parameters for Changing DDL Object Names</p>
<table class="cellalignment527" title="GLOBALS Parameters for Changing DDL Object Names" summary="This table lists the GLOBALS parameters for changing DDL object names.">
<thead>
<tr class="cellalignment483">
<th class="cellalignment496" id="d131656e519">Object</th>
<th class="cellalignment497" id="d131656e522">Parameter</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment483">
<td class="cellalignment498" id="d131656e527" headers="d131656e519">
<p>Marker table</p>
</td>
<td class="cellalignment499" headers="d131656e527 d131656e522">
<p><code class="codeph">MARKERTABLE</code> <span class="italic"><code class="codeph">new_table_name</code></span><a id="fn_1" href="#fn_1" onclick='footdisplay(1,"Do not qualify the name of any of these tables. The schema name for these table must be either the one that is specified with GGSCHEMA or the schema of the current user, if GGSCHEMA is not specified in GLOBALS. ")'><sup>Foot&nbsp;1</sup></a></p>
</td>
</tr>
<tr class="cellalignment483">
<td class="cellalignment498" id="d131656e551" headers="d131656e519">
<p>History table</p>
</td>
<td class="cellalignment499" headers="d131656e551 d131656e522">
<p><code class="codeph">DDLTABLE</code> <span class="italic"><code class="codeph">new_table_name</code></span></p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1</sup></p>
<p>Do not qualify the name of any of these tables. The schema name for these table must be either the one that is specified with <code class="codeph">GGSCHEMA</code> or the schema of the current user, if <code class="codeph">GGSCHEMA</code> is not specified in <code class="codeph">GLOBALS</code>.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>To enable trigger-based DDL replication to recognize Oracle invisible indexes as unique identifiers, set the following parameter to <code class="codeph">TRUE</code> in the <code class="codeph">params.sql</code> script:</span>
<div>
<pre dir="ltr">
define allow_invisible_index_keys = 'TRUE' 
</pre></div>
</li>
<li class="stepexpand"><span>Save and close the <code class="codeph">GLOBALS</code> file and the <code class="codeph">params.sql</code> file.</span></li>
<li class="stepexpand"><span>Change directories to the Oracle GoldenGate installation directory.</span></li>
<li class="stepexpand"><span>Exit all Oracle sessions, including those of SQL*Plus, those of business applications, those of the Oracle GoldenGate processes, and those of any other software that uses Oracle. Prevent the start of any new sessions.</span></li>
<li class="stepexpand"><span>Run SQL*Plus and log in as a user that has <code class="codeph">SYSDBA</code> privilege. This privilege is required to install the DDL trigger in the <code class="codeph">SYS</code> schema, which is required by Oracle. All other DDL objects are installed in the schema that you created in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__CHDGGGCD">1</a>.</span></li>
<li class="stepexpand"><span>Run the <code class="codeph">marker_setup.sql</code> script. Supply the name of the Oracle GoldenGate schema when prompted, and then press <span class="bold">Enter</span> to execute the script. The script installs support for the Oracle GoldenGate DDL marker system.</span>
<div>
<pre dir="ltr">
@marker_setup.sql
</pre></div>
</li>
<li class="stepexpand"><span>Run the <code class="codeph">ddl_setup.sql</code> script. You are prompted to specify the name of the DDL schema that you configured in <a href="installing-trigger-based-ddl-capture-1.htm#GUID-F71039E4-8DD7-41E0-9065-E27DA440AC17__CHDGGGCD">1</a>. (Note: <code class="codeph">ddl_setup.sql</code> will fail if the tablespace for this schema is shared by any other users. It will not fail, however, if the default tablespace does not have <code class="codeph">AUTOEXTEND</code> set to <code class="codeph">ON</code>, the recommended setting.)</span>
<div>
<pre dir="ltr">
@ddl_setup.sql
</pre></div>
</li>
<li class="stepexpand"><span>Run the <code class="codeph">role_setup.sql</code> script. At the prompt, supply the DDL schema name. The script drops and creates the role that is needed for DDL synchronization, and it grants DML permissions on the Oracle GoldenGate DDL objects.</span>
<div>
<pre dir="ltr">
@role_setup.sql
</pre></div>
</li>
<li class="stepexpand"><span>Grant the role that was created (default name is <code class="codeph">GGS_GGSUSER_ROLE</code>) to all Oracle GoldenGate Extract users. You may need to make multiple grants if the processes have different user names.</span>
<div>
<pre dir="ltr">
GRANT <span class="italic">role</span> TO <span class="italic">user</span>;
</pre></div>
</li>
<li class="stepexpand"><span>Run the <code class="codeph">ddl_enable.sql</code> script to enable the DDL trigger.</span>
<div>
<pre dir="ltr">
@ddl_enable.sql
</pre></div>
</li>
</ol>
<div class="section">
<p><span class="bold">To Install and Use the Optional Performance Tool</span></p>
<p>To improve the performance of the DDL trigger, make the <code class="codeph">ddl_pin</code> script part of the database startup. It must be invoked with the Oracle GoldenGate DDL user name, as in:</p>
<pre dir="ltr">
@ddl_pin <span class="italic">DDL_user</span>
</pre>
<p>This script pins the PL/SQL package that is used by the trigger into memory. If executing this script from SQL*Plus, connect as <code class="codeph">SYSDBA</code> from the Oracle GoldenGate installation directory. This script relies on the Oracle <code class="codeph">dmbs_shared_pool</code> system package, so install that package before using <code class="codeph">ddl_pin</code>.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-trigger-based-ddl-capture-1.htm#GUID-70B1B422-2369-40BA-B845-7AE2F7D08A3E" title="This appendix contains instructions for installing the objects that support the trigger-based method of Oracle GoldenGate DDL support.">Installing Trigger-Based DDL Capture</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment482">
<tr>
<td class="cellalignment492">
<table class="cellalignment487">
<tr>
<td class="cellalignment486"><a href="example-downstream-mining-configuration.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment486"><a href="supporting-changes-xml-schemas-1.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment494">
<table class="cellalignment485">
<tr>
<td class="cellalignment486"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment486"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment486"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
