<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Oracle GoldenGate in a Multitenant Container Database</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB)." />
<meta name="dcterms.created" content="2018-07-26T05:17:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E88785-05" />
<meta name="dcterms.isVersionOf" content="GGODB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="choosing-capture-and-apply-modes.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-capture-integrated-mode.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGODB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-0B0CEB35-51C6-4319-BEE1-FA208FF4DE05"></a> <span id="PAGE" style="display:none;">8/28</span> <!-- End Header -->
<h1 id="GGODB-GUID-0B0CEB35-51C6-4319-BEE1-FA208FF4DE05" class="sect1"><span class="enumeration_chapter">5</span> Configuring Oracle GoldenGate in a Multitenant Container Database</h1>
<div>
<div><span>This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB).</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C">Using Oracle GoldenGate with Pluggable Databases</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-2E63BBF9-2EE1-424B-9492-77501AFEC2F1">Other Requirements for Multitenant Container Databases</a><br /></li>
</ul>
</div>
<div class="props_rev_3"><a id="GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C"></a>
<h2 id="GGODB-GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C" class="sect2"><span class="enumeration_section">5.1</span> Using Oracle GoldenGate with Pluggable Databases</h2>
<div>
<div class="section">
<p>In most ways, Oracle GoldenGate operates in a multitenant container database the same way that it operates in a regular Oracle Database. Therefore, consider these instructions as the foundation for following the actual configuration instructions in the following chapters:</p>
<p><a href="configuring-capture-integrated-mode.htm#GUID-74E23910-A441-4939-BDFD-FE0B2EE9783F" title="This chapter contains instructions for configuring the Oracle GoldenGate capture process to capture transaction data in integrated mode.">Configuring Capture in Integrated Mode</a></p>
<p><a href="configuring-oracle-goldengate-apply.htm#GUID-ED4D0DAA-18B9-48A6-A3DC-D5AFE9877A93" title="This chapter contains instructions for configuring the Replicat apply process in either nonintegrated or integrated mode.">Configuring Oracle GoldenGate Apply</a></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-26AFC906-E67D-448E-93EC-FE2A54679793">Capturing from Pluggable Databases</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-2A72F463-C5B6-4A4C-8BDF-537AAD01BEE4">Applying to Pluggable Databases</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-4E44370D-0D96-41F6-A23F-4CE789AFF20D">Excluding Objects from the Configuration</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-0B0CEB35-51C6-4319-BEE1-FA208FF4DE05" title="This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB).">Configuring Oracle GoldenGate in a Multitenant Container Database</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-26AFC906-E67D-448E-93EC-FE2A54679793"></a>
<h3 id="GGODB-GUID-26AFC906-E67D-448E-93EC-FE2A54679793" class="sect3"><span class="enumeration_section">5.1.1</span> Capturing from Pluggable Databases</h3>
<div>
<div class="section">
<p>One Extract group can capture from multiple pluggable databases to a single trail. In the parameter file, source objects must be specified in <code class="codeph">TABLE</code> and <code class="codeph">SEQUENCE</code> statements with their fully qualified three-part names in the format of <span class="italic"><code class="codeph">container.schema.object</code></span>.</p>
<p>As an alternative to specifying three-part names, you can specify a default pluggable database with the <code class="codeph">SOURCECATALOG</code> parameter, and then specify only the <span class="italic"><code class="codeph">schema.object</code></span> in subsequent <code class="codeph">TABLE</code> or <code class="codeph">SEQUENCE</code> parameters. You can use multiple instances of this configuration to handle multiple source pluggable databases. For example:</p>
<pre dir="ltr">
SOURCECATALOG pdb1
TABLE schema*.tab*;
SEQUENCE schema*.seq*;
SOURCECATALOG pdb2
TABLE schema*.tab*;
SEQUENCE schema*.seq*;
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C">Using Oracle GoldenGate with Pluggable Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-2A72F463-C5B6-4A4C-8BDF-537AAD01BEE4"></a>
<h3 id="GGODB-GUID-2A72F463-C5B6-4A4C-8BDF-537AAD01BEE4" class="sect3"><span class="enumeration_section">5.1.2</span> Applying to Pluggable Databases</h3>
<div>
<div class="section">
<p>Replicat can only connect and apply to one pluggable database. To specify the correct one, use a SQL*Net connect string for the database user that you specify with the <code class="codeph">USERID</code> or <code class="codeph">USERIDALIAS</code> parameter. For example: <code class="codeph">GGADMIN@FINANCE</code>. In the parameter file, specify only the <span class="italic"><code class="codeph">schema.object</code></span> in the <code class="codeph">TARGET</code> portion of the <code class="codeph">MAP</code> statements. In the <code class="codeph">MAP</code> portion, identify source objects captured from more than one pluggable database with their three-part names or use the <code class="codeph">SOURCECATALOG</code> parameter with two-part names. The following is an example of this configuration.</p>
<pre dir="ltr">
SOURCECATALOG pdb1
MAP schema*.tab*, TARGET *1.*;
MAP schema*.seq*, TARGET *1.*;
SOURCECATALOG pdb2
MAP schema*.tab*, TARGET *2.*;
MAP schema*.seq*, TARGET *2.*;
</pre>
<p>The following is an example <span class="italic">without</span> the use of <code class="codeph">SOURCECATALOG</code> to identify the source pluggable database. In this case, the source objects are specified with their three-part names.</p>
<pre dir="ltr">
MAP pdb1.schema*.tab*, TARGET *1.*;
MAP pdb1.schema*.seq*, TARGET *1.*;
</pre>
<p>To configure replication from multiple source pluggable databases to multiple target pluggable databases, you can configure parallel Extract and Replicat streams, each handling data for one pluggable database. Alternatively, you can configure one Extract capturing from multiple source pluggable databases, which writes to one trail that is read by multiple Replicat groups, each applying to a different target pluggable database. Yet another alternative is to use one Extract writing to multiple trails, each trail read by a Replicat assigned to a specific target pluggable database :</p>
<div class="figure" id="GUID-2A72F463-C5B6-4A4C-8BDF-537AAD01BEE4__POSSIBLECONFIGURATIONFORCAPTUREANDA-38C2B143">
<p class="titleinfigure">Figure 5-1 Possible Configuration for Capture and Apply from Multiple Pluggable Databases</p>
<img width="766" height="525" src="img/pdb_capture.png" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows" /><br />
<a href="img_text/pdb_capture.htm">Description of "Figure 5-1 Possible Configuration for Capture and Apply from Multiple Pluggable Databases"</a></div>
<!-- class="figure" --></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C">Using Oracle GoldenGate with Pluggable Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-4E44370D-0D96-41F6-A23F-4CE789AFF20D"></a>
<h3 id="GGODB-GUID-4E44370D-0D96-41F6-A23F-4CE789AFF20D" class="sect3"><span class="enumeration_section">5.1.3</span> Excluding Objects from the Configuration</h3>
<div>
<div class="section">
<p>To exclude pluggable databases, schemas, and objects from the configuration, you can use the <code class="codeph">CATALOGEXCLUDE</code>, <code class="codeph">SCHEMAEXCLUDE</code>, <code class="codeph">TABLEEXCLUDE</code>, <code class="codeph">MAPEXCLUDE</code>, and <code class="codeph">EXCLUDEWILDCARDOBJECTSONLY</code> parameters. See <a class="olink GIORA394" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GIORA394"><span class="italic"><span id="GUID-4E44370D-0D96-41F6-A23F-4CE789AFF20D__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a> for more information.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-6AF0D1AC-FA05-41E8-ADA2-2F6820C68D5C">Using Oracle GoldenGate with Pluggable Databases</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-2E63BBF9-2EE1-424B-9492-77501AFEC2F1"></a>
<h2 id="GGODB-GUID-2E63BBF9-2EE1-424B-9492-77501AFEC2F1" class="sect2"><span class="enumeration_section">5.2</span> Other Requirements for Multitenant Container Databases</h2>
<div>
<div class="section">
<p>The following are the special requirements that apply to replication to and from multitenant container databases.</p>
<ul style="list-style-type: disc;">
<li>
<p>The different pluggable databases in the multitenant container database can have different character sets. Oracle GoldenGate captures data from any multitenant database with different character sets into one trail file and replicates the data without corruption due to using different character sets.</p>
</li>
<li>
<p>Extract must operate in integrated capture mode. See <a href="choosing-capture-and-apply-modes.htm#GUID-C50C9C10-1BDC-454A-9AD2-3638F4203723">Deciding Which Capture Method to Use</a> for more information about Extract capture modes. Replicat can operate in any of its modes.</p>
</li>
<li>
<p>Extract must connect to the root container (<code class="codeph">cdb$root</code>) as a common user in order to interact with the logmining server. To specify the root container, use the appropriate SQL*Net connect string for the database user that you specify with the <code class="codeph">USERID</code> or <code class="codeph">USERIDALIAS</code> parameter. For example: <code class="codeph">C##GGADMIN@FINANCE</code>. See <a href="establishing-oracle-goldengate-credentials.htm#GUID-E40B375A-5042-4195-B563-BE7EDC251880" title="Learn how to create database users for the processes that interacts with the database, assign the correct privileges, and secure the credentials from unauthorized use.">Establishing Oracle GoldenGate Credentials</a> for how to create a user for the Oracle GoldenGate processes and grant the correct privileges.</p>
</li>
<li>
<p>To support source CDB 12.2, Extract must specify the trail format as release 12.3.</p>
</li>
<li>
<p>The <code class="codeph">dbms_goldengate_auth.grant_admin_privilege</code> package grants the appropriate privileges for capture and apply within a multitenant container database. This includes the <code class="codeph">container</code> parameter, which must be set to <code class="codeph">ALL</code>, as shown in the following example:</p>
<pre dir="ltr">
dbms_goldengate_auth.grant_admin_privilege('C##GGADMIN',container=&gt;'all')
</pre></li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-multitenant-container-database-1.htm#GUID-0B0CEB35-51C6-4319-BEE1-FA208FF4DE05" title="This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB).">Configuring Oracle GoldenGate in a Multitenant Container Database</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment482">
<tr>
<td class="cellalignment492">
<table class="cellalignment487">
<tr>
<td class="cellalignment486"><a href="choosing-capture-and-apply-modes.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment486"><a href="configuring-capture-integrated-mode.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment494">
<table class="cellalignment485">
<tr>
<td class="cellalignment486"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment486"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment486"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
