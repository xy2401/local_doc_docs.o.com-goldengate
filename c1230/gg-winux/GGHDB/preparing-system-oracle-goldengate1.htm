<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Preparing the System for Oracle GoldenGate</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains guidelines for preparing the database and the system to support Oracle GoldenGate. This chapter contains the following sections:" />
<meta name="dcterms.created" content="2018-09-07T08:20:49Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Heterogeneous Databases" />
<meta name="dcterms.identifier" content="E88786-08" />
<meta name="dcterms.isVersionOf" content="GGHDB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="understanding-whats-supported-teradata.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-oracle-goldengate.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGHDB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-65B99696-3D01-4BD1-8D07-E7D6CA18E56A"></a> <span id="PAGE" style="display:none;">35/37</span> <!-- End Header -->
<h1 id="GGHDB-GUID-65B99696-3D01-4BD1-8D07-E7D6CA18E56A" class="sect1"><span class="enumeration_chapter">24</span> Preparing the System for Oracle GoldenGate</h1>
<div>
<div><span>This chapter contains guidelines for preparing the database and the system to support Oracle GoldenGate. This chapter contains the following sections:</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate1.htm#GUID-463E2EC9-2FCE-41DB-8D7C-BCD60C6E5732">Preparing Tables for Processing</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-teradata.htm" title="Only Oracle GoldenGate release 12c&nbsp;(12.3.0.1) and later for Teradata support the delivery of data from other types of databases to a Teradata database.">Using Oracle GoldenGate with Teradata</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-463E2EC9-2FCE-41DB-8D7C-BCD60C6E5732"></a>
<h2 id="GGHDB-GUID-463E2EC9-2FCE-41DB-8D7C-BCD60C6E5732" class="sect2"><span class="enumeration_section">24.1</span> Preparing Tables for Processing</h2>
<div>
<p>The following table attributes must be addressed in an Oracle GoldenGate environment.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate1.htm#GUID-404795D4-E272-49C6-8957-EEA007F4B269">Disabling Triggers and Cascade Constraints</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate1.htm#GUID-347B8455-7296-4B91-9201-3A08DBAB2C80">Assigning Row Identifiers</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate1.htm#GUID-65B99696-3D01-4BD1-8D07-E7D6CA18E56A" title="This chapter contains guidelines for preparing the database and the system to support Oracle GoldenGate. This chapter contains the following sections:">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-404795D4-E272-49C6-8957-EEA007F4B269"></a>
<h3 id="GGHDB-GUID-404795D4-E272-49C6-8957-EEA007F4B269" class="sect3"><span class="enumeration_section">24.1.1</span> Disabling Triggers and Cascade Constraints</h3>
<div>
<div class="section">
<p>Disable triggers, cascade delete constraints, and cascade update constraints on target Teradata tables. Oracle GoldenGate replicates DML that results from a trigger or cascade constraint. If the same trigger or constraint gets activated on the target table, it becomes redundant because of the replicated version, and the database returns an error. Consider the following example, where the source tables are <code class="codeph">emp_src</code> and <code class="codeph">salary_src</code> and the target tables are <code class="codeph">emp_targ</code> and <code class="codeph">salary_targ</code>.</p>
</div>
<!-- class="section" -->
<ol>
<li><span>A delete is issued for <code class="codeph">emp_src</code>.</span></li>
<li><span>It cascades a delete to <code class="codeph">salary_src</code>.</span></li>
<li><span>Oracle GoldenGate sends both deletes to the target.</span></li>
<li><span>The parent delete arrives first and is applied to <code class="codeph">emp_targ</code>.</span></li>
<li><span>The parent delete cascades a delete to <code class="codeph">salary_targ</code>.</span></li>
<li><span>The cascaded delete from <code class="codeph">salary_src</code> is applied to <code class="codeph">salary_targ</code><span class="italic">.</span></span></li>
<li><span>The row cannot be located because it was already deleted in step 5.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate1.htm#GUID-463E2EC9-2FCE-41DB-8D7C-BCD60C6E5732">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-347B8455-7296-4B91-9201-3A08DBAB2C80"></a>
<h3 id="GGHDB-GUID-347B8455-7296-4B91-9201-3A08DBAB2C80" class="sect3"><span class="enumeration_section">24.1.2</span> Assigning Row Identifiers</h3>
<div>
<p><span>Oracle GoldenGate</span> requires unique row identifiers on the source and target tables to locate the correct target rows for replicated updates and deletes. Source tables can have any kind of key listed in <a href="preparing-system-oracle-goldengate1.htm#GUID-26243116-D64C-48CC-A364-187FE27CD029">How Oracle GoldenGate Determines the Kind of Row Identifier to Use</a>, except for tables of a SQL Server Standard Edition instance, which require a primary key. If there is no primary key identified on a table that has fixed-length columns, the length of one of the fixed-length columns must be below 3800 bytes.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate1.htm#GUID-26243116-D64C-48CC-A364-187FE27CD029">How Oracle GoldenGate Determines the Kind of Row Identifier to Use</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate1.htm#GUID-12770A3B-DF78-408D-8646-2A6C435EB74C">Using KEYCOLS to Specify a Custom Key</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate1.htm#GUID-463E2EC9-2FCE-41DB-8D7C-BCD60C6E5732">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-26243116-D64C-48CC-A364-187FE27CD029"></a>
<h4 id="GGHDB-GUID-26243116-D64C-48CC-A364-187FE27CD029" class="sect4"><span class="enumeration_section">24.1.2.1</span> How Oracle GoldenGate Determines the Kind of Row Identifier to Use</h4>
<div>
<div class="section">
<p>Unless a <code class="codeph">KEYCOLS</code> clause is used in the <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Primary key (required for tables of a Standard Edition instance).</span></li>
<li class="stepexpand"><span>First unique key alphanumerically that does not contain a timestamp or non-materialized computed column.</span></li>
<li class="stepexpand"><span>If neither of these key types exist , <span>Oracle GoldenGate</span> constructs a pseudokey of all columns that the database allows to be used in a unique key, excluding those that are not supported by Oracle GoldenGate in a key or those that are excluded from the Oracle GoldenGate configuration. For SQL Server, <span>Oracle GoldenGate</span> requires the row data in target tables that do not have a primary key to be less than 8000 bytes.</span>
<div>
<div class="infobox-note" id="GUID-26243116-D64C-48CC-A364-187FE27CD029__GUID-57826664-9855-4AF6-B99F-80994F9BD23C">
<p class="notep1">Note:</p>
<p>If there are types of keys on a table or if there are no keys at all on a table, <span>Oracle GoldenGate</span> logs a message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code class="codeph">WHERE</code> clause.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate1.htm#GUID-347B8455-7296-4B91-9201-3A08DBAB2C80">Assigning Row Identifiers</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-12770A3B-DF78-408D-8646-2A6C435EB74C"></a>
<h4 id="GGHDB-GUID-12770A3B-DF78-408D-8646-2A6C435EB74C" class="sect4"><span class="enumeration_section">24.1.2.2</span> Using KEYCOLS to Specify a Custom Key</h4>
<div>
<p>If a table does not have an applicable row identifier, or if you prefer that identifiers are not used, you can define a substitute key, providing that the table has columns that always contain unique values. You define this substitute key by including a <code class="codeph">KEYCOLS</code> clause within the Extract <code class="codeph">TABLE</code> parameter and the Replicat <code class="codeph">MAP</code> parameter. The specified key overrides any existing primary or unique key that Oracle GoldenGate finds. For more information, see <a class="olink GWURF" target="_blank" href="../GWURF/toc.htm"><span class="italic"><span id="GUID-12770A3B-DF78-408D-8646-2A6C435EB74C__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate1.htm#GUID-347B8455-7296-4B91-9201-3A08DBAB2C80">Assigning Row Identifiers</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment114">
<tr>
<td class="cellalignment121">
<table class="cellalignment119">
<tr>
<td class="cellalignment118"><a href="understanding-whats-supported-teradata.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment118"><a href="configuring-oracle-goldengate.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment117">
<tr>
<td class="cellalignment118"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment118"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment118"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
