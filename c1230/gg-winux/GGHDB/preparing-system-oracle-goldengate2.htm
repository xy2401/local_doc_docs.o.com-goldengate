<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Preparing the System for Oracle GoldenGate</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate." />
<meta name="dcterms.created" content="2018-09-07T08:20:49Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Heterogeneous Databases" />
<meta name="dcterms.identifier" content="E88786-08" />
<meta name="dcterms.isVersionOf" content="GGHDB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="understanding-whats-supported-db2-i.htm" title="Previous" type="text/html" />
<link rel="Next" href="configuring-oracle-goldengate-db2-i.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGHDB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-CE829847-BB31-45F0-A747-798D4329D852"></a> <span id="PAGE" style="display:none;">11/37</span> <!-- End Header -->
<h1 id="GGHDB-GUID-CE829847-BB31-45F0-A747-798D4329D852" class="sect1"><span class="enumeration_chapter">5</span> Preparing the System for Oracle GoldenGate</h1>
<div>
<div><span>This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3">Preparing the Journals for Data Capture by Extract</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-70C547C1-B619-40EE-9408-F96E5CE5D879">Specifying Object Names</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-EA884AB3-6A9E-496F-BABB-E1F07C3E40C8">Adjusting the System Clock</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-8AE16833-6EF2-4034-AB0A-DBD1DF4793F6">Configuring the ODBC Driver</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-db2-i.htm" title="This part describes tasks for configuring and running Oracle GoldenGateon a DB2 for i database.&nbsp;">Using Oracle GoldenGate with IBM DB2 for i</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3"></a>
<h2 id="GGHDB-GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3" class="sect2"><span class="enumeration_section">5.1</span> Preparing the Journals for Data Capture by Extract</h2>
<div>
<p>All tables for which you want data to be captured must be journaled, either explicitly or by default by means of a <code class="codeph">QSQJRN</code> journal in the same library. To preserve data integrity, data journal entries are sent to the Extract process in time order as they appear on the system. This section provides guidelines for configuring the journals to support capture by the Extract process.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-ADAD0001-414F-4A7C-BCA6-12307DFF3185">Allocating Journals to an Extract Group</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-15665B67-6681-4170-A9C0-7E371A8C42B0">Setting Journal Parameters</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-8BC3DC9A-4FF3-41E2-8B81-ADA8111EC3BD">Deleting Old Journal Receivers</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-CE829847-BB31-45F0-A747-798D4329D852" title="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-ADAD0001-414F-4A7C-BCA6-12307DFF3185"></a>
<h3 id="GGHDB-GUID-ADAD0001-414F-4A7C-BCA6-12307DFF3185" class="sect3"><span class="enumeration_section">5.1.1</span> Allocating Journals to an Extract Group</h3>
<div>
<p>One Extract process can handle up to 30 journals. If using more journals than that, use additional Extract processes to handle the extra journals. You can also use additional Extract processes to improve capture performance if necessary.</p>
<div class="infobox-note" id="GUID-ADAD0001-414F-4A7C-BCA6-12307DFF3185__GUID-7A03B9BE-F47E-4622-B01F-FAAEC7A3E6F6">
<p class="notep1">Note:</p>
<p>To ensure transaction integrity, all journals that correspond to any given transaction must be read by the same Extract group. For more information about using multiple Extract processes, see <a class="olink GWUAD659" target="_blank" href="../GWUAD/tuning-performance-oracle-goldengate.htm#GWUAD659">Tuning the Performance of Oracle GoldenGate</a> in <cite><span><cite>Administering Oracle GoldenGate</cite></span></cite>.</p>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3">Preparing the Journals for Data Capture by Extract</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-15665B67-6681-4170-A9C0-7E371A8C42B0"></a>
<h3 id="GGHDB-GUID-15665B67-6681-4170-A9C0-7E371A8C42B0" class="sect3"><span class="enumeration_section">5.1.2</span> Setting Journal Parameters</h3>
<div>
<div class="section">
<p>To support the capture of data by the Extract process, the following are the minimal journaling parameter settings that are required.</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Manage Receivers <code class="codeph">(MNGRCV): *SYSTEM</code></p>
</li>
<li>
<p>Delete Receivers <code class="codeph">(DLTRCV): *NO</code></p>
</li>
<li>
<p>Receiver Size Option <code class="codeph">(RCVSIZOPT): *MAXOPT2</code> (<code class="codeph">*MAXOPT3</code> recommended)</p>
</li>
<li>
<p>Journal State <code class="codeph">(JRNSTATE): *ACTIVE</code></p>
</li>
<li>
<p>Minimize Entry Specific Data <code class="codeph">(MINENTDTA): *NONE</code></p>
</li>
<li>
<p>Fixed Length Data <code class="codeph">(FIXLENDTA): *USR *SYSSEQ</code></p>
</li>
</ul>
<p>In the following example, the command to set these attributes for a journal <code class="codeph">JRN1</code> in library <code class="codeph">LIB1</code> would be:</p>
<pre dir="ltr">
CHGJRN JRN(LIB1/JRN1) MNGRCV(*SYSTEM) DLTRCV(*NO) RCVSIZOPT(*MAXOPT2) JRNSTATE(*ACTIVE) MINENTDTA(*NONE) FIXLENDTA(*USR *SYSSEQ)
</pre>
<div class="infobox-note" id="GUID-15665B67-6681-4170-A9C0-7E371A8C42B0__GUID-5B7F06C1-490B-4CFF-B8A2-DE5D996962D6">
<p class="notep1">Note:</p>
<p>To check the attributes of a journal, use the command <code class="codeph">WRKJRNA JRN(LIB1/JRN1) DETAIL(*CURATR)</code>.</p>
</div>
<p>When the journaling is set to the recommended parameter settings, you are assured that the entries in the journals contain all of the information necessary for Oracle GoldenGate processing to occur. These settings also ensure that the system does not delete the journal receivers automatically, but retains them in case Extract needs to process older data.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3">Preparing the Journals for Data Capture by Extract</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8BC3DC9A-4FF3-41E2-8B81-ADA8111EC3BD"></a>
<h3 id="GGHDB-GUID-8BC3DC9A-4FF3-41E2-8B81-ADA8111EC3BD" class="sect3"><span class="enumeration_section">5.1.3</span> Deleting Old Journal Receivers</h3>
<div>
<div class="section">
<p>Although the <code class="codeph">DLTRCV</code> parameter is set to <code class="codeph">NO</code> in the recommended configuration for Extract (see <a href="preparing-system-oracle-goldengate2.htm#GUID-15665B67-6681-4170-A9C0-7E371A8C42B0">Setting Journal Parameters</a>), you can delete old journal receivers manually once Extract is finished capturing from them.</p>
<p>If using another application that is using the journals that Oracle GoldenGate will be reading, consideration must be given regarding any automatic journal receiver cleanup that may be in place. Oracle GoldenGate must be able to read the journal receivers before they are detached or removed.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Delete Journal Receivers</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Run GGSCI.</span></li>
<li class="stepexpand"><span>In GGSCI, issue the following command to view the journal positions in which Extract has current processing points, along with their journal receivers.</span>
<div>
<pre dir="ltr">
INFO EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Use the following DB2 for i command to delete any journal receivers that were generated prior to the ones that are shown in the <code class="codeph">INFO EXTRACT</code> command.</span>
<div>
<pre dir="ltr">
DLTJRNRCV JRNRCV(<span class="italic">library</span>/<span class="italic">journal_receiver</span>)
</pre>
<p>Where:</p>
<p><span class="italic"><code class="codeph">library</code></span> and <span class="italic"><code class="codeph">journal_receiver</code></span> are the actual names of the library and journal receiver to be deleted. See the DB2 for i Information Center for more information about this command.</p>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-DC069599-0AA8-4730-B3CC-7091162C3DF3">Preparing the Journals for Data Capture by Extract</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-70C547C1-B619-40EE-9408-F96E5CE5D879"></a>
<h2 id="GGHDB-GUID-70C547C1-B619-40EE-9408-F96E5CE5D879" class="sect2"><span class="enumeration_section">5.2</span> Specifying Object Names</h2>
<div>
<div class="section">
<p>Oracle GoldenGate commands and parameters support input in the form of SQL names, native names in the format of <span class="italic"><code class="codeph">library_name/file_name(member_name)</code></span>, or a mix of the two. If a native file system name does not include the member name, all members are implicitly selected by the Oracle GoldenGate process. For a SQL name only the first member is used.</p>
<p>To support case sensitivity of double quoted object names, specify those names within double quotes in the Oracle GoldenGate parameter files. This is true of both SQL and native file system names.</p>
<p>When specifying a native table name in a <code class="codeph">MAP</code> statement on a platform other than DB2 for i, the name must be enclosed within double quotes so that Oracle GoldenGate correctly interprets it as a separator character.</p>
<p>For consistency of terminology in other administrative and reference Oracle GoldenGate documentation, the SQL terms "schema" and "table" are used to reference the containers for the DB2 for i data, as shown here.</p>
<div class="tblformal" id="GUID-70C547C1-B619-40EE-9408-F96E5CE5D879__CHDBHFDA">
<p class="titleintable">Table 5-1 Native-SQL object name relationships</p>
<table class="cellalignment124" title="Native-SQL object name relationships" summary="This table describes the relationship between Native and SQL object names.">
<thead>
<tr class="cellalignment115">
<th class="cellalignment161" id="d8310e372">Native</th>
<th class="cellalignment161" id="d8310e375">SQL</th>
<th class="cellalignment161" id="d8310e378">Notes</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment115">
<td class="cellalignment162" id="d8310e383" headers="d8310e372">
<p>Library</p>
<p>(maximum length 10)</p>
</td>
<td class="cellalignment162" headers="d8310e383 d8310e375">
<p>Schema</p>
<p>(maximum length 128)</p>
</td>
<td class="cellalignment162" headers="d8310e383 d8310e378">
<p>The operating system creates a corresponding native name for a SQL-created schema.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment162" id="d8310e397" headers="d8310e372">
<p>File</p>
<p>(maximum length 10)</p>
</td>
<td class="cellalignment162" headers="d8310e397 d8310e375">
<p>Table</p>
<p>(maximum length 128)</p>
</td>
<td class="cellalignment162" headers="d8310e397 d8310e378">
<p>The operating system creates a corresponding native name for a SQL-created table.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment162" id="d8310e411" headers="d8310e372">
<p>Member</p>
</td>
<td class="cellalignment162" headers="d8310e411 d8310e375">
<p>Not Applicable</p>
</td>
<td class="cellalignment162" headers="d8310e411 d8310e378">
<p>Contains the actual data. Only the first member of a <code class="codeph">FILE</code> object can be accessed through SQL. To access data in other members the native system name must be used.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-CE829847-BB31-45F0-A747-798D4329D852" title="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8C940934-3A21-4272-A90E-FB13FB91006A"></a>
<h2 id="GGHDB-GUID-8C940934-3A21-4272-A90E-FB13FB91006A" class="sect2"><span class="enumeration_section">5.3</span> Preparing Tables for Processing</h2>
<div>
<p>The following table attributes must be addressed in an Oracle GoldenGate environment.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-C82D0E7D-E034-40B6-84A6-399677D4C0A7">Assigning Row Identifiers</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-8854C260-CDED-47FC-B327-97E7B98B762B">Preventing Key Changes</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-0D9FC784-0408-4B11-AD79-CA358D4A58EA">Disabling Constraints on the Target</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9">Enabling Change Capture</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-2E461C7D-86B3-4DC0-9F5A-B371C987149B">Maintaining Materialized Query Tables</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-638E488E-5F20-4CB6-8246-30CE6A1CB8E0">Specifying the Oracle GoldenGate Library</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-CE829847-BB31-45F0-A747-798D4329D852" title="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-C82D0E7D-E034-40B6-84A6-399677D4C0A7"></a>
<h3 id="GGHDB-GUID-C82D0E7D-E034-40B6-84A6-399677D4C0A7" class="sect3"><span class="enumeration_section">5.3.1</span> Assigning Row Identifiers</h3>
<div>
<p>Oracle GoldenGate requires some form of unique row identifier on the source and target tables to locate the correct target rows for replicated updates and deletes.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-C6CA001F-E118-4DE5-AE8A-E406224E130B">How Oracle GoldenGate Determines the Kind of Row Identifier to Use</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-3F42E864-CECC-40D5-B951-A0FEDC062145">Using KEYCOLS to Specify a Custom Key</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
<div class="sect4"><a id="GUID-C6CA001F-E118-4DE5-AE8A-E406224E130B"></a>
<h4 id="GGHDB-GUID-C6CA001F-E118-4DE5-AE8A-E406224E130B" class="sect4"><span class="enumeration_section">5.3.1.1</span> How Oracle GoldenGate Determines the Kind of Row Identifier to Use</h4>
<div>
<p>Unless a <code class="codeph">KEYCOLS</code> clause is used in the <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority:</p>
<ol>
<li>
<p>Primary key</p>
</li>
<li>
<p>First unique key alphanumerically that does not contain a timestamp or non-materialized computed column.</p>
</li>
<li>
<p>If none of the preceding key types exist (even though there might be other types of keys defined on the table) Oracle GoldenGate constructs a pseudo key of all columns that the database allows to be used in a unique key, excluding those that are not supported by Oracle GoldenGate in a key or those that are excluded from the Oracle GoldenGate configuration.</p>
</li>
</ol>
<div class="infobox-note" id="GUID-C6CA001F-E118-4DE5-AE8A-E406224E130B__GUID-2EFA9DE2-B7C0-4F74-A5B3-FB1C062310A5">
<p class="notep1">Note:</p>
<p>If there are other, non-usable keys on a table or if there are no keys at all on the table, Oracle GoldenGate logs an appropriate message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code class="codeph">WHERE</code> clause.</p>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-C82D0E7D-E034-40B6-84A6-399677D4C0A7">Assigning Row Identifiers</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-3F42E864-CECC-40D5-B951-A0FEDC062145"></a>
<h4 id="GGHDB-GUID-3F42E864-CECC-40D5-B951-A0FEDC062145" class="sect4"><span class="enumeration_section">5.3.1.2</span> Using <code class="codeph">KEYCOLS</code> to Specify a Custom Key</h4>
<div>
<p>If a table does not have one of the preceding types of row identifiers, or if you prefer those identifiers not to be used, you can define a substitute key if the table has columns that always contain unique values. You define this substitute key by including a <code class="codeph">KEYCOLS</code> clause within the Extract <code class="codeph">TABLE</code> parameter and the Replicat <code class="codeph">MAP</code> parameter. The specified key will override any existing primary or unique key that Oracle GoldenGate finds.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-C82D0E7D-E034-40B6-84A6-399677D4C0A7">Assigning Row Identifiers</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8854C260-CDED-47FC-B327-97E7B98B762B"></a>
<h3 id="GGHDB-GUID-8854C260-CDED-47FC-B327-97E7B98B762B" class="sect3"><span class="enumeration_section">5.3.2</span> Preventing Key Changes</h3>
<div>
<div class="section">
<p>If you must add columns to the key that Extract is using as the row identifier for a table (primary key, unique key, <code class="codeph">KEYCOLS</code> key, or all-column key) after Oracle GoldenGate has started processing journal data, follow these steps to make the change.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Stop Extract.</span>
<div>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Issue the following command until it returns <code class="codeph">EOF</code>, indicating that it has processed all of the existing journal data.</span>
<div>
<pre dir="ltr">
INFO EXTRACT <span class="italic">group</span>
</pre></div>
</li>
<li class="stepexpand"><span>Make the change to the key.</span></li>
<li class="stepexpand"><span>Start Extract.</span>
<div>
<pre dir="ltr">
START EXTRACT <span class="italic">group</span>
</pre></div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-0D9FC784-0408-4B11-AD79-CA358D4A58EA"></a>
<h3 id="GGHDB-GUID-0D9FC784-0408-4B11-AD79-CA358D4A58EA" class="sect3"><span class="enumeration_section">5.3.3</span> Disabling Constraints on the Target</h3>
<div>
<div class="section">
<p>Triggers and cascade constraints must be disabled on the target tables or configured to ignore changes made by Replicat. Constraints must be disabled because Oracle GoldenGate replicates DML that results from a trigger or a cascade constraint. If the same trigger or constraint gets activated on the target table, it becomes redundant because of the replicated version, and the database returns an error. Consider the following example, where the source tables are <code class="codeph">emp_src</code> and <code class="codeph">salary_src</code> and the target tables are <code class="codeph">emp_targ</code> and <code class="codeph">salary_targ</code>.</p>
</div>
<!-- class="section" -->
<ol>
<li><span>A delete is issued for <code class="codeph">emp_src</code>.</span></li>
<li><span>It cascades a delete to <code class="codeph">salary_src</code>.</span></li>
<li><span>Oracle GoldenGate sends both deletes to the target.</span></li>
<li><span>The parent delete arrives first and is applied to <code class="codeph">emp_targ</code>.</span></li>
<li><span>The parent delete cascades a delete to <code class="codeph">salary_targ</code>.</span></li>
<li><span>The cascaded delete from <code class="codeph">salary_src</code> is applied to <code class="codeph">salary_targ</code>.</span></li>
<li><span>The row cannot be located because it was already deleted in step 5.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9"></a>
<h3 id="GGHDB-GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9" class="sect3"><span class="enumeration_section">5.3.4</span> Enabling Change Capture</h3>
<div>
<div class="section">
<p>To capture changes to a table in a journal, you can run the <code class="codeph">STRJRNPF</code> command on the OS/400 command line or run the <code class="codeph">ADD TRANDATA</code> command from GGSCI. The <code class="codeph">ADD TRANDATA</code> command calls <code class="codeph">STRJRNPF</code> and is the recommended method to start journaling for tables, because it ensures that the required journal image attribute of Record Images <code class="codeph">(IMAGES): *BOTH</code> is set on the <code class="codeph">STRJRNPF</code> command.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To Run <code class="codeph">ADD TRANDATA</code></p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Run GGSCI on the source system.</span></li>
<li class="stepexpand"><span>Issue the <code class="codeph">DBLOGIN</code> command.</span>
<div>
<pre dir="ltr">
DBLOGIN SOURCEDB <span class="italic">database</span> USERID <span class="italic">user</span>, PASSWORD <span class="italic">password</span> [<span class="italic">encryption_options</span>]
</pre>
<p>Where: <code class="codeph">SOURCEDB</code> specifies the default DB 2 for i database, <code class="codeph">USERID</code> specifies the Extract user profile, and <code class="codeph">PASSWORD</code> specifies that profile's password.</p>
<div class="infobox-note" id="GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9__GUID-25E97F90-CCB5-4B6B-8AC5-8F22120F0D71">
<p class="notep1">Note:</p>
<p>Only <code class="codeph">BLOWFISH</code> encryption is supported for DB2 for i systems.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>Issue the <code class="codeph">ADD TRANDATA</code> command.</span>
<div>
<pre dir="ltr">
ADD TRANDATA<span class="italic"> table_specification</span>
</pre>
<p>Where: <span class="italic"><code class="codeph">table_specification</code></span> is one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">schema.table</code></span> <code class="codeph">[JOURNAL</code> <span class="italic"><code class="codeph">library/journal</code></span>]</p>
</li>
<li>
<p><span class="italic"><code class="codeph">library/file</code></span> <code class="codeph">[JOURNAL</code> <span class="italic"><code class="codeph">library/journal]</code></span> (See <a href="preparing-system-oracle-goldengate2.htm#GUID-0AFB0F09-6A9A-4B6F-8ECE-2E5B75F98DAB">Specifying a Default Journal</a>)</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-0AFB0F09-6A9A-4B6F-8ECE-2E5B75F98DAB">Specifying a Default Journal</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-6E527169-7F32-4B68-BA84-43BA1A98CA5E">Removing a Default Journal Specification</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-0AFB0F09-6A9A-4B6F-8ECE-2E5B75F98DAB"></a>
<h4 id="GGHDB-GUID-0AFB0F09-6A9A-4B6F-8ECE-2E5B75F98DAB" class="sect4"><span class="enumeration_section">5.3.4.1</span> Specifying a Default Journal</h4>
<div>
<div class="section">
<p>To specify a default journal for multiple tables or files in the <code class="codeph">ADD TRANDATA</code> command, instead of specifying the <code class="codeph">JOURNAL</code> keyword, use the following GGSCI command before issuing <code class="codeph">ADD TRANDATA</code>.</p>
<pre dir="ltr">
DEFAULTJOURNAL <span class="italic">library/journal</span> 
</pre>
<p>Any <code class="codeph">ADD TRANDATA</code> command used without a journal assumes the journal from <code class="codeph">DEFAULTJOURNAL</code>.</p>
<p>To display the current setting of <code class="codeph">DEFAULTJOURNAL</code>, you can issue the command with no arguments.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9">Enabling Change Capture</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-6E527169-7F32-4B68-BA84-43BA1A98CA5E"></a>
<h4 id="GGHDB-GUID-6E527169-7F32-4B68-BA84-43BA1A98CA5E" class="sect4"><span class="enumeration_section">5.3.4.2</span> Removing a Default Journal Specification</h4>
<div>
<div class="section">
<p>To remove the use of a default journal, use the following GGSCI command:</p>
<pre dir="ltr">
DEFAULTJOURNAL CLEAR
</pre></div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-70A262FD-CB75-41C7-9084-E23DAE14E6C9">Enabling Change Capture</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-2E461C7D-86B3-4DC0-9F5A-B371C987149B"></a>
<h3 id="GGHDB-GUID-2E461C7D-86B3-4DC0-9F5A-B371C987149B" class="sect3"><span class="enumeration_section">5.3.5</span> Maintaining Materialized Query Tables</h3>
<div>
<p>To maintain parity between source and target materialized query tables (MQT), you replicate the base tables, but not the MQTs. The target database maintains the MQTs based on the changes that Replicat applies to the base tables.</p>
<p>The following are the rules for configuring these tables:</p>
<ul style="list-style-type: disc;">
<li>
<p>Include the base tables in your <code class="codeph">TABLE</code> and <code class="codeph">MAP</code> statements.</p>
</li>
<li>
<p>Do not include MQTs in the <code class="codeph">TABLE</code> and <code class="codeph">MAP</code> statements.</p>
</li>
<li>
<p>Wildcards can be used in <code class="codeph">TABLE</code> and <code class="codeph">MAP</code> statements, even though they might resolve MQT names along with regular table names. Oracle GoldenGate automatically excludes MQTs from wildcarded table lists. However, any MQT that is explicitly listed in an Extract <code class="codeph">TABLE</code> statement by name will cause Extract to abend.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-638E488E-5F20-4CB6-8246-30CE6A1CB8E0"></a>
<h3 id="GGHDB-GUID-638E488E-5F20-4CB6-8246-30CE6A1CB8E0" class="sect3"><span class="enumeration_section">5.3.6</span> Specifying the Oracle GoldenGate Library</h3>
<div>
<div class="section">
<p>Before starting Oracle GoldenGate, specify the name of the Oracle GoldenGate for DB2 for i library when running the <code class="codeph">ggos400install</code> script. This creates a link to the <code class="codeph">OGGPRCJRN *SRVPGM</code> (service program) object that was restored to that library. If the link to the <code class="codeph">oggprcjrn</code> service program is deleted you could just re-run the <code class="codeph">ggos400install</code> shell script and specify the same library, or use the command "<code class="codeph">ln -s /qsys.lib/</code><span class="italic"><code class="codeph">OGG_library</code></span><code class="codeph">.lib/oggprcjrn.srvpgm oggprcjrn.srvpgm</code>". If this link is incorrect or missing, Extract will abend.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8C940934-3A21-4272-A90E-FB13FB91006A">Preparing Tables for Processing</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-EA884AB3-6A9E-496F-BABB-E1F07C3E40C8"></a>
<h2 id="GGHDB-GUID-EA884AB3-6A9E-496F-BABB-E1F07C3E40C8" class="sect2"><span class="enumeration_section">5.4</span> Adjusting the System Clock</h2>
<div>
<div class="section">
<p>It is recommended that you set the system clock to UTC (Universal Time Coordinate) time and use the timezone offset in the DB2 for i system values to represent the correct local time. If this setup is done correctly, local daylight savings time adjustments can occur automatically with no disruption to replication.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-CE829847-BB31-45F0-A747-798D4329D852" title="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8AE16833-6EF2-4034-AB0A-DBD1DF4793F6"></a>
<h2 id="GGHDB-GUID-8AE16833-6EF2-4034-AB0A-DBD1DF4793F6" class="sect2"><span class="enumeration_section">5.5</span> Configuring the ODBC Driver</h2>
<div>
<div class="section">
<p>This section applies only if you installed Replicat on a Windows or Linux system to operate remotely from the DB2 for i target. In this configuration, Replicat must connect to the target system over a database connection that is specified with ODBC. The following steps show how to install and configure ODBC to connect to the DB2 for i target system.</p>
<p><a href="preparing-system-oracle-goldengate2.htm#GUID-245FA057-88E2-41CB-A937-A1C325962197">Configuring ODBC on Linux</a></p>
<p><a href="preparing-system-oracle-goldengate2.htm#GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F">Configuring ODBC on Windows</a></p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-245FA057-88E2-41CB-A937-A1C325962197">Configuring ODBC on Linux</a><br /></li>
<li class="ulchildlink"><a href="preparing-system-oracle-goldengate2.htm#GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F">Configuring ODBC on Windows</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-CE829847-BB31-45F0-A747-798D4329D852" title="This chapter contains guidelines for preparing the DB2 for i system to support Oracle GoldenGate.">Preparing the System for Oracle GoldenGate</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-245FA057-88E2-41CB-A937-A1C325962197"></a>
<h3 id="GGHDB-GUID-245FA057-88E2-41CB-A937-A1C325962197" class="sect3"><span class="enumeration_section">5.5.1</span> Configuring ODBC on Linux</h3>
<div>
<div class="section">
<p>To configure ODBC, you can use the graphical user interface to run the ODBC configuration utility that is supplied with your Linux distribution, or you can edit the <code class="codeph">odbc.ini</code> file with the settings described in these steps. (These steps show the ODBC Administrator tool launched from the <code class="codeph">ODBCConfig</code> graphical interface utility for Linux.)</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Download and install the 32-bit or 64-bit iSeries Access ODBC driver on the remote Linux system according to the vendor documentation. The iSeries ODBC driver is supplied as a free component of iSeries Access.</span></li>
<li class="stepexpand"><span>Issue one of the following commands, depending on the driver that you want to use.</span>
<div>
<p><span class="bold">32-bit driver</span>:</p>
<pre dir="ltr">
rpm -ivh iSeriesAccess-7.1.0-1.0.i386.rpm
</pre>
<p><span class="bold">64-bit driver</span>:</p>
<pre dir="ltr">
rpm -ivh iSeriesAccess-7.1.0-1.0.x86_64.rpm
</pre></div>
</li>
<li class="stepexpand"><span>You can create a user DSN (a connection that is available only to the user that created it) or a system DSN (a connection that is available to all users on the system). To create a user DSN, log on to the system as the user that you will be using for the Replicat process.</span></li>
<li class="stepexpand"><span>Run the ODBC configuration utility.</span></li>
<li class="stepexpand"><span>On the initial page of the ODBC configuration tool, select the <span class="bold">User DSN</span> tab to create a user DSN or the <span class="bold">System DSN</span> tab to create a system DSN. (These steps create a user DSN; creating a system DSN is similar.)</span>
<div>
<div class="figure" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GUID-DB89B133-37FF-43C7-A401-D5F498EBF142">
<p class="titleinfigure">Figure 5-1 Adding an ODBC DSN on Linux</p>
<img width="669" height="300" src="img/odbc1.jpg" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows" /><br />
<a href="img_text/odbc1.htm">Description of "Figure 5-1 Adding an ODBC DSN on Linux"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the tab you selected, click <span class="bold">Add</span>.</span></li>
<li class="stepexpand"><span>Select the appropriate iSeries Access ODBC driver, click <span class="bold">OK</span>, and then go to step <a href="preparing-system-oracle-goldengate2.htm#GUID-245FA057-88E2-41CB-A937-A1C325962197__CHDFFCHD">8</a> of these instructions. If the correct driver is not shown in the <span class="bold">Select the DRIVER</span> list, click the <span class="bold">Add...</span> button and then complete the fields as shown in Figure 3&ndash;3.</span>
<div>
<div class="figure" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GUID-EFC320E8-32AE-4519-9B14-9BC794F3B23F">
<p class="titleinfigure">Figure 5-2 Selecting an ODBC Driver on Linux</p>
<img width="545" height="370" src="img/odbc2.jpg" alt="Description of Figure 5-2 follows" title="Description of Figure 5-2 follows" /><br />
<a href="img_text/odbc2.htm">Description of "Figure 5-2 Selecting an ODBC Driver on Linux"</a></div>
<!-- class="figure" -->
<div class="figure" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__CHDJHCFJ">
<p class="titleinfigure">Figure 5-3 Manually Editing Driver Properties When the Driver is Not Found</p>
<img width="644" height="372" src="img/odbc3.jpg" alt="Description of Figure 5-3 follows" title="Description of Figure 5-3 follows" /><br />
<a href="img_text/odbc3.htm">Description of "Figure 5-3 Manually Editing Driver Properties When the Driver is Not Found"</a></div>
<!-- class="figure" -->
<p>How to complete <a href="preparing-system-oracle-goldengate2.htm#GUID-245FA057-88E2-41CB-A937-A1C325962197__CHDJHCFJ">Figure 5-3</a> fields:</p>
<ul style="list-style-type: disc;">
<li>
<p>Set <span class="bold">Name</span> to the name of the driver.</p>
</li>
<li>
<p>Set <span class="bold">Driver</span> to the path where the driver is installed.</p>
</li>
<li>
<p>Set <span class="bold">Setup</span> to the <code class="codeph">libcwbodbci.so</code> file that is in the driver installation directory.</p>
</li>
<li>
<p>Leave the other settings to their defaults.</p>
</li>
<li>
<p>Click the check mark above the <span class="bold">Name</span> field to save your settings.</p>
</li>
</ul>
</div>
</li>
<li class="stepexpand" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__CHDFFCHD"><span>In the <span class="bold">Name</span> field of the Data Source Properties dialog, supply a one-word name for the data source. In the <span class="bold">System</span> field, enter the fully qualified name of the target DB2 for i system, for example: <code class="codeph">sysname.company.com</code>. Leave the <span class="bold">UserID</span> and <span class="bold">Password</span> fields blank, to allow Replicat to supply credentials when it connects to the database. Leave the remaining fields set to their defaults, and then click the check mark above the <span class="bold">Name</span> field to save your settings.</span>
<div>
<div class="figure" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GUID-EA0D24FA-E4DB-4DCD-9669-26F9A8F12933">
<p class="titleinfigure">Figure 5-4 Setting Data Source Properties</p>
<img width="644" height="604" src="img/odbc4.jpg" alt="Description of Figure 5-4 follows" title="Description of Figure 5-4 follows" /><br />
<a href="img_text/odbc4.htm">Description of "Figure 5-4 Setting Data Source Properties"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>You are returned to the ODBC Data Source Administrator dialog. Click <span class="bold">OK</span> to exit the ODBC configuration utility.</span></li>
<li class="stepexpand"><span>To support <code class="codeph">GRAPHIC</code>, <code class="codeph">VARGRAPHIC</code> and <code class="codeph">DBCLOB</code> types, edit the <code class="codeph">.odbc.ini</code> file and add the following line.</span>
<div>
<pre dir="ltr">
GRAPHIC = 1
</pre>
<div class="infobox-note" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GUID-0D21DF96-4F0C-4071-8ACF-8EB2F61AEEE8">
<p class="notep1">Note:</p>
<p>If you created a user Data Source Name, this file is located in the home directory of the user that created it. If you created a system DSN, this file is in <code class="codeph">/etc/odbc.ini</code> or <code class="codeph">/usr/local/etc/odbc.ini</code>.</p>
</div>
</div>
</li>
<li class="stepexpand"><span>From the Oracle GoldenGate directory on the target, run GGSCI and issue the <code class="codeph">DBLOGIN</code> command to log into the target database. See <a class="olink GWURF251" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF251"><span class="italic"><span id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a> for detailed syntax.</span>
<div>
<pre dir="ltr">
DBLOGIN SOURCEDB <span class="italic">database</span>, USERID <span class="italic">db_user</span> [, PASSWORD <span class="italic">pw</span> [<span class="italic">encryption options</span>]]
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SOURCEDB</code> <span class="italic"><code class="codeph">database</code></span> specifies the new Data Source Name.</p>
</li>
<li>
<p><code class="codeph">USERID</code> <span class="italic"><code class="codeph">db_user</code></span><code class="codeph">, PASSWORD</code> <span class="italic"><code class="codeph">pw</code></span> are the Replicat database user profile and password.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">encryption options</code></span> is optional password encryption.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-245FA057-88E2-41CB-A937-A1C325962197__GUID-70C14D73-3062-433B-914C-038343479288">
<p class="notep1">Note:</p>
<p>Only <code class="codeph">BLOWFISH</code> encryption is supported for DB2 for i systems.</p>
</div>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8AE16833-6EF2-4034-AB0A-DBD1DF4793F6">Configuring the ODBC Driver</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F"></a>
<h3 id="GGHDB-GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F" class="sect3"><span class="enumeration_section">5.5.2</span> Configuring ODBC on Windows</h3>
<div>
<div class="section">
<p>On Windows, the ODBC Administration tool is in the Administrative Tools folder as <span class="bold">Data Sources (ODBC)</span>.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Download and install the 32-bit or 64-bit iSeries Access ODBC driver from the DB2 for iSeries Access package on the remote Windows system according to the vendor documentation. The iSeries ODBC driver is supplied as a free component of iSeries Access.</span></li>
<li class="stepexpand"><span>You can create a user DSN (a connection that is available only to the user that created it) or a system DSN (a connection that is available to all users on the system). To create a user DSN, log on to the system as the user that you will be using for the Replicat process.</span></li>
<li class="stepexpand"><span>From the Windows Control Panel, select <span class="bold">Administrative Tools</span>, then <span class="bold">Data Sources (ODBC)</span>.</span></li>
<li class="stepexpand"><span>On the first page of the ODBC configuration tool, select the <span class="bold">User DSN</span> tab to create a user DSN or the <span class="bold">System DSN</span> tab to create a system DSN. (These steps create a user DSN; creating a system DSN is similar.)</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-AF6AE527-4BC4-4AB9-8194-7180DCBE2E1A">
<p class="titleinfigure">Figure 5-5 Adding an ODBC DSN on Windows</p>
<img width="464" height="387" src="img/winodbc1.jpg" alt="Description of Figure 5-5 follows" title="Description of Figure 5-5 follows" /><br />
<a href="img_text/winodbc1.htm">Description of "Figure 5-5 Adding an ODBC DSN on Windows"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the tab that you selected, click <span class="bold">Add</span>.</span></li>
<li class="stepexpand"><span>Select the appropriate iSeries Access ODBC Driver from the list of drivers, and then click <span class="bold">Finish</span>.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-C761ECA1-2B01-4879-8D96-928C86899688">
<p class="titleinfigure">Figure 5-6 Selecting an ODBC Driver on Windows</p>
<img width="473" height="356" src="img/winodbc2.jpg" alt="Description of Figure 5-6 follows" title="Description of Figure 5-6 follows" /><br />
<a href="img_text/winodbc2.htm">Description of "Figure 5-6 Selecting an ODBC Driver on Windows"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the General tab of the DB2 for i Access for Windows ODBC Setup dialog, provide a name (without any spaces) in the <span class="bold">Data Source Name</span> field, add an optional description in the <span class="bold">Description</span> field, and then select the system name from the <span class="bold">System</span> selection list.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-5CF27B81-EC26-4CB2-B7DB-4F180BDDD772">
<p class="titleinfigure">Figure 5-7 Setting General ODBC Properties on Windows</p>
<img width="570" height="478" src="img/winodbc3.jpg" alt="Description of Figure 5-7 follows" title="Description of Figure 5-7 follows" /><br />
<a href="img_text/winodbc3.htm">Description of "Figure 5-7 Setting General ODBC Properties on Windows"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the Server tab, set <span class="bold">Naming Convention</span> to <code class="codeph">SQL Naming Convention (*SQL)</code>. Leave the other fields set to their defaults.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-AB4EB2D1-11FA-4DA6-9FF1-AA3F74DC63DF">
<p class="titleinfigure">Figure 5-8 Setting Server ODBC Properties on Windows</p>
<img width="568" height="479" src="img/winodbc4.jpg" alt="Description of Figure 5-8 follows" title="Description of Figure 5-8 follows" /><br />
<a href="img_text/winodbc4.htm">Description of "Figure 5-8 Setting Server ODBC Properties on Windows"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the Data Types tab, select the <span class="bold">Report as Supported</span> check box under Double Byte Character Set (DBCS) graphic data types.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-DE2192FA-D57E-47AC-9759-578465B9A21A">
<p class="titleinfigure">Figure 5-9 Setting DBCS ODBC Properties</p>
<img width="569" height="478" src="img/winodbc5.jpg" alt="Description of Figure 5-9 follows" title="Description of Figure 5-9 follows" /><br />
<a href="img_text/winodbc5.htm">Description of "Figure 5-9 Setting DBCS ODBC Properties"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>On the Conversions tab, clear the <span class="bold">Convert binary data (CCSID 65535) to text</span> check box.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-D3E3AE6D-DFD4-4D53-A608-7E67B4F66669">
<p class="titleinfigure">Figure 5-10 Setting Conversion ODBC Properties</p>
<img width="573" height="480" src="img/winodbc6.jpg" alt="Description of Figure 5-10 follows" title="Description of Figure 5-10 follows" /><br />
<a href="img_text/winodbc6.htm">Description of "Figure 5-10 Setting Conversion ODBC Properties"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">Apply</span>, then <span class="bold">OK</span>. You are returned to the ODBC Data Source Administrator dialog.</span></li>
<li class="stepexpand"><span>Confirm that the new Data Source Name appears under <span class="bold">User Data Sources</span>.</span>
<div>
<div class="figure" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-A902DB6B-9DF6-4D1C-B121-7FEB50D3DC2C">
<p class="titleinfigure">Figure 5-11 Confirming New Data Source Name</p>
<img width="461" height="386" src="img/winodbc7.jpg" alt="Description of Figure 5-11 follows" title="Description of Figure 5-11 follows" /><br />
<a href="img_text/winodbc7.htm">Description of "Figure 5-11 Confirming New Data Source Name"</a></div>
<!-- class="figure" --></div>
</li>
<li class="stepexpand"><span>Click <span class="bold">OK</span> to exit the ODBC configuration utility.</span></li>
<li class="stepexpand"><span>From the Oracle GoldenGate directory on the target, run GGSCI and issue the <code class="codeph">DBLOGIN</code> command to log into the target database. See <a class="olink GWURF251" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF251"><span class="italic"><span id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a> for detailed syntax.</span>
<div>
<pre dir="ltr">
DBLOGIN SOURCEDB <span class="italic">database</span>, USERID <span class="italic">db_user</span> [, PASSWORD <span class="italic">pw</span> [<span class="italic">encryption_options</span>]]
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SOURCEDB</code> <span class="italic"><code class="codeph">database</code></span> specifies the new data source name.</p>
</li>
<li>
<p><code class="codeph">USERID</code> <span class="italic"><code class="codeph">db_user</code></span><code class="codeph">, PASSWORD</code> <span class="italic"><code class="codeph">pw</code></span> are the Replicat database user profile and password.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">encryption_options</code></span> is optional password encryption.</p>
<div class="infobox-note" id="GUID-D290AA29-9160-44A8-A026-4FFC0B9EF51F__GUID-27871805-1A0B-4EC6-863D-4DF69E23F5E6">
<p class="notep1">Note:</p>
<p>Only <code class="codeph">BLOWFISH</code> encryption is supported for DB2 for i systems.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="preparing-system-oracle-goldengate2.htm#GUID-8AE16833-6EF2-4034-AB0A-DBD1DF4793F6">Configuring the ODBC Driver</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment114">
<tr>
<td class="cellalignment121">
<table class="cellalignment119">
<tr>
<td class="cellalignment118"><a href="understanding-whats-supported-db2-i.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment118"><a href="configuring-oracle-goldengate-db2-i.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment117">
<tr>
<td class="cellalignment118"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment118"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment118"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
