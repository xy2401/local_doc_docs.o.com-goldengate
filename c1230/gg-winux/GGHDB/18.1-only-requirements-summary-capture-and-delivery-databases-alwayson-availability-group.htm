<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Requirements Summary for Capture and Delivery of Databases in an AlwaysOn Availability Group</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-09-07T08:20:49Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Heterogeneous Databases" />
<meta name="dcterms.identifier" content="E88786-08" />
<meta name="dcterms.isVersionOf" content="GGHDB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="requirements-summary-classic-extract-archived-log-only-alo-mode.htm" title="Previous" type="text/html" />
<link rel="Next" href="oracle-goldengate-classic-extract-sql-server-standard-edition-capture.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGHDB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-FC01DC57-E6F8-42FD-8685-6B11E538CC0E"></a> <span id="PAGE" style="display:none;">29/37</span> <!-- End Header -->
<h1 id="GGHDB-GUID-FC01DC57-E6F8-42FD-8685-6B11E538CC0E" class="sect1"><span class="enumeration_chapter">20</span> <span class="bold">Requirements Summary for Capture and Delivery of Databases in an AlwaysOn Availability Group</span></h1>
<div>
<p>Oracle GoldenGate 12.3 for SQL Server includes a new feature of Capture support of the Primary and read-only, synchronous mode Secondary databases of an AlwaysOn Availability Group, and Delivery to the Primary database.</p>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-7CA120F2-6CA8-4B69-A5F0-446EC64F9D15">ODBC Connection</a><br /></li>
<li class="ulchildlink"><a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-9DA87FF9-E3A4-44FB-9204-A0168608AE02">Supplemental Logging</a><br /></li>
<li class="ulchildlink"><a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-784A0A25-3666-4234-B0DC-90B28FB001FD">Operational Requirements and Considerations</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="18.1using-oracle-goldengate-sql-server.htm" title="With Oracle GoldenGate for SQL Server, you can capture transactional data from user tables of supported SQL Server versions and replicate the data to a SQL Server database or other supported Oracle GoldenGate targets, such as an Oracle Database or Big Data target.">Using Oracle GoldenGate with SQL Server</a></p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-7CA120F2-6CA8-4B69-A5F0-446EC64F9D15"></a>
<h2 id="GGHDB-GUID-7CA120F2-6CA8-4B69-A5F0-446EC64F9D15" class="sect2"><span class="enumeration_section">20.1</span> ODBC Connection</h2>
<div>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>Create a System DSN that connects to the Primary (Capture/Delivery) or Secondary (Capture only) replica database as per normal instructions.</p>
</li>
<li>
<p><span>Oracle GoldenGate</span> does not support connections to an AlwaysOn Listener.</p>
</li>
</ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-FC01DC57-E6F8-42FD-8685-6B11E538CC0E">Requirements Summary for Capture and Delivery of Databases in an AlwaysOn Availability Group</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-9DA87FF9-E3A4-44FB-9204-A0168608AE02"></a>
<h2 id="GGHDB-GUID-9DA87FF9-E3A4-44FB-9204-A0168608AE02" class="sect2"><span class="enumeration_section">20.2</span> Supplemental Logging</h2>
<div>
<p>Supplemental logging must be enabled by normal means (<code class="codeph">ADD TRANDATA</code>) using&nbsp;GGSCI&nbsp;against the Primary database tables to be included for capture, and not against a Secondary replica database.</p>
<ul style="list-style-type: disc;">
<li>
<p>If Oracle GoldenGate is installed on a secondary replica node, you will need to create a separate DSN to the Primary database, in order to connect using <code class="codeph">DBLOGIN</code> and run <code class="codeph">ADD TRANDATA</code>.</p>
</li>
<li>
<p>The login used with <code class="codeph">DBLOGIN</code> must have <code class="codeph">sysadmin</code> membership of the Primary replica instance.</p>
</li>
<li>
<p>When enabling supplemental logging on the Primary database, the SQL Server Change Data Capture job does not automatically get created, therefore, if a Secondary database becomes a Primary after failover, then you must manually create the SQL Server CDC capture job on the new Primary by running the following against the new Primary:</p>
<p><code class="codeph">EXECUTE sys.sp_cdc_add_job 'capture'</code></p>
<ul style="list-style-type: disc;">
<li>
<p>&nbsp;If you modify the job's parameters from its default values using <code class="codeph">EXEC sys.sp_cdc_change_job</code>, then after adding the job to the new Primary database, they would also have to re-run <code class="codeph">EXEC sys.sp_cdc_change_job</code> against the capture job on the new Primary database.</p>
</li>
</ul>
</li>
</ul>
<div class="infobox-note" id="GUID-9DA87FF9-E3A4-44FB-9204-A0168608AE02__GUID-B415C98C-4385-47AC-AEEA-2034C098E214">
<p class="notep1">Note:</p>
Consult the <a href="https://docs.microsoft.com/en-us/sql/database-engine/availability-groups/windows/replicate-track-change-data-capture-always-on-availability" target="_blank">Microsoft documentation</a> on how to enable the CDC Capture job for AlwaysOn Secondary Replicas for more information:.</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-FC01DC57-E6F8-42FD-8685-6B11E538CC0E">Requirements Summary for Capture and Delivery of Databases in an AlwaysOn Availability Group</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-784A0A25-3666-4234-B0DC-90B28FB001FD"></a>
<h2 id="GGHDB-GUID-784A0A25-3666-4234-B0DC-90B28FB001FD" class="sect2"><span class="enumeration_section">20.3</span> Operational Requirements and Considerations</h2>
<div>
<div class="p">
<ul style="list-style-type: disc;">
<li>
<p>(CDC Extract) When running an Extract from a middle tier Windows server, set the middle tier server's date, time, and time zone to the same as that of the Primary database server.</p>
</li>
<li>
<p>(CDC Extract) If an Extract is reading from a readable Secondary database, then it will not be able to update the <span>Oracle GoldenGate</span> CDC Cleanup job if used, therefore, Extract must run with <code class="codeph">TRANLOGOPTIONS NOMANAGECDCCLEANUP</code> when running against a secondary database.</p>
</li>
<li>
<p>(CDC Extract) If an Extract is configured to capture against the Primary database, upon failover to a new Primary, manually create the<span>Oracle GoldenGate</span> CDC Cleanup job before starting the Extract. This only needs to be done once on each potential Primary after it is available. It can be done by scripting the job from the previous Primary and running against the new Primary.</p>
</li>
</ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="18.1-only-requirements-summary-capture-and-delivery-databases-alwayson-availability-group.htm#GUID-FC01DC57-E6F8-42FD-8685-6B11E538CC0E">Requirements Summary for Capture and Delivery of Databases in an AlwaysOn Availability Group</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment114">
<tr>
<td class="cellalignment121">
<table class="cellalignment119">
<tr>
<td class="cellalignment118"><a href="requirements-summary-classic-extract-archived-log-only-alo-mode.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment118"><a href="oracle-goldengate-classic-extract-sql-server-standard-edition-capture.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment117">
<tr>
<td class="cellalignment118"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment118"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment118"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
