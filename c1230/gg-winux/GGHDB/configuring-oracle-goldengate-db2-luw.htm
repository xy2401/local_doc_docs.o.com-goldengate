<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Configuring Oracle GoldenGate for DB2 LUW</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database." />
<meta name="dcterms.created" content="2018-09-07T08:20:49Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Using Oracle GoldenGate for Heterogeneous Databases" />
<meta name="dcterms.identifier" content="E88786-08" />
<meta name="dcterms.isVersionOf" content="GGHDB" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="preparing-system-oracle-goldengate.htm" title="Previous" type="text/html" />
<link rel="Next" href="using-oracle-goldengate-db2-i.htm" title="Next" type="text/html" />
<link rel="alternate" href="GGHDB.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-24032AE4-6B48-427A-86F4-0B0AF315E008"></a> <span id="PAGE" style="display:none;">8/37</span> <!-- End Header -->
<h1 id="GGHDB-GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" class="sect1"><span class="enumeration_chapter">3</span> Configuring Oracle GoldenGate for DB2 LUW</h1>
<div>
<div><span>This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-40F693C5-6BA6-47E9-AB55-99BF7276A3B0">What to Expect from these Instructions</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-CC99FBE9-6661-494D-B68C-7DED3F1F8F39">Where to Get More Information</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-AB9410E5-08EF-4356-A580-D8BD9B6B223A">Configuring the Primary Extract</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-1947B99F-B0B1-4B43-9C27-7AAAFF99A977">Configuring the Data Pump Extract</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54">Configuring Replicat</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-472B9595-1772-4EFA-A90A-1377E5CE7B43">Next Steps in the Deployment</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-23BD873A-7D17-4408-9377-70003AFF20A1">When to Start Replicating Transactional Changes</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-37C66303-A23C-4367-B13F-6314B44A6656">Testing Your Configuration</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="using-oracle-goldengate-db2-luw.htm" title="With the Oracle GoldenGate for DB2 LUW databases, you can replicate data to and from the supported DB2 LUW versions or between a DB2 LUW database and a database of another type. Oracle GoldenGate for DB2 LUW supports data filtering, mapping, and transformation unless noted otherwise in this documentation.">Using Oracle GoldenGate with DB2 LUW</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-40F693C5-6BA6-47E9-AB55-99BF7276A3B0"></a>
<h2 id="GGHDB-GUID-40F693C5-6BA6-47E9-AB55-99BF7276A3B0" class="sect2"><span class="enumeration_section">3.1</span> What to Expect from these Instructions</h2>
<div>
<p>These instructions show you how to configure basic parameter (configuration) files for the following processes:</p>
<ul style="list-style-type: disc;">
<li>
<p>A primary Extract (captures transaction data from the data source)</p>
</li>
<li>
<p>A data-pump Extract (propagates the data from local storage to the target system)</p>
</li>
<li>
<p>A Replicat (applies replicated data to the target database)</p>
</li>
</ul>
<p>Your business requirements probably will require a more complex topology, but this procedure forms a basis for the rest of your configuration steps.</p>
<p>By performing these steps, you can:</p>
<ul style="list-style-type: disc;">
<li>
<p>Get the basic configuration files established.</p>
</li>
<li>
<p>Build upon them later by adding more parameters as you make decisions about features or requirements that apply to your environment.</p>
</li>
<li>
<p>Use copies of them to make the creation of additional parameter files faster than starting from scratch.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-CC99FBE9-6661-494D-B68C-7DED3F1F8F39"></a>
<h2 id="GGHDB-GUID-CC99FBE9-6661-494D-B68C-7DED3F1F8F39" class="sect2"><span class="enumeration_section">3.2</span> Where to Get More Information</h2>
<div>
<div class="section">
<p>See <a class="olink GWUAD-GUID-8CFB0335-2F51-4B50-9830-AC5822DB7C82" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWUAD-GUID-8CFB0335-2F51-4B50-9830-AC5822DB7C82">Administering Oracle GoldenGate for Windows and UNIX</a> for more information about:</p>
<ul style="list-style-type: disc;">
<li>
<p>The processes and files that you are configuring</p>
</li>
<li>
<p>Detailed configuration information</p>
</li>
<li>
<p>Security options</p>
</li>
<li>
<p>Data-integration options (filtering, mapping, conversion)</p>
</li>
<li>
<p>Instructions for configuring complex topologies</p>
</li>
<li>
<p>Steps to perform initial instantiation of the replication environment</p>
</li>
<li>
<p>Administrative topics</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-AB9410E5-08EF-4356-A580-D8BD9B6B223A"></a>
<h2 id="GGHDB-GUID-AB9410E5-08EF-4356-A580-D8BD9B6B223A" class="sect2"><span class="enumeration_section">3.3</span> Configuring the Primary Extract</h2>
<div>
<div class="section">
<p>These steps configure the primary Extract to capture transaction data from a source DB2 LUW database and write the data to a local trail for temporary storage.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In GGSCI on the source system, create the Extract parameter file.</span>
<div>
<pre dir="ltr">
EDIT PARAMS <span class="italic">name</span>
</pre>
<p>Where: <span class="italic"><code class="codeph">name</code></span> is the name of the primary Extract.</p>
</div>
</li>
<li class="stepexpand"><span>Enter the Extract parameters in the order shown, starting a new line for each parameter statement.</span>
<div>
<p><span class="bold">Basic parameters for the primary Extract</span></p>
<pre dir="ltr">
EXTRACT finance
SOURCEDB mysource, USERIDALIAS myalias 
LOGALLSUPCOLS
ENCRYPTTRAIL AES192
EXTTRAIL /ggs/dirdat/lt
TABLE hr.*;
</pre>
<div class="tblformalwide" id="GUID-AB9410E5-08EF-4356-A580-D8BD9B6B223A__CEGBIJIG">
<p class="titleintable">Table 3-1 Basic Parameters for Primary Extract</p>
<table class="cellalignment131" title="Basic Parameters for Primary Extract" summary="This table describes the basic parameters for primary Extract in classic capture mode.">
<thead>
<tr class="cellalignment115">
<th class="cellalignment132" id="d4348e251">Parameter</th>
<th class="cellalignment133" id="d4348e254">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment115">
<td class="cellalignment134" id="d4348e259" headers="d4348e251">
<pre dir="ltr">
EXTRACT <span class="italic">group</span>
</pre></td>
<td class="cellalignment135" headers="d4348e259 d4348e254">
<p><span class="italic"><code class="codeph">group</code></span> is the name of the Extract group. For more information, see <a class="olink GWURF487" target="_blank" href="../GWURF/extract.htm#GWURF487"><span class="italic">Reference for Oracle GoldenGate</span></a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment134" id="d4348e277" headers="d4348e251">
<pre dir="ltr">
SOURCEDB <span class="italic">database</span>, USERIDALIAS <span class="italic">alias</span>
</pre></td>
<td class="cellalignment135" headers="d4348e277 d4348e254">
<p>Specifies the real name of the source DB2 LUW database (not an alias), plus the alias of the database login credential of the user that is assigned to Extract. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a class="olink OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479" target="_blank" href="../OGGIN/installing-db2-luw.htm#OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479">Database User for Oracle GoldenGate Processes</a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment134" id="d4348e295" headers="d4348e251">
<pre dir="ltr">
ENCRYPTTRAIL <span class="italic">algorithm</span>
</pre></td>
<td class="cellalignment135" headers="d4348e295 d4348e254">
<p>Encrypts the local trail. For more information about Oracle GoldenGate trail encryption options, see <a class="olink GWUAD354" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWUAD354"><span class="italic">Administering Oracle GoldenGate</span></a> .</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment134" id="d4348e310" headers="d4348e251">
<pre dir="ltr">
EXTTRAIL <span class="italic">pathname</span>
</pre></td>
<td class="cellalignment135" headers="d4348e310 d4348e254">
<p>Specifies the path name of the local trail to which the primary Extract writes captured data for temporary storage.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment134" id="d4348e320" headers="d4348e251">
<pre dir="ltr">
TABLE <span class="italic">schema.object</span>;
</pre></td>
<td class="cellalignment135" headers="d4348e320 d4348e254">
<p>Specifies the database object for which to capture data.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">TABLE</code> is a required keyword.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">schema</code></span> is the schema name or a wildcarded set of schemas.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">object</code></span> is the table name, or a wildcarded set of tables.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" target="_blank" href="../GWUAD/getting-started-oracle-goldengate-process-interfaces.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate</span></a> for information about how to specify object names with and without wildcards. Note that only the asterisk (*) wildcard is supported for DB2 LUW. The question mark (?) wildcard is not supported for this database.</p>
<p>Terminate the parameter statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code class="codeph">TABLEEXCLUDE</code> parameter. See <a class="olink GWURF-GUID-1CA39664-9813-44A7-844B-DE44B403006C" target="_blank" href="../GWURF/tableexclude.htm#GWURF-GUID-1CA39664-9813-44A7-844B-DE44B403006C"><span class="italic">Reference for Oracle GoldenGate</span></a> for more information about usage and syntax.</p>
<p>For more information and for additional <code class="codeph">TABLE</code> options that control data filtering, mapping, and manipulation, see <a class="olink GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385" target="_blank" href="../GWURF/oracle-goldengate-ggsci-commands.htm#GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385"><span class="italic">Reference for Oracle GoldenGate</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>Enter any optional Extract parameters that are recommended for your configuration. You can edit this file at any point before starting processing by using the <code class="codeph">EDIT PARAMS</code> command in GGSCI. For a list of parameters and links to their detailed reference, see <a class="olink GWURF978" target="_blank" href="../GWURF/summary-oracle-goldengate-parameters.htm#GWURF978"><span class="italic">Reference for Oracle GoldenGate</span></a>.</span></li>
<li class="stepexpand"><span>Save and close the file.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-1947B99F-B0B1-4B43-9C27-7AAAFF99A977"></a>
<h2 id="GGHDB-GUID-1947B99F-B0B1-4B43-9C27-7AAAFF99A977" class="sect2"><span class="enumeration_section">3.4</span> Configuring the Data Pump Extract</h2>
<div>
<div class="section">
<p>These steps configure the data pump that reads the local trail and sends the data across the network to a remote trail on the target. The data pump is optional, but recommended.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In GGSCI on the source system, create the data-pump parameter file.</span>
<div>
<pre dir="ltr">
EDIT PARAMS <span class="italic">name</span>
</pre>
<p>Where <span class="italic"><code class="codeph">name</code></span> is the name of the data-pump Extract.</p>
</div>
</li>
<li class="stepexpand"><span>Enter the data-pump Extract parameters in the order shown, starting a new line for each parameter statement. Your input variables will be different. See <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-1947B99F-B0B1-4B43-9C27-7AAAFF99A977__CEGHIGIC" title="This table describes the basic parameters for a data-pump Extract.">Table 3-2</a> for descriptions.</span>
<div>
<p><span class="bold">Basic parameters for the data-pump Extract group:</span></p>
<pre dir="ltr">
EXTRACT extpump
SOURCEDB mypump, USERIDALIAS myalias
RMTHOST fin1, MGRPORT 7809 ENCRYPT AES192, KEYNAME securekey2
RMTTRAIL /ggs/dirdat/rt
TABLE hr.*;
</pre>
<div class="tblformalwide" id="GUID-1947B99F-B0B1-4B43-9C27-7AAAFF99A977__CEGHIGIC">
<p class="titleintable">Table 3-2 Basic Parameters for a Data-pump Extract</p>
<table class="cellalignment131" title="Basic Parameters for a Data-pump Extract" summary="This table describes the basic parameters for a data-pump Extract.">
<thead>
<tr class="cellalignment115">
<th class="cellalignment136" id="d4348e463">Parameter</th>
<th class="cellalignment137" id="d4348e466">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e471" headers="d4348e463">
<pre dir="ltr">
EXTRACT <span class="italic">group</span>
</pre></td>
<td class="cellalignment139" headers="d4348e471 d4348e466">
<p><span class="italic"><code class="codeph">group</code></span> is the name of the data pump Extract. For more information, see <a class="olink GWURF487" target="_blank" href="../GWURF/extract.htm#GWURF487"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e489" headers="d4348e463">
<pre dir="ltr">
SOURCEDB <span class="italic">database</span>, USERIDALIAS <span class="italic">alias</span>
</pre></td>
<td class="cellalignment139" headers="d4348e489 d4348e466">
<p>Specifies the real name of the source DB2 LUW database (not an alias), plus the alias of the database login credential of the user that is assigned to Extract. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a class="olink OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479" target="_blank" href="../OGGIN/installing-db2-luw.htm#OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479">Database User for Oracle GoldenGate Processes</a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e507" headers="d4348e463">
<pre dir="ltr">
RMTHOST <span class="italic">hostname</span>, MGRPORT <span class="italic">portnumber</span>,
[, ENCRYPT <span class="italic">algorithm</span> KEYNAME <span class="italic">keyname</span>]
</pre></td>
<td class="cellalignment139" headers="d4348e507 d4348e466">
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">RMTHOST</code> specifies the name or IP address of the target system.</p>
</li>
<li>
<p><code class="codeph">MGRPORT</code> specifies the port number where Manager is running on the target.</p>
</li>
<li>
<p><code class="codeph">ENCRYPT</code> specifies optional encryption of data across TCP/IP.</p>
</li>
</ul>
<p>For additional options and encryption details, see <a class="olink GWURF631" target="_blank" href="../GWURF/rmthost.htm#GWURF631"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e551" headers="d4348e463">
<pre dir="ltr">
RMTTRAIL <span class="italic">pathname</span>
</pre></td>
<td class="cellalignment139" headers="d4348e551 d4348e466">
<p>Specifies the path name of the remote trail. For more information, see <a class="olink GWURF637" target="_blank" href="../GWURF/rmttrail.htm#GWURF637"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e566" headers="d4348e463">
<pre dir="ltr">
TABLE <span class="italic">schema.object</span>;
</pre></td>
<td class="cellalignment139" headers="d4348e566 d4348e466">
<p>Specifies a table or sequence, or multiple objects specified with a wildcard. In most cases, this listing will be the same as that in the primary Extract parameter file.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">TABLE</code> is a required keyword.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">schema</code></span> is the schema name or a wildcarded set of schemas.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">object</code></span> is the name of a table or a wildcarded set of tables.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" target="_blank" href="../GWUAD/getting-started-oracle-goldengate-process-interfaces.htm#GWUAD192"><span class="italic">Oracle Golden Gate Administering Oracle GoldenGate for Windows and UNIX</span></a> for information about how to specify object names with and without wildcards. Note that only the asterisk (*) wildcard is supported for DB2 LUW. The question mark (?) wildcard is not supported for this database.</p>
<p>Terminate the parameter statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code class="codeph">TABLEEXCLUDE</code> parameter. See <a class="olink GWURF-GUID-1CA39664-9813-44A7-844B-DE44B403006C" target="_blank" href="../GWURF/tableexclude.htm#GWURF-GUID-1CA39664-9813-44A7-844B-DE44B403006C"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information about usage and syntax.</p>
<p>For more information and for additional <code class="codeph">TABLE</code> options that control data filtering, mapping, and manipulation, see <a class="olink GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385" target="_blank" href="../GWURF/oracle-goldengate-ggsci-commands.htm#GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>Enter any optional Extract parameters that are recommended for your configuration. You can edit this file at any point before starting processing by using the <code class="codeph">EDIT PARAMS</code> command in GGSCI. For a list of parameters and links to their detailed reference, see <a class="olink GWURF978" target="_blank" href="../GWURF/summary-oracle-goldengate-parameters.htm#GWURF978"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</span></li>
<li class="stepexpand"><span>Save and close the file.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54"></a>
<h2 id="GGHDB-GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54" class="sect2"><span class="enumeration_section">3.5</span> Configuring Replicat</h2>
<div>
<div class="section">
<p>These steps configure the Replicat process in a basic way without any special mapping or conversion of the data.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In GGSCI on the target system, create the Replicat parameter file.</span>
<div>
<pre dir="ltr">
EDIT PARAMS <span class="italic">name</span>
</pre>
<p>Where: <span class="italic"><code class="codeph">name</code></span> is the name of the Replicat group.</p>
</div>
</li>
<li class="stepexpand"><span>Enter the Replicat parameters in the order shown, starting a new line for each parameter statement. See <a href="configuring-oracle-goldengate-db2-i.htm#GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54__BABHEIJH" title="Basic parameters for Replicat">Table 6-3</a> for descriptions.</span>
<div>
<pre dir="ltr">
REPLICAT financer
TARGETDB FINANCIAL USERID ogg, PASSWORD AACAAAAAAAAAAA, BLOWFISH ENCRYPTKEY mykey
ASSUMETARGETDEFS
-- Instead of ASSUMETARGETDEFS, use SOURCEDEFS if replicating from
-- DB2 for i to a different database type, or from a DB2 for i source
-- that is not identical in definitions to a target DB2 for i database.
-- SOURCEDEFS /users/ogg/dirdef/defsfile
DISCARDFILE /users/ogg/disc
MAP hr.*, TARGET hr2.*;
</pre>
<div class="tblformalwide" id="GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54__BABHEIJH">
<p class="titleintable">Table 3-3 Basic Parameters for Replicat</p>
<table class="cellalignment131" title="Basic Parameters for Replicat" summary="Basic parameters for Replicat">
<thead>
<tr class="cellalignment115">
<th class="cellalignment136" id="d4348e709">Parameter</th>
<th class="cellalignment137" id="d4348e712">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e717" headers="d4348e709">
<pre dir="ltr">
REPLICAT <span class="italic">group</span>
</pre></td>
<td class="cellalignment139" headers="d4348e717 d4348e712">
<p><span class="italic"><code class="codeph">group</code></span> is the name of the Replicat group.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e730" headers="d4348e709">
<pre dir="ltr">
TARGETDB <span class="italic">database</span> USERID <span class="italic">user,</span> PASSWORD <span class="italic">password</span>, BLOWFISH ENCRYPTKEY <span class="italic">keyname</span>
</pre></td>
<td class="cellalignment139" headers="d4348e730 d4348e712">
<p>Specifies database connection information.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">SOURCEDB</code> specifies the data source name (DSN) of the target DB2 for i database.</p>
</li>
<li>
<p><code class="codeph">USERID</code> specifies the Replicat database user profile.</p>
</li>
<li>
<p><code class="codeph">PASSWORD</code> specifies the user's password that was encrypted with the <code class="codeph">ENCRYPT PASSWORD</code> command. Enter or paste the encrypted password after the <code class="codeph">PASSWORD</code> keyword.</p>
</li>
<li>
<p><code class="codeph">BLOWFISH ENCRYPTKEY</code> <span class="italic"><code class="codeph">keyname</code></span> specifies the name of the lookup key in the local <code class="codeph">ENCKEYS</code> file.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e786" headers="d4348e709">
<p><code class="codeph">DECRYPTTRAIL</code> <code class="codeph">BLOWFISH</code></p>
</td>
<td class="cellalignment139" headers="d4348e786 d4348e712">
<p>Decrypts the input trail.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e798" headers="d4348e709">
<pre dir="ltr">
SOURCEDEFS <span class="italic">pathname</span> |
ASSUMETARGETDEFS
</pre></td>
<td class="cellalignment139" headers="d4348e798 d4348e712">
<p>Specifies how to interpret data definitions. Use <code class="codeph">SOURCEDEFS</code> if the source and target tables have different definitions, such as when replicating data between dissimilar IBM for i databases or from an IBM for i database to an Oracle database. For <span class="italic"><code class="codeph">pathname</code></span>, specify the source data-definitions file that you created with the <code class="codeph">DEFGEN</code> utility in <span class="q">"<a href="configuring-oracle-goldengate-db2-i.htm#GUID-848BFA16-3737-4FE8-8972-0DE813065B27">Creating a Data Definitions File</a>"</span>. Use <code class="codeph">ASSUMETARGETDEFS</code> if the source and target tables are all DB2 for i and have the same definitions.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment138" id="d4348e826" headers="d4348e709">
<pre dir="ltr">
MAP <span class="italic">owner.table</span>, TARGET <span class="italic">owner.table</span>;
</pre></td>
<td class="cellalignment139" headers="d4348e826 d4348e712">
<p>Specifies a relationship between a source and target table or tables. The <code class="codeph">MAP</code> clause specifies the source objects, and the <code class="codeph">TARGET</code> clause specifies the target objects to which the source objects are mapped.</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="italic"><code class="codeph">owner</code></span> is the schema or library name.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">table</code></span> is the name of a table or a wildcard definition for multiple tables.</p>
</li>
</ul>
<p>For supported object names, see <a class="olink GWUAD192" target="_blank" href="../GWUAD/getting-started-oracle-goldengate-process-interfaces.htm#GWUAD192"><span><cite>Administering Oracle GoldenGate</cite></span></a>.</p>
<p>Terminate the <code class="codeph">MAP</code> statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code class="codeph">MAPEXCLUDE</code> parameter.</p>
<p>For more information and for additional options that control data filtering, mapping, and manipulation, see <code class="codeph">MAP</code> in <a class="olink GWURF546" target="_blank" href="../GWURF/table-map.htm#GWURF546"><span><cite>Reference for Oracle GoldenGate</cite></span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>Enter any optional Extract parameters that are recommended elsewhere in this manual and any others shown in <a class="olink GWURF-GUID-0E5E2C82-16A7-44F5-85E3-A8F8D369BA0D" target="_blank" href="../GWURF/summary-oracle-goldengate-parameters.htm#GWURF-GUID-0E5E2C82-16A7-44F5-85E3-A8F8D369BA0D">Summary of Extract Parameters</a>.</span></li>
<li class="stepexpand"><span>Save and close the file.</span></li>
</ol>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3">Creating a Temporal Table</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-AA31A0AC-46CE-46F1-9BFD-B683319C7A3C">Creating a Checkpoint Table</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-77C821E5-CFAE-4D56-BF69-4E4099FACA5B">Configuring the Replicat Parameter File</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3"></a>
<h3 id="GGHDB-GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3" class="sect3"><span class="enumeration_section">3.5.1</span> Creating a Temporal Table</h3>
<div>
<p>A temporal table is a table that maintains the history of its data and the time period when its data are valid. Temporal tables are used in Oracle GoldenGate to keep track of all the old rows that are deleted or updated in the table. Temporal tables are also used to maintain the business validity of its rows and data. For example, Oracle GoldenGate keeps track of the time period during which a row is valid. There are three types of temporal tables, system-period, application-period, and bitemporal table.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-D851FB10-5060-450F-A307-B58DB6BBD61E">Support for Temporal Tables</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-7F90EB75-6F93-45CF-B8BB-0C6371808A0B">Replicating with Temporal Tables</a><br /></li>
<li class="ulchildlink"><a href="configuring-oracle-goldengate-db2-luw.htm#GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14">Converting</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54">Configuring Replicat</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-D851FB10-5060-450F-A307-B58DB6BBD61E"></a>
<h4 id="GGHDB-GUID-D851FB10-5060-450F-A307-B58DB6BBD61E" class="sect4"><span class="enumeration_section">3.5.1.1</span> Support for Temporal Tables</h4>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Replication between system-period temporal tables and application-period temporal tables is not supported.</p>
</li>
<li>
<p>Replication from a non-temporal table to a temporal table is not supported.</p>
</li>
<li>
<p>Replication of temporal tables with the <code class="codeph">INSERTALLRECORDS</code> parameter is not supported.</p>
</li>
<li>
<p>Bidirectional replication is supported only with the default replication.</p>
</li>
<li>
<p>CDR in bidirectional replication is not supported.</p>
</li>
<li>
<p>CDR in application-period temporal tables is supported.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3">Creating a Temporal Table</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-7F90EB75-6F93-45CF-B8BB-0C6371808A0B"></a>
<h4 id="GGHDB-GUID-7F90EB75-6F93-45CF-B8BB-0C6371808A0B" class="sect4"><span class="enumeration_section">3.5.1.2</span> Replicating with Temporal Tables</h4>
<div>
<p>You can choose one of the following methods to replicate a system-period or a bitemporal temporal table as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>You can replicate a temporal table to another temporal table only; this is the default behavior. Oracle GoldenGate will not replicate the <code class="codeph">SYSTEM_TIME</code> period and transaction id columns because these are automatically generated columns at the apply side. The database manager populates the columns in the target temporal table using the system clock time and with the default values. You can preserve the original values these columns then use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Add extra timestamp columns in the target temporal table and map the columns accordingly. The extra columns are automatically added to the associated history table.</p>
</li>
<li>
<p>Use a non-temporal table at the apply side and map the columns appropriately. In this scenario, you will not be able to maintain the history table.</p>
</li>
<li>
<p>In a heterogeneous configuration where the source is DB2 LUW and the target is a different database, you can either ignore the automatically generated columns or use an appropriate column conversion function to convert the columns value in the format that target database supports and map them to target columns accordingly.</p>
</li>
</ul>
<p>Or</p>
</li>
<li>
<p>You can replicate a temporal table, with the associated history table, to a temporal and history table respectively then you must specify the replicate parameter, <code class="codeph">DBOPTIONS SUPPRESSTEMPORALUPDATES</code>. You must specify both the temporal table and history table to be captured in the Extract parameter file. Oracle GoldenGate replicates the <code class="codeph">SYSTEM_TIME</code> period and transactions id columns value. You must ensure that the database instance has the execute permission to run the stored procedure at the apply side.</p>
</li>
</ul>
<p>Oracle GoldenGate cannot detect and resolve conflicts while using default replication as <code class="codeph">SYSTEM_TIME</code> period and <code class="codeph">transactionstart id</code> columns remains auto generated. These columns cannot be specified in <code class="codeph">set</code> and <code class="codeph">where</code> clause. If you use the <code class="codeph">SUPPRESSTEMPORALUPDATES</code> parameter, then Oracle GoldenGate supports CDR.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3">Creating a Temporal Table</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14"></a>
<h4 id="GGHDB-GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14" class="sect4"><span class="enumeration_section">3.5.1.3</span> Converting</h4>
<div>
<p>You can convert an already existing table into a temporal table, which changes the structure of the table. This section describes how the structure of the tables changes. The following sample existing table is converted into all three temporal tables types in the examples in this section:.</p>
<pre dir="ltr">
Table policy_info
(
Policy_id char[4] not null primary key,
Coverage int not null
              )
And the tables contains the following initial rows
                   POLICY_ID       COVERAGE
                   -------------        -----------
                     ABC                12000
                     DEF                 13000
                     ERT                 14000
</pre>
<dl>
<dt class="dlterm"><a id="GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14__GUID-9AC659AD-44BF-4B9E-B08E-EFA51E9A0987"><!-- --></a>Example 1&nbsp;&nbsp;&nbsp;Converting an existing table into System-period temporal table.</dt>
<dd>
<p>You convert the sample existing table into a system-period temporal table by adding <code class="codeph">SYSTEM_PERIOD</code>, <code class="codeph">transaction id</code> columns, and <code class="codeph">SYSTEM_TIME</code> period as in the following:</p>
<pre dir="ltr">
ALTER TABLE policy_info
   ADD COLUMN sys_start TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS ROW BEGIN;
ALTER TABLE policy_info 
   ADD COLUMN sys_end TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS ROW END;
ALTER TABLE policy_info
   ADD COLUMN ts_id TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS TRANSACTION START ID;
ALTER TABLE policy_info ADD PERIOD SYSTEM_TIME(sys_start, sys_end);
</pre>
<p>Then you create a history table for the new temporal table using one of the following two methods:</p>
<ul style="list-style-type: disc;">
<li>
<pre dir="ltr">
      CREATE TABLE hist_policy_info
(
 policy_id     CHAR(4) NOT NULL,
coverage     INT NOT NULL,
sys_start    TIMESTAMP(12) NOT NULL ,
sys_end      TIMESTAMP(12) NOT NULL,
ts_id            TIMESTAMP(12) NOT NULL
               );
 ALTER TABLE hist_policy_info ADD RESTRICT ON DROP;
</pre></li>
<li>
<pre dir="ltr">
CREATE TABLE hist_policy_info LIKE policy_info with RESTRICT ON DROP;
</pre>
<p>The <code class="codeph">RESTRICT ON DROP</code> clause will not allow the history table to get dropped while dropping system-period temporal table. Otherwise the history table gets implicitly dropped while dropping its associated temporal table. You can create a history table without <code class="codeph">RESTRICT ON DROP.</code> A history table cannot be explicitly dropped.</p>
<p>You should not use the <code class="codeph">GENERATED ALWAYS</code> clause while creating a history table. The primary key of the system-period temporal table also does not apply here as there could be many updates for a particular row in the base table, which triggers many inserts into the history table for the same set of primary keys. Apart from these, the structure of a history table should be exactly same as its associated system-period temporal table. The history table must have the same number and order of columns as system-period temporal table. History table columns cannot explicitly be added, dropped, or changed. You must associate a system-period temporal table with its history table with the following statement:</p>
<pre dir="ltr">
 ALTER TABLE policy_info ADD VERSIONING USE HISTORY TABLE hist_policy_info.
</pre>
<p>The <code class="codeph">GENERATED ALWAYS</code> columns of the table are the ones that are always populated by the database manager so you do not have any control over these columns. The database manager populates these columns based on the system time.</p>
<p>The extra added <code class="codeph">SYSTEM_PERIOD</code> and <code class="codeph">transaction id</code> columns will have default values for already existing rows as in the following:</p>
<pre dir="ltr">
POLICY_ID                                   COVERAGE    SYS_START                                         SYS_END                                                TS_ID
--------- ----------- -------------------------------- -------------------------------- -------------------------------------------------------------------------------
ABC             12000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
DEF             13000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
ERT             14000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
</pre>
<p>The associated history table is populated with the before images once you start updating the temporal table.</p>
</li>
</ul>
</dd>
<dt class="dlterm"><a id="GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14__GUID-11800DA2-0758-4E8D-8EC2-27F2163D4D84"><!-- --></a>Example 2&nbsp;&nbsp;&nbsp;Converting an existing table into application-period temporal table.</dt>
<dd>
<p>You can convert the sample existing table into application-period temporal table by adding time columns and a <code class="codeph">BUSINESS_TIME</code> period as in the following:</p>
<pre dir="ltr">
ALTER TABLE policy_info ADD COLUMN bus_start DATE NOT NULL DEFAULT '10/10/2001'"
ALTER TABLE policy_info ADD COLUMN bus_end DATE NOT NULL DEFAULT '10/10/2002'
ALTER TABLE policy_info ADD PERIOD BUSINESS_TIME(bus_start, bus_end)
</pre>
<p>While adding time columns, you need to make sure that while entering business validity time values of the existing time columns, the <code class="codeph">bus_start</code> column always has value lesser than <code class="codeph">bus_end</code> because these columns specify the business validity of the rows.</p>
<p>The new application-period temporal table will look similar to:</p>
<pre dir="ltr">
POLICY_ID   COVERAGE    BUS_START  BUS_END
--------- ----------- ---------- -------------------------------
ERT             14000              10/10/2001  10/10/2002
DEF             13000             10/10/2001   10/10/2002
ABC             12000             10/10/2001   10/10/2002
</pre></dd>
<dt class="dlterm"><a id="GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14__GUID-BAA2B442-48E0-4524-8F16-704CD27B0D03"><!-- --></a>Example 3&nbsp;&nbsp;&nbsp;Converting an existing table into bitemporal table.</dt>
<dd>
<p>You can convert the sample existing table into bitemporal table by adding S<code class="codeph">YSTEM_PERIOD</code>, time columns along with the <code class="codeph">SYSTEM_TIME</code> and <code class="codeph">BUSINESS_TIME</code> period as in the following:</p>
<pre dir="ltr">
ALTER TABLE policy_info
   ADD COLUMN sys_start TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS ROW BEGIN;
ALTER TABLE policy_info 
   ADD COLUMN sys_end TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS ROW END;
ALTER TABLE policy_info
   ADD COLUMN ts_id TIMESTAMP(12) NOT NULL GENERATED ALWAYS AS TRANSACTION START ID;
ALTER TABLE policy_info ADD PERIOD SYSTEM_TIME(sys_start, sys_end);
 
ALTER TABLE policy_info ADD COLUMN bus_start DATE NOT NULL DEFAULT '10/10/2001'"
ALTER TABLE policy_info ADD COLUMN bus_end DATE NOT NULL DEFAULT '10/10/2002'
ALTER TABLE policy_info ADD PERIOD BUSINESS_TIME(bus_start, bus_end)
</pre>
<p>While adding the time columns, you must make sure that while entering business validity time values of already existing time columns, the <code class="codeph">bus_start</code> column always has value lesser than <code class="codeph">bus_end</code> because these columns specify the business validity of the rows.</p>
<p>Then you create a history table for the new temporal table using one of the following two methods:</p>
<ul style="list-style-type: disc;">
<li>
<pre dir="ltr">
      CREATE TABLE hist_policy_info
(
 policy_id     CHAR(4) NOT NULL,
coverage     INT NOT NULL,
sys_start    TIMESTAMP(12) NOT NULL ,
sys_end      TIMESTAMP(12) NOT NULL,
ts_id            TIMESTAMP(12) NOT NULL
               );
 ALTER TABLE hist_policy_info ADD RESTRICT ON DROP;
CREATE TABLE hist_policy_info LIKE policy_info with RESTRICT ON DROP;
</pre></li>
<li>
<p>The <code class="codeph">RESTRICT ON DROP</code> clause will not allow the history table to get dropped while dropping system-period temporal table. Otherwise the history table gets implicitly dropped while dropping its associated temporal table. You can create a history table without <code class="codeph">RESTRICT ON DROP.</code> A history table cannot be explicitly dropped.</p>
<p>You should not use the <code class="codeph">GENERATED ALWAYS</code> clause while creating a history table. The primary key of the system-period temporal table also does not apply here as there could be many updates for a particular row in the base table, which triggers many inserts into the history table for the same set of primary keys. Apart from these, the structure of a history table should be exactly same as its associated system-period temporal table. The history table must have the same number and order of columns as system-period temporal table. History table columns cannot explicitly be added, dropped, or changed. You must associate a system-period temporal table with its history table with the following statement:</p>
<pre dir="ltr">
 ALTER TABLE policy_info ADD VERSIONING USE HISTORY TABLE hist_policy_info.
</pre>
<p>The <code class="codeph">GENERATED ALWAYS</code> columns of the table are the ones that are always populated by the database manager so you do not have any control over these columns. The database manager populates these columns based on the system time.</p>
<p>The extra added <code class="codeph">SYSTEM_PERIOD</code> and <code class="codeph">transaction id</code> columns will have default values for already existing rows as in the following:</p>
<pre dir="ltr">
POLICY_ID                                   COVERAGE    SYS_START                                         SYS_END                                                TS_ID
--------- ----------- -------------------------------- -------------------------------- -------------------------------------------------------------------------------
ABC             12000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
DEF             13000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
ERT             14000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
</pre>
<p>The associated history table is populated with the before images once you start updating the temporal table.</p>
</li>
</ul>
<p>The extra added <code class="codeph">SYSTEM_TIME</code> period, transaction id and time columns will have default values for already existing rows as in the following:</p>
<pre dir="ltr">
POLICY_ID COVERAGE    SYS_START                        SYS_END                          TS_ID                            BUS_START         BUS_END
--------- ----------- -------------------------------- -------------------------------- -------------------------------- ---------- -------------------------------------
ABC   12000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000 10/10/2001 10/10/2002
DEF             13000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000 10/10/2001 10/10/2002
ERT             14000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000 10/10/2001 10/10/2002
</pre>
<p>The history table is populated with the before images once user starts updating the temporal table.</p>
</dd>
<dt class="dlterm"><a id="GUID-88CAF8DD-9AB2-41A3-B6CD-E395F1210A14__GUID-CAF6627A-DBB3-46FB-B4A4-89DD2E8532FD"><!-- --></a>Example 4&nbsp;&nbsp;&nbsp;Replication in Heterogeneous Environment.</dt>
<dd>
<p>In heterogeneous configuration in which you do not have temporal tables at the apply side, you can only replicate the system-period and bitemporal tables though <span class="italic">not</span> the associated history tables. While performing replication in this situation, you must take care of the <code class="codeph">SYSTEM_PERIOD</code> and transaction id columns value. These columns will have some values that the target database might not support. You should first use the map conversion functions to convert these values into the format that the target database supports, and then map the columns accordingly.</p>
<p>For example, MySQL has a <code class="codeph">DATETIME</code> range from <code class="codeph">1000-01-01 00:00:00.000000</code> to <code class="codeph">9999-12-31 23:59:59.999999</code>. You cannot replicate a timestamp value of <code class="codeph">0001-01-01-00.00.00.000000000000</code> to MySQL. To replicate such values, you must convert this value into the MySQL <code class="codeph">DATETIME</code> value <code class="codeph">1000-01-01 00:00:00.000000</code>, and then map the columns. If you have the following row in the <code class="codeph">policy_info</code> system-period table:</p>
<pre dir="ltr">
POLICY_ID                                   COVERAGE    SYS_START                                         SYS_END                                                TS_ID
--------- ----------- -------------------------------- -------------------------------- -------------------------------------------------------------------------------
ABC             12000 0001-01-01-00.00.00.000000000000 9999-12-30-00.00.00.000000000000 0001-01-01-00.00.00.000000000000
</pre>
<p>To replicate the row into MySQL, you would use the <code class="codeph">colmap()</code> function:</p>
<pre dir="ltr">
map <span class="italic">source_schema</span>.policy_info, target <span class="italic">target_schema</span>.policy_info colmap
(policy_id=policy_id, coverage=coverage, sys_start= @IF( ( @NUMSTR( @STREXT(sys_
start,1,4))) &gt; 1000, sys_start, '1000-01-01 00.00.00.000000'), sys_end=sys_end,
 ts_id= @IF( ( @NUMSTR( @STREXT(ts_id,1,4))) &gt; 1000, ts_id, '1000-01-01
 00.00.00.000000'));
</pre></dd>
</dl>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-8A4F9024-7C11-4DBC-BF32-C1A22C308BF3">Creating a Temporal Table</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-AA31A0AC-46CE-46F1-9BFD-B683319C7A3C"></a>
<h3 id="GGHDB-GUID-AA31A0AC-46CE-46F1-9BFD-B683319C7A3C" class="sect3"><span class="enumeration_section">3.5.2</span> Creating a Checkpoint Table</h3>
<div>
<p>The checkpoint table is a required component of Replicat.</p>
<p>Replicat maintains its recovery checkpoints in the checkpoint table, which is stored in the target database. Checkpoints are written to the checkpoint table within the Replicat transaction. Because a checkpoint either succeeds or fails with the transaction, Replicat ensures that a transaction is only applied once, even if there is a failure of the process or the database.</p>
<p>To configure a checkpoint table, see <a class="olink GWUAD521" target="_blank" href="../GWUAD/configuring-online-change-synchronization.htm#GWUAD521">Creating a Checkpoint Table</a> in <cite><span><cite>Administering Oracle GoldenGate</cite></span></cite>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54">Configuring Replicat</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-77C821E5-CFAE-4D56-BF69-4E4099FACA5B"></a>
<h3 id="GGHDB-GUID-77C821E5-CFAE-4D56-BF69-4E4099FACA5B" class="sect3"><span class="enumeration_section">3.5.3</span> Configuring the Replicat Parameter File</h3>
<div>
<div class="section">
<p>These steps configure the Replicat process. This process applies replicated data to a DB2 LUW target database.</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>In GGSCI on the target system, create the Replicat parameter file.</span>
<div>
<pre dir="ltr">
EDIT PARAMS <span class="italic">name</span>
</pre>
<p>Where: <span class="italic"><code class="codeph">name</code></span> is the name of the Replicat group.</p>
</div>
</li>
<li class="stepexpand"><span>Enter the Replicat parameters in the order shown, starting a new line for each parameter statement. See <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-77C821E5-CFAE-4D56-BF69-4E4099FACA5B__CEGJCBCE" title="This table describes the basic parameters for Replicat.">Table 3-4</a> for descriptions.</span>
<div>
<p><span class="bold">Basic parameters for the Replicat group:</span></p>
<pre dir="ltr">
REPLICAT financer
TARGETDB mytarget, USERIDALIAS myalias
ASSUMETARGETDEFS
MAP hr.*, TARGET hr2.*;
</pre>
<div class="tblformal" id="GUID-77C821E5-CFAE-4D56-BF69-4E4099FACA5B__CEGJCBCE">
<p class="titleintable">Table 3-4 Basic Parameters for Replicat</p>
<table class="cellalignment140" title="Basic Parameters for Replicat" summary="This table describes the basic parameters for Replicat.">
<thead>
<tr class="cellalignment115">
<th class="cellalignment141" id="d4348e1442">Parameter</th>
<th class="cellalignment142" id="d4348e1445">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment115">
<td class="cellalignment143" id="d4348e1450" headers="d4348e1442">
<pre dir="ltr">
REPLICAT <span class="italic">group</span>
</pre></td>
<td class="cellalignment144" headers="d4348e1450 d4348e1445">
<p><span class="italic"><code class="codeph">group</code></span> is the name of the Replicat group.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment143" id="d4348e1463" headers="d4348e1442">
<pre dir="ltr">
TARGETDB <span class="italic">database</span>, USERIDALIAS <span class="italic">alias</span>
</pre></td>
<td class="cellalignment144" headers="d4348e1463 d4348e1445">
<p>Specifies the real name of the target DB2 LUW database (not an alias), plus the alias of the database login credential of the user that is assigned to Replicat. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a class="olink OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479" target="_blank" href="../OGGIN/installing-db2-luw.htm#OGGIN-GUID-01C35F80-E4CA-4039-9288-B2497A89D479">Database User for Oracle GoldenGate Processes</a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment143" id="d4348e1481" headers="d4348e1442">
<pre dir="ltr">
ASSUMETARGETDEFS
</pre></td>
<td class="cellalignment144" headers="d4348e1481 d4348e1445">
<p>Specifies how to interpret data definitions. <code class="codeph">ASSUMETARGETDEFS</code> assumes the source and target tables have identical definitions. (This procedure assume identical definitions.)</p>
<p>Use the alternative <code class="codeph">SOURCEDEFS</code> if the source and target tables have different definitions, and create a source data-definitions file with the <code class="codeph">DEFGEN</code> utility. For more information about data definitions, see <a class="olink GWUAD473" target="_blank" href="../GWUAD/associating-replicated-data-metadata.htm#GWUAD473"><span class="italic">Oracle Golden Gate Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment115">
<td class="cellalignment143" id="d4348e1504" headers="d4348e1442">
<pre dir="ltr">
MAP <span class="italic">schema.object</span>, TARGET <span class="italic">schema.object</span>;
</pre></td>
<td class="cellalignment144" headers="d4348e1504 d4348e1445">
<p>Specifies the relationship between a source table or multiple objects, and the corresponding target object or objects.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">MAP</code> specifies the source portion of the <code class="codeph">MAP</code> statement and is a required keyword. Specify the source objects in this clause.</p>
</li>
<li>
<p><code class="codeph">TARGET</code> specifies the target portion of the <code class="codeph">MAP</code> statement and is a required keyword. Specify the target objects to which you are mapping the source objects.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">schema</code></span> is the schema name or a wildcarded set of schemas.</p>
</li>
<li>
<p><span class="italic"><code class="codeph">object</code></span> is the name of a table or a wildcarded set of objects.</p>
</li>
</ul>
<p>Terminate this parameter statement with a semi-colon.</p>
<p>Note that only the asterisk (*) wildcard is supported for DB2 LUW. The question mark (?) wildcard is not supported for this database.To exclude objects from a wildcard specification, use the <code class="codeph">MAPEXCLUDE</code> parameter.</p>
<p>For more information and for additional options that control data filtering, mapping, and manipulation, see <code class="codeph">MAP</code> in <a class="olink GWURF546" target="_blank" href="../GWURF/table-map.htm#GWURF546"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</li>
<li class="stepexpand"><span>Enter any optional Replicat parameters that are recommended for your configuration. You can edit this file at any point before starting processing by using the <code class="codeph">EDIT PARAMS</code> command in GGSCI. For a list of parameters and links to their detailed reference, see <a class="olink GWURF978" target="_blank" href="../GWURF/summary-oracle-goldengate-parameters.htm#GWURF978"><span class="italic">Oracle Fusion Middleware Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</span></li>
<li class="stepexpand"><span>Save and close the file.</span></li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-E5BC8204-79DD-4C0C-8FA0-5DF632846C54">Configuring Replicat</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-472B9595-1772-4EFA-A90A-1377E5CE7B43"></a>
<h2 id="GGHDB-GUID-472B9595-1772-4EFA-A90A-1377E5CE7B43" class="sect2"><span class="enumeration_section">3.6</span> Next Steps in the Deployment</h2>
<div>
<p>Because of its flexibility, Oracle GoldenGate offers numerous features and options that must be considered before you start any processes. To further configure Oracle GoldenGate to suit your business needs, see the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>For additional configuration guidelines to achieve specific replication topologies, see <a class="olink GWUAD-GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26" target="_blank" href="../GWUAD/configuring-manager-and-network-communications.htm#GWUAD-GUID-5005AF6D-76D2-4C72-80E2-AD33C24F0C26">Administering Oracle GoldenGate for Windows and UNIX</a>. This guide also contains information about:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle GoldenGate architecture</p>
</li>
<li>
<p>Oracle GoldenGate commands</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods</p>
</li>
<li>
<p>Configuring security</p>
</li>
<li>
<p>Using customization features</p>
</li>
<li>
<p>Mapping columns that contain dissimilar data</p>
</li>
<li>
<p>Data filtering and manipulation</p>
</li>
</ul>
</li>
<li>
<p>For syntax options and descriptions of Oracle GoldenGate GGSCI commands and Oracle GoldenGate parameters shown in this guide, see <a class="olink GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385" target="_blank" href="../GWURF/oracle-goldengate-ggsci-commands.htm#GWURF-GUID-C76063D3-CC0B-4BF3-88B3-EA5B93BDB385">Reference for Oracle GoldenGate for Windows and UNIX</a>.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-23BD873A-7D17-4408-9377-70003AFF20A1"></a>
<h2 id="GGHDB-GUID-23BD873A-7D17-4408-9377-70003AFF20A1" class="sect2"><span class="enumeration_section">3.7</span> When to Start Replicating Transactional Changes</h2>
<div>
<p>You must start replication when the source and target data is in a synchronized state, where the corresponding rows in the source and target tables contain identical data values. Unless you are starting with brand new source and target databases with no current user activity, you will need to activate change capture and apply processes to handle ongoing transactional changes while an initial load is being applied to the target. This process is known as <span class="italic">initial synchronization</span>, or also as <span class="italic">instantiation</span>. The initial load captures a point-in-time snapshot of the source data and applies it to the target, while Oracle GoldenGate maintains any changes that are made after that point.</p>
<p>See <a class="olink GWUAD546" target="_blank" href="../GWUAD/instantiating-oracle-goldengate-initial-load.htm#GWUAD546">Instantiating Oracle GoldenGate with an Initial Load</a> in <cite><span><cite>Administering Oracle GoldenGate</cite></span></cite> for instantiation options.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-37C66303-A23C-4367-B13F-6314B44A6656"></a>
<h2 id="GGHDB-GUID-37C66303-A23C-4367-B13F-6314B44A6656" class="sect2"><span class="enumeration_section">3.8</span> Testing Your Configuration</h2>
<div>
<div class="section">
<p>It is important to test your configuration in a test environment before deploying it live on your production machines. This is especially important in an active-active or high availability configuration, where trusted source data may be touched by the replication processes. Testing enables you to find and resolve any configuration mistakes or data issues without the need to interrupt user activity for re-loads on the target or other troubleshooting activities.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="configuring-oracle-goldengate-db2-luw.htm#GUID-24032AE4-6B48-427A-86F4-0B0AF315E008" title="This chapter provides an overview of the basic steps required to configure Oracle GoldenGate for a DB2 LUW source and target database.">Configuring Oracle GoldenGate for DB2 LUW</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment114">
<tr>
<td class="cellalignment121">
<table class="cellalignment119">
<tr>
<td class="cellalignment118"><a href="preparing-system-oracle-goldengate.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment118"><a href="using-oracle-goldengate-db2-i.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment123">
<table class="cellalignment117">
<tr>
<td class="cellalignment118"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment118"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment118"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
