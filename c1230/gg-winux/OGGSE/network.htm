<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Network</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn how to secure your network for Oracle GoldenGate." />
<meta name="dcterms.created" content="2018-05-10T07:33:56Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Securing the Oracle GoldenGate Environment" />
<meta name="dcterms.identifier" content="E91326-01" />
<meta name="dcterms.isVersionOf" content="OGGSE" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="ma-security-features.htm" title="Previous" type="text/html" />
<link rel="Next" href="authentication-and-authorization.htm" title="Next" type="text/html" />
<link rel="alternate" href="OGGSE.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24"></a> <span id="PAGE" style="display:none;">10/24</span> <!-- End Header -->
<h1 id="OGGSE-GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24" class="sect1"><span class="enumeration_chapter">2</span> Network</h1>
<div>
<p>Learn how to secure your network for <span>Oracle GoldenGate</span>.</p>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="network.htm#GUID-2FF53EED-C521-42CA-936E-5AB098BDC1EF">Network Access Control</a><br />
The <span>MA</span> configuration of the network connection takes the form of an array or network access control list (ACL).</li>
<li class="ulchildlink"><a href="network.htm#GUID-9503814F-C932-4E80-AB45-910595E7155B">Network Connection Adapter</a><br />
Learn about how to specify your network connection configuration.</li>
<li class="ulchildlink"><a href="network.htm#GUID-DAFE72DD-5035-448F-A86D-F93EC83EE9A1">Proxy Support</a><br />
Learn how to configure your proxy servers.</li>
<li class="ulchildlink"><a href="network.htm#GUID-A709DA55-111D-455E-8942-C9BDD1E38CAA">Reverse Proxy Support</a><br />
Learn how to configure your reverse proxy servers.</li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="securing-microservices-architecture.htm" title="Use this part to secure your Microservices Architecture (MA) environment.">Securing the Microservices Architecture</a></p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-2FF53EED-C521-42CA-936E-5AB098BDC1EF"></a>
<h2 id="OGGSE-GUID-2FF53EED-C521-42CA-936E-5AB098BDC1EF" class="sect2"><span class="enumeration_section">2.1</span> Network Access Control</h2>
<div>
<p>The <span>MA</span> configuration of the network connection takes the form of an array or network access control list (ACL).</p>
<p>Each ACL specification minimally consists of a permission statement indicating whether the APC specification allows or denies client connections from the specified address. ACL specifications are processed in order and terminate when the specified address is qualified. If the specified address does not qualify, processes continue with the next ACL specification. Once the address of the client requesting connection is qualified, the ACLs permissions dictate whether the connection is 'allowed' or 'denied'. If the no ACL specifications qualify address of the client requesting connection, a default resolution of 'allow is assumed and the client is allowed to connect. The ACL in the configuration take the following syntactic form:</p>
<pre dir="ltr">
ipACL := '[' <span class="italic">aclSpec</span> [, <span class="italic">aclSpec</span>] ']'
aclSpec := "permission" : [ "deny" | "allow" ] [, "address": [ <span class="italic">ipv4Address</span> | <span class="italic">ipv4MappedAddress</span> | <span class="italic">ipv6Address</span> ] ]
ipv4Address := '"' decimal '.' decimal '.' decimal '.' decimal '"'
ipv4MappedAddress := '"' 'ff::' decimal '.' decimal '.' decimal '.' decimal '"'
ipv6Address := '"' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal '"'
 
</pre>
<p>Inbound connection request are processed uniformly after they are received over a network interface. The network interface configuration dictates the form of addressing. For example, addresses appearing on an IPv6 interface appears as IPv6 addresses. If the IPv6 configuration specifies IPv4 mapping, then the IPv4 client's address is mapped into the IPv6 addressing space. An address appearing on an IPv4 interface appears as an unmapped IPv4 address. Since the ACL qualification focuses on qualifying addresses and all adapters within the host environment have unique addresses, no additional interface information is required.</p>
<p>For hosts that support hot-fail over network interfaces, the fail-over and reassignment of network IP address to adapter MAC addresses is transparent to the application.</p>
<div class="example" id="GUID-2FF53EED-C521-42CA-936E-5AB098BDC1EF__GUID-9450AD9D-873D-407A-8330-8EE162727E64">
<p class="titleinexample">Example 2-1 Examples</p>
<p>Deny client connections originating from 192.0.2.254.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "deny",  "address" : "192.0.2.254" } ]
</pre>
<p>Explicitly allow all client connections. The first ACP by default qualifies all addresses. The second ACL is never processed.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow" },
             { "permission" : "deny",  "address" : "192.0.2.254" } ]
</pre>
<p>Allow client connections originating from 127.0.0.1, but deny connection originating from 192.0.2.254 appearing on an interface configured for IPv6 addressing.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow", "address" : "127.0.0.1" },
             { "permission" : "deny",  "address" : "ff::192.0.2.254" } ]
</pre>
<p>Allow client connections originating from and IPv6 loopback address (127.0.0.1 represented as ::1 in IPV6 addressing), allow client connections originating from the unmapped IPv4 address 192.0.2.253, allow client connections originating from IPv6 address 2001:db8:85a3:0:0:8a2e:370:7334 and deny client connections originating from mapped IPv4 address ff::192.0.2.254.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow", "address" : "::1" },
             { "permission" : "allow", "address" : "192.0.2.254" },
             { "permission" : "allow", "address" : "2001:db8:85a3:0:0:8a2e:370:7334" },
             { "permission" : "deny",  "address" : "ff::192.0.2.254" } ]
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="network.htm#GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24" title="Learn how to secure your network for Oracle GoldenGate.">Network</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B"></a>
<h2 id="OGGSE-GUID-9503814F-C932-4E80-AB45-910595E7155B" class="sect2"><span class="enumeration_section">2.2</span> Network Connection Adapter</h2>
<div>
<p>Learn about how to specify your network connection configuration.</p>
<p>An adapter class is used to encapsulate the logic and implementation of acquiring network listening address configuration and establishing listening port based on the network configuration. The actual network connection information is captured in Network Connection Specification of the Software Communications Architecture (SCA). In the description of the <code class="codeph">ScaNetworkSpec</code> class, instances of the <code class="codeph">ScsNetworkSpec</code> represent the network configuration information acquired from the <code class="codeph">ScaSharedContext</code>. The <code class="codeph">ScaNetworkSpec</code> handles the discrete network specification. However, a complete SCA network specification takes any of three forms and can define more than one network configuration. Multiple networks is when more than one network interface is configured in an environment where the host be multi-homed, For example, handling connections requests on different addresses through different network interface adapters.</p>
<p>The <code class="codeph">NetworkConnectionSpecs</code> themselves are members of an array associated with the <code class="codeph">serviceListeningPort</code> configuration element. For example, using the <code class="codeph">serviceListeningPort</code> configuration entry, an SCA network specification may take any of the following syntactic forms:</p>
<pre dir="ltr">
1. <span class="italic">portValue</span> |  <span class="italic">portValueString</span>
2. <span class="italic">networkSpec</span>
3. '[' <span class="italic">networkSpec</span> [, <span class="italic">networkSpec</span> ...] ']'
</pre>
<p>You can use the following syntax in your network specification:</p>
<pre dir="ltr">
  <span class="italic">portValue</span>         := [1234567890]+
  <span class="italic">portValueString</span>   := '"' <span class="italic">portValue</span> '"'
  <span class="italic">networkSpec</span>       := '{' <span class="italic">portSpec</span> [, <span class="italic">ipaddressSpec</span> | <span class="italic">nameSpec</span>] [, <span class="italic">interfaceSpec</span>] [, <span class="italic">networkOptionSpec</span>] '}'
  <span class="italic">portSpec</span>          := "port" : <span class="italic">portValue</span> |  <span class="italic">portValueString</span>
  <span class="italic">ipaddressSpec</span>     := "address" : <span class="italic">ipv4Address</span> | <span class="italic">ipv6Address</span> | "ANY"
  <span class="italic">nameSpec</span>          := '"' :alphanum: '"'
  <span class="italic">interfaceSpec</span>     := "interface" : '"' :alphanum: '"'
  <span class="italic">networkOptionSpec</span> := "options" : IPV4_ONLY | IPV6_ONLY
</pre>
<p>Regardless of the form your specification takes, the internal representation is normalize into the 3rd form:</p>
<pre dir="ltr">
1. <span class="italic">portValue</span> | <span class="italic">portValueString</span> == <span class="italic">networkSpec</span> 
2. <span class="italic">portValue</span>                    == '{' "port" : <span class="italic">portValue</span> '}'
3. <span class="italic">portValueString</span>              == '[' '{' "port" : <span class="italic">portValueString</span> '}' ']'
</pre>
<p>The first form retains compatibility with existing network port specifications where only the <code class="codeph"><span class="codeinlineitalic">portValue</span></code> or <code class="codeph"><span class="codeinlineitalic">portValueString</span></code> is provided.</p>
<p>The second form assigns the <code class="codeph"><span class="codeinlineitalic">networkSpec</span></code> as a single value. This form still only defines a single network specification and allows greater control and flexibility in identifying network values and options.</p>
<p>The third form defines an array of <code class="codeph"><span class="codeinlineitalic">networkSpec</span></code> instances. It allows you to specify different network configurations based upon either address or network interface.</p>
<div class="example" id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-B888A414-D7DF-46A9-9A33-A6A8853C0E4A">
<p class="titleinexample">Example 2-2 Example</p>
<p>With the following simplified host network interface configuration:</p>
<pre dir="ltr">
$/sbin/ip addr show
lo: <span class="italic">LOOPBACK</span>,<span class="italic">UP</span>,<span class="italic">LOWER_UP</span> mtu 16436 qdisc noqueue state UNKNOWN
      link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
      inet 127.0.0.1/8 scope host lo
eth0: <span class="italic">BROADCAST</span>,<span class="italic">MULTICAST</span>,<span class="italic">UP</span>,<span class="italic">LOWER_UP</span> mtu 1500 qdisc pfifo_fast state UP qlen 1000
      link/ether 00:16:3e:52:6e:27 brd ff:ff:ff:ff:ff:ff
      inet 192.0.2.39/21 brd 10.240.111.255 scope global eth0
      inet6 2001:db8:85a3:0:0:8a2e:370:6666 brd ff02::1 scope link eth0
eth1: <span class="italic">BROADCAST</span>,<span class="italic">MULTICAST</span> mtu 1500 qdisc pfifo_fast state UP qlen 1000
      link/ether 00:16:3e:1f:99:bc brd ff:ff:ff:ff:ff:ff
      inet 192.0.2.98/21 brd 10.100.99.98 scope link eth1
      inet6 2001:db8:85a3:0:0:8a2e:370:7334 brd ff02::1 scope link eth1
</pre>
<p>The following specification is derived:</p>
<pre dir="ltr">
1. "serviceListeningPort: "9000"
2. "serviceListeningPort:  9000
3. "serviceListeningPort: { "port" :  9000  }
4. "serviceListeningPort: { "port" : "9000" }
5. "serviceListeningPort: { "port" : "9000",   "address" : "192.0.2.254" }
6. "serviceListeningPort: { "port" : "9000",      "name" : "server1"      }
7. "serviceListeningPort: { "port" : "9000", "interface" : "eth1"          }
8. "serviceListeningPort: [
      { "port" : "9000", "interface" : "lo"                                    }
      { "port" : "9000",   "address" : "192.0.2.39", "option" : "IPV4_ONLY" }
      { "port" : "9000", "interface" : "eth1",          "option" : "IPV6_ONLY" }
</pre>
<p>These forms are describes as:</p>
<dl>
<dt class="dlterm"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-919DA101-AA47-4CA0-B32A-BDD29C4574E4"><!-- --></a>Form 1 - 4</dt>
<dd>
<p>Listens on port 9000 on all <code class="codeph">ANY</code> address over <code class="codeph">ALL</code> interfaces.</p>
</dd>
<dt class="dlterm"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-A1109216-E283-4195-8143-A70D6BABC515"><!-- --></a>Form 5</dt>
<dd>
<p>Listens on port 9000 on address 192.0.2.254 only.</p>
</dd>
<dt class="dlterm"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-D361880B-6206-4644-8BEC-A82EBB1CB2C6"><!-- --></a>Form 6</dt>
<dd>
<p>Listens on port 9000 on the address associates with <code class="codeph">server1</code>.</p>
</dd>
<dt class="dlterm"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-D7837D32-1C6E-430A-913D-0A15288ABBA3"><!-- --></a>Form 7</dt>
<dd>
<p>Listens on port 9000 on the address associates with interface <code class="codeph">eth1</code> and accepts IPV4 address connections using the mapped IPV4.</p>
</dd>
<dt class="dlterm"><a id="GUID-9503814F-C932-4E80-AB45-910595E7155B__GUID-7201FB92-4E8D-4275-8830-EF552EDB8604"><!-- --></a>Form 8</dt>
<dd>
<p>Listens on port 9000 on the address associates with interface <code class="codeph">lo</code>, on port 9000 address 192.0.2.39 accepting only IPV4 addresses, and on port 9000 with addresses associated with interface <code class="codeph">eth1</code> accepting onlyIPV6 addresses.</p>
</dd>
</dl>
<p>Most of the logic encapsulated within this class handles selecting network interface adapter based on the network interface adapter&rsquo;s identifying name or the address. The interface can be searched for based on the requested address.</p>
<p>Specifying multiple adapters means that each <code class="codeph">ScaNetworkSpec</code> resolves to only a subset of adapters. Precedence processing allows the specification of <code class="codeph">ANY</code> address and <code class="codeph">ALL</code> interfaces for the last <code class="codeph">ScaNetworkSpec</code> as a pool specification when the platform networking interfaces support mapping sub-set interface matches</p>
</div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="network.htm#GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24" title="Learn how to secure your network for Oracle GoldenGate.">Network</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-DAFE72DD-5035-448F-A86D-F93EC83EE9A1"></a>
<h2 id="OGGSE-GUID-DAFE72DD-5035-448F-A86D-F93EC83EE9A1" class="sect2"><span class="enumeration_section">2.3</span> Proxy Support</h2>
<div>
<p>Learn how to configure your proxy servers.</p>
<p>Proxy configuration mediates access with different <span>MA</span> servers within a network for a deployment.</p>
<p><span>MA</span> requires you to exhibit proper and compliant behavior in a network environment where one or more proxy servers may mediate access to <span>MA</span> servers.</p>
<div class="section">
<p class="subhead2">Configuration</p>
<p>The initial configuration is simply declaring whether proxy detection should be enabled or disabled. Typically, it is enabled by default though you can disable it in <code>/config/network/proxyDetails</code>. The enable clause is similar to:</p>
<pre dir="ltr">
{
    "network"             : {
        "proxyEnabled": true,
        "proxyDetails": {
            "proxyACLEnabled": true,
            "proxyACL": [
                { "permission": "deny",  "address": "192.0.2.254"                   },
                { "permission": "allow", "address": "192.0.2.254", "trusted": false },
                { "permission": "allow", "address": "ANY",           "trusted": true  }
            ],
            "urlMappingEnabled": true,
            "urlMapping": [
            ]
        }
    }
  }
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Proxy ACL Specifications</p>
<p>The configuration of Proxy ACL specifications is similar to Network IP ACL specifications. The differences are that each entry defines the access control for a proxy server in your environment and includes a trust designator. Each ACL specification minimally consists of a permission statement indicating whether the ACL specification allows or denies client connections proxied through the proxy server's specified address. ACL specifications are processed in order and terminate when the specified address is qualified. If the specified address does not qualify, processes continue with the next ACL specification. Once the address of the client requesting connection is qualified, the ACLs permissions dictate whether the connection is allowed or denied. If the no ACL specifications qualify address of the client requesting connection, a default resolution of allow is used and the client is allowed to connect. The ACL in the configuration may take the following form:</p>
<pre dir="ltr">
ipACL := '[' <span class="italic">aclSpec</span>&gt; [, <span class="italic">aclSpec</span>] ']'
aclSpec := "permission" : [ "deny" | "allow" ] [, "address": [ <span class="italic">ipv4Address</span> | <span class="italic">ipv4MappedAddress</span> | <span class="italic">ipv6Address</span> ] ]
ipv4Address := '"' decimal '.' decimal '.' decimal '.' decimal '"'
ipv4MappedAddress := '"' 'ff::' decimal '.' decimal '.' decimal '.' decimal '"'
ipv6Address := '"' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal ':' hexadecimal '"'
</pre></div>
<!-- class="section" -->
<div class="example" id="GUID-DAFE72DD-5035-448F-A86D-F93EC83EE9A1__GUID-503A2578-5390-46E4-916E-7E0BED20C87E">
<p class="titleinexample">Example 2-3 Proxy Examples</p>
<p>Deny client connections originating from 192.0.2.254.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "deny",  "address" : "192.0.2.254" } ]
</pre>
<p>Explicitly allow all client connections. The first ACP by default qualifies all addresses. The second ACL is never processed.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow" },
             { "permission" : "deny",  "address" : "192.0.2.254" } ]
</pre>
<p>Allow client connections originating from 127.0.0.1, but deny connection originating from 192.0.2.254 appearing on an interface configured for IPv6 addressing.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow", "address" : "127.0.0.1" },
             { "permission" : "deny",  "address" : "ff::192.0.2.254" } ]
</pre>
<p>Allow client connections originating from and IPv6 loopback address (127.0.0.1 represented as ::1 in IPV6 addressing), allow client connections originating from the unmapped IPv4 address 192.0.2.253, allow client connections originating from IPv6 address 2001:db8:85a3:0:0:8a2e:370:7334 and deny client connections originating from mapped IPv4 address ff::192.0.2.254.</p>
<pre dir="ltr">
"ipACL" : [ { "permission" : "allow", "address" : "::1" },
             { "permission" : "allow", "address" : "192.0.2.254" },
             { "permission" : "allow", "address" : "2001:db8:85a3:0:0:8a2e:370:7334" },
             { "permission" : "deny",  "address" : "ff::192.0.2.254" } ]
</pre></div>
<!-- class="example" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="network.htm#GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24" title="Learn how to secure your network for Oracle GoldenGate.">Network</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-A709DA55-111D-455E-8942-C9BDD1E38CAA"></a>
<h2 id="OGGSE-GUID-A709DA55-111D-455E-8942-C9BDD1E38CAA" class="sect2"><span class="enumeration_section">2.4</span> Reverse Proxy Support</h2>
<div>
<p>Learn how to configure your reverse proxy servers.</p>
<p>Reverse Proxy allows a single point of contact for various microservices associated with an <span>Oracle GoldenGate</span> <span>MA</span> deployment.</p>
<p>You can configure a proxy server depending on your environment setup and network requirements. Reverse proxy is optional, however, it is recommended to ensure easy access to microservices and provide enhanced security.</p>
<div class="section">
<p class="subhead2">Reverse Proxy Support</p>
<p><span>Oracle GoldenGate</span><span>MA</span> can be configured to use a reverse proxy. <span>Oracle GoldenGate</span> <span>MA</span> includes an application called <code class="codeph">ReverseProxySettings</code> that generates configuration file for a reverse proxy server. For example, the Administration Server is available on <code>https://goldengate.example.com:9001</code> and the Distribution Server is on <code>https://goldengate.example.com:9002</code>. With reverse proxy, all the microservices can be accessed from a single address, for example, <code>https://goldengate.example.com</code>.</p>
<div class="p">The <code class="codeph">ReverseProxySettings</code> application has two additional parameters in <span>Oracle GoldenGate</span>version 12.3.0.1 or later:&nbsp;
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">-P</code>:&nbsp;Password for a Service Manager account.</p>
</li>
<li>
<p><code class="codeph">-u</code>:&nbsp;Name of the Service Manager account to use.</p>
</li>
</ul>
</div>
<p>These values are used when connecting to the Service Manager and are required when authentication is enabled.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Prerequisites</p>
<p>If you need to use a reverse proxy service with <span>MA</span>, use Nginx. Its a free, open-source, high-performance HTTP server and reverse proxy, as well as an IMAP/POP3 proxy server.<span>Oracle GoldenGate</span> <span>MA</span> is shipped with a utility to configure Nginx reverse proxy.</p>
<div class="p">Here are the prerequisites for configuring Nginx-based reverse proxy:
<ul style="list-style-type: disc;">
<li>
<p>Install Nginx: For Oracle Linux, the command to install Nginx is:</p>
<p><code class="codeph">yum &mdash;y install nginx</code></p>
<p>For more information about installing Nginx, see <a href="https://www.nginx.com/resources/admin-guide/" target="_blank">Installing Nginx Reverse Proxy</a></p>
</li>
<li>
<p>Check the JRE version to be JRE 8.</p>
</li>
<li>
<p>Install <span>Oracle GoldenGate</span> <span>MA</span>.</p>
</li>
<li>
<p>Create one or more active <span>MA</span> deployments.</p>
</li>
</ul>
</div>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Configuring Nginx-based Reverse Proxy Example</p>
<p>An <span>Oracle GoldenGate</span> <span>MA</span> installation includes the <code class="codeph">ReverseProxySettings</code> application in the <code class="codeph">$OGG_HOME/lib/utl/reverseproxy/</code>directory. You can see the list of options available with the application, using the <code>&ndash;help</code> command.</p>
<pre dir="ltr">
$OGG_HOME/lib/utl/reverseproxy/ReverseProxySettings  --help
 
  Usage: proxysettings [options] service-manager-url
 
  Options:
 
    -o, --output   Output file name (default is ogg.conf)
    -l, --log      Log file name (default is no logging)
    -t, --type     Proxy server type (default is nginx)
    -s, --no-ssl   Configure without SSL
    -h, --host     Virtual host name for reverse proxy
    -p, --port     Reverse proxy port number (defaults to 80 or 443)
    -?, --help     Display usage information
    -v, --version  Display version
</pre>
<p>Follow these steps to configure a reverse proxy:</p>
<ol>
<li>
<p>To create the settings file for Nginx:</p>
<pre dir="ltr">
$OGG_HOME/lib/utl/reverseproxy/ReverseProxySettings -u <span class="italic">admin</span> id -P <span class="italic">admin password</span> -o ogg.conf http://localhost:9100
</pre></li>
<li>Replace the existing Nginx configuration with the configuration required for <span>MA</span> deployment:
<div class="p">
<pre dir="ltr">
sudo mv ogg.conf /etc/nginx/conf.d/
</pre></div>
</li>
<li>
<p>Create your self-signed certificate for Nginx, using the following command:</p>
<pre dir="ltr">
sudo sh /etc/ssl/certs/make-dummy-cert /etc/nginx/ogg.pem
</pre></li>
<li>
<p>Test the new Nginx configuration using the following command:</p>
<pre dir="ltr">
sudo nginx -t
  
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
</pre></li>
<li>
<p>As root, reload Nginx and the new configuration:</p>
<p><code class="codeph">sudo nginx -s reload</code></p>
</li>
<li>
<p>Use Curl to verify that reverse proxy is working:</p>
<pre dir="ltr">
curl -sv http://localhost/services/v2
{"$schema":"api:version","catalog":{"links":[
{"href":"http://localhost/service s/v2/metadata-catalog","rel":"canonical"}]},"isLatest":true,"lifecycle":"active","links":[
{"href":"http://localhost/services/v2","mediaType":"application/js on","rel":"canonical"},
{"href":"http://localhost/services/v2","mediaType":"app lication/json","rel":"self"}],"version":"v2"}
</pre>
<div class="infobox-note" id="GUID-A709DA55-111D-455E-8942-C9BDD1E38CAA__GUID-89B20DDB-97CB-448E-BAE5-10F8514277D1">
<p class="notep1">Note:</p>
If the deployments associated with the target Service Manager change, the Nginx configuration file must be re-generated and reloaded.</div>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="network.htm#GUID-D9B70290-F22F-4ACF-AAE1-94B8EC9D8E24" title="Learn how to secure your network for Oracle GoldenGate.">Network</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment238">
<tr>
<td class="cellalignment249">
<table class="cellalignment243">
<tr>
<td class="cellalignment242"><a href="ma-security-features.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment242"><a href="authentication-and-authorization.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment251">
<table class="cellalignment241">
<tr>
<td class="cellalignment242"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment242"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment242"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
