<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Installing with MySQL Databases</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database." />
<meta name="dcterms.created" content="2018-08-07T08:20:58Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Installing Oracle GoldenGate" />
<meta name="dcterms.identifier" content="E85215-06" />
<meta name="dcterms.isVersionOf" content="OGGIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2017, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="installing-db2-z-os1.htm" title="Previous" type="text/html" />
<link rel="Next" href="installing-sql-server1.htm" title="Next" type="text/html" />
<link rel="alternate" href="OGGIN.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54"></a> <span id="PAGE" style="display:none;">16/43</span> <!-- End Header -->
<script  >
//<![CDATA[
window.name='installing-mysql'
//]]>
</script> <script  >
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" ><head><title>');
   
    msg.document.write('Footnote&amp;nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('');
    msg.document.write('<style> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
</script><noscript>
<p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
</noscript>
<h1 id="OGGIN-GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" class="sect1"><span class="enumeration_chapter">9</span> Installing with MySQL Databases</h1>
<div>
<div><span>Learn about the requirements and how to install <span>Oracle GoldenGate</span> with a MySQL database.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-74AD6038-E47F-4188-958B-18508F542B40">Disk Requirements for MySQL Database</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-94F3C2AC-D4B5-471B-94BA-2590650635AF">Database Character Set</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-FE8747B0-F9B6-4898-8EA9-CF0DFFAAC76E">Database Storage Engine</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-EF4854D9-99E2-4D5A-B123-BDB1C81FFA7E">Supported Version</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-BF110D0D-3CC9-4DBE-B39B-4197C736029D">Database User for Oracle GoldenGate Processes for MySQL</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-E69A8A8F-0D09-48C9-88BF-A42AF6D33617">Deciding Where to Install Binaries and Files in the Cluster</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-oracle-goldengate-oracle-heterogenous-database.htm" title="This part explains how to install Oracle GoldenGate Classic Architecture with the various supported heterogeneous databases.">Installing Oracle GoldenGate Classic Architecture with Heterogeneous Databases</a></p>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-74AD6038-E47F-4188-958B-18508F542B40"></a>
<h2 id="OGGIN-GUID-74AD6038-E47F-4188-958B-18508F542B40" class="sect2"><span class="enumeration_section">9.1</span> Disk Requirements for MySQL Database</h2>
<div>
<p>Assign free disk space according to the following instructions.</p>
<ul style="list-style-type: disc;">
<li>
<p>To determine the size of the Oracle GoldenGate download file, view the Size column before downloading your selected build from Oracle Software Delivery Cloud. The value shown is the size of the files in compressed form. The size of the expanded Oracle GoldenGate installation directory will be significantly larger on disk.</p>
</li>
<li>
<p>To install Oracle GoldenGate into a cluster environment, install the Oracle GoldenGate binaries and files as the Oracle user on a shared file system that is available to all cluster nodes, see <a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a>.</p>
</li>
<li>
<p>Allocate an additional 1 GB of disk space on any system that hosts Oracle GoldenGate trails, which are files that contain the working data. You may need more or less than this amount, because the space that is consumed by the trails depends on the volume of data that will be processed. See the guidelines for sizing trails in <a class="olink GWUAD532" target="_blank" href="../GWUAD/configuring-online-change-synchronization.htm#GWUAD532"><span class="italic"><span id="GUID-74AD6038-E47F-4188-958B-18508F542B40__GWUAD"><cite>Administering Oracle GoldenGate</cite></span></span></a>.</p>
</li>
</ul>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-4B4FE286-4795-4809-A861-0A85EAA23FA1">Temporary Disk Requirements</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-4B4FE286-4795-4809-A861-0A85EAA23FA1"></a>
<h3 id="OGGIN-GUID-4B4FE286-4795-4809-A861-0A85EAA23FA1" class="sect3"><span class="enumeration_section">9.1.1</span> Temporary Disk Requirements</h3>
<div>
<p>By default, Oracle GoldenGate maintains data that it swaps to disk in the <code class="codeph">dirtmp</code> sub-directory of the Oracle GoldenGate installation directory. The cache manager assumes that all of the free space on the file system is available. This directory can fill up quickly if there is a large transaction volume with large transaction sizes. To prevent I/O contention and possible disk-related Extract failures, dedicate a disk to this directory. You can assign a name and size to this directory with the <code class="codeph">CACHEDIRECTORY</code> option of the <code class="codeph">CACHEMGR</code> parameter. The <code class="codeph">CACHESIZE</code> option of <code class="codeph">CACHEMGR</code> sets a soft limit for the amount of virtual memory (cache size) that is available for caching transaction data. See <a class="olink GWURF413" target="_blank" href="../GWURF/cachemgr.htm#GWURF413"><span class="italic"><span id="GUID-4B4FE286-4795-4809-A861-0A85EAA23FA1__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a> for the default values of these options and detailed explanations, in case system adjustments need to be made.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-74AD6038-E47F-4188-958B-18508F542B40">Disk Requirements for MySQL Database</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-94F3C2AC-D4B5-471B-94BA-2590650635AF"></a>
<h2 id="OGGIN-GUID-94F3C2AC-D4B5-471B-94BA-2590650635AF" class="sect2"><span class="enumeration_section">9.2</span> Database Character Set</h2>
<div>
<p>MySQL provides a facility that allows users to specify different character sets at different levels.</p>
<div class="tblformal" id="GUID-94F3C2AC-D4B5-471B-94BA-2590650635AF__GUID-B264389F-B846-44C3-8658-06B53A972EEB">
<table class="cellalignment573" summary="This is a two-column table showing the level in the left column and an example of how to specify that level in the right column.">
<thead>
<tr class="cellalignment559">
<th class="cellalignment604" id="d10975e209">Level</th>
<th class="cellalignment605" id="d10975e212">Example</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment559">
<td class="cellalignment606" id="d10975e217" headers="d10975e209">
<p>Database</p>
</td>
<td class="cellalignment607" headers="d10975e217 d10975e212">
<pre dir="ltr">
create database test charset utf8;
</pre></td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment606" id="d10975e224" headers="d10975e209">
<p>Table</p>
</td>
<td class="cellalignment607" headers="d10975e224 d10975e212">
<pre dir="ltr">
create table test( id int, name char(100)) charset utf8;
</pre></td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment606" id="d10975e231" headers="d10975e209">
<p>Column</p>
</td>
<td class="cellalignment607" headers="d10975e231 d10975e212">
<pre dir="ltr">
create table test ( id int, name1 char(100) charset gbk, name2 char(100) charset utf8));
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="section">
<p class="subhead2">Limitations of Support</p>
</div>
<!-- class="section" -->
<ul style="list-style-type: disc;">
<li>
<p>When you specify the character set of your database as utf8mb4/utf8, the default collation is <code class="codeph">utf8mb4_unicode_ci</code>/<code class="codeph">utf8_general_ci</code>. If you specify <code class="codeph">collation_server=utf8mb4_bin</code>, the database interprets the data as binary. For example, specifying the <code class="codeph">CHAR</code> column length as four means that the byte length returned is 16 (for <code class="codeph">utf8mb4</code>) though when you try to insert data more than four bytes the target database warns that the data is too long. This is the limitation of database so Oracle GoldenGate does not support binary collation. To overcome this issue, specify <code class="codeph">collation_server=utf8mb4_bin</code> when the character set is utf8mb4 and <code class="codeph">collation_server=utf8_bin</code> for UTF-8.</p>
</li>
<li>
<p>The following character sets are <span class="bold">not</span> supported:</p>
<ul class="simple" style="list-style-type: none;padding-left:0;">
<li><code class="codeph">armscii8</code></li>
<li><code class="codeph">keybcs2</code></li>
<li><code class="codeph">utf16le</code></li>
<li><code class="codeph">geostd8</code></li>
</ul>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-FE8747B0-F9B6-4898-8EA9-CF0DFFAAC76E"></a>
<h2 id="OGGIN-GUID-FE8747B0-F9B6-4898-8EA9-CF0DFFAAC76E" class="sect2"><span class="enumeration_section">9.3</span> Database Storage Engine</h2>
<div>
<p>Requirements for the database storage engine are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Oracle GoldenGate supports the InnoDB storage engine for a source MySQL database.</p>
</li>
<li>
<p>On a target MySQL database, the Oracle GoldenGate Replicat process connects to the database through the MySQL native API.</p>
</li>
<li>
<p>The NDB cluster engine is supported.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-EF4854D9-99E2-4D5A-B123-BDB1C81FFA7E"></a>
<h2 id="OGGIN-GUID-EF4854D9-99E2-4D5A-B123-BDB1C81FFA7E" class="sect2"><span class="enumeration_section">9.4</span> Supported Version</h2>
<div>
<p><span>Oracle GoldenGate for MySQL</span> supports MySQL, 5.5, 5.6, and 5.7, as well as Delivery to Amazon Aurora MySQL 5.6 and greater.&nbsp;The DDL feature is supported on MySQL 5.7.10 and later.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-BF110D0D-3CC9-4DBE-B39B-4197C736029D"></a>
<h2 id="OGGIN-GUID-BF110D0D-3CC9-4DBE-B39B-4197C736029D" class="sect2"><span class="enumeration_section">9.5</span> Database User for Oracle GoldenGate Processes for MySQL</h2>
<div>
<p>Requirements for the database user for Oracle GoldenGate processes are as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>Create a database user that is dedicated to Oracle GoldenGate. It can be the same user for all of the Oracle GoldenGate processes that must connect to a database:</p>
<ul style="list-style-type: disc;">
<li>
<p>Extract (source database)</p>
</li>
<li>
<p>Replicat (target database)</p>
</li>
<li>
<p><code class="codeph">DEFGEN</code> (source or target database)</p>
</li>
</ul>
</li>
<li>
<p>To use DDL the MySQL user must have privileges to install the database plugins. Additionally, the user requires insert privileges on the source user.</p>
</li>
<li>
<p>To preserve the security of your data, and to monitor Oracle GoldenGate processing accurately, do not permit other users, applications, or processes to log on as, or operate as, the Oracle GoldenGate database user.</p>
</li>
<li>
<p>Keep a record of the database users. They must be specified in the Oracle GoldenGate parameter files with the <code class="codeph">USERID</code> parameter.</p>
</li>
<li>
<p>The Oracle GoldenGate user requires read access to the <code class="codeph">INFORMATION_SCHEMA</code> database.</p>
</li>
<li>
<p>The Oracle GoldenGate user requires the following user privileges.</p>
<div class="tblformal" id="GUID-BF110D0D-3CC9-4DBE-B39B-4197C736029D__GUID-9E445C66-F484-42DB-9C71-633A6DDB8EB2">
<p class="titleintable">Table 9-1 Oracle GoldenGate database user privileges for MySQL</p>
<table class="cellalignment568" title="Oracle GoldenGate database user privileges for MySQL" summary="This three column table lists the Oracle GoldenGate database user privileges for MySQL.">
<thead>
<tr class="cellalignment559">
<th class="cellalignment608" id="d10975e443">Privilege</th>
<th class="cellalignment609" id="d10975e446">Extract</th>
<th class="cellalignment609" id="d10975e449">Replicat</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment559">
<td class="cellalignment610" id="d10975e454" headers="d10975e443">
<p><code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code> on target tables</p>
</td>
<td class="cellalignment611" headers="d10975e454 d10975e446">&nbsp;</td>
<td class="cellalignment611" headers="d10975e454 d10975e449">
<p>X</p>
</td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment610" id="d10975e471" headers="d10975e443">
<p><code class="codeph">CREATE TABLE</code></p>
</td>
<td class="cellalignment611" headers="d10975e471 d10975e446">&nbsp;</td>
<td class="cellalignment611" headers="d10975e471 d10975e449">
<p>X<a id="fn_1" href="#fn_1" onclick='footdisplay(1,"If using the checkpoint table feature (recommended) ")'><sup>Foot&nbsp;1</sup></a></p>
</td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment610" id="d10975e484" headers="d10975e443">
<p><code class="codeph">EXECUTE</code></p>
</td>
<td class="cellalignment611" headers="d10975e484 d10975e446">&nbsp;</td>
<td class="cellalignment611" headers="d10975e484 d10975e449">
<p>X<a id="fn_2" href="#fn_2" onclick='footdisplay(2,"To execute stored procedures ")'><sup>Foot&nbsp;2</sup></a></p>
</td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment610" id="d10975e497" headers="d10975e443">
<p><code class="codeph">SELECT ANY TABLE</code></p>
<p>or</p>
<p><code class="codeph">SELECT ON</code> <span class="italic"><code class="codeph">database</code></span>.<span class="italic"><code class="codeph">table</code></span></p>
</td>
<td class="cellalignment611" headers="d10975e497 d10975e446">
<p>X</p>
</td>
<td class="cellalignment611" headers="d10975e497 d10975e449">
<p>X</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1</sup></p>
<p>If using the checkpoint table feature (recommended)</p>
<p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2</sup></p>
<p>To execute stored procedures</p>
</li>
<li>
<p>To capture binary log events, an Administrator must provide the following privileges to the Extract user:</p>
<ul style="list-style-type: disc;">
<li>
<p>Read and Execute permissions for the directory where the MySQL configuration file (<code class="codeph">my.cnf</code>) is located</p>
</li>
<li>
<p>Read permission for the MySQL configuration file (<code class="codeph">my.cnf</code>)</p>
</li>
<li>
<p>Read and Execute permissions for the directory where the binary logs are located</p>
</li>
<li>
<p>Read and Execute permission for the <code class="codeph">tmp</code> directory</p>
</li>
</ul>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
</div>
<div class="sect2"><a id="GUID-E69A8A8F-0D09-48C9-88BF-A42AF6D33617"></a>
<h2 id="OGGIN-GUID-E69A8A8F-0D09-48C9-88BF-A42AF6D33617" class="sect2"><span class="enumeration_section">9.6</span> Deciding Where to Install Binaries and Files in the Cluster</h2>
<div>
<p>Oracle GoldenGate can be used with the NDB Cluster distributed database system underlying the MySQL Cluster or any cluster-management solution that has the ability to automate failover.</p>
<p>You will need to install at least some Oracle GoldenGate objects on shared storage. Select cluster-aware shared storage that is independent of, but available to, all nodes of the cluster.</p>
<p>The best practice is the install Oracle GoldenGate entirely on shared storage. This allows you to start the Oracle GoldenGate processes from any of the nodes without having to make changes to the parameter files. If the active node fails, the processes can be started quickly on another node, using the processing checkpoints that are preserved in the installation directory.</p>
<p>If you decide to install the Oracle GoldenGate binaries and files on each node, rather than on shared storage, the following must be true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The Oracle GoldenGate installation must have the same location path on every node</p>
</li>
<li>
<p>At minimum, install the following directories on the shared storage to support Oracle GoldenGate recovery requirements. You can create symbolic links to them from the installation directory on each node.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">dirchk</code></p>
</li>
<li>
<p><code class="codeph">dirdat</code></p>
</li>
</ul>
<p>These directories are among those created when you issue <code class="codeph">CREATE SUBDIRS</code> during installation.</p>
</li>
<li>
<p>The parameter files in the <code class="codeph">dirprm</code> directory, if not placed on the shared drive, must be identical on all nodes. To resolve environment settings that must be different from one node to the other, you can set environment settings so they are inherited from the local Manager process or reference a node-specific Oracle GoldenGate macro file. Because this scenario can be difficult to enforce, the inherent concerns can be avoided by storing the parameter files on the shared drive.</p>
</li>
</ul>
<p>See <a href="integrating-cluster.htm">Integrating into a Cluster</a> after you install Oracle GoldenGate.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-06A2834B-8429-4122-A196-642282070297"></a>
<h2 id="OGGIN-GUID-06A2834B-8429-4122-A196-642282070297" class="sect2"><span class="enumeration_section">9.7</span> Setting up for MySQL Cluster</h2>
<div>
<div class="section">
<p>The following procedures show how you can set up Oracle GoldenGate to work for MySQL cluster.</p>
</div>
<!-- class="section" --></div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-E7206729-72EB-4ED3-8F22-7B8F684D81D0">General Requirements in a Cluster</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-CD04100B-E395-4787-9AF4-B4A24D51CB27">Step 1: Install MySQL Cluster</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-FEB2BE07-87DE-4318-800A-FEB7ADD23DD9">Step 2: Start MySQL Cluster</a><br /></li>
<li class="ulchildlink"><a href="installing-mysql.htm#GUID-F38F826E-5BEC-432E-A79D-375DBF91CA9C">Step 3: Install and Run Oracle GoldenGate</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-698FCE36-5F48-4F9F-804B-E9473FD09B54" title="Learn about the requirements and how to install Oracle GoldenGate with a MySQL database.">Installing with MySQL Databases</a></p>
</div>
</div>
</div>
<div class="sect3"><a id="GUID-E7206729-72EB-4ED3-8F22-7B8F684D81D0"></a>
<h3 id="OGGIN-GUID-E7206729-72EB-4ED3-8F22-7B8F684D81D0" class="sect3"><span class="enumeration_section">9.7.1</span> General Requirements in a Cluster</h3>
<div>
<p>These instructions apply generically and may not be applicable to your specific cluster system.</p>
<p>You must meet the following requirements when integration <span>Oracle GoldenGate</span> into a cluster:</p>
<ol>
<li>
<p>Register the Oracle GoldenGate Manager process (and only Manager) as a cluster-managed resource as you would any other application. Manager must be the only Oracle GoldenGate process that the cluster-management software starts and stops, because it is the parent process that manages all other processes.</p>
</li>
<li>
<p>If the cluster uses a virtual IP address, you may need to obtain an available fixed IP address for the Manager process. The VIP must be an available IP address on the public subnet and cannot be determined through DHCP. In the parameter files of the Extract data pumps, specify the VIP of the remote Manager as the input value of the <code class="codeph">RMTHOST</code> parameter. Other Oracle GoldenGate products that access Manager also should use the VIP.</p>
</li>
<li>
<p>Make certain that all nodes in the cluster have synchronized system clocks. The clocks must be synchronized with the clock on the system where Extract is executed. Oracle GoldenGate compares the time of the local system to the commit timestamps to make critical decisions. For information about synchronizing system clocks, consult your system administrator.</p>
</li>
<li>
<p>When you configure Manager, add the <code class="codeph">AUTOSTART</code> and <code class="codeph">AUTORESTART</code> parameters so that Manager starts the replication processes automatically. You can, when needed, control Extract, Replicat, and other Oracle GoldenGate processes from within the Oracle GoldenGate user interfaces.</p>
</li>
<li>
<p>Mount the shared drive on one node only. This prevents processes from being started on another node. Use the same mount point on all nodes.</p>
</li>
<li>
<p>Configure Oracle GoldenGate as appropriate for your environment.</p>
</li>
</ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-CD04100B-E395-4787-9AF4-B4A24D51CB27"></a>
<h3 id="OGGIN-GUID-CD04100B-E395-4787-9AF4-B4A24D51CB27" class="sect3"><span class="enumeration_section">9.7.2</span> Step 1: Install MySQL Cluster</h3>
<div>
<p>Install MySQL Cluster as described in the MySQL document <span class="italic">Installing MySQL Cluster on Linux</span> at:</p>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-install-linux.html" target="_blank"><code class="codeph">https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster-install-linux.html</code></a></p>
<div class="infobox-note" id="GUID-CD04100B-E395-4787-9AF4-B4A24D51CB27__GUID-7A49EC4D-33E2-4761-B8A8-CE3BB1800729">
<p class="notep1">Note:</p>
<p>Oracle GoldenGate now supports MySQL Cluster/NDB storage mode only. Therefore, the following setup is needed in the configuration file (for example, <code class="codeph">my.cnf</code>):</p>
<pre dir="ltr">
default-storage-engine=ndbcluster
</pre>
<p>After you create MySQL database and tables, you can check the status to make sure correct engine and data type is used as in this example:</p>
<pre dir="ltr">
show table status where Name='te'; 
</pre></div>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-FEB2BE07-87DE-4318-800A-FEB7ADD23DD9"></a>
<h3 id="OGGIN-GUID-FEB2BE07-87DE-4318-800A-FEB7ADD23DD9" class="sect3"><span class="enumeration_section">9.7.3</span> Step 2: Start MySQL Cluster</h3>
<div>
<p>To use <span>Oracle GoldenGate</span> for MySQL Cluster, you need to disable the <code class="codeph">NDB-LOG-UPDATE-AS-WRITE</code> and <code class="codeph">NDB-LOG-UPDATED-ONLY</code> parameters inside their respective MySQL database configuration files (<code class="codeph">my.cnf</code>/<code class="codeph">my.ini</code>) or by using the <code class="codeph">mysqld</code> command. Extract must be positioned to a point in time where the disabled options are already in effect; for example:</p>
<pre dir="ltr">
mysqld --default-file=/rdbms/mysql/myssqlcluster/my_cluster/conf/my.cnf -uroot --datadir=/rdbms/mysql/myssqlcluster/my_cluster/mysqld_data--ndbcluster --ndb-log-update-as-write=0 --ndb-log-updated-only=0 --default-storage-engine=ndbcluster --max_allowed_packet=1G
</pre>
<p>The <code class="codeph">--ndb-log-updated-only</code> option for MySQL does the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Logs complete rows.</p>
</li>
<li>
<p>Logs only column data that has been updated; that is, column data whose value has been set, regardless of whether or not the value was actually changed. This is the default behavior. If you need to log full rows, you can do so by setting <code class="codeph">--ndb-log-updated-only</code> to 0 or <code class="codeph">OFF</code>.</p>
</li>
</ul>
<p>The <code class="codeph">--ndb-log-update-as-write</code> option logs changed data as <code class="codeph">UPDATE</code> operations.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-F38F826E-5BEC-432E-A79D-375DBF91CA9C"></a>
<h3 id="OGGIN-GUID-F38F826E-5BEC-432E-A79D-375DBF91CA9C" class="sect3"><span class="enumeration_section">9.7.4</span> Step 3: Install and Run Oracle GoldenGate</h3>
<div>
<p>Install Oracle GoldenGate, see <a href="installing-heterogeneous-databases.htm#GUID-34C77BEC-5AC1-4CC4-8D7F-85B56DAE07D4">Installing on all Platforms</a>.</p>
<p>To support the cluster environment, install Oracle GoldenGate on a shared file system that can be accessed by all of the cluster nodes.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-mysql.htm#GUID-06A2834B-8429-4122-A196-642282070297">Setting up for MySQL Cluster</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment558">
<tr>
<td class="cellalignment565">
<table class="cellalignment563">
<tr>
<td class="cellalignment562"><a href="installing-db2-z-os1.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment562"><a href="installing-sql-server1.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2017, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment567">
<table class="cellalignment561">
<tr>
<td class="cellalignment562"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment562"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment562"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
</body>
</html>
