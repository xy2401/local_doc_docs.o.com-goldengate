<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Installing with SQL Server Databases</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities." />
<meta name="dcterms.created" content="2018-08-07T08:20:58Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Installing Oracle GoldenGate" />
<meta name="dcterms.identifier" content="E85215-06" />
<meta name="dcterms.isVersionOf" content="OGGIN" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2017, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="installing-mysql.htm" title="Previous" type="text/html" />
<link rel="Next" href="installing-teradata.htm" title="Next" type="text/html" />
<link rel="alternate" href="OGGIN.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615"></a> <span id="PAGE" style="display:none;">17/43</span> <!-- End Header -->
<h1 id="OGGIN-GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" class="sect1"><span class="enumeration_chapter">10</span> Installing with SQL Server Databases</h1>
<div>
<div><span>This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-EB7DD65D-4344-4F72-9B45-18631536AC84">Operating System Privileges</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-28D9F5B1-ABC6-49AD-9DAD-9A655C9D51C9">Other Programs and Settings</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-0549CAF9-4C9D-4938-9E59-4304098A172E">Where to Install Oracle GoldenGate</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-561707D9-6C2C-419D-B33F-3D128D327511">Installing on SQL Server</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-oracle-goldengate-oracle-heterogenous-database.htm" title="This part explains how to install Oracle GoldenGate Classic Architecture with the various supported heterogeneous databases.">Installing Oracle GoldenGate Classic Architecture with Heterogeneous Databases</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-EB7DD65D-4344-4F72-9B45-18631536AC84"></a>
<h2 id="OGGIN-GUID-EB7DD65D-4344-4F72-9B45-18631536AC84" class="sect2"><span class="enumeration_section">10.1</span> Operating System Privileges</h2>
<div>
<p>Assign operating system privileges according to the following instructions:</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-AA54EBA8-5B60-4420-8EFF-F8AD0978D85B">Manager</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-E3B4DD6A-891A-4CC0-9329-263524979FF0">Extract and Replicat</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" title="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.">Installing with SQL Server Databases</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-AA54EBA8-5B60-4420-8EFF-F8AD0978D85B"></a>
<h3 id="OGGIN-GUID-AA54EBA8-5B60-4420-8EFF-F8AD0978D85B" class="sect3"><span class="enumeration_section">10.1.1</span> Manager</h3>
<div>
<p>The Manager process can run as a Windows service, or it can run interactively as the current user. The Manager process requires:</p>
<ul style="list-style-type: disc;">
<li>
<p>Full control permissions over the files and folders within the Oracle GoldenGate directories.</p>
</li>
<li>
<p>Full control permissions over the trail files, if they are stored in a location other than the Oracle GoldenGate directory.</p>
</li>
<li>
<p>(Classic Extract) For a source capture installation of Oracle GoldenGate, Manager requires Read permissions on the SQL Server database transaction log files and transaction log backups.</p>
</li>
<li>
<p>(Classic Extract) If you are running a source capture in Archived Log Mode from a middle tier Windows server, Manager requires Read permissions to the network share where the transaction log backups are written, and Read permissions on the transaction log backups.</p>
</li>
<li>
<p>Membership in the server's local Administrators Group (on all nodes in a cluster).</p>
</li>
</ul>
<p>The programs that capture and replicate data, Extract and Replicat, run under the Manager account and inherit the Manager's operating system level privileges.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-EB7DD65D-4344-4F72-9B45-18631536AC84">Operating System Privileges</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-E3B4DD6A-891A-4CC0-9329-263524979FF0"></a>
<h3 id="OGGIN-GUID-E3B4DD6A-891A-4CC0-9329-263524979FF0" class="sect3"><span class="enumeration_section">10.1.2</span> Extract and Replicat</h3>
<div>
<p>See <a href="installing-sql-server1.htm#GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64">Database User for Oracle GoldenGate Processes</a>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-EB7DD65D-4344-4F72-9B45-18631536AC84">Operating System Privileges</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-28D9F5B1-ABC6-49AD-9DAD-9A655C9D51C9"></a>
<h2 id="OGGIN-GUID-28D9F5B1-ABC6-49AD-9DAD-9A655C9D51C9" class="sect2"><span class="enumeration_section">10.2</span> Other Programs and Settings</h2>
<div>
<p>In addition to <a href="what-is-required.htm#GUID-5C6FA03F-A59F-4A8E-8485-E52FC5B3F2D0">Additional Considerations</a>, you must observe the following program and settings information for <span>Oracle GoldenGate</span> for SQL Server:</p>
<ul style="list-style-type: disc;">
<li>
<p>To install capture on a remote Windows server, for a Classic Extract in archived log mode or for a remote CDC Extract, set the remote server's time and time zone to that of the database server.</p>
</li>
<li>
<p>(Classic Extract) To capture from a source SQL Server 2008/2008 R2/2012/2014 Standard Edition database, the SQL Server Replication features must be installed and a Distributor must be configured.</p>
</li>
<li>
<p>SQL Server Client Tools Connectivity features must be installed on the server where Oracle GoldenGate is to be installed. These features are typically installed when you install an instance of SQL Server. However, for a Windows server that is to be used for a remote Extract or Replicat, you can obtain the required client connectivity drivers through the SQL Server installation media or from the following websites. Oracle GoldenGate for SQL Server supports the Native Client and ODBC drivers that shipped with each specific version of SQL Server, with some limitations which will be noted in this part. For SQL Server 2012, use or install the SQL Server 2012 Native Client, which is part of the SQL Server 2012 Feature Pack:</p>
<p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=29065." target="_blank">https://www.microsoft.com/en-us/download/details.aspx?id=29065.</a></p>
<p>For SQL Server 2014, use or install the Microsoft ODBC Driver 11:<a href="https://www.microsoft.com/en-us/download/details.aspx?id=36434." target="_blank">https://www.microsoft.com/en-us/download/details.aspx?id=36434.</a></p>
<p>For SQL Server 2016, use or install the Microsoft ODBC Driver 13.1:<a href="https://www.microsoft.com/en-us/download/details.aspx?id=53339." target="_blank">https://www.microsoft.com/en-us/download/details.aspx?id=53339.</a></p>
<p>For SQL Server 2017 and Azure SQL Database, use or install the Microsoft ODBC Driver 17 for SQL Server:</p>
<p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=56567." target="_blank">https://www.microsoft.com/en-us/download/details.aspx?id=56567.</a></p>
<p>For TLS 1.2 support, you need to ensure that you have the updated client drivers and SQL Server instance patches based on this information:</p>
<p><a href="https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server." target="_blank">https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server.</a></p>
</li>
<li>
<p><span>Oracle GoldenGate</span> fully supports all virtual machine environments. When you install <span>Oracle GoldenGate</span> into a virtual machine environment, select a build that matches the database and the operating system of the virtual machine, not the host system.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" title="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.">Installing with SQL Server Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-6BEB9348-177E-473B-A47D-998A4086E533"></a>
<h2 id="OGGIN-GUID-6BEB9348-177E-473B-A47D-998A4086E533" class="sect2"><span class="enumeration_section">10.3</span> SQL Server Requirements</h2>
<div>
<p>To operate with SQL Server databases, Oracle GoldenGate requires the following setup in the database instance.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-CC54DFDC-6893-4DAF-969C-32E604FE7E18">Instance Requirements</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-981A4544-76F7-406A-BA2B-62256F0210B9">Database Requirements</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-1DB12F2E-EBC9-4902-AEF1-3850469E62AF">Table Requirements</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-BA1566A0-B5C9-4D9E-82FF-F72C44CE357A">Database Connection</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64">Database User for Oracle GoldenGate Processes</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-A997F5A3-8891-461A-B60F-EAA6B878CFA8">Encrypting and Storing User Credentials</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" title="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.">Installing with SQL Server Databases</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-CC54DFDC-6893-4DAF-969C-32E604FE7E18"></a>
<h3 id="OGGIN-GUID-CC54DFDC-6893-4DAF-969C-32E604FE7E18" class="sect3"><span class="enumeration_section">10.3.1</span> Instance Requirements</h3>
<div>
<p>Note the following requirements when you configure an <span>Oracle GoldenGate</span> for SQL Server instance:</p>
<ul style="list-style-type: disc;">
<li>
<p>Classic Extract supports SQL Server Enterprise and Standard editions of versions 2008, 2008R2, 2012, and 2014.</p>
</li>
<li>
<p>CDC Extract supports SQL Server Enterprise editions of versions 2008, 2008 R2, 2012, 2014, 2016, and Standard Edition of SQL Server 2016 with Service Pack 1 (or above).</p>
</li>
<li>
<p>(CDC Extract) &ndash; For SQL Server 2012, 2014, and 2016, Microsoft has identified and fixed an issue where some <code class="codeph">UPDATE</code> operations may be written incorrectly to a CDC staging table as an <code class="codeph">INSERT</code> followed by a <code class="codeph">DELETE</code>, rather than a <code class="codeph">DELETE/INSERT</code> pair. This may cause downstream replication issues, such as a primary key violation. We recommend that you apply the Microsoft fix for this issue: <a href="https://support.microsoft.com/en-us/help/3030352" target="_blank">https://support.microsoft.com/en-us/help/3030352</a></p>
</li>
<li>
<p>Oracle GoldenGate Delivery supports SQL Server Enterprise and Standard editions of versions 2008, 2008 R2, 2012, 2014, and 2016.</p>
</li>
<li>
<p>The SQL Server server name (<code class="codeph">@@SERVERNAME</code>) must not be NULL.</p>
</li>
<li>
<p>(CDC Extract) In order for Oracle GoldenGate to capture transactional data, the source SQL Server instance, the SQL Server Agent must be running on the source SQL Server instance in order for the CDC Capture job to load change data to the CDC tables.</p>
</li>
<li>
<p>(CDC Extract) If you are using SQL Server 2016, before you enable supplemental logging, ensure that you have applied the following bug fix from Microsoft:&nbsp;<a href="https://support.microsoft.com/en-us/help/3166120/fix-could-not-find-stored-procedure-sys.sp-cdc-parse-captured-column-list-error-in-sql-server-2016" target="_blank">https://support.microsoft.com/en-us/help/3166120/fix-could-not-find-stored-procedure-sys.sp-cdc-parse-captured-column-list-error-in-sql-server-2016</a> If this fix is not applied to your SQL Server instance, issuing <code class="codeph">ADD TRANDATA</code> against a table for the database may incorrectly report that supplemental logging succeeded, when in fact it may not have, and no records will be captured for the table.</p>
</li>
<li>
<p>(Classic Extract) To capture data from a source SQL Server Standard Edition database, you must install the SQL Server Replication features, configure a Distributor and create a distribution database.</p>
</li>
<li>
<p>If data capture a <code class="codeph">TEXT, NTEXT, IMAGE,</code> or <code class="codeph">VARCHAR(MAX), NVARCHAR(MAX)</code> and <code class="codeph">VARBINARY(MAX)</code>, and columns exceed the SQL Server default size, set for the <code class="codeph">&ldquo;max text repl size&rdquo;</code>, <span>Oracle GoldenGate</span> adjust the data as the target needed.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-981A4544-76F7-406A-BA2B-62256F0210B9"></a>
<h3 id="OGGIN-GUID-981A4544-76F7-406A-BA2B-62256F0210B9" class="sect3"><span class="enumeration_section">10.3.2</span> Database Requirements</h3>
<div>
<div class="section">
<p>This section contains Oracle GoldenGate requirements that are specific to the Oracle Database. These apply to both capture modes unless explicitly noted.</p>
<ul style="list-style-type: disc;">
<li>
<p>If you are using the <code class="codeph">DBMS_LOB.LOADFROMFILE</code> procedure to update a LOB column only and your supplemental log is on all the columns, Integrated Extract captures the key columns and LOB improving performance. Classic Extract captures all the columns by default. These behaviors do not affect like to like replications. However, with a replication to data warehouse, all the columns might have to be updated. If you are converting from Classic Extract to Integrated Extract, you must use one of the following parameters to ensure that the Extract operates correctly:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use <code class="codeph">KEYCOLS</code> to add all columns (except LOB).</p>
</li>
<li>
<p>Use <code class="codeph">LOGALLSUPCOLS</code> to control the writing of supplementally logged columns.</p>
</li>
</ul>
</li>
<li>
<p>Database user privileges and configuration requirements are explained in <a class="olink GGODB-GUID-E40B375A-5042-4195-B563-BE7EDC251880" target="_blank" href="../GGODB/establishing-oracle-goldengate-credentials.htm#GGODB-GUID-E40B375A-5042-4195-B563-BE7EDC251880">Establishing Oracle GoldenGate Credentials</a> in <span id="GUID-981A4544-76F7-406A-BA2B-62256F0210B9__GGODB"><cite>Using Oracle GoldenGate for Oracle Database</cite></span>.</p>
</li>
<li>
<p>If the database is configured to use a bequeath connection, the <code class="codeph">sqlnet.ora</code> file must contain the <code class="codeph">bequeath_detach=true</code> setting.</p>
</li>
<li>
<p>Oracle Databases must be in <code class="codeph">ARCHIVELOG</code> mode so that Extract can process the log files.</p>
</li>
<li>
<p>Ensure that your database has <code class="codeph">SUPPLEMENTAL LOGGING</code> enabled.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-1DB12F2E-EBC9-4902-AEF1-3850469E62AF"></a>
<h3 id="OGGIN-GUID-1DB12F2E-EBC9-4902-AEF1-3850469E62AF" class="sect3"><span class="enumeration_section">10.3.3</span> Table Requirements</h3>
<div>
<p>Tables to be included for capture and delivery must include only the data types that are listed in Supported SQL Server Data Types:</p>
<ul style="list-style-type: disc;">
<li>
<p><span>Oracle GoldenGate</span> supports capture of transactional DML from user tables, and delivery to user tables and writeable views.</p>
</li>
<li>
<p>DDL operations are not supported.</p>
</li>
<li>
<p>Source tables for an Enterprise Edition database do not require a primary key.</p>
</li>
<li>
<p>(Classic Extract) Source tables for a Standard Edition database do require a primary key.</p>
</li>
<li>
<p><span>Oracle GoldenGate</span> supports the maximum permitted table names and column lengths for tables that are tracked by SQL Server Change Data Capture for Enterprise Edition, and for tables that are articles of a publication for SQL Server transactional replication.</p>
</li>
<li>
<p>The sum of all column lengths for a table to be captured from must not exceed the length that SQL Server allows for enabling Change Data Capture for the table.&nbsp;If the sum of all column lengths exceeds what is allowed by SQL Server procedure <code class="codeph">sys.sp.cdc_enable_table</code>, then <code class="codeph">ADD TRANDATA</code> cannot be enabled for that table. The maximum allowable record length decreases as more columns are present, so there is an inverse relationship between maximum record length and the number of columns in the table.</p>
</li>
</ul>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-BA1566A0-B5C9-4D9E-82FF-F72C44CE357A"></a>
<h3 id="OGGIN-GUID-BA1566A0-B5C9-4D9E-82FF-F72C44CE357A" class="sect3"><span class="enumeration_section">10.3.4</span> Database Connection</h3>
<div>
<p><span>Oracle GoldenGate</span> uses ODBC and OLE DB to connect to a database:</p>
<ul style="list-style-type: disc;">
<li>
<p>ODBC: The Extract process uses ODBC to connect to a source SQL Server database to obtain metadata and perform other process queries. The Replicat process uses ODBC to connect to a target SQL Server database to obtain metadata, but can optionally use it for its delivery of transactions as well. ODBC must be properly configured.</p>
</li>
<li>
<p>OLE DB: By default, the Replicat process attempts to use OLE DB to connect to a target SQL Server database to perform DML operations. Thus, there are always least two Replicat connections, ODBC for metadata and OLE DB for DML. If you are using the ODBC drivers from Microsoft that do not support OLEDB, then you must set the Replicat to run with the <code class="codeph">DBOPTIONS USEODBC</code> parameter. <code class="codeph">DBOPTIONS USEODBC</code> is required for Replicat when connecting to an Azure SQL Database target.</p>
</li>
</ul>
<div class="section">
<p class="subhead3">Limitations of Support</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>For SQL Server 2008/2008R2, use the SQL Server Native Client 10.0 driver. The older SQL Server driver (<code class="codeph">SQLSRV32.DLL</code>) does not support newer SQL Server data types.</p>
</li>
<li>
<p>For SQL Server 2012/2014/2016, use the SQL Server Native Client 11.0 driver.</p>
</li>
<li>
<p>Using the SQL Server Native Client 11 OLE DB driver to connect to a SQL Server 2012 or a SQL Server 2014 instance in OLEDB mode may lead to a memory leak issue (Microsoft article 2881661).&nbsp;Microsoft has provided a fix in SQL Server 2012 SP1 CU7 (Microsoft article 2894115) and SQL Server 2014 CU1 (Microsoft article 2931693).&nbsp;To avoid a possible memory leak, you may choose one of the following options:</p>
<ul style="list-style-type: disc;">
<li>
<p>For SQL Server 2012, upgrade the SQL Native Client 11.0 driver to the SP1 CU7 level.</p>
</li>
<li>
<p>For SQL Server 2014, a possible memory leak still may exist after installing SQL Server 2014 CU1 on a new Windows system.&nbsp;This does not occur when you upgrade from SQL Server 2012 SP1 CU7 to SQL Server 2014 CU1.</p>
</li>
</ul>
</li>
<li>
<p>For SQL Server 2014/2016, only the SQL Server Native Client 11.0 driver is supported.&nbsp;The ODBC Driver 11/13 for SQL Server is not supported.</p>
</li>
<li>
<p>An AlwaysOn Availability Group Listener connection is not supported.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64"></a>
<h3 id="OGGIN-GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64" class="sect3"><span class="enumeration_section">10.3.5</span> Database User for Oracle GoldenGate Processes</h3>
<div>
<p>The following database users and privileges are required for Oracle GoldenGate to capture from and apply to a SQL Server database.</p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-11AC16AE-ED45-4D16-A318-697939CB6A92">User that Enables Supplemental Logging</a><br /></li>
<li class="ulchildlink"><a href="installing-sql-server1.htm#GUID-5EA5A276-304F-4368-8C20-511DAF166FD6">Extract and Replicat Users for SQL Server</a><br /></li>
</ul>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-11AC16AE-ED45-4D16-A318-697939CB6A92"></a>
<h4 id="OGGIN-GUID-11AC16AE-ED45-4D16-A318-697939CB6A92" class="sect4"><span class="enumeration_section">10.3.5.1</span> User that Enables Supplemental Logging</h4>
<div>
<p>A database user must issue the <code class="codeph">ADD TRANDATA</code> command to enable supplemental logging on the source database in an <span>Oracle GoldenGate</span> configuration. A database login command <code class="codeph">(DBLOGIN)</code> is issued from GGSCI before <code class="codeph">ADD TRANDATA</code>is issued.</p>
<ul style="list-style-type: disc;">
<li>
<p>The database user that enables <code class="codeph">TRANDATA</code> must have <code class="codeph">sysadmin</code> rights.</p>
</li>
</ul>
<p>(CDC Extract) Extract can run with <span class="italic">dbowner</span> permissions. However, you need sysadmin right to issue<code class="codeph">ADD HEARTBEATTABLE</code>, <code class="codeph">DELETE HEARTBEATTABLE</code> , <code class="codeph">INFO HEARTBEATTABLE</code>commands. <span class="italic">sysadmin</span></p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64">Database User for Oracle GoldenGate Processes</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-5EA5A276-304F-4368-8C20-511DAF166FD6"></a>
<h4 id="OGGIN-GUID-5EA5A276-304F-4368-8C20-511DAF166FD6" class="sect4"><span class="enumeration_section">10.3.5.2</span> Extract and Replicat Users for SQL Server</h4>
<div>
<p>The Oracle GoldenGate Extract processes capture data from a source SQL Server database for initial loads, from the transaction log and transaction log backups for a Classic Extract, and from the CDC tables for a CDC Extract. The Replicat process applies the data to a target SQL Server database.&nbsp;These processes can use either Windows Authentication or SQL Server Authentication to connect to a database.</p>
<ul style="list-style-type: disc;">
<li>
<p>To use Windows authentication, the Extract and Replicat processes inherit the login credentials of the Manager process, as identified by the Log On account specified in the Properties of the Manager service.&nbsp;This account must have the privileges listed here.</p>
<div class="tblformalwide" id="GUID-5EA5A276-304F-4368-8C20-511DAF166FD6__BABCJFCA">
<table class="cellalignment590" summary="This is a three-column table that lists the required SQL server privileges for Manager when using Windows authentication.">
<thead>
<tr class="cellalignment559">
<th class="cellalignment591" id="d12419e756">Oracle GoldenGate Process</th>
<th class="cellalignment592" id="d12419e759">Manager privileges if using the Local System account</th>
<th class="cellalignment593" id="d12419e762">Manager privileges if using the local or domain account</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment559">
<td class="cellalignment594" id="d12419e767" headers="d12419e756">
<p>Classic Extract</p>
<p>(source system)</p>
</td>
<td class="cellalignment595" headers="d12419e767 d12419e759">
<p>The <code class="codeph">BUILTIN\Administrators</code> account must be a member of the SQL Server fixed server role <code class="codeph">System Administrators</code>.</p>
</td>
<td class="cellalignment596" headers="d12419e767 d12419e762">
<p>The account must be a member of the SQL Server fixed server role <code class="codeph">System Administrators</code>.</p>
</td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment594" id="d12419e788" headers="d12419e756">
<p>CDC Extract (source system)</p>
</td>
<td class="cellalignment595" headers="d12419e788 d12419e759">
<p>The <code class="codeph">BUILTIN\Administrators</code> account must be at least a member of the source database role <code class="codeph">db_owner</code>.</p>
</td>
<td class="cellalignment596" headers="d12419e788 d12419e762">
<p>The account must be at least a member of the <code class="codeph">db_owner</code> fixed database role of the source database.</p>
</td>
</tr>
<tr class="cellalignment559">
<td class="cellalignment594" id="d12419e807" headers="d12419e756">
<p>Replicat</p>
<p>(target sdystem)</p>
</td>
<td class="cellalignment595" headers="d12419e807 d12419e759">
<p>The <code class="codeph">BUILTIN\Administrators</code> account must be at least a member of the <code class="codeph">db_owner</code> fixed database role of the target database.</p>
</td>
<td class="cellalignment596" headers="d12419e807 d12419e762">
<p>The account must be at least a member of the <code class="codeph">db_owner</code> fixed database role of the target database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></li>
<li>
<p>If you are using SQL Server authentication, you must specify the user and password with the <code class="codeph">USERID</code> parameter (including the <code class="codeph">PASSWORD</code> option) in the Extract or Replicat parameter file, or use the Oracle GoldenGate credential store and specify a user alias with the <code class="codeph">USERIDALIAS</code> parameter.</p>
</li>
<li>
<p>To use SQL Server authentication, create a dedicated SQL Server login for Extract and Replicat and assign the privileges listed here.</p>
</li>
</ul>
<div class="tblformalwide" id="GUID-5EA5A276-304F-4368-8C20-511DAF166FD6__BABEGEID">
<table class="cellalignment597" summary="Required SQL Server Privileges for Extract and Replicat When Using SQL Server Authentication.">
<thead>
<tr class="cellalignment559">
<th class="cellalignment584" id="d12419e851">Classic Extract connecting using SQL Server Authentication</th>
<th class="cellalignment598" id="d12419e855">CDC Extract connecting using SQL Server Authentication</th>
<th class="cellalignment598" id="d12419e859"><span class="bold">Replicat connecting using SQL Server Authentication</span></th>
</tr>
</thead>
<tbody>
<tr class="cellalignment559">
<td class="cellalignment586" id="d12419e864" headers="d12419e851">
<p>The account must be a member of the SQL Server fixed server role <code class="codeph">System Administrators</code>.</p>
</td>
<td class="cellalignment599" headers="d12419e864 d12419e855">
<p>The account must at least be a member of the <code class="codeph">db_owner</code> fixed database role of the source database.</p>
</td>
<td class="cellalignment599" headers="d12419e864 d12419e859">
<p>The account must at least be a member of the <code class="codeph">db_owner</code> fixed database role of the target database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-36E38796-96E9-4FE0-ABA3-2A41F136FA64">Database User for Oracle GoldenGate Processes</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-A997F5A3-8891-461A-B60F-EAA6B878CFA8"></a>
<h3 id="OGGIN-GUID-A997F5A3-8891-461A-B60F-EAA6B878CFA8" class="sect3"><span class="enumeration_section">10.3.6</span> Encrypting and Storing User Credentials</h3>
<div>
<p>If you are using SQL Server authentication instead of Windows authentication, as you set up and install <span>Oracle GoldenGate</span>, you occasionally must log into the database by using the <code class="codeph">DBLOGIN</code> command in the GGSCI command interface. An example is when you add supplemental logging with the <code class="codeph">ADD TRANDATA</code> command.</p>
<p>Encrypting the login password is a recommended security measure. However, using a secure password in the standard <code class="codeph">DBLOGIN</code> command requires first encrypting it by using the <code class="codeph">ENCRYPT PASSWORD</code> command. To avoid having to encrypt the password each time that you issue <code class="codeph">DBLOGIN</code>, and to protect the user ID from exposure, you can create an Oracle GoldenGate credential store before you start setup and configuration.</p>
<p>When you use a credential store, you only have to supply an alias for the login credential whenever you log in with <code class="codeph">DBLOGIN</code>. The credential store also makes the work of specifying login credentials for the Extract and Replicat processes easier and more secure when configuring the parameter files. You can create basic entries in the credential store at first and then use the management commands to expand it as needed.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-6BEB9348-177E-473B-A47D-998A4086E533">SQL Server Requirements</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-0549CAF9-4C9D-4938-9E59-4304098A172E"></a>
<h2 id="OGGIN-GUID-0549CAF9-4C9D-4938-9E59-4304098A172E" class="sect2"><span class="enumeration_section">10.4</span> Where to Install Oracle GoldenGate</h2>
<div>
<p>Oracle GoldenGate capture for SQL Server supports real-time mode and archived log mode. For Classic Extract, real-time capture requires that Oracle GoldenGate is installed on the source database server. For Classic Extract in archived log mode, <span>Oracle GoldenGate</span> may be installed on the source database server or on a remote Windows server. CDC Extract supports real-time capture from the local database server or from a remote Windows server.</p>
<p>To apply to a SQL Server database, you can install Oracle GoldenGate on the database server or on a remote Windows server.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" title="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.">Installing with SQL Server Databases</a></p>
</div>
</div>
</div>
</div>
<div class="props_rev_3"><a id="GUID-561707D9-6C2C-419D-B33F-3D128D327511"></a>
<h2 id="OGGIN-GUID-561707D9-6C2C-419D-B33F-3D128D327511" class="sect2"><span class="enumeration_section">10.5</span> Installing on SQL Server</h2>
<div>
<div class="section">
<p>Additional database preparation is required before running the Oracle GoldenGate processes, see <a href="installing-heterogeneous-databases.htm#GUID-34C77BEC-5AC1-4CC4-8D7F-85B56DAE07D4">Preparing the System for Oracle GoldenGate</a>. Follow these steps to install Oracle GoldenGate on a Windows system or in the appropriate location in a cluster, see <a href="installing-heterogeneous-databases.htm#GUID-34C77BEC-5AC1-4CC4-8D7F-85B56DAE07D4">Installing on all Platforms</a>. These instructions apply to all versions of SQL Server.</p>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="installing-sql-server1.htm#GUID-FDE04015-4AB8-4FE3-88DA-04B096C94615" title="This chapter contains the procedures for installing Oracle GoldenGate for Microsoft SQL Server. Installing Oracle GoldenGate installs all of the components that are required to run and manage the processing (excluding any components required from other vendors, such as drivers or libraries) and it installs the Oracle GoldenGate utilities.">Installing with SQL Server Databases</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment558">
<tr>
<td class="cellalignment565">
<table class="cellalignment563">
<tr>
<td class="cellalignment562"><a href="installing-mysql.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment562"><a href="installing-teradata.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2017, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment567">
<table class="cellalignment561">
<tr>
<td class="cellalignment562"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment562"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment562"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
