<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Monitoring Oracle GoldenGate Processing</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="This chapter describes the monitoring of Oracle GoldenGate processing." />
<meta name="dcterms.created" content="2018-09-07T14:17:29Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Administering Oracle GoldenGate" />
<meta name="dcterms.identifier" content="E81607-07" />
<meta name="dcterms.isVersionOf" content="GWUAD" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="customizing-oracle-goldengate-processing.htm" title="Previous" type="text/html" />
<link rel="Next" href="tuning-performance-oracle-goldengate.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWUAD.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"1",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"29fa688e",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"29fa688e",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-51F05671-599A-4634-9231-F3AC651C5B8A"></a> <span id="PAGE" style="display:none;">21/30</span> <!-- End Header -->
<a id="GWUAD634"></a><a id="GWUAD633"></a>
<h1 id="GWUAD-GUID-51F05671-599A-4634-9231-F3AC651C5B8A" class="sect1"><span class="enumeration_chapter">17</span> Monitoring Oracle GoldenGate Processing</h1>
<div>
<div><span>This chapter describes the monitoring of Oracle GoldenGate processing.</span></div>
<p><span class="bold">Topics:</span></p>
</div>
<a id="GWUAD637"></a><a id="GWUAD636"></a>
<div class="props_rev_3"><a id="GUID-D7F7D811-1FB9-49E0-A74B-DC0B8550C5B9"></a>
<h2 id="GWUAD-GUID-D7F7D811-1FB9-49E0-A74B-DC0B8550C5B9" class="sect2"><span class="enumeration_section">17.1</span> Using the Information Commands in GGSCI</h2>
<div>
<p>The primary way to view processing information is through GGSCI. For more information about these commands, see <a class="olink GWURF110" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF110"><span class="italic"><span id="GUID-D7F7D811-1FB9-49E0-A74B-DC0B8550C5B9__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<div class="tblformal" id="GUID-D7F7D811-1FB9-49E0-A74B-DC0B8550C5B9__GUID-B1D90129-663C-4119-A8A4-5A8EE004922F">
<p class="titleintable">Table 17-1 Commands to View Process Information</p>
<table class="cellalignment46" title="Commands to View Process Information" summary="This table lists and describes the commands used to view process information.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment20" id="d56545e57">Command</th>
<th class="cellalignment20" id="d56545e60">What it shows</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e65" headers="d56545e57">
<p><code class="codeph">INFO {EXTRACT | REPLICAT}</code> <span class="italic"><code class="codeph">group</code></span> <code class="codeph">[DETAIL]</code></p>
</td>
<td class="cellalignment21" headers="d56545e65 d56545e60">
<p>Run status, checkpoints, approximate lag, and environmental information.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e80" headers="d56545e57">
<p><code class="codeph">INFO MANAGER</code></p>
</td>
<td class="cellalignment21" headers="d56545e80 d56545e60">
<p>Run status and port number</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e88" headers="d56545e57">
<p><code class="codeph">INFO ALL</code></p>
</td>
<td class="cellalignment21" headers="d56545e88 d56545e60">
<p><code class="codeph">INFO</code> output for all Oracle GoldenGate processes on the system</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e98" headers="d56545e57">
<p><code class="codeph">STATS {EXTRACT | REPLICAT}</code> <span class="italic"><code class="codeph">group</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e98 d56545e60">
<p>Statistics on processing volume, such as number of operations performed.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e110" headers="d56545e57">
<p><code class="codeph">STATUS {EXTRACT | REPLICAT}</code> <span class="italic"><code class="codeph">group</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e110 d56545e60">
<p>Run status (starting, running, stopped, abended)</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e122" headers="d56545e57">
<p><code class="codeph">STATUS MANAGER</code></p>
</td>
<td class="cellalignment21" headers="d56545e122 d56545e60">
<p>Run status</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e131" headers="d56545e57">
<p><code class="codeph">LAG {EXTRACT | REPLICAT}</code> <span class="italic"><code class="codeph">group</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e131 d56545e60">
<p>Latency between last record processed and timestamp in the data source</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e143" headers="d56545e57">
<p><code class="codeph">INFO {</code><code class="codeph">EXTTRAIL</code> <code class="codeph">|</code> <code class="codeph">RMTTRAIL</code><code class="codeph">}</code> <span class="italic"><code class="codeph">trail</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e143 d56545e60">
<p>Name of associated process, position of last data processed, maximum file size</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e162" headers="d56545e57">
<p><code class="codeph">SEND MANAGER</code></p>
</td>
<td class="cellalignment21" headers="d56545e162 d56545e60">
<p>Run status, information about child processes, port information, trail purge settings</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e171" headers="d56545e57">
<p><code class="codeph">SEND</code> {<code class="codeph">EXTRACT</code> | <code class="codeph">REPLICAT</code>} group</p>
</td>
<td class="cellalignment21" headers="d56545e171 d56545e60">
<p>Depending on the process and selected options, returns information about memory pool, lag, TCP statistics, long-running transactions, process status, recovery progress, and more.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e186" headers="d56545e57">
<p><code class="codeph">VIEW REPORT</code> <span class="italic"><code class="codeph">group</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e186 d56545e60">
<p>Contents of the discard file or process report</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e199" headers="d56545e57">
<p><code class="codeph">VIEW GGSEVT</code></p>
</td>
<td class="cellalignment21" headers="d56545e199 d56545e60">
<p>Contents of the Oracle GoldenGate error log</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e208" headers="d56545e57">
<p><span class="italic"><code class="codeph">COMMAND</code></span> <code class="codeph">ER</code> <span class="italic"><code class="codeph">wildcard</code></span></p>
</td>
<td class="cellalignment21" headers="d56545e208 d56545e60">
<p>Information dependent on the <span class="italic"><code class="codeph">COMMAND</code></span> type:</p>
<p><code class="codeph">INFO</code></p>
<p><code class="codeph">LAG</code></p>
<p><code class="codeph">SEND</code></p>
<p><code class="codeph">STATS</code></p>
<p><code class="codeph">STATUS</code></p>
<p><span class="italic"><code class="codeph">wildcard</code></span> is a wildcard specification for the process groups to be affected, for example:</p>
<pre dir="ltr">
INFO ER ext*
STATS ER *
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e248" headers="d56545e57">
<p><code class="codeph">INFO PARAM</code></p>
</td>
<td class="cellalignment21" headers="d56545e248 d56545e60">
<p>Queries for and displays static information.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment21" id="d56545e256" headers="d56545e57">
<p><code class="codeph">GETPARAMINFO</code></p>
</td>
<td class="cellalignment21" headers="d56545e256 d56545e60">
<p>Displays currently-running parameter values.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="GWUAD638"></a>
<div class="props_rev_3"><a id="GUID-1743253F-4979-4467-9F82-C344CB156E9C"></a>
<h2 id="GWUAD-GUID-1743253F-4979-4467-9F82-C344CB156E9C" class="sect2"><span class="enumeration_section">17.2</span> Monitoring an Extract Recovery</h2>
<div>
<p>If Extract abends when a long-running transaction is open, it can seem to take a long time to recover when it is started again. To recover its processing state, Extract must search back through the online and archived logs (if necessary) to find the first log record for that long-running transaction. The farther back in time that the transaction started, the longer the recovery takes, in general, and Extract can appear to be stalled.</p>
<p>To confirm that Extract is recovering properly, use the <code class="codeph">SEND EXTRACT</code> command with the <code class="codeph">STATUS</code> option. One of the following status notations appears, and you can follow the progress as Extract changes its log read position over the course of the recovery.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">In recovery[1]</code> &ndash; Extract is recovering to its checkpoint in the transaction log. Meaning that it is reading from either:</p>
<p>a) reading from BR checkpoint files and then archived/online logs,</p>
<p>or</p>
<p>b) reading from Recovery Checkpoint in archived/online log.</p>
</li>
<li>
<p><code class="codeph">In recovery[2]</code> &ndash; Extract is recovering from its checkpoint to the end of the trail. Meaning that a recovery marker is appended to the output trail when the last transaction was not completely written then rewriting the transaction.</p>
</li>
<li>
<p><code class="codeph">Recovery complete</code> &ndash; The recovery is finished, and normal processing will resume.</p>
</li>
</ul>
</div>
</div>
<a id="GWUAD639"></a>
<div class="props_rev_3"><a id="GUID-E49F6D0C-6002-47EB-81B4-F8E578853D44"></a>
<h2 id="GWUAD-GUID-E49F6D0C-6002-47EB-81B4-F8E578853D44" class="sect2"><span class="enumeration_section">17.3</span> Monitoring Lag</h2>
<div>
<p>Lag statistics show you how well the Oracle GoldenGate processes are keeping pace with the amount of data that is being generated by the business applications. With this information, you can diagnose suspected problems and tune the performance of the Oracle GoldenGate processes to minimize the latency between the source and target databases. See <a href="tuning-performance-oracle-goldengate.htm#GUID-CAD4585D-9CC9-4542-AD5C-9FA941896FC9" title="This chapter contains suggestions for improving the performance of Oracle GoldenGate components.">Tuning the Performance of Oracle GoldenGate</a> for help with tuning Oracle GoldenGate to minimize lag.</p>
</div>
<a id="GWUAD640"></a>
<div class="props_rev_3"><a id="GUID-334F907B-1DC6-4C2B-BFDE-B2A5D9200AA5"></a>
<h3 id="GWUAD-GUID-334F907B-1DC6-4C2B-BFDE-B2A5D9200AA5" class="sect3"><span class="enumeration_section">17.3.1</span> About Lag</h3>
<div>
<p>For Extract, lag is the difference, in seconds, between the time that a record was processed by Extract (based on the system clock) and the timestamp of that record in the data source.</p>
<p>For Replicat, lag is the difference, in seconds, between the time that the last record was processed by Replicat (based on the system clock) and the timestamp of the record in the trail.</p>
<p>To view lag statistics, use either the <code class="codeph">LAG</code> or <code class="codeph">SEND</code> command in GGSCI. For more information, see <a class="olink GWURF110" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF110"><span class="italic"><span id="GUID-334F907B-1DC6-4C2B-BFDE-B2A5D9200AA5__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<div class="infobox-note" id="GUID-334F907B-1DC6-4C2B-BFDE-B2A5D9200AA5__GUID-8D0B0C0B-3453-4CB4-9271-44ADCCF5C50A">
<p class="notep1">Note:</p>
<p>The <code class="codeph">INFO</code> command also returns a lag statistic, but this statistic is taken from the last record that was checkpointed, not the current record that is being processed. It is less accurate than <code class="codeph">LAG</code> or <code class="codeph">INFO</code>.</p>
</div>
</div>
</div>
<a id="GWUAD641"></a>
<div class="props_rev_3"><a id="GUID-C4DF14A4-DE77-4DC2-880F-2D971EB90D29"></a>
<h3 id="GWUAD-GUID-C4DF14A4-DE77-4DC2-880F-2D971EB90D29" class="sect3"><span class="enumeration_section">17.3.2</span> Controlling How Lag is Reported</h3>
<div>
<p>Use the <code class="codeph">LAGREPORTMINUTES</code> or <code class="codeph">LAGREPORTHOURS</code> parameter to specify the interval at which Manager checks for Extract and Replicat lag. See <a class="olink GWURF533" target="_blank" href="../GWURF/lagreport.htm#GWURF533"><span class="italic"><span id="GUID-C4DF14A4-DE77-4DC2-880F-2D971EB90D29__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<p>Use the <code class="codeph">LAGCRITICALSECONDS</code>, <code class="codeph">LAGCRITICALMINUTES</code>, or <code class="codeph">LAGCRITICALHOURS</code> parameter to specify a lag threshold that is considered critical, and to force a warning message to the error log when the threshold is reached. This parameter affects Extract and Replicat processes on the local system. See <a class="olink GWURF531" target="_blank" href="../GWURF/lagcritical.htm#GWURF531"><span class="italic"><span><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<p>Use the <code class="codeph">LAGINFOSECONDS</code>, <code class="codeph">LAGINFOMINUTES</code>, or <code class="codeph">LAGINFOHOURS</code> parameter to specify a lag threshold; if lag exceeds the specified value, Oracle GoldenGate reports lag information to the error log. If the lag exceeds the value specified with the <code class="codeph">LAGCRITICAL</code> parameter, Manager reports the lag as critical; otherwise, it reports the lag as an informational message. A value of zero (0) forces a message at the frequency specified with the <code class="codeph">LAGREPORTMINUTES</code> or <code class="codeph">LAGREPORTHOURS</code> parameter. See <a class="olink GWURF532" target="_blank" href="../GWURF/laginfo.htm#GWURF532"><span class="italic"><span><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
</div>
</div>
<a id="GWUAD1213"></a>
<div class="props_rev_3"><a id="GUID-59E61274-BDDE-4D4B-9681-ED0BC39E9FCF"></a>
<h2 id="GWUAD-GUID-59E61274-BDDE-4D4B-9681-ED0BC39E9FCF" class="sect2"><span class="enumeration_section">17.4</span> Using Automatic Heartbeat Tables to Monitor</h2>
<div>
<p>You can use the default automatic heartbeat table functionality to monitor end-to-end replication lag. Automatic heartbeats are sent from each source database into the replication streams, by updating the records in a <span class="italic">heartbeat seed table</span> and a <span class="italic">heartbeat table</span>, and constructing a <code class="codeph">heartbeat history table</code>. Each of the replication processes in the replication path process these heartbeat records and update the information in them. These heartbeat records are inserted or updated into the heartbeat table at the target databases.</p>
<p>The heartbeat tables contain the following information:</p>
<ul style="list-style-type: disc;">
<li>
<p>Source database</p>
</li>
<li>
<p>Destination database</p>
</li>
<li>
<p>Information about the outgoing replication streams:</p>
<ul style="list-style-type: disc;">
<li>
<p>Names of the extract, pump/distribution server, and or replicat processes in the path</p>
</li>
<li>
<p>Timestamps when heartbeat records were processed by the replication processes.</p>
</li>
</ul>
</li>
<li>
<p>Information about the incoming replication streams:</p>
<ul style="list-style-type: disc;">
<li>
<p>Names of the extract, pump/distribution server, and or replicat processes in the path</p>
</li>
<li>
<p>Timestamps when heartbeat records were processed by the replication processes.</p>
</li>
</ul>
</li>
</ul>
<p>Using the information in the heartbeat table and the heartbeat history table, the current and historical lags in each of the replication can be computed.</p>
<p>In a bidirectional GoldenGate configuration, the heartbeat table has as many entries as the number of replication paths to neighbors that the database has and in a unidirectional setup, the table at the source is empty. The outgoing columns have the timestamps and the outgoing path, the local Extract and the downstream GoldenGate processes. The incoming columns have the timestamps and path of the upstream GoldenGate processes and local replicat.</p>
<p>In a unidirectional configuration, the target database will populate only the incoming columns in the heartbeat table.</p>
<div class="infobox-note" id="GUID-59E61274-BDDE-4D4B-9681-ED0BC39E9FCF__GUID-FC3F8D97-87A2-4CA3-8F91-131FD89E7D24">
<p class="notep1">Note:</p>
<p>The Automatic Heartbeat functionality is not supported on MySQL version 5.5.</p>
</div>
</div>
<a id="GWUAD1215"></a><a id="GWUAD1216"></a><a id="GWUAD1217"></a><a id="GWUAD1218"></a><a id="GWUAD1219"></a><a id="GWUAD1220"></a><a id="GWUAD1221"></a><a id="GWUAD1222"></a><a id="GWUAD1223"></a><a id="GWUAD1214"></a>
<div class="props_rev_3"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3"></a>
<h3 id="GWUAD-GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3" class="sect3"><span class="enumeration_section">17.4.1</span> Understanding Heartbeat Table End-To-End Replication Flow</h3>
<div>
<p>The flow for end-to-end replication as it relates to heartbeat tables relies on the use of Oracle GoldenGate 12.2.0.1 trail format is as follows:</p>
<dl>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-D46FD842-35A5-4780-8EC8-2C64D7E3423A"><!-- --></a></dt>
<dd>
<p>Ensure that Self-Describing Trail Files functionality is enabled, see&nbsp; <a href="associating-replicated-data-metadata.htm#GUID-EA40623F-BEA5-4DAD-80CE-2E400D1ECBEA">Using Self-Describing Trail Files</a>.</p>
</dd>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-CE01B1C0-9A2E-4F30-A539-1B51BA031085"><!-- --></a></dt>
<dd>
<p>Enable the heartbeat functionality with the <code class="codeph">ENABLE_HEARTBEAT_TABLE</code> parameter. This is the default.</p>
</dd>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-DEFE7111-7BA7-43D6-972B-3F5BC1F43167"><!-- --></a></dt>
<dd>
<p>Add a heartbeat table to each of your databases with the <code class="codeph">ADD HEARTBEATTABLE</code> command. Add the heartbeat table to all source and target instances and then restart existing Oracle GoldenGate processes (not necessary for processes running against HP-OSS for MX) to enable heartbeat functionality. Depending on your specific database system, you may or may not be required to create or enable a job to populate heartbeat table data.</p>
</dd>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-7B18B82A-87D0-4746-8CA0-A049BFB4DE80"><!-- --></a></dt>
<dd>
<p>(Optional) For Oracle Databases, you must ensure that the Oracle <code class="codeph">DBMS_SCHEDULER</code> is operating correctly as the heartbeat update relies on it. You can query the <code class="codeph">DBMS_SCHEDULER</code> by issuing:</p>
<pre dir="ltr">
select START_DATE, LAST_START_DATE, NEXT_RUN_DATE 
from dba_scheduler_jobs 
</pre>
<p>Where <code class="codeph">job_name</code> =<code class="codeph">'GG_UPDATE_HEARTBEATS';</code></p>
<p>Then look for valid entries for <code class="codeph">NEXT_RUN_DATE</code>, which is the next time the scheduler will run. If this is a timestamp in the past, then no job will run and you must correct it.</p>
<p>A common reason for the scheduler not working is when the parameter <code class="codeph">job_queue_processes</code> is set too low (typically zero). Increase the number of <code class="codeph">job_queue_processes</code> configured in the database with the <code class="codeph">ALTER SYSTEM SET JOB_QUEUE_PROCESSES = <span class="codeinlineitalic">##</span>;</code> command where <code class="codeph"><span class="codeinlineitalic">##</span></code> is the number of job queue processes.</p>
</dd>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-ADF978EF-D3E5-40B0-9502-B34B631B8021"><!-- --></a></dt>
<dd>
<p>Run an Extract, which on receiving the logical change records (LCR) checks the value in the <code class="codeph">OUTGOING_EXTRACT</code> column.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Extract name matches this value, the <code class="codeph">OUTGOING_EXTRACT_TS</code> column is updated and the record is entered in the trail.</p>
</li>
<li>
<p>If the Extract name does not match then the LCR is discarded.</p>
</li>
<li>
<p>If the <code class="codeph">OUTGOING_EXTRACT</code> value is <code class="codeph">NULL</code>, it is populated along with <code class="codeph">OUTGOING_EXTRACT_TS</code> and the record is entered in the trail.</p>
</li>
</ul>
</dd>
<dt class="dlterm"><a id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-F8ED1F80-B772-40BA-BE19-FCA38E90C8B5"><!-- --></a></dt>
<dd>
<p>The Pump or Distribution server on reading the record, checks the value in the <code class="codeph">OUTGOING_ROUTING_PATH</code> column. This column has a list of distribution paths.</p>
<p>If the value is <code class="codeph">NULL</code>, the column is updated with the current group name (and path if this is a Distribution server),<code class="codeph">"*"</code>, update the <code class="codeph">OUTGOING_ROUTING_TS</code> column, and the record is written into its target trail file.</p>
<p>If the value has a <code class="codeph">"*"</code> in the list, then replace it with <code class="codeph"><span class="codeinlineitalic">group name[:pathname],"*"'</span></code>, update the <code class="codeph">OUTGOING_ROUTING_TS</code> column, and the record is written into its target trail file. When the value does not have a asterisk (*) in the list and the pump name is in the list, then the record is sent to the path specified in the relevant <code class="codeph"><span class="codeinlineitalic">group name[:pathname],"*"'</span></code> pair in the list. If the pump name is not in the list, the record is discarded.</p>
<p>Run a Replicat, which on receiving the record checks the value in the <code class="codeph">OUTGOING_REPLICAT</code> column.</p>
<ul style="list-style-type: disc;">
<li>
<p>If the Replicat name matches the value, the row in the heartbeat table is updated and the record is inserted into the history table.</p>
</li>
<li>
<p>If the Replicat name does not match, the record is discarded.</p>
</li>
<li>
<p>If the value is <code class="codeph">NULL</code>, the row in the heartbeat and heartbeat history tables are updated with an implicit invocation of the Replicat column mapping.</p>
<p><span class="bold">Automatic Replicat Column Mapping:</span></p>
<pre dir="ltr">
REMOTE_DATABASE              = LOCAL_DATABASE
INCOMING_EXTRACT                = OUTGOING_EXTRACT
INCOMING_ROUTING_PATH      = OUTGOING_ROUTING_PATH with "*"    removed
INCOMING_REPLICAT               = @GETENV ("GGENVIRONMENT", "GROUPNAME")
INCOMING_HEARTBEAT_TS   = HEARTBEAT_TIMESTAMP
INCOMING_EXTRACT_TS     = OUTGOING_EXTRACT_TS
INCOMING_ROUTING_TS     = OUTGOING_ROUTING_TS
INCOMING_REPLICAT_TS          = @DATE ('UYYYY-MM-DD HH:MI:SS.FFFFFF','JTSLCT',@GETENV ('JULIANTIMESTAMP'))
LOCAL_DATABASE  = REMOTE_DATABASE
OUTGOING_EXTRACT        = INCOMING_EXTRACT
OUTGOING_ROUTING_PATH   = INCOMING_ROUTING_PATH
OUTGOING_HEARTBEAT_TS     = INCOMING_HEARTBEAT_TS
OUTGOING_REPLICAT       = INCOMING_REPLICAT
OUTGOING_HEARTBEAT_TS   = INCOMING_HEARTBEAT_TS
</pre></li>
</ul>
<p>There is just one column for <code class="codeph">OUTGOING_ROUTING_TS</code>. If a record passes through multiple pump before being applied by a Replicat, each pump will overwrite the <code class="codeph">OUTGOING_ROUTING_TS</code> column so that the pumps lag that is calculated is not specific to a single pump and refers to the lag across all the pumps specified in <code class="codeph">PUMP_PATH</code>.</p>
</dd>
</dl>
<p><span class="bold">Additional Considerations:</span></p>
<p>Computing lags as the heartbeat flows through the system relies on the clocks of the source and target systems to be set up correctly. It is possible that the lag can be negative if the target system is ahead of the source system. The lag is shown as a negative number so that you are aware of their clock discrepancy and can take actions to fix it.</p>
<p>The timestamp that flows through the system is in UTC. There is no time zone associated with the timestamp so when viewing the heartbeat tables, the lag can be viewed quickly even if different components are in different time zones. You can write any view you want on top of the underlying tables; UTC is recommended.</p>
<p>All the heartbeat entries are written to the trail in UTF-8.</p>
<p>The outgoing and incoming paths together uniquely determine a row. Meaning that if you have two rows with same outgoing path and a different incoming path, then it is considered two unique entries.</p>
<p><span class="bold">Heartbeat Table Details</span></p>
<p>The <code class="codeph">GG_HEARTBEAT</code> table displays timestamp information of the end-to-end replication time and the timing information at the different components primary and secondary Extract and Replicat.</p>
<p>In a unidirectional environment, only the target database contains information about the replication lag. That is the time when a record is generated at the source database and becomes visible to clients at the target database.</p>
<div class="infobox-note" id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-BF87F606-4A80-4F52-88F5-78BF3DBCD4EA">
<p class="notep1">Note:</p>
The automatic heartbeat tables don&rsquo;t populate the OUTGOING_% columns with data, when both the source and remote databases have the same name. To change the database name, use the utility <code class="codeph">DBNEWID</code>. For details, see the <a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/sutil/oracle-dbnewid-utility.html#GUID-D138A757-6A2A-41A2-B722-A98708C5F5AD" target="_blank"><code class="codeph">DBNEWID</code> Utility</a>.</div>
<div class="tblformal" id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-3B7ABBE4-A4DA-40B4-B5EC-1C7775E64375">
<p class="titleintable">Table 17-2 <code class="codeph">GG_HEARTBEAT</code> Table</p>
<table class="cellalignment46" title="GG_HEARTBEAT Table" summary="Three column table describing the GG_HEARTBEAT table.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment73" id="d56545e769">Column</th>
<th class="cellalignment73" id="d56545e772">Data Type</th>
<th class="cellalignment73" id="d56545e775">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e780" headers="d56545e769">
<p><code class="codeph">LOCAL_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e780 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e780 d56545e775">
<p>Local database where the replication time from the remote database is measured.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e792" headers="d56545e769">
<p><code class="codeph">HEARTBEAT_TIMESTAMP</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e792 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e792 d56545e775">
<p>The point in time when a timestamp is generated at the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e804" headers="d56545e769">
<p><code class="codeph">REMOTE_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e804 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e804 d56545e775">
<p>Remote database where the timestamp is generated</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e816" headers="d56545e769">
<p><code class="codeph">INCOMING_EXTRACT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e816 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e816 d56545e775">
<p>Name of the primary Extract (capture) at the remote database</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e828" headers="d56545e769">
<p><code class="codeph">INCOMING_ROUTING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e828 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e828 d56545e775">
<p>Name of the secondary Extract (pump) at the remote database</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e840" headers="d56545e769">
<p><code class="codeph">INCOMING_REPLICAT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e840 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e840 d56545e775">
<p>Name of the Replicat on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e852" headers="d56545e769">
<p><code class="codeph">INCOMING_HEARTBEAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e852 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e852 d56545e775">
<p>Final timestamp when the information is inserted into the <code class="codeph">GG_HEARTBEAT</code> table at the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e867" headers="d56545e769">
<p><code class="codeph">INCOMING_EXTRACT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e867 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e867 d56545e775">
<p>Timestamp of the generated timestamp is processed by the primary Extract at the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e879" headers="d56545e769">
<p><code class="codeph">INCOMING_ROUTING_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e879 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e879 d56545e775">
<p>Timestamp of the generated timestamp is processed by the secondary Extract at the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e891" headers="d56545e769">
<p><code class="codeph">INCOMING_REPLICAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e891 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e891 d56545e775">
<p>Timestamp of the generated timestamp is processed by Replicat at the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e903" headers="d56545e769">
<p><code class="codeph">OUTGOING_EXTRACT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e903 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e903 d56545e775">
<p>Bidirectional/N-way replication: Name of the primary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e916" headers="d56545e769">
<p><code class="codeph">OUTGOING_ROUTING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e916 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e916 d56545e775">
<p>Bidirectional/N-way replication: Name of the secondary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e928" headers="d56545e769">
<p><code class="codeph">OUTGOING_REPLICAT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e928 d56545e772">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e928 d56545e775">
<p>Bidirectional/N-way replication: Name of the Replicat on the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e940" headers="d56545e769">
<p><code class="codeph">OUTGOING_HEARTBEAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e940 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e940 d56545e775">
<p>Bidirectional/N-way replication: Final timestamp when the information is inserted into the table at the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e952" headers="d56545e769">
<p><code class="codeph">OUTGOING_EXTRACT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e952 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e952 d56545e775">
<p>Bidirectional/N-way replication: Timestamp of the generated timestamp is processed by the primary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e964" headers="d56545e769">
<p><code class="codeph">OUTGOING_ROUTING_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e964 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e964 d56545e775">
<p>Bidirectional/N-way replication: Timestamp of the generated timestamp is processed by the secondary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e976" headers="d56545e769">
<p><code class="codeph">OUTGOING_REPLICAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e976 d56545e772">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e976 d56545e775">
<p>Bidirectional/N-way replication: Timestamp of the generated timestamp is processed by Replicat on the remote database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code class="codeph">GG_HEARTBEAT_HISTORY</code> table displays historical timestamp information of the end-to-end replication time and the timing information at the different components primary and secondary Extract and Replicat.</p>
<p>In a unidirectional environment, only the destination database contains information about the replication lag.</p>
<p>Timestamps are managed in UTC time zone. That is the time when a record is generated at the source database and becomes visible to clients at the target database.</p>
<div class="tblformal" id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-674DC05F-C206-4348-89E2-DD118A0295EE">
<p class="titleintable">Table 17-3 <code class="codeph">GG_HEARTBEAT_HISTORY</code> Table</p>
<table class="cellalignment46" title="GG_HEARTBEAT_HISTORY Table" summary="Three column table describing the GG_HEARTBEAT_HISTORY table.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment73" id="d56545e1012">Column</th>
<th class="cellalignment73" id="d56545e1015">Data Type</th>
<th class="cellalignment73" id="d56545e1018">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1023" headers="d56545e1012">
<p><code class="codeph">LOCAL_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1023 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1023 d56545e1018">
<p>Local database where the end-to-end lag is measured.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1035" headers="d56545e1012">
<p><code class="codeph">HEARTBEAT_RECEIVED_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1035 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1035 d56545e1018">
<p>Point in time when a timestamp from the remote database receives at the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1047" headers="d56545e1012">
<p><code class="codeph">REMOTE_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1047 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1047 d56545e1018">
<p>Remote database where the timestamp is generated.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1059" headers="d56545e1012">
<p><code class="codeph">INCOMING_EXTRACT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1059 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1059 d56545e1018">
<p>Name of the primary Extract on the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1071" headers="d56545e1012">
<p><code class="codeph">INCOMING_ROUTING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1071 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1071 d56545e1018">
<p>Name of the secondary Extract of the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1083" headers="d56545e1012">
<p><code class="codeph">INCOMING_REPLICAT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1083 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1083 d56545e1018">
<p>Name of the Replicat on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1095" headers="d56545e1012">
<p><code class="codeph">INCOMING_HEARTBEAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1095 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1095 d56545e1018">
<p>Final timestamp when the information is inserted into the <code class="codeph">GG_HEARTBEAT_HISTORY</code> table on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1110" headers="d56545e1012">
<p><code class="codeph">INCOMING_EXTRACT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1110 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1110 d56545e1018">
<p>Timestamp when the generated timestamp is processed by the primary Extract on the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1122" headers="d56545e1012">
<p><code class="codeph">INCOMING_ROUTING_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1122 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1122 d56545e1018">
<p>Timestamp when the generated timestamp is processed by the secondary Extract on the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1134" headers="d56545e1012">
<p><code class="codeph">INCOMING_REPLICAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1134 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1134 d56545e1018">
<p>Timestamp when the generated timestamp is processed by Replicat on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1146" headers="d56545e1012">
<p><code class="codeph">OUTGOING_EXTRACT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1146 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1146 d56545e1018">
<p>Bidirectional/N-way replication: Name of the primary Extract from the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1159" headers="d56545e1012">
<p><code class="codeph">OUTGOING_ROUTING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1159 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1159 d56545e1018">
<p>Bidirectional/N-way replication: Name of the secondary Extract from the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1171" headers="d56545e1012">
<p><code class="codeph">OUTGOING_REPLICAT</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1171 d56545e1015">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1171 d56545e1018">
<p>Bidirectional/N-way replication: Name of the Replicat on the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1183" headers="d56545e1012">
<p><code class="codeph">OUTGOING_HEARTBEAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1183 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1183 d56545e1018">
<p>Bidirectional/N-way replication: Final timestamp when the information is persistently inserted into the table of the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1195" headers="d56545e1012">
<p><code class="codeph">OUTGOING_EXTRACT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1195 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1195 d56545e1018">
<p>Bidirectional/N-way replication: Timestamp when the generated timestamp is processed by the primary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1207" headers="d56545e1012">
<p><code class="codeph">OUTGOING_ROUTING_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1207 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1207 d56545e1018">
<p>Bidirectional/N-way replication: Timestamp when the generated timestamp is processed by the secondary Extract on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1219" headers="d56545e1012">
<p><code class="codeph">OUTGOING_REPLICAT_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1219 d56545e1015">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1219 d56545e1018">
<p>Bidirectional/N-way replication: Timestamp when the generated timestamp is processed by Replicat on the remote database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code class="codeph">GG_LAG</code> view displays information about the replication lag between the local and remote databases.</p>
<p>In a unidirectional environment, only the destination database contains information about the replication lag. The lag is measured in seconds.</p>
<div class="tblformal" id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-86B52460-BCF6-438E-A504-9D4B37430BD9">
<p class="titleintable">Table 17-4 <code class="codeph">GG_LAG</code> View</p>
<table class="cellalignment46" title="GG_LAG View" summary="Three column table describing the GG_LAG table.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment73" id="d56545e1253">Column</th>
<th class="cellalignment73" id="d56545e1256">Data Type</th>
<th class="cellalignment73" id="d56545e1259">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1264" headers="d56545e1253">
<p><code class="codeph">LOCAL_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1264 d56545e1256">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1264 d56545e1259">
<p>Local database where the end-to-end replication lag from the remote database is measured.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1276" headers="d56545e1253">
<p><code class="codeph">CURRENT_LOCAL_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1276 d56545e1256">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1276 d56545e1259">
<p>Current timestamp of the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1288" headers="d56545e1253">
<p><code class="codeph">REMOTE_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1288 d56545e1256">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1288 d56545e1259">
<p>Remote database where the timestamp is generated.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1300" headers="d56545e1253">
<p><code class="codeph">INCOMING_HEARTBEAT_AGE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1300 d56545e1256">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1300 d56545e1259">
<p>The age of the most recent heartbeat received from the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1312" headers="d56545e1253">
<p><code class="codeph">INCOMING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1312 d56545e1256">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1312 d56545e1259">
<p>Replication path from the remote database to the local database with Extract and Replicat components.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1324" headers="d56545e1253">
<p><code class="codeph">INCOMING_LAG</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1324 d56545e1256">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1324 d56545e1259">
<p>Replication lag from the remote database to the local database. This is the time where the heartbeat where generated at the remote database minus the time where the information was persistently inserted into the table at the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1336" headers="d56545e1253">
<p><code class="codeph">OUTGOING_HEARTBEAT_AGE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1336 d56545e1256">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1336 d56545e1259">
<p>The age of the most recent heartbeat from the local database to the remote database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1348" headers="d56545e1253">
<p><code class="codeph">OUTGOING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1348 d56545e1256">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1348 d56545e1259">
<p>Replication Path from Local database to the remote database with Extract and Replicat components</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1360" headers="d56545e1253">
<p><code class="codeph">OUTGOING_LAG</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1360 d56545e1256">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1360 d56545e1259">
<p>Replication Lag from the local database to the remote database. This is the time where the heartbeat where generated at the local database minus the time where the information was persistently inserted into the table at the remote database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>The <code class="codeph">GG_LAG_HISTORY</code> view displays the history information about the replication lag history between the local and remote databases.</p>
<p>In a unidirectional environment, only the destination database contains information about the replication lag.</p>
<p>The unit of the lag units is in seconds.</p>
<div class="tblformal" id="GUID-5B817814-46DC-4D9B-A23B-12CB3367C9F3__GUID-6470A855-6D9D-4AB7-95D2-D834E49F1F68">
<p class="titleintable">Table 17-5 <code class="codeph">GG_LAG_HISTORY</code> View</p>
<table class="cellalignment46" title="GG_LAG_HISTORY View" summary="Three column table describing the GG_LAG_HISTORY table.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment73" id="d56545e1397">Column</th>
<th class="cellalignment73" id="d56545e1400">Data Type</th>
<th class="cellalignment73" id="d56545e1403">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1408" headers="d56545e1397">
<p><code class="codeph">LOCAL_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1408 d56545e1400">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1408 d56545e1403">
<p>Local database where the end-to-end replication lag from the remote database is measured.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1420" headers="d56545e1397">
<p><code class="codeph">HEARTBEAT_RECEIVED_TS</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1420 d56545e1400">
<p><code class="codeph">TIMESTAMP(6)</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1420 d56545e1403">
<p>Point in time when a timestamp from the remote database receives on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1432" headers="d56545e1397">
<p><code class="codeph">REMOTE_DATABASE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1432 d56545e1400">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1432 d56545e1403">
<p>Remote database where the timestamp is generated.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1444" headers="d56545e1397">
<p><code class="codeph">INCOMING_HEARTBEAT_AGE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1444 d56545e1400">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1444 d56545e1403">&nbsp;</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1456" headers="d56545e1397">
<p><code class="codeph">INCOMING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1456 d56545e1400">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1456 d56545e1403">
<p>Replication path from the remote database to local database with Extract and Replicat components.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1468" headers="d56545e1397">
<p><code class="codeph">INCOMING_LAG</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1468 d56545e1400">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1468 d56545e1403">
<p>Replication lag from the remote database to the local database. This is the time where the heartbeat was generated at the remote database minus the time where the information was persistently inserted into the table on the local database.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1480" headers="d56545e1397">
<p><code class="codeph">OUTGOING_HEARTBEAT_AGE</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1480 d56545e1400">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1480 d56545e1403">&nbsp;</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1492" headers="d56545e1397">
<p><code class="codeph">OUTGOING_PATH</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1492 d56545e1400">
<p><code class="codeph">VARCHAR2</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1492 d56545e1403">
<p>Replication path from local database to the remote database with Extract and Replicat components.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" rowspan="1" colspan="1" id="d56545e1504" headers="d56545e1397">
<p><code class="codeph">OUTGOING_LAG</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1504 d56545e1400">
<p><code class="codeph">NUMBER</code></p>
</td>
<td class="cellalignment2" rowspan="1" colspan="1" headers="d56545e1504 d56545e1403">
<p>Replication lag from the local database to the remote database. This is the time where the heartbeat was generated at the local database minus the time where the information was persistently inserted into the table on the remote database.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="GWUAD1224"></a>
<div class="props_rev_3"><a id="GUID-C1C3CA89-B384-4F3F-8C14-87DA603FC811"></a>
<h3 id="GWUAD-GUID-C1C3CA89-B384-4F3F-8C14-87DA603FC811" class="sect3"><span class="enumeration_section">17.4.2</span> Updating Heartbeat Tables</h3>
<div>
<p>The <code class="codeph">HEARTBEAT_TIMESTAMP</code> column in the heartbeat seed table must be updated periodically by a database job. The default heartbeat interval is 1 minute and this interval can be specified or overridden using a GGSCI or administration server command. For Oracle Database, the database job is created automatically; for all other supported databases, you must create background jobs to update the heartbeat timestamp using the database specific scheduler functionality.</p>
</div>
</div>
<a id="GWUAD1225"></a>
<div class="props_rev_3"><a id="GUID-9E3E9620-C754-4153-99E7-F865A98DC9E3"></a>
<h3 id="GWUAD-GUID-9E3E9620-C754-4153-99E7-F865A98DC9E3" class="sect3"><span class="enumeration_section">17.4.3</span> Purging the Heartbeat History Tables</h3>
<div>
<p>The heartbeat history table is purged periodically using a job. The default interval is 30 days and this interval can be specified or overridden using a GGSCI or administration server command. For Oracle Database, the database job is created automatically; for all other supported databases, you must create background jobs to purge the heartbeat history table using the database specific scheduler functionality.</p>
</div>
</div>
<a id="GWUAD1226"></a>
<div class="props_rev_3"><a id="GUID-D0AEE0DF-8166-45AF-9F2C-8285488C30E1"></a>
<h3 id="GWUAD-GUID-D0AEE0DF-8166-45AF-9F2C-8285488C30E1" class="sect3"><span class="enumeration_section">17.4.4</span> Best Practice</h3>
<div>
<p>Oracle recommends that you:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the same heartbeat frequency on all the databases to makes diagnosis easier.</p>
</li>
<li>
<p>Adjust the retention period if space is an issue.</p>
</li>
<li>
<p>Retain the default heartbeat table frequency; the frequency set to be 30 to 60 seconds gives the best results for most workloads.</p>
</li>
<li>
<p>Use lag history statistics to collect lag and age information.</p>
</li>
</ul>
</div>
</div>
<a id="GWUAD1228"></a><a id="GWUAD1227"></a>
<div class="props_rev_3"><a id="GUID-15F45107-234F-4BC3-BEB3-1A1951481E9D"></a>
<h3 id="GWUAD-GUID-15F45107-234F-4BC3-BEB3-1A1951481E9D" class="sect3"><span class="enumeration_section">17.4.5</span> Using the Automatic Heartbeat Commands</h3>
<div>
<p>You can use the heartbeat table commands to control the Oracle GoldenGate automatic heartbeat functionality as follows.</p>
<div class="tblformal" id="GUID-15F45107-234F-4BC3-BEB3-1A1951481E9D__GUID-34533DEA-CAA2-4434-8A31-A3350101C8ED">
<p class="titleintable">Table 17-6 Heartbeat Table Commands</p>
<table class="cellalignment46" title="Heartbeat Table Commands" summary="Two column table describing heartbeat table commands.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment74" id="d56545e1615">Command</th>
<th class="cellalignment75" id="d56545e1618">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment76" id="d56545e1623" headers="d56545e1615">
<p><code class="codeph">ADD HEARTBEATTABLE</code></p>
</td>
<td class="cellalignment77" headers="d56545e1623 d56545e1618">
<p>Creates the objects required for automatic heartbeat functionality.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment76" id="d56545e1631" headers="d56545e1615">
<p><code class="codeph">ALTER HEARTBEATTABLE</code></p>
</td>
<td class="cellalignment77" headers="d56545e1631 d56545e1618">
<p>Alters existing heartbeat objects.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment76" id="d56545e1639" headers="d56545e1615">
<p><code class="codeph">DELETE HEARTBEATTABLE</code></p>
</td>
<td class="cellalignment77" headers="d56545e1639 d56545e1618">
<p>Deletes existing heartbeat objects.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment76" id="d56545e1647" headers="d56545e1615">
<p><code class="codeph">DELETE HEARTBEATENTRY</code></p>
</td>
<td class="cellalignment77" headers="d56545e1647 d56545e1618">
<p>Deletes entries in the heartbeat table.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment76" id="d56545e1655" headers="d56545e1615">
<p><code class="codeph">INFO HEARTBEATTABLE</code></p>
</td>
<td class="cellalignment77" headers="d56545e1655 d56545e1618">
<p>Displays heartbeat table information.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>For more information, see the <a class="olink GWURF-GUID-B1A6C874-7764-4D01-B909-050C0271D726" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF-GUID-B1A6C874-7764-4D01-B909-050C0271D726">Reference for Oracle GoldenGate for Windows and UNIX</a>.</p>
</div>
</div>
</div>
<a id="GWUAD642"></a>
<div class="props_rev_3"><a id="GUID-0B3C352E-D900-4E16-ABDD-ADEFE36A1118"></a>
<h2 id="GWUAD-GUID-0B3C352E-D900-4E16-ABDD-ADEFE36A1118" class="sect2"><span class="enumeration_section">17.5</span> Monitoring Processing Volume</h2>
<div>
<p>The <code class="codeph">STATS</code> commands in GGSCI show you the amount of data that is being processed by an Oracle GoldenGate process, and how fast it is being moved through the Oracle GoldenGate system. With this information, you can diagnose suspected problems and tune the performance of the Oracle GoldenGate processes. These commands provide a variety of options to select and filter the output.</p>
<p>The <code class="codeph">STATS</code> commands are: <code class="codeph">STATS EXTRACT</code>, <code class="codeph">STATS REPLICAT</code>, or <code class="codeph">STATS ER</code> command.</p>
<p>You can send interim statistics to the report file at any time with the <code class="codeph">SEND EXTRACT</code> or <code class="codeph">SEND REPLICAT</code> command with the <code class="codeph">REPORT</code> option.</p>
</div>
</div>
<a id="GWUAD643"></a>
<div class="props_rev_3"><a id="GUID-3607EC6C-BE88-45CA-AC7A-EC55155793F7"></a>
<h2 id="GWUAD-GUID-3607EC6C-BE88-45CA-AC7A-EC55155793F7" class="sect2"><span class="enumeration_section">17.6</span> Using the Error Log</h2>
<div>
<p>Use the Oracle GoldenGate error log to view:</p>
<ul style="list-style-type: disc;">
<li>
<p>a history of GGSCI commands</p>
</li>
<li>
<p>Oracle GoldenGate processes that started and stopped</p>
</li>
<li>
<p>processing that was performed</p>
</li>
<li>
<p>errors that occurred</p>
</li>
<li>
<p>informational and warning messages</p>
</li>
</ul>
<p>Because the error log shows events as they occurred in sequence, it is a good tool for detecting the cause (or causes) of an error. For example, you might discover that:</p>
<ul style="list-style-type: disc;">
<li>
<p>someone stopped a process</p>
</li>
<li>
<p>a process failed to make a TCP/IP or database connection</p>
</li>
<li>
<p>a process could not open a file</p>
</li>
</ul>
<p>To view the error log, use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Standard shell command to view the <code class="codeph">ggserr.log</code> file within the root Oracle GoldenGate directory</p>
</li>
<li>
<p>Oracle GoldenGate Director or Oracle GoldenGate Monitor</p>
</li>
<li>
<p><code class="codeph">VIEW GGSEVT</code> command in GGSCI.</p>
</li>
</ul>
</div>
</div>
<a id="GWUAD644"></a>
<div class="props_rev_3"><a id="GUID-81298252-07F1-44C5-B09E-3421AE163354"></a>
<h2 id="GWUAD-GUID-81298252-07F1-44C5-B09E-3421AE163354" class="sect2"><span class="enumeration_section">17.7</span> Using the Process Report</h2>
<div>
<p>Use the process report to view (depending on the process):</p>
<ul style="list-style-type: disc;">
<li>
<p>parameters in use</p>
</li>
<li>
<p>table and column mapping</p>
</li>
<li>
<p>database information</p>
</li>
<li>
<p>runtime messages and errors</p>
</li>
<li>
<p>runtime statistics for the number of operations processed</p>
</li>
</ul>
<p>Every Extract, Replicat, and Manager process generates a report file. The report can help you diagnose problems that occurred during the run, such as invalid mapping syntax, SQL errors, and connection errors.</p>
<p>To view a process report, use any of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>standard shell command for viewing a text file</p>
</li>
<li>
<p><span>Oracle GoldenGate Monitor</span></p>
</li>
<li>
<p><code class="codeph">VIEW REPORT</code> command in GGSCI.</p>
</li>
<li>
<p>To view information if a process abends without generating a report, use the following command to run the process from the command shell of the operating system (not GGSCI) to send the information to the terminal.</p>
<pre dir="ltr">
<span class="italic">process</span> paramfile <span class="italic">path</span>.prm
</pre>
<p>Where:</p>
<ul style="list-style-type: disc;">
<li>
<p>The value for <span class="italic"><code class="codeph">process</code></span> is either <code class="codeph">extract</code> or <code class="codeph">replicat</code>.</p>
</li>
<li>
<p>The value for <span class="italic"><code class="codeph">path</code></span>.<code class="codeph">prm</code> is the fully qualified name of the parameter file, for example:</p>
<pre dir="ltr">
replicat paramfile /ogg/dirdat/repora.prm
</pre></li>
</ul>
</li>
</ul>
<p>By default, reports have a file extension of <code class="codeph">.rpt</code>, for example <code class="codeph">EXTORA.rpt</code>. The default location is the <code class="codeph">dirrpt</code> sub-directory of the Oracle GoldenGate directory. However, these properties can be changed when the group is created. Once created, a report file must remain in its original location for Oracle GoldenGate to operate properly after processing has started.</p>
<p>To determine the name and location of a process report, use the <code class="codeph">INFO EXTRACT</code>, <code class="codeph">INFO REPLICAT</code>, or <code class="codeph">INFO MANAGER</code> command in GGSCI.</p>
</div>
<a id="GWUAD645"></a>
<div class="props_rev_3"><a id="GUID-B0B81D50-2199-45CD-BC0A-60FF86E5854F"></a>
<h3 id="GWUAD-GUID-B0B81D50-2199-45CD-BC0A-60FF86E5854F" class="sect3"><span class="enumeration_section">17.7.1</span> Scheduling Runtime Statistics in the Process Report</h3>
<div>
<div class="section">
<p>By default, runtime statistics are written to the report once, at the end of each run. For long or continuous runs, you can use optional parameters to view these statistics on a regular basis, without waiting for the end of the run.</p>
<p>To set a schedule for reporting runtime statistics, use the <code class="codeph">REPORT</code> parameter in the Extract or Replicat parameter file to specify a day and time to generate runtime statistics in the report. See <a class="olink GWURF617" target="_blank" href="../GWURF/report.htm#GWURF617"><code class="codeph">REPORT</code></a>.</p>
<p>To send runtime statistics to the report on demand, use the <code class="codeph">SEND EXTRACT</code> or <code class="codeph">SEND REPLICAT</code> command with the <code class="codeph">REPORT</code> option to view current runtime statistics when needed.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="GWUAD646"></a>
<div class="props_rev_3"><a id="GUID-177F58F3-37E6-42DC-B4A9-15A914A7C1C4"></a>
<h3 id="GWUAD-GUID-177F58F3-37E6-42DC-B4A9-15A914A7C1C4" class="sect3"><span class="enumeration_section">17.7.2</span> Viewing Record Counts in the Process Report</h3>
<div>
<p>Use the <code class="codeph">REPORTCOUNT</code> parameter to report a count of transaction records that Extract or Replicat processed since startup. Each transaction record represents a logical database operation that was performed within a transaction that was captured by Oracle GoldenGate. The record count is printed to the report file and to the screen. For more information, see <a class="olink GWURF620" target="_blank" href="../GWURF/reportcount.htm#GWURF620"><span class="italic"><span id="GUID-177F58F3-37E6-42DC-B4A9-15A914A7C1C4__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
</div>
<a id="GWUAD647"></a>
<div class="props_rev_3"><a id="GUID-D99D094E-3904-4E84-B83E-8992DD7727C6"></a>
<h3 id="GWUAD-GUID-D99D094E-3904-4E84-B83E-8992DD7727C6" class="sect3"><span class="enumeration_section">17.7.3</span> Preventing SQL Errors from Filling the Replicat Report File</h3>
<div>
<p>Use the <code class="codeph">WARNRATE</code> parameter to set a threshold for the number of SQL errors that can be tolerated on any target table before being reported to the process report and to the error log. The errors are reported as a warning. If your environment can tolerate a large number of these errors, increasing <code class="codeph">WARNRATE</code> helps to minimize the size of those files. For more information, see <a class="olink GWURF740" target="_blank" href="../GWURF/warnrate.htm#GWURF740"><span class="italic"><span id="GUID-D99D094E-3904-4E84-B83E-8992DD7727C6__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
</div>
</div>
<a id="GWUAD648"></a>
<div class="props_rev_3"><a id="GUID-EFBBE0E6-F5FD-4B9B-9804-E95B9D7B5BF0"></a>
<h2 id="GWUAD-GUID-EFBBE0E6-F5FD-4B9B-9804-E95B9D7B5BF0" class="sect2"><span class="enumeration_section">17.8</span> Using the Discard File</h2>
<div>
<p>By default, a discard file is generated whenever a process is started with the <code class="codeph">START</code> command through GGSCI. The discard file captures information about Oracle GoldenGate operations that failed. This information can help you resolve data errors, such as those that involve invalid column mapping.</p>
<p>The discard file reports such information as:</p>
<ul style="list-style-type: disc;">
<li>
<p>The database error message</p>
</li>
<li>
<p>The sequence number of the data source or trail file</p>
</li>
<li>
<p>The relative byte address of the record in the data source or trail file</p>
</li>
<li>
<p>The details of the discarded operation, such as column values of a DML statement or the text of a DDL statement.</p>
</li>
</ul>
<p>To view the discard file, use a text editor or use the <code class="codeph">VIEW REPORT</code> command in GGSCI. See <a class="olink GWURF331" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E81615-01&amp;id=GWURF331"><span class="italic"><span id="GUID-EFBBE0E6-F5FD-4B9B-9804-E95B9D7B5BF0__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<p>The default discard file has the following properties:</p>
<ul style="list-style-type: disc;">
<li>
<p>The file is named after the process that creates it, with a default extension of <code class="codeph">.dsc</code>. Example: <code class="codeph">finance.dsc</code>.</p>
</li>
<li>
<p>The file is created in the <code class="codeph">dirrpt</code> sub-directory of the Oracle GoldenGate installation directory.</p>
</li>
<li>
<p>The maximum file size is 50 megabytes.</p>
</li>
<li>
<p>At startup, if a discard file exists, it is purged before new data is written.</p>
</li>
</ul>
<p>You can change these properties by using the <code class="codeph">DISCARDFILE</code> parameter. You can disable the use of a discard file by using the <code class="codeph">NODISCARDFILE</code> parameter. See <a class="olink GWURF462" target="_blank" href="../GWURF/discardfile-nodiscardfile.htm#GWURF462"><span class="italic"><span><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
<p>If a proces is started from the command line of the operating system, it does not generate a discard file by default. You can use the <code class="codeph">DISCARDFILE</code> parameter to specify the use of a discard file and its properties.</p>
<p>Once created, a discard file must remain in its original location for Oracle GoldenGate to operate properly after processing has started.</p>
</div>
</div>
<a id="GWUAD650"></a><a id="GWUAD649"></a>
<div class="props_rev_3"><a id="GUID-FF1AA2C3-4F3D-4CE7-B76B-3048CBA1A3F5"></a>
<h2 id="GWUAD-GUID-FF1AA2C3-4F3D-4CE7-B76B-3048CBA1A3F5" class="sect2"><span class="enumeration_section">17.9</span> Maintaining the Discard and Report Files</h2>
<div>
<p>By default, discard files and report files are aged the same way. A new discard or report file is created at the start of a new process run. Old files are aged by appending a sequence number from 0 (the most recent) to 9 (the oldest) to their names.</p>
<p>If the active report or discard file reaches its maximum file size before the end of a run (or over a continuous run), the process abends unless there is an aging schedule in effect. Use the <code class="codeph">DISCARDROLLOVER</code> and <code class="codeph">REPORTROLLOVER</code> parameters to set aging schedules for the discard and report files respectively. These parameters set instructions for rolling over the files at regular intervals, in addition to when the process starts. Not only does this control the size of the files and prevent process outages, but it also provides a predictable set of archives that can be included in your archiving routine. For more information, see the following documentation:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink GWURF463" target="_blank" href="../GWURF/discardrollover.htm#GWURF463"><code class="codeph">DISCARDROLLOVER</code></a></p>
</li>
<li>
<p><a class="olink GWURF623" target="_blank" href="../GWURF/reportrollover.htm#GWURF623"><code class="codeph">REPORTROLLOVER</code></a></p>
</li>
</ul>
<p>No process ever has more than ten aged reports or discard files and one active report or discard file. After the tenth aged file, the oldest is deleted when a new report is created. It is recommended that you establish an archiving schedule for aged reports and discard files in case they are needed to resolve a service request.</p>
<div class="tblformal" id="GUID-FF1AA2C3-4F3D-4CE7-B76B-3048CBA1A3F5__GUID-616E4B27-466E-40CB-BE88-E85216B7710E">
<p class="titleintable">Table 17-7 Current Extract and Manager Reports Plus Aged Reports</p>
<table class="cellalignment46" title="Current Extract and Manager Reports Plus Aged Reports" summary="This table lists the current extract and manager reports plus aged reports. There are four columns: Permissions, X, Date, Report.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment55" id="d56545e2140">Permissions</th>
<th class="cellalignment55" id="d56545e2143">X</th>
<th class="cellalignment55" id="d56545e2146">Date</th>
<th class="cellalignment55" id="d56545e2149">Report</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2154" headers="d56545e2140">
<p>-rw-rw-rw-</p>
</td>
<td class="cellalignment56" headers="d56545e2154 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2154 d56545e2146">
<pre dir="ltr">
1193 Oct 11 14:59
</pre></td>
<td class="cellalignment56" headers="d56545e2154 d56545e2149">
<pre dir="ltr">
MGR.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2167" headers="d56545e2140">
<p>-rw-rw-rw-</p>
</td>
<td class="cellalignment56" headers="d56545e2167 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2167 d56545e2146">
<pre dir="ltr">
3996 Oct 5  14:02
</pre></td>
<td class="cellalignment56" headers="d56545e2167 d56545e2149">
<pre dir="ltr">
MGR0.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2180" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2180 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2180 d56545e2146">
<pre dir="ltr">
4384 Oct 5  14:02
</pre></td>
<td class="cellalignment56" headers="d56545e2180 d56545e2149">
<pre dir="ltr">
TCUST.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2193" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2193 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2193 d56545e2146">
<pre dir="ltr">
1011 Sep 27 14:10
</pre></td>
<td class="cellalignment56" headers="d56545e2193 d56545e2149">
<pre dir="ltr">
TCUST0.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2206" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2206 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2206 d56545e2146">
<pre dir="ltr">
3184 Sep 27 14:10
</pre></td>
<td class="cellalignment56" headers="d56545e2206 d56545e2149">
<pre dir="ltr">
TCUST1.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2219" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2219 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2219 d56545e2146">
<pre dir="ltr">
2655 Sep 27 14:06
</pre></td>
<td class="cellalignment56" headers="d56545e2219 d56545e2149">
<pre dir="ltr">
TCUST2.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2232" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2232 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2232 d56545e2146">
<pre dir="ltr">
2655 Sep 27 14:04
</pre></td>
<td class="cellalignment56" headers="d56545e2232 d56545e2149">
<pre dir="ltr">
TCUST3.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2245" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2245 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2245 d56545e2146">
<pre dir="ltr">
2744 Sep 27 13:56
</pre></td>
<td class="cellalignment56" headers="d56545e2245 d56545e2149">
<pre dir="ltr">
TCUST4.rpt
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment56" id="d56545e2258" headers="d56545e2140">
<pre dir="ltr">
-rw-rw-rw-
</pre></td>
<td class="cellalignment56" headers="d56545e2258 d56545e2143">
<pre dir="ltr">
1 ggs ggs
</pre></td>
<td class="cellalignment56" headers="d56545e2258 d56545e2146">
<pre dir="ltr">
3571 Aug 29 14:27
</pre></td>
<td class="cellalignment56" headers="d56545e2258 d56545e2149">
<pre dir="ltr">
TCUST5.rpt
</pre></td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<a id="GWUAD652"></a>
<div class="props_rev_3"><a id="GUID-EFDF948D-9C32-4E6F-A767-00C0FB2C37E4"></a>
<h2 id="GWUAD-GUID-EFDF948D-9C32-4E6F-A767-00C0FB2C37E4" class="sect2"><span class="enumeration_section">17.10</span> Reconciling Time Differences</h2>
<div>
<p>To account for time differences between source and target systems, use the <code class="codeph">TCPSOURCETIMER</code> parameter in the Extract parameter file. This parameter adjusts the timestamps of replicated records for reporting purposes, making it easier to interpret synchronization lag. For more information, see <a class="olink GWURF701" target="_blank" href="../GWURF/tcpsourcetimer-notcpsourcetimer.htm#GWURF701"><span class="italic"><span id="GUID-EFDF948D-9C32-4E6F-A767-00C0FB2C37E4__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</div>
</div>
<a id="GWUAD658"></a>
<div class="props_rev_3"><a id="GUID-98FDF953-2B9C-45ED-9FAC-A3240F8B2614"></a>
<h2 id="GWUAD-GUID-98FDF953-2B9C-45ED-9FAC-A3240F8B2614" class="sect2"><span class="enumeration_section">17.11</span> Getting Help with Performance Tuning</h2>
<div>
<p>See <a href="tuning-performance-oracle-goldengate.htm#GUID-CAD4585D-9CC9-4542-AD5C-9FA941896FC9" title="This chapter contains suggestions for improving the performance of Oracle GoldenGate components.">Tuning the Performance of Oracle GoldenGate</a> for help with tuning the performance of Oracle GoldenGate.</p>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment8">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="customizing-oracle-goldengate-processing.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="tuning-performance-oracle-goldengate.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment10">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
