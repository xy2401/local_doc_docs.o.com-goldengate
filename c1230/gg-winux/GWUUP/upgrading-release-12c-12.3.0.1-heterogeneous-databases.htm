<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Upgrading to Release 12c (12.3.0.1) for Heterogeneous Databases</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="These instructions are for upgrading Oracle GoldenGateClassic Architecture in the following heterogeneous database environments:" />
<meta name="dcterms.created" content="2018-09-07T07:38:38Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Upgrading Oracle GoldenGate" />
<meta name="dcterms.identifier" content="E81594-04" />
<meta name="dcterms.isVersionOf" content="GWUUP" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="upgrading-release-oracle-database.htm" title="Previous" type="text/html" />
<link rel="Next" href="installing-patches-release-12c.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWUUP.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-7A0B09F0-ECAA-4BE7-A098-874A8A9CCEEB"></a> <span id="PAGE" style="display:none;">10/14</span> <!-- End Header -->
<a id="GWUUP130"></a><a id="GWUUP129"></a>
<h1 id="GWUUP-GUID-7A0B09F0-ECAA-4BE7-A098-874A8A9CCEEB" class="sect1"><span class="enumeration_chapter">3</span> Upgrading to Release 12<span class="italic">c</span> (12.3.0.1) for Heterogeneous Databases</h1>
<div>
<div><span>These instructions are for upgrading <span>Oracle GoldenGate</span><span>Classic Architecture</span> in the following heterogeneous database environments:</span></div>
<ul style="list-style-type: disc;">
<li>
<p>DB2 for i</p>
</li>
<li>
<p>DB2 LUW</p>
</li>
<li>
<p>DB2 z/OS</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
<li>
<p>Teradata</p>
</li>
</ul>
<p><span class="bold">Topics:</span></p>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="upgrading-release-12c-12.3.0.1-heterogeneous-databases.htm#GUID-C1C49905-DC23-4319-98FC-D581B68BB124">Overview of the Upgrade Procedure for Heterogeneous Databases</a><br /></li>
<li class="ulchildlink"><a href="upgrading-release-12c-12.3.0.1-heterogeneous-databases.htm#GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5">Upgrading to Oracle GoldenGate 12c (12.3.0.1) for Heterogeneous Databases</a><br /></li>
</ul>
</div>
<a id="GWUUP131"></a>
<div class="props_rev_3"><a id="GUID-C1C49905-DC23-4319-98FC-D581B68BB124"></a>
<h2 id="GWUUP-GUID-C1C49905-DC23-4319-98FC-D581B68BB124" class="sect2"><span class="enumeration_section">3.1</span> Overview of the Upgrade Procedure for Heterogeneous Databases</h2>
<div>
<p>The upgrade instructions perform a minimal upgrade only to deploy the updated core Oracle GoldenGate functionality, without implementing any of the major new 12<span class="italic">c</span> (12.3.0.1) features at this time, such as coordinated Replicat, updated globalization support, new SQL-92 defaults, and enhanced security features. The best practice is to perform a minimal upgrade first, so that you can troubleshoot more easily in the event that any problems arise. Once you know your environment is upgraded successfully, you can implement the new functionality.</p>
<p>If you are upgrading multiple Extract processes that operate in a consolidation configuration (many sources to one target), follow these steps fully to upgrade one Extract at a time.</p>
<p>All Replicat installations should be upgraded at the same time. It is critical to ensure that all trails leading to all Replicat groups on all target systems are processed until empty, according to these instructions.</p>
<div class="infoboxnotewarn" id="GUID-C1C49905-DC23-4319-98FC-D581B68BB124__GUID-E575B2DF-331D-4400-8213-E3A53EA4163D">
<p class="notep1">WARNING:</p>
<p>The hash calculation used by the <code class="codeph">@RANGE</code> function to partition data among Replicat processes has been changed. This change is transparent, and no re-partitioning of rows in the parameter files is required, so long as the upgrade is performed as directed in these instructions. To ensure data continuity, make certain to allow all Replicat processes on all systems to finish processing all of the data in their trails before stopping those processes, according to the upgrade instructions. Note that if the Replicat processes are not upgraded all at the same time, or the trails are not cleaned out prior to the upgrade, rows may shift partitions as a result of the new hash method, which may result in collision errors.</p>
</div>
<p>For more information on obtaining the <span>Oracle GoldenGate</span> distribution for heterogeneous databases, see <a href="upgrading-release-oracle-database.htm#GUID-9B490BE5-F0AE-44D1-B63C-F5299B9DFD16">Understanding and Obtaining the Oracle GoldenGate Distribution</a>.</p>
</div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="upgrading-release-12c-12.3.0.1-heterogeneous-databases.htm#GUID-7A0B09F0-ECAA-4BE7-A098-874A8A9CCEEB" title="These instructions are for upgrading Oracle GoldenGateClassic Architecture in the following heterogeneous database environments:">Upgrading to Release 12c (12.3.0.1) for Heterogeneous Databases</a></p>
</div>
</div>
</div>
</div>
<a id="GWUUP133"></a>
<div class="props_rev_3"><a id="GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5"></a>
<h2 id="GWUUP-GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5" class="sect2"><span class="enumeration_section">3.2</span> Upgrading to Oracle GoldenGate 12<span class="italic">c</span> (12.3.0.1) for Heterogeneous Databases</h2>
<div>
<div class="section">
<p>Even though you may only be upgrading Extract or Replicat, rather than both, all processes are involved in the upgrade. All processes must be stopped in the correct order for the upgrade, regardless of which component you upgrade, and the trails must be processed until empty.</p>
<ol>
<li>
<p>(Source and target systems) Back up the current Oracle GoldenGate installation directory on the source and target systems, and any working directories that you have installed on a shared drive in a cluster (if applicable).</p>
</li>
<li>
<p>(Source and target systems, as applicable) Expand version 12<span class="italic">c</span> (12.3.0.1) of Oracle GoldenGate into a new directory on each system (not the current Oracle GoldenGate directory). Do not create the sub-directories; just complete the steps to the point where the installation files are expanded.</p>
</li>
<li>
<p>(Source system) Stop user activity on objects in the Oracle GoldenGate configuration.</p>
</li>
<li>
<p>(Source system) In GGSCI on the source system, issue the <code class="codeph">SEND EXTRACT</code> command with the <code class="codeph">LOGEND</code> option until it shows there is no more data in transaction log to process.</p>
<p><code class="codeph">GGSCI&gt; SEND EXTRACT</code> <span class="italic"><code class="codeph">group</code></span> <code class="codeph">LOGEND</code></p>
</li>
<li>
<p>(Source system) In GGSCI, stop Extract and data pumps.</p>
<p><code class="codeph">GGSCI&gt; STOP EXTRACT</code> <span class="italic"><code class="codeph">group</code></span></p>
</li>
<li>
<p>(Target systems) In GGSCI on each target system, issue the <code class="codeph">SEND REPLICAT</code> command with the <code class="codeph">STATUS</code> option until it shows a status of "<code class="codeph">At EOF</code>" to indicate that it finished processing all of the data in the trail. This must be done on all target systems until all Replicat processes return "<code class="codeph">At EOF</code>."</p>
<p><code class="codeph">GGSCI&gt; SEND REPLICAT</code> <span class="italic"><code class="codeph">group</code></span> <code class="codeph">STATUS</code></p>
</li>
<li>
<p>(Target systems) In GGSCI, stop all Replicat processes.</p>
<p><code class="codeph">GGSCI&gt; STOP REPLICAT</code> <span class="italic"><code class="codeph">group</code></span></p>
</li>
<li>
<p>(Source and target systems) In GGSCI, stop Manager on the source and target systems.</p>
<p><code class="codeph">GGSCI&gt; STOP MANAGER</code></p>
</li>
<li>
<p>If you want to upgrade the source or target database, or both, do so at this time according to the upgrade instructions provided by the database vendor. Make certain to start the databases after the upgrade, but do not permit transactions on the objects in the Oracle GoldenGate configuration.</p>
</li>
<li>
<p>(Source and target systems) Move the expanded Oracle GoldenGate files from the new directory to your existing Oracle GoldenGate directory on the source and target systems.</p>
</li>
<li>
<p>(DB2 for i) Run <code class="codeph">ggos400install</code> without arguments. For an upgrade, no arguments are necessary; however, if you change the library, the old library is left on the system until you remove it. For more information about <code class="codeph">ggos400install</code>, see <a class="olink GGHDB-GUID-F382412C-640E-473F-8223-37B0A7AB04C6" target="_blank" href="../GGHDB/using-oracle-goldengate-db2-i.htm#GGHDB-GUID-F382412C-640E-473F-8223-37B0A7AB04C6"><span class="italic"><span id="GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5__GGHDB"><cite>Using Oracle GoldenGate for Heterogeneous Databases</cite></span></span></a>.</p>
</li>
<li>
<p>(Target systems, if upgrading Replicat from version 11.2.1.0.0 or earlier only) In GGSCI on each target system, issue the following commands to upgrade the Replicat checkpoint tables on those systems. This step updates the table definition.</p>
<pre dir="ltr">
GGSCI&gt; DBLOGIN {[SOURCEDB <span class="italic">data_source</span>] |[, <span class="italic">database@host:port</span>] |USERID {/ | <span class="italic">userid</span>}[, PASSWORD <span class="italic">password</span>]   [<span class="italic">algorithm</span> ENCRYPTKEY {<span class="italic">keyname</span> | DEFAULT}] |USERIDALIAS <span class="italic">alias</span> [DOMAIN <span class="italic">domain</span>] |[SYSDBA | SQLID sqlid][SESSIONCHARSET character_set]}
</pre>
<p><code class="codeph">GGSCI&gt; UPGRADE CHECKPOINTTABLE [</code><span class="italic"><code class="codeph">owner</code></span>.<span class="italic"><code class="codeph">table</code></span><code class="codeph">]</code></p>
<div class="infobox-note" id="GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5__GUID-CE823BE6-F266-41C8-BB8D-73D6ED1496CD">
<p class="notep1">Note:</p>
<p><span class="italic"><code class="codeph">owner</code></span>.<span class="italic"><code class="codeph">table</code></span> can be omitted if the checkpoint table was created with the name listed with <code class="codeph">CHECKPOINTTABLE</code> in the <code class="codeph">GLOBALS</code> file.</p>
</div>
</li>
<li>
<p>(Source and target systems) Updates to the trail version, the checkpoint storage format, and integrated capture require that you perform the following steps:</p>
<ol>
<li>
<p>In GGSCI, alter the primary Extract process and the associated data-pump Extract processes to write to a new trail sequence number. The command should return "<code class="codeph">Rollover performed</code>."</p>
<p><code class="codeph">GGSCI&gt; ALTER EXTRACT</code> <span class="italic"><code class="codeph">group</code></span> <code class="codeph">ETROLLOVER</code></p>
</li>
<li>
<p>In GGSCI, issue the <code class="codeph">INFO EXTRACT</code> command with <code class="codeph">DETAIL</code> for the primary Extract and the data pumps to verify the trail sequence number.</p>
<p><code class="codeph">GGSCI&gt; INFO EXTRACT</code> <span class="italic"><code class="codeph">group</code></span><code class="codeph">, DETAIL</code></p>
</li>
<li>
<p>In GGSCI, reposition the data pumps and the Replicat processes to start at the new trail sequence number.</p>
<p><code class="codeph">GGSCI&gt; ALTER EXTRACT</code> <span class="italic"><code class="codeph">pump</code></span>, <code class="codeph">EXTSEQNO</code> <span class="italic"><code class="codeph">seqno</code></span>, <code class="codeph">EXTRBA</code> <span class="italic"><code class="codeph">RBA</code></span></p>
<p><code class="codeph">GGSCI&gt; ALTER REPLICAT</code> <span class="italic"><code class="codeph">group</code></span>, <code class="codeph">EXTSEQNO</code> <span class="italic"><code class="codeph">seqno</code></span>, <code class="codeph">EXTRBA</code> <span class="italic"><code class="codeph">RBA</code></span></p>
</li>
</ol>
</li>
<li>
<p>(Source system if not upgrading Extract) Add the <code class="codeph">SOURCECHARSET</code> parameter to the Replicat parameter file. Specify the character set of the source database with this parameter. For more information, see <a class="olink GWURF1123" target="_blank" href="../GWURF/sourcecharset.htm#GWURF1123"><span class="italic"><span id="GUID-39518CC7-E8D7-4F2D-A02D-BD91F27957F5__GWURF"><cite>Reference for Oracle GoldenGate</cite></span></span></a>.</p>
</li>
<li>
<p>(Source system if not upgrading Replicat) If you are not upgrading Replicat on the target systems at this time, add the following parameter to the Extract parameter file to specify the version of Oracle GoldenGate that is running on the target. This parameter causes Extract to write a version of the trail that is compatible with the older version of Replicat.</p>
<pre dir="ltr">
{EXTTRAIL | RMTTRAIL} <span class="italic">file_name</span> FORMAT RELEASE <span class="italic">major.minor</span>
</pre>
<p>where: <span class="italic"><code class="codeph">version</code></span> specifies an Oracle GoldenGate release version. <span class="italic"><code class="codeph">major</code></span> is the major version number, and <span class="italic"><code class="codeph">minor</code></span> is the minor version number, such as 11.2. Make certain to include the dot.</p>
</li>
<li>
<p>(Oracle GoldenGate upgrades on DB2 z/OS) You might need to re-set the "a" attribute for the Extract process and its DLLs to APF-authorize them to use the privileged API. For more information, see the installation instructions in <a class="olink GGHDB-GUID-E01BB974-8E30-4314-8A16-E6D38A2EB4B2" target="_blank" href="../GGHDB/using-oracle-goldengate-db2-z-os.htm#GGHDB-GUID-E01BB974-8E30-4314-8A16-E6D38A2EB4B2"><span><cite>Using Oracle GoldenGate for Heterogeneous Databases</cite></span></a>.</p>
</li>
<li>
<p>If you made copies of the parameter files to make parameter changes, move the new parameter files into the Oracle GoldenGate directory where the old parameter files were stored, and give them the same names as the old parameter files. If using case-sensitivity support, make certain that you either added <code class="codeph">NOUSEANSISQLQUOTES</code> to your parameter files, or that you ran the <code class="codeph">convprm</code> utility to convert the quotes as required. See <span class="q">"<a href="overview-upgrading-oracle-goldengate.htm#GUID-05463909-EA5F-40C0-BDD4-C9D6291D8690">Upgrade Considerations if Using Character-Set Conversion</a>"</span> for more information.</p>
</li>
<li>
<p>In GGSCI, start the Oracle GoldenGate processes on the source and target systems in the following order.</p>
<pre dir="ltr">
GGSCI&gt; START MANAGER
GGSCI&gt; START EXTRACT <span class="italic">group</span>
GGSCI&gt; START EXTRACT <span class="italic">pump</span>
GGSCI&gt; START REPLICAT <span class="italic">group</span>
</pre></li>
<li>
<p>If you need to restore any log files, Extract will abend with an error that indicates the log to restore. Restore the logs back to, and including that log, and then restart Extract.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<div>
<div class="familylinks">
<div class="parentlink">
<p><strong>Parent topic:</strong> <a href="upgrading-release-12c-12.3.0.1-heterogeneous-databases.htm#GUID-7A0B09F0-ECAA-4BE7-A098-874A8A9CCEEB" title="These instructions are for upgrading Oracle GoldenGateClassic Architecture in the following heterogeneous database environments:">Upgrading to Release 12c (12.3.0.1) for Heterogeneous Databases</a></p>
</div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment274">
<tr>
<td class="cellalignment281">
<table class="cellalignment284">
<tr>
<td class="cellalignment278"><a href="upgrading-release-oracle-database.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment278"><a href="installing-patches-release-12c.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment283">
<table class="cellalignment277">
<tr>
<td class="cellalignment278"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment278"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment278"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
