<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>GETUPDATEBEFORES | IGNOREUPDATEBEFORES</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-09-07T12:04:07Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Fusion Middleware Reference for Oracle GoldenGate" />
<meta name="dcterms.identifier" content="E81608-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="getupdateafters-ignoreupdateafters.htm" title="Previous" type="text/html" />
<link rel="Next" href="getupdates-ignoreupdates.htm" title="Next" type="text/html" />
<link rel="alternate" href="GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-3CA51C08-8D8C-4CD5-AEB2-E0DFEF1B6BF7"></a> <span id="PAGE" style="display:none;">145/356</span> <!-- End Header -->
<a id="GWURF515"></a>
<h1 id="GWURF-GUID-3CA51C08-8D8C-4CD5-AEB2-E0DFEF1B6BF7" class="sect1"><span class="enumeration_section">6.76</span> GETUPDATEBEFORES | IGNOREUPDATEBEFORES</h1>
<div>
<div class="section">
<p class="subhead1">Valid For</p>
<p>Extract and Replicat</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Description</p>
<p>Use the <code class="codeph">GETUPDATEBEFORES</code> and <code class="codeph">IGNOREUPDATEBEFORES</code> parameters to control whether or not the before images of columns in <code class="codeph">UPDATE</code> operations are included in the records that are processed by Oracle GoldenGate. Before images contain column details that existed before a row was updated.</p>
<p>Oracle GoldenGate 12c captures both the pre-change and post-change values for update operations in a single unified update record by default. In previous releases the default was to only capture the post-change value. Beginning in this release, custom SQL statements (<code class="codeph">SQLEXEC</code>) now only execute once per update operation with the new default update format. Prior to this release, custom SQL statements would execute twice, once when encountering the pre-change value and once when encountering the post-change value. If you are using the Oracle GoldenGate 12c (12.1<span class="italic">.x</span> or 12.2<span class="italic">.x</span>) with the new unified update format, you can explicitly pass the pre or post-value to the custom SQL statement using the <code class="codeph">@BEFORE</code>, <code class="codeph">@AFTER</code>, and <code class="codeph">@BEFOREAFTER</code> functions. Though Oracle GoldenGate 12.2<code class="codeph">.x</code> attempts to use this new update format by default, the old format cam be preserved if there are conflicting parameters that would have previously generated two separate pre and post change records. In these cases, an informational message is logged in &thinsp;the report file.</p>
<p>Use the <code class="codeph">GETUPDATEBEFORES</code> parameter as follows:</p>
<ul style="list-style-type: disc;">
<li>
<p>in the Extract parameter file to extract before images from the data source.</p>
</li>
<li>
<p>in the Replicat parameter file to include before images in a Replicat operation.</p>
</li>
</ul>
<p>You can compare before images with after images to identify the net results of a transaction or perform other delta calculations. For example, if a <code class="codeph">BALANCE</code> field is $100 before an update and $120 afterward, a comparison would show the difference of $20. You can use the column-conversion functions of Oracle GoldenGate to perform the comparisons and calculations.</p>
<p>To reference before images in the parameter file, use the <code class="codeph">@BEFORE</code> conversion function. For example:</p>
<pre dir="ltr">
COLMAP (previous = @BEFORE (balance))
</pre>
<p><code class="codeph">GETUPDATEBEFORES</code> is required when using the Conflict Detection and Resolution (CDR) feature for a Oracle database on any of the platforms that are supported by Oracle GoldenGate. See <a class="olink GWUAD314" target="_blank" href="../GWUAD/configuring-oracle-goldengate-active-active-high-availability.htm#GWUAD314"><span class="italic"><span id="GUID-3CA51C08-8D8C-4CD5-AEB2-E0DFEF1B6BF7__GWUAD"><cite>Administering Oracle GoldenGate</cite></span></span></a> for more information about CDR.</p>
<p>The <code class="codeph">GETUPDATEBEFORES</code> and <code class="codeph">IGNOREUPDATEBEFORES</code> parameters are table-specific. One parameter remains in effect for all subsequent <code class="codeph">TABLE</code> or <code class="codeph">MAP</code> statements, until the other parameter is encountered.</p>
<p>Because you can selectively enable or disable these parameters between <code class="codeph">MAP</code> statements, you can enable or disable them for different threads of a coordinated Replicat. Specify the <code class="codeph">GETUPDATEBEFORES</code> threads in one set of <code class="codeph">MAP</code> statements, and specify the <code class="codeph">IGNOREUPDATEBEFORES</code> threads in a different set of <code class="codeph">MAP</code> statements.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Default</p>
<pre dir="ltr">
IGNOREUPDATEBEFORES
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Syntax</p>
<pre dir="ltr">
GETUPDATEBEFORES | IGNOREUPDATEBEFORES
</pre></div>
<!-- class="section" -->
<div class="section">
<p class="subhead1">Example</p>
<p>This example shows how you can apply <code class="codeph">GETUPDATEBEFORES</code> and <code class="codeph">IGNOREUPDATEBEFORES</code> selectively to different <code class="codeph">MAP</code> statements, each of which represents a different thread of a coordinated Replicat.</p>
<pre dir="ltr">
GETUPDATEBEFORES
MAP sales.cust, TARGET sales.cust, THREAD (1);
MAP sales.ord, TARGET sales.ord, THREAD (2);
IGNOREUPDATEBEFORES
MAP sales.loc, TARGET sales.loc, THREAD (3);
</pre></div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment350">
<tr>
<td class="cellalignment357">
<table class="cellalignment355">
<tr>
<td class="cellalignment354"><a href="getupdateafters-ignoreupdateafters.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment354"><a href="getupdates-ignoreupdates.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment359">
<table class="cellalignment353">
<tr>
<td class="cellalignment354"><a href="http://docs.oracle.com/goldengate/c1230/gg-winux/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment354"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment354"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
