<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>SEQUENCE</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="Contains instructions for using Oracle GoldenGate commands, parameters, and functions." />
<meta name="dcterms.created" content="2015-06-05T16:34:23Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29392-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="gg_parameters141.htm" title="Previous" type="text/html" />
<link rel="Next" href="gg_parameters143.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWURF.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWURF.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">258/413</span>
<!-- End Header --><a id="CIHJBAIG"></a>
<div id="GWURF643" class="refsect1">
<h1 class="refsect1">SEQUENCE</h1>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1338"></a>Valid For</p>
<p>Extract</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1339"></a>Description</p>
<p>Use the <code dir="ltr">SEQUENCE</code> parameter to capture sequence values from the transaction log. Currently, Oracle GoldenGate supports sequences for the Oracle database.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
DDL support for sequences (<code dir="ltr">CREATE</code>, <code dir="ltr">ALTER</code>, <code dir="ltr">DROP</code>, <code dir="ltr">RENAME</code>) is compatible with, but not required for, replicating sequence values. To replicate just sequence values, you <span class="italic">do not</span> need to install the Oracle GoldenGate DDL support environment. You can just use the <code dir="ltr">SEQUENCE</code> parameter.</div>
<p>Oracle GoldenGate ensures that the values of a target sequence are:</p>
<ul>
<li>
<p>higher than the source values if the increment interval is positive</p>
</li>
<li>
<p>lower than the source values if the increment interval is negative</p>
</li>
</ul>
<p>Depending on the increment direction, Replicat applies one of the following formulas as a test when it performs an insert:</p>
<pre dir="ltr">
<span class="codeinlineitalic">source_highwater_value</span> + (<span class="codeinlineitalic">source_cache_size</span> * <span class="codeinlineitalic">source_increment_size</span>) = <span class="codeinlineitalic">target_highwater_value</span> 
</pre>
<p>Or...</p>
<pre dir="ltr">
<span class="codeinlineitalic">source_highwater_value</span> + (<span class="codeinlineitalic">source_cache_size</span> * <span class="codeinlineitalic">source_increment_size</span>) &gt;= <span class="codeinlineitalic">target_highwater_value</span> 
</pre>
<p>If the formula evaluates to <code dir="ltr">FALSE</code>, the target sequence is updated to be higher than the source value (if sequences are incremented) or lower than the source value (if sequences are decremented). The target must always be ahead of, or equal to, the expression in the parentheses in the formula. For example, if the source high water value is 40, and <code dir="ltr">CACHE</code> is 20, the target high water value should be at least 60:</p>
<pre dir="ltr">
40 + (20*1) &lt;60 
</pre>
<p>If the target high water value is less than 80, Oracle GoldenGate updates the sequence to increase the high water value, so that the target remains ahead of the source. To get the current high water value, perform this query:</p>
<pre dir="ltr">
SELECT last_number FROM all_sequences WHERE sequence_owner=upper('SEQUENCEOWNER') AND sequence_name=upper('SEQUENCENAME');
</pre>
<div class="refsubsect"><p class="titleinrefsubsect2"><a id="sthref1340"></a>Supported Processing Modes</p>
<p>The processing modes that support the capture of sequences are as follows:</p>
<ul>
<li>
<p>Oracle GoldenGate supports sequences in an active-passive high-availability configuration. Oracle GoldenGate does not support the replication of sequence values in an active-active configuration. An active-passive configuration includes a primary Extract, a data pump, and a Replicat on both servers, but the processes are active in only one direction. The Extract process on the failover server must be inactive, which includes not capturing sequences. See the <a class="olink GWUAD258" href="../../gg-winux/GWUAD/wu_dr_config.htm#GWUAD258"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for more information about how to configure Oracle GoldenGate for high-availability.</p>
</li>
<li>
<p>If using <code dir="ltr">SEQUENCE</code> for a primary Extract that writes to a data pump, you must also use an identical <code dir="ltr">SEQUENCE</code> parameter in the data pump, whether the data pump is in <code dir="ltr">PASSTHRU</code> or <code dir="ltr">NOPASSTHRU</code> mode. However, if the <code dir="ltr">DDL</code> parameter is being used to propagate DDL operations (for sequences or any other objects) through the same data pump, the data pump <span class="italic">must</span> operate in <code dir="ltr">PASSTHRU</code> mode.</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods that contain the <code dir="ltr">SOURCEISTABLE</code> parameter, either as an Extract parameter or within <code dir="ltr">ADD EXTRACT</code>, do not support the replication of sequence values.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect2"><a id="sthref1341"></a>Guidelines for Using SEQUENCE</p>
<ul>
<li>
<p>The cache size and the increment interval of the source and target sequences must be identical.</p>
</li>
<li>
<p>The cache can be any size, including 0 (<code dir="ltr">NOCACHE</code>).</p>
</li>
<li>
<p>The sequence can be set to cycle or not cycle, but the source and target databases must be set the same way.</p>
</li>
<li>
<p>To add <code dir="ltr">SEQUENCE</code> to a configuration in which DDL support is enabled, you must re-install the Oracle GoldenGate DDL objects in <code dir="ltr">INITIALSETUP</code> mode.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect2"><a id="sthref1342"></a>Error Handling</p>
<ul>
<li>
<p>If Extract cannot resolve a sequence name, it ignores the operation.</p>
</li>
<li>
<p>To enable Replicat error handling for sequences, use the <code dir="ltr">REPERROR</code> parameter. This parameter is available as an option in the <code dir="ltr">MAP</code> parameter and also as a standalone parameter. <code dir="ltr">REPERROR</code> can detect if a sequence has been dropped on the target and can be used to retry a sequence operation until the sequence is recreated.</p>
</li>
<li>
<p><code dir="ltr">REPERROR</code> does not handle missing objects on startup. Use <code dir="ltr">DDLERROR</code> with <code dir="ltr">IGNOREMISSINGTABLES</code>.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect2"><a id="sthref1343"></a>Other Important Information</p>
<ul>
<li>
<p>Gaps are possible in the values of the sequences that Oracle GoldenGate replicates because gaps are inherent, and expected, in the way that sequences are maintained by the database. However, the target values will always be greater than those of the source.</p>
</li>
<li>
<p>If Extract is running in single-threaded mode on a RAC system, and if sequences are updated on a node that has lag, it might take more time to capture a sequence. This is normal behavior.</p>
</li>
<li>
<p>In a failover, any problem that causes the loss or corruption of data in a transaction log or Oracle GoldenGate trail file will cause the loss of the replicated sequence updates.</p>
</li>
<li>
<p>The statistics shown by <code dir="ltr">SEND EXTRACT</code> and <code dir="ltr">SEND REPLICAT</code> when used with the <code dir="ltr">REPORT</code> option will show the sequence operation as an <code dir="ltr">UPDATE</code>.</p>
</li>
</ul>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1344"></a>Default</p>
<p>None</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1345"></a>Syntax</p>
<pre dir="ltr">
SEQUENCE [<span class="codeinlineitalic">container</span>.]<span class="codeinlineitalic">schema</span>.<span class="codeinlineitalic">sequence</span>;
</pre>
<dl>
<dt><code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">.]</code><code dir="ltr"><span class="codeinlineitalic">schema.sequence</span></code></dt>
<dd>
<p>Specifies the fully qualified name of the source sequence. Include the name of the pluggable database if the source is an Oracle container database. To specify object names and wildcards correctly, see <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</dd>
<dt><code dir="ltr">;</code></dt>
<dd>
<p>Terminates the <code dir="ltr">SEQUENCE</code> parameter statement.</p>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1346"></a>Example</p>
<pre dir="ltr">
SEQUENCE hr.employees_seq;
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment135">
<tr>
<td class="cellalignment142"><table class="cellalignment140">
<tr>
<td class="cellalignment139"><a href="gg_parameters141.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment139"><a href="gg_parameters143.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment144">
<table class="cellalignment138">
<tr>
<td class="cellalignment139"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment139"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment139"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
