<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>REGISTER EXTRACT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="Contains instructions for using Oracle GoldenGate commands, parameters, and functions." />
<meta name="dcterms.created" content="2015-06-05T16:33:39Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29392-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="ggsci_commands012.htm" title="Previous" type="text/html" />
<link rel="Next" href="ggsci_commands014.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWURF.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWURF.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">17/413</span>
<!-- End Header --><a id="i1432228"></a>
<div id="GWURF160" class="refsect1">
<h1 class="refsect1">REGISTER EXTRACT</h1>
<p>Use <code dir="ltr">REGISTER EXTRACT</code> to register a primary Extract group with an Oracle database to:</p>
<ul>
<li>
<p>Enable integrated capture mode</p>
</li>
<li>
<p>Specify options for integrated capturing from a multitentant container database</p>
</li>
<li>
<p>Enable Extract in classic capture mode to work with Oracle Recovery Manager to retain the archive logs needed for recovery</p>
</li>
</ul>
<p><code dir="ltr">REGISTER EXTRACT</code> is not valid for a data pump Extract.</p>
<p>To unregister an Extract group from the database, use the <code dir="ltr">UNREGISTER EXTRACT</code> command (see <a href="ggsci_commands019.htm#i1432393">"UNREGISTER EXTRACT"</a>).</p>
<p>See <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> for more information about using <code dir="ltr">REGISTER EXTRACT</code>.</p>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref97"></a>Syntax</p>
<p>For classic Extract:</p>
<pre dir="ltr">
REGISTER EXTRACT group_name LOGRETENTION
</pre>
<p>For integrated Extract:</p>
<pre dir="ltr">
REGISTER EXTRACT group_mame DATABASE
[CONTAINER (container[, ...]) |
   ADD CONTAINER (container[, ...]) |
   DROP CONTAINER (container[, ...])]
[SCN system_change_number]
{SHARE [
           AUTOMATIC | 
   extract | 
   NONE]}
</pre></div>
<!-- class="refsubsect" -->
<dl>
<dt><code dir="ltr"><span class="codeinlineitalic">group_name</span></code></dt>
<dd>
<p>The name of the Extract group that is to be registered. Do not use a wildcard.</p>
</dd>
<dt><code dir="ltr">DATABASE</code> <code dir="ltr">[</code></dt>
<dt><code dir="ltr">CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...]) |</code></dt>
<dt><code dir="ltr">ADD CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...]) |</code></dt>
<dt><code dir="ltr">DROP CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...])</code></dt>
<dt><code dir="ltr">[</code></dt>
<dd>
<p>Without options, <code dir="ltr">DATABASE</code> enables integrated capture from a non-CDB database for the Extract group. In this mode, Extract integrates with the database logmining server to receive change data in the form of logical change records (LCR). Extract does not read the redo logs. Extract performs capture processing, transformation, and other requirements. The DML filtering is performed by the Logmining server. For support information and configuration steps, see <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a>.</p>
<p>Before using <code dir="ltr">REGISTER EXTRACT</code> with <code dir="ltr">DATABASE</code>, use the <a href="ggsci_commands059.htm#i971525">DBLOGIN</a> command for all extracts with the privileges granted using the <code dir="ltr">dbms_goldengate_auth.grant_admin_privilege</code> procedure. If you have a downstream configuration, then you must also issue the <a href="ggsci_commands064.htm#i1455333">MININGDBLOGIN</a> command. If the source database you are registering is a CDB database and Extract will fetch data, then <code dir="ltr">grant_admin_privilege</code> must be called with the <code dir="ltr">CONTAINER=&gt;'ALL</code>' parameter.</p>
<p>After using <code dir="ltr">REGISTER EXTRACT</code>, use <code dir="ltr">ADD EXTRACT</code> with the <code dir="ltr">INTEGRATED TRANLOG</code> option to create an Extract group of the same name. You must register an Extract group before adding it.</p>
<dl>
<dt><code dir="ltr">CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...]</code><code dir="ltr">)</code></dt>
<dd>
<p>Applies the registration to a list of one or more pluggable databases (containers) of a multitentant container database (CDB). Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code dir="ltr">CONTAINER (pdb1, pdb2, pdb3)</code>. All of the pluggable databases must exist in the database, and all names must be explicit, not wildcarded.</p>
</dd>
<dt><code dir="ltr">ADD CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...]</code><code dir="ltr">)</code></dt>
<dd>
<p>Adds the specified pluggable database to an existing Extract capture configuration. Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code dir="ltr">ADD CONTAINER (pdb1, pdb2, pdb3)</code>. Before issuing <code dir="ltr">REGISTER EXTRACT</code> with this option, stop the Extract group.</p>
<p>For Oracle, adding <code dir="ltr">CONTAINER</code>s at particular SCN on an existing Extract is not supported.</p>
</dd>
<dt><code dir="ltr">DROP CONTAINER (</code><code dir="ltr"><span class="codeinlineitalic">container</span></code><code dir="ltr">[, ...]</code><code dir="ltr">)</code></dt>
<dd>
<p>Drops the specified pluggable database from an existing Extract capture configuration. Specify one or more pluggable databases as a comma-delimited list within parentheses, for example: <code dir="ltr">DROP CONTAINER (pdb1, pdb2, pdb3)</code>. Before issuing <code dir="ltr">REGISTER EXTRACT</code> with this option, stop the Extract group.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr">LOGRETENTION</code></dt>
<dd>
<p>Valid for classic Extract only. Enables an Extract group in classic capture mode to work with Oracle Recovery Manager (RMAN) to retain the logs that Extract needs for recovery. <code dir="ltr">LOGRETENTION</code> is ignored if the Extract group is configured for integrated capture.</p>
<p><code dir="ltr">LOGRETENTION</code> creates an underlying Oracle Streams capture process that is dedicated to the Extract group and has a similar name. This capture is used only for the purpose of log retention.</p>
<p>The logs are retained from the time that <code dir="ltr">REGISTER EXTRACT</code> is issued, based on the current database SCN. The log-retention feature is controlled with the <code dir="ltr">LOGRETENTION</code> option of the <code dir="ltr">TRANLOGOPTIONS</code> parameter.</p>
<p>Before using <code dir="ltr">REGISTER EXTRACT</code> with <code dir="ltr">LOGRETENTION</code>, issue the <code dir="ltr">DBLOGIN</code> command with the privileges shown in <a href="ggsci_commands059.htm#i971525">"DBLOGIN"</a>.</p>
</dd>
<dt><code dir="ltr">SCN</code> <code dir="ltr"><span class="codeinlineitalic">system_change_number</span></code></dt>
<dd>
<p>Registers Extract to begin capture at a specific system change number (SCN) in the past. Without this option, capture begins from the time that <code dir="ltr">REGISTER EXTRACT</code> is issued. The specified SCN must correspond to the begin SCN of a dictionary build operation in a log file. You can issue the following query to find all valid SCN values:</p>
<pre dir="ltr">
SELECT first_change#
   FROM v$archived_log 
   WHERE dictionary_begin = 'YES' AND 
      standby_dest = 'NO' AND
      name IS NOT NULL AND 
      status = 'A';
</pre>
<p>When used alone, the SCN value is the beginning SCN of the dictionary build operation in a log file.</p>
<p>When used in conjunction with <code dir="ltr">SHARE AUTOMATIC</code> or <code dir="ltr">SHARE</code> <code dir="ltr"><span class="codeinlineitalic">extract_name</span></code>, then the specified SCN is the <code dir="ltr">start_scn</code> for the capture session and has the following restrictions:</p>
<ul>
<li>
<p>Should be lesser than or equal to the current SCN.</p>
</li>
<li>
<p>Should be greater than the minimum (first SCN) of the existing captures.</p>
</li>
</ul>
</dd>
<dt><code dir="ltr">{SHARE [</code></dt>
<dt><code dir="ltr">AUTOMATIC |</code></dt>
<dt><code dir="ltr"><span class="codeinlineitalic">extract</span></code> |</dt>
<dt><code dir="ltr">NONE]}</code></dt>
<dd>
<p>Registers the extract to return to an existing LogMiner data dictionary build with a specified SCN creating a clone. This allows for faster creation captures by leveraging existing dictionary builds.</p>
<p><code dir="ltr">SHARE</code> cannot be used on a CDB.</p>
<p>The following GGSCI commands are supported:</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> with database SCN <span class="italic">####</span> SHARE AUTOMATIC 
REGISTER EXTRACT <span class="italic">extract</span> with database SCN <span class="italic">####</span> SHARE <span class="italic">extract</span> 
REGISTER EXTRACT <span class="italic">extract</span> with database SHARE NONE 
REGISTER EXTRACT <span class="italic">extract</span> with database SCN <span class="italic">####</span> SHARE NONE
</pre>
<p>Or</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> WITH DATABASE SHARE NONE
REGISTER EXTRACT <span class="italic">extract</span> WITH DATABASE SCN <span class="italic">####</span> SHARE NONE
</pre>
<p>In contrast, the following GGSCI commands are <span class="italic">not</span> supported in a downstream configuration:</p>
<pre dir="ltr">
REGISTER EXTRACT <span class="italic">extract</span> WITH DATABASE SHARE AUTOMATIC
REGISTER EXTRACT <span class="italic">extract</span> WITH DATABASE SHARE extract
</pre>
<dl>
<dt><code dir="ltr">AUTOMATIC</code></dt>
<dd>
<p>Clone from the existing closest capture. If no suitable clone candidate is found, then a new build is created.</p>
</dd>
<dt><code dir="ltr"><span class="codeinlineitalic">extract</span></code></dt>
<dd>
<p>Clone from the capture session associated for the specified extract. If this is not possible, then an error occurs the register does not complete.</p>
</dd>
<dt><code dir="ltr">NONE</code></dt>
<dd>
<p>Does not clone or create a new build; this is the default.</p>
</dd>
</dl>
<p>In a downstream configuration, the <code dir="ltr">SHARE</code> clause <span class="italic">must</span> be used in conjunction with the <code dir="ltr">SCN</code> clause when registering for Extract.</p>
</dd>
</dl>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref98"></a>Examples</p>
<dl>
<dd><a id="GWURF161"></a><a id="sthref99"></a></dd>
<dt class="seghead">Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales LOGRETENTION
</pre></dd>
<dd><a id="GWURF162"></a><a id="sthref100"></a></dd>
<dt class="seghead">Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE
</pre></dd>
<dd><a id="GWURF1079"></a><a id="sthref101"></a></dd>
<dt class="seghead">Example 3&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE CONTAINER (sales, finance, hr)
</pre></dd>
<dd><a id="GWURF1080"></a><a id="sthref102"></a></dd>
<dt class="seghead">Example 4&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE ADD CONTAINER (customers)
</pre></dd>
<dd><a id="GWURF1081"></a><a id="sthref103"></a></dd>
<dt class="seghead">Example 5&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE DROP CONTAINER (finance)
</pre></dd>
<dd><a id="GWURF1082"></a><a id="sthref104"></a></dd>
<dt class="seghead">Example 6&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE SCN 136589
</pre>
<p>The beginning SCN of the dictionary build is 136589.</p>
</dd>
<dd><a id="GWURF1194"></a><a id="sthref105"></a></dd>
<dt class="seghead">Example 7&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE SCN 67000 SHARE ext2
</pre>
<p>The valid start SCN, 67000 in this case; it is not necessarily the current SCN.</p>
</dd>
<dd><a id="GWURF1204"></a><a id="sthref106"></a></dd>
<dt class="seghead">Example 8&nbsp;&nbsp;&nbsp;</dt>
<dd>
<pre dir="ltr">
REGISTER EXTRACT sales DATABASE CONTAINER (sales, finance, hr) SCN 136589
</pre></dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment135">
<tr>
<td class="cellalignment142"><table class="cellalignment140">
<tr>
<td class="cellalignment139"><a href="ggsci_commands012.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment139"><a href="ggsci_commands014.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment144">
<table class="cellalignment138">
<tr>
<td class="cellalignment139"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment139"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment139"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
