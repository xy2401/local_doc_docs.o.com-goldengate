<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>PURGEDDLHISTORY | PURGEDDLHISTORYALT</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="Contains instructions for using Oracle GoldenGate commands, parameters, and functions." />
<meta name="dcterms.created" content="2015-06-05T16:34:18Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29392-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="gg_parameters119.htm" title="Previous" type="text/html" />
<link rel="Next" href="gg_parameters121.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWURF.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWURF.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">236/413</span>
<!-- End Header --><a id="i2785994"></a>
<div id="GWURF594" class="refsect1">
<h1 class="refsect1">PURGEDDLHISTORY | PURGEDDLHISTORYALT</h1>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1178"></a>Valid For</p>
<p>Manager</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1179"></a>Description</p>
<p>Use the <code dir="ltr">PURGEDDLHISTORY</code> and <code dir="ltr">PURGEDDLHISTORYALT</code> parameters to control the size of the DDL history tables that support DDL capture. These tables are created in an Oracle database to support trigger-based DDL capture.</p>
<p>These parameters cause Manager to purge rows that are not needed any more. You can specify the maximum and minimum amount of time to keep a row, based on the last modification date. Both maximum and minimum rules must be specified; otherwise Manager does not have a complete criteria for when to delete the row. For example, <code dir="ltr">MINKEEPHOURS 3</code> used with <code dir="ltr">MAXKEEPHOURS 5</code> specifies to keep rows that have not been modified in the past three hours, but to delete them when they have not been modified for at least five hours.</p>
<p>These parameters require a logon to be specified with the <code dir="ltr">USERID</code> or <code dir="ltr">USERIDALIAS</code> parameter.</p>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">Use caution when purging the history tables. They are critical to the integrity of the DDL synchronization processes. Premature purges are non-recoverable through Oracle GoldenGate. To prevent any possibility of permanent DDL data loss, make regular backups of the Oracle GoldenGate DDL schema.</p>
</div>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1180"></a>Default</p>
<p>Purge every hour</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1181"></a>Syntax</p>
<pre dir="ltr">
PURGEDDLHISTORY | PURGEDDLHISTORYALT
{, <span class="italic">max_rule</span>}
[, <span class="italic">min_rule</span>]
[, <span class="italic">frequency</span>]
</pre>
<dl>
<dt><code dir="ltr">PURGEDDLHISTORY</code></dt>
<dd>
<p>Purges the DDL history table. This table tracks DDL operations. To determine the name of the history table to purge, Oracle GoldenGate first looks for a name specified with the <code dir="ltr">DDLTABLE</code> parameter in the <code dir="ltr">GLOBALS</code> file. If that parameter does not exist, Oracle GoldenGate uses the default name of <code dir="ltr">GGS_DDL_HIST</code>.</p>
</dd>
<dt><code dir="ltr">PURGEDDLHISTORYALT</code></dt>
<dd>
<p>Purges the internal DDL history table. This table tracks partitioned object IDs that are associated with the object ID of a table. To determine the name of the internal history table to purge, Oracle GoldenGate first looks for a name specified with the <code dir="ltr">DDLTABLE</code> parameter in the <code dir="ltr">GLOBALS</code> file and appends <code dir="ltr">_ALT</code> to it. If that parameter does not exist, Oracle GoldenGate uses the default name of <code dir="ltr">GGS_DDL_HIST_ALT</code>.</p>
</dd>
<dt><code dir="ltr"><span class="codeinlineitalic">max_rule</span></code></dt>
<dd>
<p>Required. Can be one of the following to set the maximum amount of time to keep rows.</p>
<dl>
<dt><code dir="ltr">MAXKEEPHOURS</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code></dt>
<dd>
<p>Purges if the row has not been modified for <code dir="ltr"><span class="codeinlineitalic">n</span></code> number of hours.</p>
</dd>
<dt><code dir="ltr">MAXKEEPDAYS</code> <code dir="ltr">n</code></dt>
<dd>
<p>Purges if the row has not been modified for <code dir="ltr"><span class="codeinlineitalic">n</span></code> number of days.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr"><span class="codeinlineitalic">min_rule</span></code></dt>
<dd>
<p>Can be one of the following to set the minimum amount of time to keep rows.</p>
<dl>
<dt><code dir="ltr">MINKEEPHOURS</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code></dt>
<dd>
<p>Keeps an unmodified row for at least the specified number of hours.</p>
</dd>
<dt><code dir="ltr">MINKEEPDAYS</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code></dt>
<dd>
<p>Keeps an unmodified row for at least the specified number of days.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr"><span class="codeinlineitalic">frequency</span></code></dt>
<dd>
<p>Sets the frequency with which to purge DDL history. The default interval at which Manager evaluates potential maintenance tasks is 10 minutes, as specified with the <code dir="ltr">CHECKMINUTES</code> parameter. At that interval, Manager evaluates the <code dir="ltr">PURGEDDLHISTORY</code> or <code dir="ltr">PURGEDDLHISTORYALT</code> frequency and conducts the purge at the specified <code dir="ltr"><span class="codeinlineitalic">frequency</span></code>.</p>
<p><code dir="ltr"><span class="codeinlineitalic">frequency</span></code> can be one of the following:</p>
<dl>
<dt><code dir="ltr">FREQUENCYMINUTES</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code></dt>
<dd>
<p>Sets the frequency, in minutes, with which to purge DDL history. The default purge frequency is 60 minutes.</p>
</dd>
<dt><code dir="ltr">FREQUENCYHOURS</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code></dt>
<dd>
<p>Sets the frequency, in hours, at which to purge DDL history.</p>
<p>See <a href="gg_parameters021.htm#i2753350">"CHECKMINUTES"</a> for more information about controlling the interval between Manager maintenance checks.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref1182"></a>Example</p>
<p>The following example keeps all rows that have not been modified in the past three days and deletes them when they have not been modified for at least five days. The purge frequency is 30 minutes.</p>
<pre dir="ltr">
PURGEDDLHISTORY MINKEEPDAYS 3, MAXKEEPDAYS 5, FREQUENCYMINUTES 30
</pre></div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment135">
<tr>
<td class="cellalignment142"><table class="cellalignment140">
<tr>
<td class="cellalignment139"><a href="gg_parameters119.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment139"><a href="gg_parameters121.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment144">
<table class="cellalignment138">
<tr>
<td class="cellalignment139"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment139"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment139"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
