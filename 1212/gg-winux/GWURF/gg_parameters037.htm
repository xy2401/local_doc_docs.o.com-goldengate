<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>DDLOPTIONS</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="Contains instructions for using Oracle GoldenGate commands, parameters, and functions." />
<meta name="dcterms.created" content="2015-06-05T16:33:55Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29392-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="gg_parameters036.htm" title="Previous" type="text/html" />
<link rel="Next" href="gg_parameters038.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWURF.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWURF.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">153/413</span>
<!-- End Header --><a id="i1162928"></a>
<div id="GWURF451" class="refsect1">
<h1 class="refsect1">DDLOPTIONS</h1>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref714"></a>Valid For</p>
<p>Extract and Replicat</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref715"></a>Description</p>
<p>Use the <code dir="ltr">DDLOPTIONS</code> parameter to configure aspects of DDL processing other than filtering and string substitution. You can use multiple <code dir="ltr">DDLOPTIONS</code> statements, but using one is recommended. If using multiple <code dir="ltr">DDLOPTIONS</code> statements, make each of them unique so that one does not override the other. Multiple <code dir="ltr">DDLOPTIONS</code> statements are executed in the order listed in the parameter file.</p>
<p>For more information about how to use <code dir="ltr">DDLOPTIONS</code> within the context of Oracle GoldenGate DDL support, see the <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> or <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span> as appropriate for your installation.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref716"></a>Default</p>
<p>See the argument descriptions</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref717"></a>Syntax</p>
<pre dir="ltr">
DDLOPTIONS
[, ADDTRANDATA {ABEND | RETRYOP RETRYDELAY <span class="italic">seconds</span> MAXRETRIES <span class="italic">retries</span>}
[, DEFAULTUSERPASSWORD <span class="italic">password</span>   [ENCRYPTKEY DEFAULT | ENCRYPTKEY <span class="italic">key_name</span>] |
[, CAPTUREGLOBALTEMPTABLE ]
[, DEFAULTUSERPASSWORDALIAS <span class="italic">alias</span> [DOMAIN <span class="codeinlineitalic">domain</span>] ]
[, GETAPPLOPS | IGNOREAPPLOPS]
[, GETREPLICATES | IGNOREREPLICATES]
[, IGNOREMAPPING]
[, MAPDERIVED | NOMAPDERIVED]
[, MAPSCHEMAS]
[, MAPSESSIONSCHEMA <span class="italic">source_schema</span> TARGET <span class="italic">target_schema</span>]
[, NOTAG]
[, PASSWORD ENCRYPTKEY [DEFAULT | ENCRYPTKEY <span class="italic">key_name</span>]
[, REMOVECOMMENTS {BEFORE | AFTER}]
[, REPLICATEPASSWORD | NOREPLICATEPASSWORD]
[, REPORT | NOREPORT]
[, UPDATEMETADATA]
[, USEPASSWORDVERIFIERLEVEL {10|11}]
[, USEOWNERFORSESSION]
</pre>
<dl>
<dt><code dir="ltr">ADDTRANDATA</code> <code dir="ltr">{ABEND | RETRYOP RETRYDELAY</code> <code dir="ltr"><span class="codeinlineitalic">seconds</span></code> <code dir="ltr">MAXRETRIES</code> <code dir="ltr"><span class="codeinlineitalic">retries</span></code>}</dt>
<dd>
<p>Valid for Extract (Teradata)</p>
<p>Not supported when Classic Extract is reading from an Active Data Guard standby database because supplemental logging must be enabled on the primary database, which is read/write. Not supported for multitenant container databases. Supplemental logging must be enabled when using <code dir="ltr">ADD SCHEMATRANDATA</code>. This option should <span class="italic">only</span> be used when schema-level supplemental logging is not an option in your environment.</p>
<p>No longer valid for Oracle and a warning is issued if used.</p>
<p>Use <code dir="ltr">ADDTRANDATA</code> to:</p>
<ul>
<li>
<p>Enable Oracle supplemental logging automatically for new tables created with a <code dir="ltr">CREATE TABLE</code> statement.</p>
</li>
<li>
<p>Update supplemental logging for tables affected by an <code dir="ltr">ALTER TABLE</code> statement to add or drop columns.</p>
</li>
<li>
<p>Update supplemental logging for tables that are renamed.</p>
</li>
<li>
<p>Update supplemental logging for tables where unique or primary keys are added or dropped.</p>
</li>
</ul>
<p>By default, <code dir="ltr">ADDTRANDATA</code> is disabled. The default for <code dir="ltr">ADDTRANDATA</code> when used without additional options is:</p>
<pre dir="ltr">
DDLOPTIONS ADDTRANDATA RETRYOP RETRYDELAY 10 MAXRETRIES 10
</pre>
<p>To use <code dir="ltr">ADDTRANDATA</code> functionality, Oracle GoldenGate, the database, and the appropriate tables must be configured for DDL capture. For Oracle, the Oracle GoldenGate DDL objects must be installed and configured. For more information, see <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> or the <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>, depending on your environment.</p>
<p>For new tables created with <code dir="ltr">CREATE TABLE</code>, <code dir="ltr">ADDTRANDATA</code> produces the same results as the default <code dir="ltr">ADD TRANDATA</code> command in GGSCI by issuing the Oracle <code dir="ltr">ALTER TABLE</code> command with the <code dir="ltr">ADD SUPPLEMENTAL LOG GROUP</code> option. Oracle GoldenGate executes this command when the <code dir="ltr">CREATE TABLE</code> or <code dir="ltr">ALTER TABLE</code> is captured on the source. If you have special requirements for the supplemental logging, use the <code dir="ltr">ADD TRANDATA</code> command, not <code dir="ltr">DDLOPTIONS ADDTRANDATA</code>. By default, the <code dir="ltr">ALTER TABLE</code> statement that adds the supplemental logging is not replicated to the target unless the <code dir="ltr">GETREPLICATES</code> option is in use.</p>
<p>For renamed tables, <code dir="ltr">ADDTRANDATA</code> deletes the supplemental log group for the old table and creates it for the new one. If you do not use <code dir="ltr">ADDTRANDATA</code> and tables will be renamed, do the following to create the log group before doing the rename:</p>
<ol>
<li>
<p>Drop the supplemental log group using the database interface or the <code dir="ltr">DELETE TRANDATA</code> command in GGSCI.</p>
<pre dir="ltr">
DELETE TRANDATA <span class="codeinlineitalic">table_name</span>
</pre></li>
<li>
<p>Rename the table.</p>
</li>
<li>
<p>Create the new supplemental log group using the database interface or the <code dir="ltr">ADD TRANDATA</code> command in GGSCI.</p>
<pre dir="ltr">
ADD TRANDATA <span class="codeinlineitalic">table_name</span>
</pre></li>
</ol>
<p>There might be a lag between the time when an original DDL operation occurs and when the <code dir="ltr">ADD TRANDATA</code> takes effect. During this time, do not allow DML operations (insert, update, delete) on the affected table if the data is to be replicated; otherwise, it will not be captured. To determine when DML can be resumed after <code dir="ltr">ADDTRANDATA</code>, do the following:</p>
<ol>
<li>
<p>Edit the Extract parameter file in GGSCI.</p>
<div class="infoboxnotewarn">
<p class="notep1">Caution:</p>
<p class="warnsp">Do not use the <code dir="ltr">VIEW PARAMS</code> or <code dir="ltr">EDIT PARAMS</code> command to view or edit a parameter file that was created in a character set other than that of the local operating system. View the file from outside GGSCI; otherwise, the contents may become corrupted.</p>
</div>
</li>
<li>
<p>Add the <code dir="ltr">REPORT</code> option to <code dir="ltr">DDLOPTIONS</code>, then save and close the file.</p>
<pre dir="ltr">
DDLOPTIONS [, DDLOPTIONS_option] [,...] , REPORT
</pre></li>
<li>
<p>Stop and start Extract to activate the parameter changes.</p>
<pre dir="ltr">
STOP EXTRACT <span class="italic">group_name</span>
START EXTRACT <span class="italic">group_name</span>
</pre></li>
<li>
<p>View the Extract process report.</p>
<pre dir="ltr">
VIEW REPORT <span class="italic">group_name</span>
</pre></li>
<li>
<p>Look for the <code dir="ltr">ALTER TABLE</code> statement that added the log group to the table, and make a note of the time that the command took effect. The entry looks similar to the following:</p>
<pre dir="ltr">
Successfully added TRAN DATA for table with the key, table [MYSCHEMA1.MYTABLE], operation [ALTER TABLE "MYSCHEMA1"."MYTABLE" ADD SUPPLEMENTAL LOG GROUP "GGS_MYTABLE_53475" (MYID) ALWAYS  /* GOLDENGATE_DDL_REPLICATION */ ].
</pre></li>
<li>
<p>Permit DML operations on the new table.</p>
</li>
</ol>
<p>The <code dir="ltr">ADDTRANDATA</code> options are:</p>
<dl>
<dt><code dir="ltr">ABEND</code></dt>
<dd>
<p>Causes Extract to abend.</p>
</dd>
<dt><code dir="ltr">RETRYOP</code></dt>
<dd>
<p>Causes Extract to try again based on <code dir="ltr">RETRYDELAY</code> and <code dir="ltr">MAXRETRIES</code>. Both are required when <code dir="ltr">RETRYOP</code> is used.</p>
</dd>
<dt><code dir="ltr">RETRYDELAY</code> <code dir="ltr"><span class="codeinlineitalic">seconds</span></code></dt>
<dd>
<p>Sets the delay before Extract tries again. The maximum delay is 10,000 seconds.</p>
</dd>
<dt><code dir="ltr">MAXRETRIES</code> <code dir="ltr"><span class="codeinlineitalic">retries</span></code></dt>
<dd>
<p>Sets the number of retries that Extract can make before abending. The maximum is 10,000 retries.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr">DEFAULTUSERPASSWORD</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> <code dir="ltr">[</code><code dir="ltr"><span class="codeinlineitalic">algorithm</span></code> <code dir="ltr">ENCRYPTKEY {</code><code dir="ltr"><span class="codeinlineitalic">key_name</span></code> <code dir="ltr">| DEFAULT}]</code></dt>
<dd>
<p>Valid for Replicat. (Oracle only)</p>
<p>Can be used instead of the <code dir="ltr">DEFAULTUSERPASSWORDALIAS</code> option if an Oracle GoldenGate credential store is not being used. Specifies a different password for a replicated <code dir="ltr">{CREATE | ALTER} USER</code> <code dir="ltr"><span class="codeinlineitalic">name</span></code> <code dir="ltr">IDENTIFIED BY</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> statement from the one used in the source statement. Replicat will replace the placeholder that Extract writes to the trail with the specified password. When using <code dir="ltr">DEFAULTUSERPASSWORD</code>, use the <code dir="ltr">NOREPLICATEPASSWORD</code> option of <code dir="ltr">DDLOPTIONS</code> for Extract.</p>
<p><code dir="ltr">DEFAULTUSERPASSWORD</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> without options specifies a clear-text password. If the password is case-sensitive, type it that way.</p>
<p>Use the following options if the password was encrypted with the <code dir="ltr">ENCRYPT PASSWORD</code> command in GGSCI:</p>
<dl>
<dt><code dir="ltr"><span class="codeinlineitalic">algorithm</span></code></dt>
<dd>
<p>Specifies the encryption algorithm that was used to encrypt the password with the <code dir="ltr">ENCRYPT PASSWORD</code> command: <code dir="ltr">AES128</code>, <code dir="ltr">AES192</code>, <code dir="ltr">AES256</code>, or <code dir="ltr">BLOWFISH</code>. Use AES unless Blowfish is required for backward compatibility. AES is more secure than Blowfish.</p>
</dd>
<dt><code dir="ltr">ENCRYPTKEY</code> <code dir="ltr"><span class="codeinlineitalic">key_name</span></code></dt>
<dd>
<p>Specifies the logical name of a user-created encryption key in the <code dir="ltr">ENCKEYS</code> lookup file. Use if <code dir="ltr">ENCRYPT PASSWORD</code> was used with the <code dir="ltr">KEYNAME</code> <code dir="ltr"><span class="codeinlineitalic">key_name</span></code> option, and specify the same key name.</p>
</dd>
<dt><code dir="ltr">ENCRYPTKEY DEFAULT</code></dt>
<dd>
<p>Directs Oracle GoldenGate to use a random key. Use if <code dir="ltr">ENCRYPT PASSWORD</code> was used with the <code dir="ltr">KEYNAME</code> <code dir="ltr">DEFAULT</code> option.</p>
</dd>
</dl>
<p>For more information about Oracle GoldenGate security options, see <a class="olink GWUAD354" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD354"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</dd>
<dt><code dir="ltr">CAPTUREGLOBALTEMPTABLE</code></dt>
<dd>
<p>Valid for Oracle</p>
<p>Allows Global Temporary Tables (GTT) DDLs to be visible to Extract so that they can be replicated. By default, GTT DDLs are not visible to Extract so using <code dir="ltr">CAPTUREGLOBALTEMPTABLE</code> you can set Extract to include GTT DDLs that then can be filtered by the DDL statement and if passed, written to the trail. The GTT DDLs are included in Replicat, if present in trail, and are filtered by the DDL statement then if they are passed they are executed.</p>
<p>For trigger-version of Extract, this option is set to false regardless of whether the table is GTT or not.</p>
</dd>
<dt><code dir="ltr">DEFAULTUSERPASSWORDALIAS</code> <code dir="ltr"><span class="codeinlineitalic">alias</span></code> <code dir="ltr">[DOMAIN</code> <code dir="ltr"><span class="codeinlineitalic">domain</span></code><code dir="ltr">]</code></dt>
<dd>
<p>Valid for Replicat. (Oracle only)</p>
<p>Can be used instead of the <code dir="ltr">DEFAULTUSERPASSWORD</code> option if an Oracle GoldenGate credential store is being used. Specifies the alias of a credential whose password replaces the one in the <code dir="ltr">IDENTIFIED BY</code> clause of a replicated <code dir="ltr">CREATE USER</code> or <code dir="ltr">ALTER USER</code> statement. The alias is resolved to the encrypted password in the Oracle GoldenGate credential store. Replicat replaces the placeholder that Extract writes to the trail with the resolved password before applying the DDL to the target.</p>
<p>When using <code dir="ltr">DEFAULTUSERPASSWORDALIAS</code>, use the <code dir="ltr">NOREPLICATEPASSWORD</code> option of <code dir="ltr">DDLOPTIONS</code> for Extract.</p>
<dl>
<dt><code dir="ltr"><span class="codeinlineitalic">alias</span></code></dt>
<dd>
<p>Specifies the alias of the credential whose password will be used for the replacement password. This credential must exist in the Oracle GoldenGate credential store. If you are not sure what alias to use, you can inspect the content of the credential store by issuing the <code dir="ltr">INFO CREDENTIALSTORE</code> command. See <a href="ggsci_commands046.htm#CHDCJDEG">"INFO CREDENTIALSTORE"</a>.</p>
</dd>
<dt><code dir="ltr">DOMAIN</code> <code dir="ltr"><span class="codeinlineitalic">domain</span></code></dt>
<dd>
<p>Specifies the domain that is assigned to the specified user in the credential store.</p>
</dd>
</dl>
<p>See <a class="olink GWUAD354" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD354"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for more information about Oracle GoldenGate security.</p>
</dd>
<dt><code dir="ltr">GETAPPLOPS | IGNOREAPPLOPS</code></dt>
<dd>
<p>Valid for Extract. (Oracle only)</p>
<p>Controls whether or not DDL operations produced by business applications <span class="italic">except</span> Replicat are included in the content that Extract writes to a trail or file. <code dir="ltr">GETAPPLOPS</code> and <code dir="ltr">IGNOREAPPLOPS</code> can be used together with the <code dir="ltr">GETREPLICATES</code> and <code dir="ltr">IGNOREREPLICATES</code> options to control which DDL is propagated in a bidirectional or cascading configuration.</p>
<ul>
<li>
<p>For a bidirectional configuration, use <code dir="ltr">GETAPPLOPS</code> with <code dir="ltr">IGNOREREPLICATES</code> . You also must use the <code dir="ltr">UPDATEMETADATA</code> option.</p>
</li>
<li>
<p>For a cascading configuration, use <code dir="ltr">IGNOREAPPLOPS</code> with <code dir="ltr">GETREPLICATES</code> on the systems that will be cascading the DDL operations to the target.</p>
</li>
</ul>
<p>The default is <code dir="ltr">GETAPPLOPS.</code></p>
</dd>
<dt><code dir="ltr">GETREPLICATES | IGNOREREPLICATES</code></dt>
<dd>
<p>Valid for Extract (Oracle only). Controls whether or not DDL operations produced by Replicat are included in the content that Extract writes to a trail or file. The default is <code dir="ltr">IGNOREREPLICATES</code>. For more information, see the <code dir="ltr">GETAPPLOPS | IGNOREAPPLOPS</code> options of <code dir="ltr">DDLOPTIONS</code>.</p>
</dd>
<dt><code dir="ltr">IGNOREMAPPING</code></dt>
<dd>
<p>Valid for Replicat. Disables the evaluation of name mapping that determines whether DDL is of <code dir="ltr">MAPPED</code> or <code dir="ltr">UNMAPPED</code> scope. This option improves performance in like-to-like DDL replication configurations, where source and target schema names and object names match, and where mapping functions are therefore unnecessary. With <code dir="ltr">IGNOREMAPPING</code> enabled, <code dir="ltr">MAPPED</code> or <code dir="ltr">UNMAPPED</code> scope cannot be determined, so all DDL statements are treated as <code dir="ltr">OTHER</code> scope. Do not use this parameter when source schemas and object names are mapped to different schema and object names on the target.</p>
</dd>
<dt><code dir="ltr">MAPDERIVED | NOMAPDERIVED</code></dt>
<dd>
<p>Valid for Replicat (Oracle and Teradata). Controls how derived object names are mapped.</p>
<dl>
<dt><code dir="ltr">MAPDERIVED</code></dt>
<dd>
<p>If a <code dir="ltr">MAP</code> statement exists for the derived object, the name is mapped to the name specified in that <code dir="ltr">TARGET</code> clause. Otherwise, the name is mapped to the name specified in the <code dir="ltr">TARGET</code> clause of the <code dir="ltr">MAP</code> statement that contains the base object. <code dir="ltr">MAPDERIVED</code> is the default.</p>
</dd>
<dt><code dir="ltr">NOMAPDERIVED</code></dt>
<dd>
<p>Prevents name mapping. <code dir="ltr">NOMAPDERIVED</code> overrides any explicit <code dir="ltr">MAP</code> statements that contain the name of the derived object.</p>
</dd>
</dl>
<p>For more information about how derived objects are handled during DDL replication, see the <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> or <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>, depending on your installation.</p>
</dd>
<dt><code dir="ltr">MAPSCHEMAS</code></dt>
<dd>
<p>Valid for Replicat (Oracle and Teradata). Use only when <code dir="ltr">MAPSESSIONSCHEMA</code> is used.</p>
<ul>
<li>
<p><code dir="ltr">MAPSESSIONSCHEMA</code> establishes a source-target mapping for session schemas and is used for objects whose schemas are not qualified in the DDL.</p>
</li>
<li>
<p><code dir="ltr">MAPSCHEMAS</code> maps objects that do have qualified schemas in the source DDL, but which do not qualify for mapping with <code dir="ltr">MAP</code>, to the same session-schema mapping as in <code dir="ltr">MAPSESSIONSCHEMA</code>. Examples of such objects are the Oracle <code dir="ltr">CREATE TABLE AS SELECT</code> statement, which contains a derived object in the <code dir="ltr">AS SELECT</code> clause, or the Teradata <code dir="ltr">CREATE REPLICATION RULESET</code> statement.</p>
</li>
</ul>
<p>This mapping takes place after the mapping that is specified in the <code dir="ltr">MAP</code> statement.</p>
<p>As an example, suppose the following DDL statement is issued on a source Oracle database:</p>
<pre dir="ltr">
create table a.t as select from b.t;
</pre>
<p>Suppose the <code dir="ltr">MAP</code> statement on the target is as follows:</p>
<pre dir="ltr">
MAP a.*, TARGET c.*;
DDLOPTIONS MAPSESSIONSCHEMA b, TARGET b1, MAPSCHEMAS
</pre>
<p>As a result of this mapping, Replicat issues the following DDL statement on the target:</p>
<pre dir="ltr">
create table c.t as select from b1.t;
</pre>
<ul>
<li>
<p>The base table gets mapped according to the <code dir="ltr">TARGET</code> clause (to schema <code dir="ltr">c</code>).</p>
</li>
<li>
<p>The qualified derived object (table <code dir="ltr">t</code> in <code dir="ltr">SELECT FROM</code> ) gets mapped according to <code dir="ltr">MAPSESSIONSCHEMA</code> (to schema <code dir="ltr">b1</code>) because <code dir="ltr">MAPSCHEMAS</code> is present.</p>
</li>
</ul>
<p>Without <code dir="ltr">MAPSCHEMAS</code>, the derived object would get mapped to schema <code dir="ltr">c</code> (as specified in the <code dir="ltr">TARGET</code> clause), because <code dir="ltr">MAPSESSIONSCHEMA</code> alone only maps unqualified objects.</p>
</dd>
<dt><code dir="ltr">MAPSESSIONSCHEMA</code> <code dir="ltr"><span class="codeinlineitalic">source_schema</span></code> <code dir="ltr">TARGET</code> <code dir="ltr"><span class="codeinlineitalic">target_schema</span></code></dt>
<dd>
<p>Valid for Replicat (Oracle only). Enables a source session schema to be mapped to (transformed to) a different session schema on the target.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">source_schema</span></code> is the session schema that is set with <code dir="ltr">ALTER SESSION set CURRENT_SCHEMA</code> on the source.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">target_schema</span></code> is the session schema that is set with <code dir="ltr">ALTER SESSION set CURRENT_SCHEMA</code> on the target.</p>
</li>
</ul>
<p>Wildcards are not supported. You can use multiple <code dir="ltr">MAPSESSIONSCHEMA</code> parameters to map different schemas.</p>
<p><code dir="ltr">MAPSESSIONSCHEMA</code> overrides any mapping of schema names that is based on master or derived object names</p>
<p>See the example at the end of this topic for usage.</p>
<p>See also <code dir="ltr">MAPSCHEMAS</code>.</p>
</dd>
<dt><code dir="ltr">NOTAG</code></dt>
<dd>
<p>Valid for Replicat</p>
<p>Prevents the tagging of DDL that is applied by Replicat with a redo tag (either the default tag '00' or one set with the <code dir="ltr">DBOPTIONS</code> parameter with the <code dir="ltr">SETTAG</code> option). Use this option for bidirectional configurations where <code dir="ltr">GETREPLICATES</code> is used and DDL applied by Replicat must be captured back by Extract for a metadata refresh.</p>
</dd>
<dt><code dir="ltr">PASSWORD</code> <code dir="ltr"><span class="codeinlineitalic">algorithm</span></code> <code dir="ltr">ENCRYPTKEY {</code><code dir="ltr"><span class="codeinlineitalic">key_name</span></code> <code dir="ltr">| DEFAULT}</code></dt>
<dd>
<p>Valid for Extract (Oracle only)</p>
<p>Directs Extract to encrypt all passwords in source DDL before writing the DDL to the trail.</p>
<dl>
<dt><code dir="ltr"><span class="codeinlineitalic">algorithm</span></code></dt>
<dd>
<p>Specifies the encryption algorithm to be used to encrypt the password. Valid values are <code dir="ltr">AES128</code>, <code dir="ltr">AES192</code>, <code dir="ltr">AES256</code>, or <code dir="ltr">BLOWFISH</code>. Use AES unless Blowfish is required for backward compatibility. AES is more secure than Blowfish.</p>
</dd>
<dt><code dir="ltr">ENCRYPTKEY</code> <code dir="ltr"><span class="codeinlineitalic">key_name</span></code></dt>
<dd>
<p>Specifies the logical name of a user-created encryption key in an <code dir="ltr">ENCKEYS</code> lookup file.</p>
</dd>
<dt><code dir="ltr">ENCRYPTKEY DEFAULT</code></dt>
<dd>
<p>Directs Oracle GoldenGate to use a random key.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr">REMOVECOMMENTS {BEFORE | AFTER}</code></dt>
<dd>
<p>Valid for Extract and Replicat (Oracle only). Controls whether or not comments are removed from the DDL operation. By default, comments are not removed, so that they can be used for string substitution with the <code dir="ltr">DDLSUBST</code> parameter. See <a href="gg_parameters038.htm#i2660894">"DDLSUBST"</a> for more information.</p>
<dl>
<dt><code dir="ltr">REMOVECOMMENTS BEFORE</code></dt>
<dd>
<p>Removes comments before the DDL operation is processed by Extract or Replicat. They will not be available for string substitution.</p>
</dd>
<dt><code dir="ltr">REMOVECOMMENTS AFTER</code></dt>
<dd>
<p>Removes comments after they are used for string substitution.</p>
</dd>
</dl>
</dd>
<dt><code dir="ltr">REPLICATEPASSWORD | NOREPLICATEPASSWORD</code></dt>
<dd>
<p>Valid for Extract (Oracle only). Applies to the password in a <code dir="ltr">{CREATE | ALTER} USER</code> <code dir="ltr"><span class="codeinlineitalic">user</span></code> <code dir="ltr">IDENTIFIED BY</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> command.</p>
<ul>
<li>
<p>By default (<code dir="ltr">REPLICATEPASSWORD</code>), Oracle GoldenGate uses the source password in the target <code dir="ltr">CREATE</code> or <code dir="ltr">ALTER</code> statement.</p>
</li>
<li>
<p>To prevent the source password from being sent to the target, use <code dir="ltr">NOREPLICATEPASSWORD</code>.</p>
</li>
</ul>
<p>When using <code dir="ltr">NOREPLICATEPASSWORD</code>, specify a password for the target DDL statement by using a <code dir="ltr">DDLOPTIONS</code> statement with the DEFAULTUSERPASSWORD or <code dir="ltr">DEFAULTUSERPASSWORDALIAS</code> option in the Replicat parameter file.</p>
</dd>
<dt><code dir="ltr">REPORT | NOREPORT</code></dt>
<dd>
<p>Valid for Extract and Replicat (Oracle and Teradata). Controls whether or not expanded DDL processing information is written to the report file. The default of <code dir="ltr">NOREPORT</code> reports basic DDL statistics. <code dir="ltr">REPORT</code> adds the parameters being used and a step-by-step history of the operations that were processed.</p>
</dd>
<dt><code dir="ltr">UPDATEMETADATA</code></dt>
<dd>
<p>Valid for Replicat (Oracle only). Use in an active-active bi-directional configuration. This parameter notifies Replicat on the system where DDL originated that this DDL was propagated to the other system, and that Replicat should now update its object metadata cache to match the new metadata. This keeps Replicat's metadata cache synchronized with the current metadata of the local database.</p>
</dd>
<dt><code dir="ltr">USEOWNERFORSESSION</code></dt>
<dd>
<p>Valid for Replicat (Oracle only). Forces the schema of an unqualified object in the Replicat DDL statement to be that of the Replicat session schema, instead of the schema in an <code dir="ltr">ALTER SESSION SET CURRENT_SCHEMA</code> statement, which is the default behavior.</p>
</dd>
<dt><code dir="ltr">USEPASSWORDVERIFIERLEVEL {10|11}</code></dt>
<dd>
<p>Valid for Replicat (Oracle only) Checks if the password verifier being sent in a DDL <code dir="ltr">CREATE USER</code> statement requires modifying. The reason for this check is because Oracle has different password verifiers, depending on the database version:</p>
<ul>
<li>
<p>10g: A weak verifier kept in <code dir="ltr">user$.password</code>.</p>
</li>
<li>
<p>11g: The SHA-1 verifier.</p>
</li>
<li>
<p>12c: The SHA-2 and HTTP digest verifiers.</p>
</li>
</ul>
<p>The SHA-1, SHA-2 and HTTP verifiers are captured in <code dir="ltr">user$.spare4</code> in the format of: <code dir="ltr">'S:&lt;SHA-1-verifier&gt;;H:&lt;http-verifier&gt;;T:&lt;SHA-2-verifier&gt;'</code>. Integrated Extract returns the following DDL in 12c for create user DDL statements:</p>
<ul>
<li>
<p>In 12.0.1.0 it returns: <code dir="ltr">CREATE USER</code> <code dir="ltr"><span class="codeinlineitalic">username</span></code> <code dir="ltr">IDENTIFIED BY VALUES</code> 'S:<code dir="ltr"><span class="codeinlineitalic">SHA-1</span></code>;<code dir="ltr">H:</code><code dir="ltr"><span class="codeinlineitalic">http</span></code>;<code dir="ltr"><span class="codeinlineitalic">weak</span></code>'.</p>
</li>
<li>
<p>In 12.0.2.0 and later it returns: <code dir="ltr">CREATE USER</code> <code dir="ltr"><span class="codeinlineitalic">username</span></code> <code dir="ltr">IDENTIFIED BY VALUES</code> 'S:<code dir="ltr"><span class="codeinlineitalic">SHA-1</span></code>;<code dir="ltr">H:</code><code dir="ltr"><span class="codeinlineitalic">http</span></code>;<code dir="ltr">T:</code><code dir="ltr"><span class="codeinlineitalic">SHA-2</span></code><code dir="ltr">;</code><code dir="ltr"><span class="codeinlineitalic">weak</span></code>'.</p>
</li>
</ul>
<p>If Replicat runs against Oracle 12<span class="italic">c</span>, these forms of <code dir="ltr">CREATE USER</code> are handled at the RDBMS level, but if Replicat runs against Oracle 10<span class="italic">g</span> or 11, these forms are not handled by the RDBMS. Oracle 10<span class="italic">g</span> only accepts the weak verifier, whereas Oracle 11<span class="italic">g</span> only accepts the <code dir="ltr">S:</code><code dir="ltr"><span class="codeinlineitalic">SHA-1</span></code> and weak verifiers.</p>
<p>To allow the <code dir="ltr">CREATE USER</code> DDL generated for an Extract connected to Oracle 12<span class="italic">c</span> to work with a Replicat connected to Oracle 10<span class="italic">g</span> or 11<span class="italic">g</span>, this parameter can be used to filter out the unwanted verifiers, as follows:</p>
<ul>
<li>
<p>If <code dir="ltr">USEPASSWORDVERIFIERLEVEL</code> is set to 10, everything except the weak verifier is filtered out of the <code dir="ltr">CREATE USER</code> DDL verification string.</p>
</li>
<li>
<p>If <code dir="ltr">USEPASSWORDVERIFIERLEVEL</code> is set to 11, everything except the S:<code dir="ltr"><span class="codeinlineitalic">SHA-1</span></code> and weak verifiers is filtered out of the <code dir="ltr">CREATE USER</code> DDL verification string.</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref718"></a>Examples</p>
<dl>
<dd><a id="GWURF452"></a><a id="sthref719"></a></dd>
<dt class="seghead">Example 1&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following shows how <code dir="ltr">MAPSESSIONSCHEMA</code> works to allow mapping of a source session schema to another schema on the target.</p>
<p>Assume the following DDL capture and mapping configurations in Extract and Replicat:</p>
<p>Extract:</p>
<pre dir="ltr">
DDL INCLUDE OBJNAME SRC.* INCLUDE OBJNAME SRC1.*
TABLE SRC.*;
TABLE SRC1.*;
DDL INCLUDE OBJNAME SRC.* INCLUDE OBJNAME SRC1.*
TABLE SRC.*;
TABLE SRC1.*;
</pre>
<p>Replicat:</p>
<pre dir="ltr">
DDLOPTIONS MAPSESSIONSCHEMA SRC TARGET DST
DDLOPTIONS MAPSESSIONSCHEMA SRC1 TARGET DST1
MAP SRC.*, TARGET DST.*;
MAP SRC1.*, TARGET DST1.*;
DDL INCLUDE OBJNAME DST.* INCLUDE OBJNAME DST1.*
</pre>
<p>Assume that the following DDL statements are issued by the logged-in user on the source:</p>
<pre dir="ltr">
ALTER SESION SET CURRENT_SCHEMA=SRC;
CREATE TABLE tab (X NUMBER);
CREATE TABLE SRC1.tab (X NUMBER) AS SELECT * FROM tab;
</pre>
<p>Replicat will perform the DDL as follows (explanations precede each code segment):</p>
<pre dir="ltr">
-- Set session to DST, because SRC.* is mapped to DST.* in MAP statement.
ALTER SESION SET CURRENT_SCHEMA=DST;
-- Create the first TAB table in the DST schema, using the DST session schema.
CREATE TABLE DST.tab (X NUMBER);
-- Restore Replicat schema.
ALTER SESSION SET CURRENT_SCHEMA=REPUSER
-- Set session schema to DST, per MAPSESSIONSCHEMA, so that AS SELECT succeeds.
ALTER SESION SET CURRENT_SCHEMA=DST;
-- Create the DST1.TAB table AS SELECT * FROM the first table (DST.TAB).
CREATE TABLE DST1.tab (X NUMBER) AS SELECT * FROM tab;
-- Restore Replicat schema.
ALTER SESSION SET CURRENT_SCHEMA=REPUSER
</pre>
<p>Without <code dir="ltr">MAPSESSIONSCHEMA</code>, the <code dir="ltr">SELECT * FROM TAB</code> would attempt to select from a non-existent <code dir="ltr">SRC.TAB</code> table and fail. The default is to apply the source schema to unqualified objects in a target DDL statement. The DDL statement in that case would look as follows and would fail:</p>
<pre dir="ltr">
-- Set session to DST, because SRC.* is mapped to DST.* in MAP statement.
ALTER SESION SET CURRENT_SCHEMA=DST;
-- Create the first TAB table in the DST schema, using the DST session schema.
CREATE TABLE DST.tab (X NUMBER);
-- Restore Replicat schema.
ALTER SESSION SET CURRENT_SCHEMA=REPUSER
-- Set session schema to SRC, because TAB in the AS SELECT is unqualified-- and SRC is the source session schema.
ALTER SESION SET CURRENT_SCHEMA=SRC;
-- Create DST1.TAB AS SELECT * from SRC.TAB (SRC=current session schema).
CREATE TABLE DST1.tab (X NUMBER) AS SELECT * FROM tab;
-- SRC.TAB does not exist.
-- Abend with an error unless the error is handled by a DDLERROR statement.
</pre></dd>
<dd><a id="GWURF453"></a><a id="sthref720"></a></dd>
<dt class="seghead">Example 2&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following shows how to use <code dir="ltr">DEFAULTUSERPASSWORDALIAS</code> to specify a different password for a replicated <code dir="ltr">{CREATE | ALTER} USER</code> <code dir="ltr"><span class="codeinlineitalic">name</span></code> <code dir="ltr">IDENTIFIED BY</code> <code dir="ltr"><span class="codeinlineitalic">password</span></code> statement from the one used in the source statement. In this example, the alias <code dir="ltr">ddlalias</code> is in the <code dir="ltr">target</code> domain in the credential store.</p>
<pre dir="ltr">
DDLOPTIONS DEFAULTUSERPASSWORDALIAS ddlalias DOMAIN target
</pre></dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment135">
<tr>
<td class="cellalignment142"><table class="cellalignment140">
<tr>
<td class="cellalignment139"><a href="gg_parameters036.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment139"><a href="gg_parameters038.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment144">
<table class="cellalignment138">
<tr>
<td class="cellalignment139"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment139"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment139"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
