<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>DDL</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="Contains instructions for using Oracle GoldenGate commands, parameters, and functions." />
<meta name="dcterms.created" content="2015-06-05T16:33:54Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Reference for Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29392-08" />
<meta name="dcterms.isVersionOf" content="GWURF" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="gg_parameters034.htm" title="Previous" type="text/html" />
<link rel="Next" href="gg_parameters036.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWURF.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWURF.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWURF.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">151/413</span>
<!-- End Header --><a id="i2558227"></a>
<div id="GWURF443" class="refsect1">
<h1 class="refsect1">DDL</h1>
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref695"></a>Valid For</p>
<p>Extract and Replicat</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref696"></a>Description</p>
<p>Use the <code dir="ltr">DDL</code> parameter to:</p>
<ul>
<li>
<p>enable DDL support</p>
</li>
<li>
<p>filter DDL operations</p>
</li>
<li>
<p>configure a processing action based on a DDL record</p>
</li>
</ul>
<p>When used without options, the <code dir="ltr">DDL</code> parameter performs no filtering, and it causes all DDL operations to be propagated as follows:</p>
<ul>
<li>
<p>As an Extract parameter, it captures all supported DDL operations that are generated on all supported database objects and sends them to the trail.</p>
</li>
<li>
<p>As a Replicat parameter, it replicates all DDL operations from the Oracle GoldenGate trail and applies them to the target. This is the same as the default behavior without this parameter.</p>
</li>
</ul>
<p>When used with options, the <code dir="ltr">DDL</code> parameter acts as a filtering agent to include or exclude DDL operations based on:</p>
<ul>
<li>
<p>scope</p>
</li>
<li>
<p>object type</p>
</li>
<li>
<p>operation type</p>
</li>
<li>
<p>object name</p>
</li>
<li>
<p>strings in the DDL command syntax or comments, or both</p>
</li>
</ul>
<p>Only one DDL parameter can be used in a parameter file, but you can combine multiple inclusion and exclusion options to filter the DDL to the required level.</p>
<ul>
<li>
<p>The filtering options of the <code dir="ltr">DDL</code> parameter are valid for a primary Extract that captures from the transaction source, but not for a data-pump Extract.</p>
</li>
<li>
<p>When combined, multiple filter option specifications are linked logically as <code dir="ltr">AND</code> statements.</p>
</li>
<li>
<p>All filter criteria specified with multiple options must be satisfied for a DDL statement to be replicated.</p>
</li>
<li>
<p>When using complex filtering criteria in a <code dir="ltr">DDL</code> parameter statement, it is recommended that you test your configuration in a test environment before using it in production.</p>
</li>
<li>
<p>See <a href="#BABHBHBA">Example 3-0</a> for more information.</p>
</li>
</ul>
<p>Do not use the <code dir="ltr">DDL</code> parameter for:</p>
<ul>
<li>
<p>an Extract data pump</p>
</li>
<li>
<p>a VAM-sort Extract (Teradata source databases)</p>
</li>
</ul>
<p>These process types do not permit the mapping or conversion of DDL and will propagate DDL records automatically in pass-through mode. DDL that is performed on a source table (for example <code dir="ltr">ALTER TABLE TableA...</code>) will be applied by Replicat with the same table name (<code dir="ltr">ALTER TABLE TableA</code>). It cannot be mapped as <code dir="ltr">ALTER TABLE TableB</code>. See <a href="gg_parameters116.htm#i2100679">"PASSTHRU | NOPASSTHRU"</a> for more information about pass-through mode.</p>
<p>For additional information about how to use Oracle GoldenGate DDL support, see <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> or <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>, as applicable.</p>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref697"></a>Syntax</p>
<pre dir="ltr">
DDL [
{INCLUDE | EXCLUDE}
  [, MAPPED | UNMAPPED | OTHER | ALL]
  [, OPTYPE <span class="italic">type</span>]
  [, OBJTYPE '<span class="italic">type</span>']
  [, SOURCECATALOG <span class="codeinlineitalic">catalog</span> | ALLCATALOGS]
  [, ALLOWEMPTYOBJECT]
  [, ALLOWEMPTYOWNER]
  [, OBJNAME <span class="italic">name</span>]
  [, INSTR '<span class="italic">string</span>']
  [, INSTRWORDS '<span class="italic">word_list</span>']
  [, INSTRCOMMENTS '<span class="italic">comment_string</span>']
  [, INSTRCOMMENTSWORDS '<span class="codeinlineitalic">word_list</span>']
  [, STAYMETADATA]
  [, EVENTACTIONS (<span class="italic">action</span>)
]
[...]
</pre></div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="BABCEIDG"></a>DDL Filtering Options</p>
<p>The following are the syntax options for filtering and operating upon the DDL that is replicated by Oracle GoldenGate. These options apply to the <code dir="ltr">INCLUDE</code> and <code dir="ltr">EXCLUDE</code> clauses of the DDL parameter and other parameters that support DDL replication.</p>
<dl>
<dt><code dir="ltr">INCLUDE | EXCLUDE</code></dt>
<dd>
<p>Use <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to identify the beginning of an inclusion or exclusion clause.</p>
<ul>
<li>
<p>An inclusion clause contains filtering criteria that identifies the DDL that this parameter will affect.</p>
</li>
<li>
<p>An exclusion clause contains filtering criteria that excludes specific DDL from this parameter.</p>
</li>
</ul>
<p>The inclusion or exclusion clause must consist of the <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> keyword followed by any valid combination of the other filtering options of the <code dir="ltr">DDL</code> parameter.</p>
<p>If you use <code dir="ltr">EXCLUDE</code>, you must create a corresponding <code dir="ltr">INCLUDE</code> clause. For example, the following is invalid:</p>
<pre dir="ltr">
DDL EXCLUDE OBJNAME hr.*
</pre>
<p>However, you can use either of the following:</p>
<pre dir="ltr">
DDL INCLUDE ALL, EXCLUDE OBJNAME hr.*
DDL INCLUDE OBJNAME fin.* EXCLUDE OBJNAME fin.ss
</pre>
<p>An <code dir="ltr">EXCLUDE</code> takes priority over any <code dir="ltr">INCLUDEs</code> that contain the same criteria. You can use multiple inclusion and exclusion clauses.</p>
<p>Do not include any Oracle GoldenGate installed DDL objects in a <code dir="ltr">DDL</code> parameter, in a <code dir="ltr">TABLE</code> parameter, or in a <code dir="ltr">MAP</code> parameter, nor in a <code dir="ltr">TABLEEXCLUDE</code> or <code dir="ltr">MAPEXCLUDE</code> parameter. Make certain that wildcard specifications in those parameters do not include Oracle GoldenGate-installed DDL objects. These objects must not be part of the Oracle GoldenGate configuration, but the Extract process must be aware of operations on them, and that is why you must <span class="italic">not</span> explicitly exclude them from the configuration with an <code dir="ltr">EXCLUDE</code>, <code dir="ltr">TABLEEXCLUDE</code>, or <code dir="ltr">MAPEXCLUDE</code> parameter statement.</p>
<a id="BABGCHDD"></a>
<dl>
<dt><code dir="ltr">MAPPED | UNMAPPED | OTHER | ALL</code></dt>
<dd>
<p>Use <code dir="ltr">MAPPED</code>, <code dir="ltr">UNMAPPED</code>, <code dir="ltr">OTHER</code>, and <code dir="ltr">ALL</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> based on the DDL operation scope.</p>
<ul>
<li>
<p><code dir="ltr">MAPPED</code> applies <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL operations that are of <code dir="ltr">MAPPED</code> scope. <code dir="ltr">MAPPED</code> filtering is performed before filtering that is specified with other <code dir="ltr">DDL</code> parameter options.</p>
</li>
<li>
<p><code dir="ltr">UNMAPPED</code> applies <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL operations that are of <code dir="ltr">UNMAPPED</code> scope.</p>
</li>
<li>
<p><code dir="ltr">OTHER</code> applies <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL operations that are of <code dir="ltr">OTHER</code> scope.</p>
</li>
<li>
<p><code dir="ltr">ALL</code> applies <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL operations of all scopes.</p>
</li>
</ul>
<p><code dir="ltr">DDL EXCLUDE ALL</code> is a special processing option that maintains up-to-date object metadata for Oracle GoldenGate, while blocking the replication of the DDL operations themselves. You can use <code dir="ltr">DDL EXCLUDE ALL</code> when using a method other than Oracle GoldenGate to apply DDL to the target, but you want Oracle GoldenGate to replicate data changes to the target objects. It provides the current metadata to Oracle GoldenGate as objects change, thus preventing the need to stop and start the Oracle GoldenGate processes. The following special conditions apply to <code dir="ltr">DDL EXCLUDE ALL</code>:</p>
<ul>
<li>
<p><code dir="ltr">DDL EXCLUDE ALL</code> does not require the use of an <code dir="ltr">INCLUDE</code> clause.</p>
</li>
<li>
<p>When using <code dir="ltr">DDL EXCLUDE ALL</code>, you can set the <code dir="ltr">WILDCARDRESOLVE</code> parameter to <code dir="ltr">IMMEDIATE</code> to allow immediate DML resolution if required.</p>
</li>
</ul>
</dd>
<dt><code dir="ltr">OPTYPE</code> <code dir="ltr"><span class="codeinlineitalic">type</span></code></dt>
<dd>
<p>Use <code dir="ltr">OPTYPE</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to a specific type of DDL operation, such as <code dir="ltr">CREATE</code>, <code dir="ltr">ALTER</code>, and <code dir="ltr">RENAME</code>. For <code dir="ltr"><span class="codeinlineitalic">type</span></code>, use any DDL command that is valid for the database. For example, to include <code dir="ltr">ALTER</code> operations, the correct syntax is:</p>
<pre dir="ltr">
DDL INCLUDE OPTYPE ALTER
</pre></dd>
<dt><code dir="ltr">OBJTYPE '</code><code dir="ltr"><span class="codeinlineitalic">type'</span></code></dt>
<dd>
<p>Use <code dir="ltr">OBJTYPE</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to a specific type of database object. For <code dir="ltr"><span class="codeinlineitalic">type</span></code>, use any object type that is valid for the database, such as <code dir="ltr">TABLE</code>, <code dir="ltr">INDEX</code>, and <code dir="ltr">TRIGGER</code>. For an Oracle materialized view and materialized views log, the correct types are <code dir="ltr">snapshot</code> and <code dir="ltr">snapshot log</code>, respectively. Enclose the name of the object type within single quotes. For example:</p>
<pre dir="ltr">
DDL INCLUDE OBJTYPE 'INDEX'
DDL INCLUDE OBJTYPE 'SNAPSHOT'
</pre>
<p>For Oracle object type <code dir="ltr">USER</code>, do not use the <code dir="ltr">OBJNAME</code> option, because <code dir="ltr">OBJNAME</code> expects <code dir="ltr">owner.object</code> or <code dir="ltr"><span class="codeinlineitalic">container.owner.object</span></code> whereas <code dir="ltr">USER</code> only has a schema.</p>
</dd>
<dt><code dir="ltr">SOURCECATALOG</code> <code dir="ltr"><span class="codeinlineitalic">catalog</span></code> <code dir="ltr">| ALLCATALOGS</code></dt>
<dd>
<p>Use these options to specify how unqualified object names in an <code dir="ltr">OBJNAME</code> clause are resolved to the correct container. Use these options when the source database is an Oracle container database.</p>
<p><code dir="ltr">SOURCECATALOG</code> specifies a default container for all of the object names that are specified in the same <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause. To take effect, <code dir="ltr">SOURCECATALOG</code> must be specified before the <code dir="ltr">OBJNAME</code> specification. See <a href="gg_parameters147.htm#BABBAEBG">"SOURCECATALOG"</a> for more information including using statements that contain two-part names, where three-part object names are required to fully identify an object.</p>
<p><code dir="ltr">ALLCATALOGS</code> specifies that all of the containers of the database should be considered when resolving object names that are specified in the same <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause. <code dir="ltr">ALLCATALOGS</code> can be placed before or after the <code dir="ltr">OBJNAME</code> specification.</p>
<p>The following is the order of precedence that is given when there are different catalog specifications in a parameter file:</p>
<ol>
<li>
<p><code dir="ltr">ALLCATALOGS</code> in an <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause overrides all <code dir="ltr">SOURCECATALOG</code> specifications in the <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause and at the root of the parameter file, and it overrides the container specification of a fully qualified object name in the <code dir="ltr">OBJNAME</code> clause.</p>
</li>
<li>
<p>An explicit catalog specification in the <code dir="ltr">OBJNAME</code> clause overrides all instances of <code dir="ltr">SOURCECATALOG</code> (but not <code dir="ltr">ALLCATALOGS</code>).</p>
</li>
<li>
<p><code dir="ltr">SOURCECATALOG</code> in an <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause overrides the global <code dir="ltr">SOURCECATALOG</code> parameter that is specified at the root of the <code dir="ltr">TABLE</code> or <code dir="ltr">MAP</code> statement.</p>
</li>
<li>
<p>The global <code dir="ltr">SOURCECATALOG</code> parameter takes effect for any unqualified object names in <code dir="ltr">OBJNAME</code> clauses if the <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> clause does not specify <code dir="ltr">SOURCECATALOG</code> or <code dir="ltr">ALLCATALOGS</code>.</p>
</li>
<li>
<p>In the absence of any of the preceding parameters, all catalogs are considered.</p>
</li>
</ol>
</dd>
<dt><code dir="ltr">ALLOWEMPTYOBJECT</code></dt>
<dd>
<p>Use <code dir="ltr">ALLOWEMPTYOBJECT</code> to allow an <code dir="ltr">OBJNAME</code> specification to process DDL that contains no object name. For example:</p>
<pre dir="ltr">
DDL INCLUDE OBJNAME sch.* ALLOWEMPTYOBJECT
</pre></dd>
<dt><code dir="ltr">ALLOWEMPTYOWNER</code></dt>
<dd>
<p>Use <code dir="ltr">ALLOWEMPTYOWNER</code> to allow an <code dir="ltr">OBJNAME</code> specification to process DDL that contains no owner name. For example:</p>
<pre dir="ltr">
DDL INCLUDE OBJNAME pdb.sch.* ALLOWEMPTYOWNER
</pre></dd>
<dt><code dir="ltr">OBJNAME</code> <code dir="ltr"><span class="codeinlineitalic">name</span></code></dt>
<dd>
<p>Use <code dir="ltr">OBJNAME</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to the fully qualified name of an object. To specify two-part and three-part object names and wildcards correctly, see <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>Enclose case-sensitive object names within double quote marks.</p>
<p>Case-insensitive example:</p>
<pre dir="ltr">
DDL INCLUDE OBJNAME accounts.*
</pre>
<p>Case-sensitive example:</p>
<pre dir="ltr">
DDL INCLUDE OBJNAME accounts."cust"
</pre>
<p>Do not use <code dir="ltr">OBJNAME</code> for the Oracle <code dir="ltr">USER</code> object, because <code dir="ltr">OBJNAME</code> expects <code dir="ltr"><span class="codeinlineitalic">owner.object</span></code> or <code dir="ltr"><span class="codeinlineitalic">container.owner.object</span></code>, whereas <code dir="ltr">USER</code> only has a schema.</p>
<p>When using <code dir="ltr">OBJNAME</code> with <code dir="ltr">MAPPED</code> in a Replicat parameter file, the value for <code dir="ltr">OBJNAME</code> must refer to the name specified with the <code dir="ltr">TARGET</code> clause of the <code dir="ltr">MAP</code> statement. For example, given the following <code dir="ltr">MAP</code> statement, the correct value is <code dir="ltr">OBJNAME fin2.*</code>.</p>
<pre dir="ltr">
MAP fin.exp_*, TARGET fin2.*;
</pre>
<p>In the following example, a <code dir="ltr">CREATE TABLE</code> statement executes as follows on the source:</p>
<pre dir="ltr">
CREATE TABLE fin.exp_phone;
</pre>
<p>That same statement executes as follows on the target:</p>
<pre dir="ltr">
CREATE TABLE fin2.exp_phone;
</pre>
<p>If a target owner is not specified in the <code dir="ltr">MAP</code> statement, Replicat maps it to the database user that is specified with the <code dir="ltr">USERID</code> or <code dir="ltr">USERIDALIAS</code> parameter.</p>
<p>For DDL that creates derived objects, such as a trigger, the value for <code dir="ltr">OBJNAME</code> must be the name of the base object, not the name of the derived object.</p>
<p>For example, to include the following DDL statement, the correct value is <code dir="ltr">hr.accounts</code>, not <code dir="ltr">hr.insert_trig</code>.</p>
<pre dir="ltr">
CREATE TRIGGER hr.insert_trig ON hr.accounts;
</pre>
<p>For <code dir="ltr">RENAME</code> operations, the value for <code dir="ltr">OBJNAME</code> must be the new table name. For example, to include the following DDL statement, the correct value is <code dir="ltr">hr.acct</code>.</p>
<pre dir="ltr">
ALTER TABLE hr.accounts RENAME TO acct;
</pre></dd>
<dt><code dir="ltr">INSTR '</code><code dir="ltr"><span class="codeinlineitalic">string'</span></code></dt>
<dd>
<p>Use <code dir="ltr">INSTR</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL statements that contain a specific character string within the command syntax itself, but not within comments. For example, the following excludes DDL that creates an index.</p>
<pre dir="ltr">
DDL INCLUDE ALL EXCLUDE INSTR 'CREATE INDEX'
</pre>
<p>Enclose the string within single quotes. The string search is not case sensitive.</p>
<p><code dir="ltr">INSTR</code> does not support single quotation marks (' ') that are within the string, nor does it support <code dir="ltr">NULL</code> values.</p>
</dd>
<dt><code dir="ltr">INSTRCOMMENTS '</code><code dir="ltr"><span class="codeinlineitalic">comment_string'</span></code></dt>
<dd>
<p>(Valid for Oracle) Use <code dir="ltr">INSTRCOMMENTS</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL statements that contain a specific character string within a comment, but not within the DDL command itself. By using <code dir="ltr">INSTRCOMMENTS</code>, you can use comments as a filtering agent.</p>
<p>For example, the following excludes DDL statements that include the string 'source only' in the comments.</p>
<pre dir="ltr">
DDL INCLUDE ALL EXCLUDE INSTRCOMMENTS 'SOURCE ONLY'
</pre>
<p>In this example, DDL statements such as the following are not replicated.</p>
<pre dir="ltr">
CREATE USER john IDENTIFIED BY john /*source only*/;
</pre>
<p>Enclose the string within single quotes. The string search is not case sensitive. You can combine <code dir="ltr">INSTR</code> and <code dir="ltr">INSTRCOMMENTS</code> to filter on a string in the command syntax and in the comments of the same DDL statement.</p>
<p><code dir="ltr">INSTRCOMMENTS</code> does not support single quotation marks (' ') that are within the string, nor does it support <code dir="ltr">NULL</code> values.</p>
</dd>
<dt><code dir="ltr">INSTRWORDS '</code><code dir="ltr"><span class="codeinlineitalic">word_list'</span></code></dt>
<dd>
<p>Use <code dir="ltr">INSTRWORDS</code> to apply <code dir="ltr">INCLUDE</code> or <code dir="ltr">EXCLUDE</code> to DDL statements that contain the specified words.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">word_list</span></code>, supply the words in any order, within single quotes. To include spaces, put the space (and the word, if applicable) in double quotes. Double quotes also can be used to enclose sentences.</p>
<p>All specified words must be present in the DDL for <code dir="ltr">INSTRWORDS</code> to take effect.</p>
<p>Example:</p>
<pre dir="ltr">
DDL INCLUDE OPTYPE ALTER OBJTEYP 'TABLE' INSTRWORDS 'ALTER CONSTRAINT " xyz"'
</pre>
<p>This example matches the following DDL statements:</p>
<pre dir="ltr">
ALTER TABLE ADD CONSTRAINT xyz CHECK
</pre>
<pre dir="ltr">
ALTER TABLE DROP CONSTRAINT xyz
</pre>
<p><code dir="ltr">INSTRWORDS</code> does not support single quotation marks (' ') that are within the string, nor does it support <code dir="ltr">NULL</code> values.</p>
</dd>
<dt><code dir="ltr">INSTRCOMMENTSWORDS '</code><code dir="ltr"><span class="codeinlineitalic">word_list'</span></code></dt>
<dd>
<p>(Valid for Oracle) Works the same way as <code dir="ltr">INSTRWORDS</code>, but only applies to comments within a DDL statement, not the DDL syntax itself. By using <code dir="ltr">INSTRCOMMENTS</code>, you can use comments as a filtering agent.</p>
<p><code dir="ltr">INSTRCOMMENTSWORDS</code> does not support single quotation marks (' ') that are within the string, nor does it support <code dir="ltr">NULL</code> values.</p>
<p>You can combine <code dir="ltr">INSTRWORDS</code> and <code dir="ltr">INSTRCOMMENTSWORDS</code> to filter on a string in the command syntax and in the comments of the same DDL statement.</p>
</dd>
<dt><code dir="ltr">STAYMETADATA</code></dt>
<dd>
<p>(Valid for Oracle). Prevents metadata from being captured by Extract or applied by Replicat.</p>
<p>When Extract first encounters DML on a table, it retrieves the metadata for that table. When DDL is encountered on that table, the old metadata is invalidated. The next DML on that table is matched to the new metadata so that the target table structure always is up-to-date with that of the source.</p>
<p>However, if you know that a particular DDL operation will not affect the table's metadata, you can use <code dir="ltr">STAYMETADATA</code> so that the current metadata is not retrieved or replicated. This is a performance improvement that has benefit for such operations as imports and exports, where such DDL as truncates and the disabling of constraints are often performed. These operations do not affect table structure, as it relates to the integrity of subsequent data replication, so they can be ignored in such cases. For example <code dir="ltr">ALTER TABLE ADD FOREIGN KEY</code> does not affect table metadata.</p>
<p>An example of how this can be applied selectively is as follows:</p>
<pre dir="ltr">
DDL INCLUDE ALL INCLUDE STAYMETADATA OBJNAME xyz
</pre>
<p>This example states that all DDL is to be included for replication, but only DDL that operates on object <code dir="ltr">xyz</code> will be subject to <code dir="ltr">STAYMETADATA</code>.</p>
<p><code dir="ltr">STAYMETADATA</code> also can be used the same way in an <code dir="ltr">EXCLUDE</code> clause.</p>
<p><code dir="ltr">STAYMETADATA</code> must be used the same way on the source and target to ensure metadata integrity.</p>
<p>When <code dir="ltr">STAYMETADATA</code> is in use, a message is added to the report file. DDL reporting is controlled by the <code dir="ltr">DDLOPTIONS</code> parameter with the <code dir="ltr">REPORT</code> option.</p>
<p>This same functionality can be applied globally to all DDL that occurs on the source by using the <code dir="ltr">@ddl_staymetadata</code> scripts:</p>
<ul>
<li>
<p><code dir="ltr">@ddl_staymetadata_on</code> globally turns off metadata versioning.</p>
</li>
<li>
<p><code dir="ltr">@ddl_staymetadata_off</code> globally enables metadata versioning again.</p>
</li>
</ul>
<p>This option should be used with the assistance of Oracle GoldenGate technical support staff, because it might not always be apparent which DDL affects object metadata. If improperly used, it can compromise the integrity of the replication environment.</p>
</dd>
<dt><code dir="ltr">EVENTACTIONS (</code><code dir="ltr"><span class="codeinlineitalic">action)</span></code></dt>
<dd>
<p>Causes the Extract or Replicat process take a defined action based on a DDL record in the transaction log or trail, which is known as the <span class="italic">event record</span>. The DDL event is triggered if the DDL record is eligible to be written to the trail by Extract or a data pump, or to be executed by Replicat, as determined by the other filtering options of the <code dir="ltr">DDL</code> parameter. You can use this system to customize processing based on database events.</p>
<p>For <code dir="ltr"><span class="codeinlineitalic">action</span></code>, see <code dir="ltr">EVENTACTIONS</code> under the <code dir="ltr">MAP</code> and <code dir="ltr">TABLE</code> parameters.</p>
<p>Guidelines for using <code dir="ltr">EVENTACTIONS</code> on DDL records:</p>
<ul>
<li>
<p><code dir="ltr">CHECKPOINTBEFORE</code>: Since each DDL record is autonomous, the DDL record is guaranteed to be the start of a transaction; therefore, the <code dir="ltr">CHECKPOINT BEFORE</code> event action is implied for a DDL record.</p>
</li>
<li>
<p><code dir="ltr">IGNORE</code>: This option is not valid for DDL records. Because DDL operations are autonomous, ignoring a record is equivalent to ignoring the entire transaction.</p>
</li>
</ul>
<p><code dir="ltr">EVENTACTIONS</code> does not support the following DDL objects because they are derived objects:</p>
<ul>
<li>
<p>indexes</p>
</li>
<li>
<p>triggers</p>
</li>
<li>
<p>synonyms</p>
</li>
<li>
<p><code dir="ltr">RENAME</code> on a table and <code dir="ltr">ALTER TABLE RENAME</code></p>
</li>
</ul>
<p>In a Teradata configuration where Extract is configured in maximum protection mode, use <code dir="ltr">EVENTACTIONS</code> only in the VAM-sort Extract group. It is not supported by the primary Extract in this configuration because concurrent changes are not sorted in transaction order at this point in the processing stream. For more information, see <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<!-- class="refsubsect" -->
<div class="refsubsect"><p class="titleinrefsubsect"><a id="sthref698"></a>Examples</p>
<dl>
<dd><a id="GWURF444"></a><a id="BABHBHBA"></a></dd>
<dt class="seghead">Example 1&nbsp;&nbsp;&nbsp;Combining DDL Parameter Options</dt>
<dd>
<p>The following is an example of how to combine the options of the <code dir="ltr">DDL</code> parameter.</p>
<pre dir="ltr">
DDL  &amp;
INCLUDE UNMAPPED &amp;
    OPTYPE alter &amp;
    OBJTYPE 'table' &amp;
    OBJNAME users.tab* &amp;
INCLUDE MAPPED OBJNAME * &amp;
EXCLUDE MAPPED OBJNAME temporary.tab
</pre>
<p>The combined filter criteria in this statement specify the following:</p>
<ul>
<li>
<p><code dir="ltr">INCLUDE</code> all <code dir="ltr">ALTER TABLE</code> statements for tables that are not mapped with a <code dir="ltr">TABLE</code> or <code dir="ltr">MAP</code> statement (<code dir="ltr">UNMAPPED</code> scope), but only if those tables are owned by <code dir="ltr">users</code> and their names start with <code dir="ltr">tab</code>,</p>
</li>
<li>
<p><code dir="ltr">INCLUDE</code> all DDL operation types for all tables that are mapped with a <code dir="ltr">TABLE</code> or <code dir="ltr">MAP</code> statement (<code dir="ltr">MAPPED</code> scope),</p>
</li>
<li>
<p><code dir="ltr">EXCLUDE</code> all DDL operation types for all tables that are <code dir="ltr">MAPPED</code> in scope, but only if those tables are owned by <code dir="ltr">temporary</code> and only if their names begin with <code dir="ltr">tab</code>.</p>
</li>
</ul>
</dd>
<dd><a id="GWURF445"></a><a id="sthref699"></a></dd>
<dt class="seghead">Example 2&nbsp;&nbsp;&nbsp;Including an Event Action</dt>
<dd>
<p>The following example specifies an event action of <code dir="ltr">REPORT</code> for all DDL records.</p>
<pre dir="ltr">
DDL INCLUDE ALL EVENTACTIONS (REPORT)
</pre></dd>
<dd><a id="GWURF446"></a><a id="sthref700"></a></dd>
<dt class="seghead">Example 3&nbsp;&nbsp;&nbsp;Using an Event Action on a Subset of DDL</dt>
<dd>
<p>The following example shows how <code dir="ltr">EVENTACTIONS</code> can be used on a subset of the DDL. All DDL is to be replicated, but only the DDL that is executed on explicitly named objects qualifies to trigger the event actions of <code dir="ltr">REPORT</code> and <code dir="ltr">LOG</code>.</p>
<pre dir="ltr">
DDL INCLUDE ALL &amp;
    INCLUDE OBJNAME sales.t* EVENTACTIONS (REPORT) &amp;
    INCLUDE OBJNAME fin.my_tab EVENTACTIONS (LOG) &amp;
</pre></dd>
<dd><a id="GWURF1109"></a><a id="sthref701"></a></dd>
<dt class="seghead">Example 4&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following example demonstrates the different ways to specify catalog names for DDL that is issued on objects in a source Oracle container database.</p>
<ul>
<li>
<p>This includes <code dir="ltr">pdb1.sch1.obj1</code> and <code dir="ltr">pdb2.sch2.obj2</code> for DDL processing.</p>
<pre dir="ltr">
SOURCECATALOG pdb1 
DDL INCLUDE OBJNAME sch1.obj1 INCLUDE SOURCECATALOG pdb2 OBJNAME sch2.obj2
</pre></li>
<li>
<p>This includes all objects with the name <code dir="ltr">sch.obj</code> in any catalog for DDL processing.</p>
<pre dir="ltr">
DDL INCLUDE ALLCATALOGS OBJNAME sch.obj
</pre></li>
<li>
<p>This also includes all objects with the name <code dir="ltr">sch.obj</code> in any catalog for DDL processing, because <code dir="ltr">ALLCATALOGS</code> overrides any other catalog specification.</p>
<pre dir="ltr">
DDL INCLUDE ALLCATALOGS OBJNAME pdb.sch.obj
</pre></li>
</ul>
</dd>
<dd><a id="GWURF1110"></a><a id="sthref702"></a></dd>
<dt class="seghead">Example 5&nbsp;&nbsp;&nbsp;</dt>
<dd>
<p>The following shows the combined use of <code dir="ltr">ALLOWEMPTYOBJECT</code> and <code dir="ltr">ALLOWEMPTYOWNER</code>.</p>
<pre dir="ltr">
DDL INCLUDE pdb.*.* ALLOWEMPTYOWNER ALLOWEMPTYOBJECT 
</pre></dd>
</dl>
</div>
<!-- class="refsubsect" --></div>
<!-- class="refsect1" --></div>
<!-- class="refentry" -->
<div class="refentry"></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment135">
<tr>
<td class="cellalignment142"><table class="cellalignment140">
<tr>
<td class="cellalignment139"><a href="gg_parameters034.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment139"><a href="gg_parameters036.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment144">
<table class="cellalignment138">
<tr>
<td class="cellalignment139"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment139"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment139"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
