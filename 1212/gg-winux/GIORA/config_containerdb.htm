<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>6 Configuring Oracle GoldenGate in a Multitenant Container Database</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB)." />
<meta name="dcterms.created" content="2015-06-05T14:9:49Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Installing and Configuring Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E29644-07" />
<meta name="dcterms.isVersionOf" content="GIORA" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="process_mode.htm" title="Previous" type="text/html" />
<link rel="Next" href="config_capt_integrated.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GIORA.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GIORA.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GIORA.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">9/27</span>
<!-- End Header -->
<div id="GIORA942" class="chapter"><a id="BDCFDFDE"></a>
<h1 class="chapter"><span class="secnum">6</span> Configuring Oracle GoldenGate in a Multitenant Container Database</h1>
<p><a id="GIORA943"></a>This chapter contains additional configuration instructions when configuring Oracle GoldenGate in a multitenant container database (CDB).</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#A1999924">Using Oracle GoldenGate with Pluggable Databases</a></p>
</li>
<li>
<p><a href="#CBDGBCCE">Other Requirements for Multitenant Container Databases</a></p>
</li>
</ul>
<a id="A1999924"></a>
<div id="GIORA944" class="sect1">
<h2 class="sect1"><span class="secnum">6.1</span> Using Oracle GoldenGate with Pluggable Databases</h2>
<p>In most ways, Oracle GoldenGate operates in a multitenant container database the same way that it operates in a regular Oracle database. Therefore, consider these instructions as the foundation for following the actual configuration instructions in the following chapters:</p>
<p><a href="config_capt_integrated.htm#BABHJACD">Chapter 7, "Configuring Capture in Integrated Mode"</a></p>
<p><a href="config_apply.htm#CHDEJBHB">Chapter 9, "Configuring Oracle GoldenGate Apply"</a></p>
<div id="GIORA984" class="sect2"><a id="sthref84"></a>
<h3 class="sect2"><span class="secnum">6.1.1</span> Capturing from Pluggable Databases</h3>
<p>One Extract group can capture from multiple pluggable databases to a single trail. In the parameter file, source objects must be specified in <code dir="ltr">TABLE</code> and <code dir="ltr">SEQUENCE</code> statements with their fully qualified three-part names in the format of <code dir="ltr"><span class="codeinlineitalic">container.schema.object</span></code>.</p>
<p>As an alternative to specifying three-part names, you can specify a default pluggable database with the <code dir="ltr">SOURCECATALOG</code> parameter, and then specify only the <code dir="ltr"><span class="codeinlineitalic">schema.object</span></code> in subsequent <code dir="ltr">TABLE</code> or <code dir="ltr">SEQUENCE</code> parameters. You can use multiple instances of this configuration to handle multiple source pluggable databases. For example:</p>
<pre dir="ltr">
SOURCECATALOG pdb1
TABLE schema*.tab*;
SEQUENCE schema*.seq*;
SOURCECATALOG pdb2
TABLE schema*.tab*;
SEQUENCE schema*.seq*;
</pre></div>
<!-- class="sect2" -->
<div id="GIORA985" class="sect2"><a id="sthref85"></a>
<h3 class="sect2"><span class="secnum">6.1.2</span> Applying to Pluggable Databases</h3>
<p>Replicat can only connect and apply to one pluggable database. To specify the correct one, use a SQL*Net connect string for the database user that you specify with the <code dir="ltr">USERID</code> or <code dir="ltr">USERIDALIAS</code> parameter. For example: <code dir="ltr">GGADMIN@FINANCE</code>. In the parameter file, specify only the <code dir="ltr"><span class="codeinlineitalic">schema.object</span></code> in the <code dir="ltr">TARGET</code> portion of the <code dir="ltr">MAP</code> statements. In the <code dir="ltr">MAP</code> portion, identify source objects captured from more than one pluggable database with their three-part names or use the <code dir="ltr">SOURCECATALOG</code> parameter with two-part names. The following is an example of this configuration.</p>
<pre dir="ltr">
SOURCECATALOG pdb1
MAP schema*.tab*, TARGET *1.*;
MAP schema*.seq*, TARGET *1.*;
SOURCECATALOG pdb2
MAP schema*.tab*, TARGET *2.*;
MAP schema*.seq*, TARGET *2.*;
</pre>
<p>The following is an example <span class="italic">without</span> the use of <code dir="ltr">SOURCECATALOG</code> to identify the source pluggable database. In this case, the source objects are specified with their three-part names.</p>
<pre dir="ltr">
MAP pdb1.schema*.tab*, TARGET *1.*;
MAP pdb1.schema*.seq*, TARGET *1.*;
</pre>
<p>To configure replication from multiple source pluggable databases to multiple target pluggable databases, you can configure parallel Extract and Replicat streams, each handling data for one pluggable database. Alternatively, you can configure one Extract capturing from multiple source pluggable databases, which writes to one trail that is read by multiple Replicat groups, each applying to a different target pluggable database. Yet another alternative is to use one Extract writing to multiple trails, each trail read by a Replicat assigned to a specific target pluggable database (see <a href="#BDCIGBAF">Figure 6-1</a>).</p>
<div id="GIORA986" class="figure"><p class="titleinfigure"><a id="BDCIGBAF"></a>Figure 6-1 Possible Configuration for Capture and Apply from Multiple Pluggable Databases</p>
<img width="2331" height="720" src="img/pdb_capture.jpg" alt="Description of Figure 6-1 follows" /><br />
<a id="sthref86" href="img_text/pdb_capture.htm">Description of "Figure 6-1 Possible Configuration for Capture and Apply from Multiple Pluggable Databases"</a><br />
<br /></div>
<!-- class="figure" --></div>
<!-- class="sect2" -->
<div id="GIORA987" class="sect2"><a id="sthref87"></a>
<h3 class="sect2"><span class="secnum">6.1.3</span> Excluding Objects from the Configuration</h3>
<p>To exclude pluggable databases, schemas, and objects from the configuration, you can use the <code dir="ltr">CATALOGEXCLUDE</code>, <code dir="ltr">SCHEMAEXCLUDE</code>, <code dir="ltr">TABLEEXCLUDE</code>, <code dir="ltr">MAPEXCLUDE</code>, and <code dir="ltr">EXCLUDEWILDCARDOBJECTSONLY</code> parameters. See <a class="olink GIORA394" href="../../gg-winux/GIORA/instantiate.htm#GIORA394"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CBDGBCCE"></a>
<div id="GIORA558" class="sect1">
<h2 class="sect1"><span class="secnum">6.2</span> Other Requirements for Multitenant Container Databases</h2>
<p>The following are the special requirements that apply to replication to and from multitenant container databases.</p>
<ul>
<li>
<p>All of the pluggable databases in the multitenant container database must have the same attributes, such as character set, locale, and case-sensitivity. The character set of the pluggable databases can be a subset of that of the root container.</p>
</li>
<li>
<p>Extract must operate in integrated capture mode. See <a href="process_mode.htm#CBDBDAFI">Section 5.2, "Deciding Which Capture Method to Use"</a> for more information about Extract capture modes. Replicat can operate in any of its modes.</p>
</li>
<li>
<p>Extract must connect to the root container (<code dir="ltr">cdb$root</code>) as a common user in order to interact with the logmining server. To specify the root container, use the appropriate SQL*Net connect string for the database user that you specify with the <code dir="ltr">USERID</code> or <code dir="ltr">USERIDALIAS</code> parameter. For example: <code dir="ltr">C##GGADMIN@FINANCE</code>. See <a href="user_assignment.htm#BABHFBDB">Chapter 4, "Establishing Oracle GoldenGate Credentials"</a> for how to create a user for the Oracle GoldenGate processes and grant the correct privileges.</p>
</li>
<li>
<p>The <code dir="ltr">dbms_goldengate_auth.grant_admin_privilege</code> package grants the appropriate privileges for capture and apply within a multitenant container database. This includes the <code dir="ltr">container</code> parameter, which must be set to <code dir="ltr">ALL</code>, as shown in the following example:</p>
<pre dir="ltr">
dbms_goldengate_auth.grant_admin_privilege('C##GGADMIN',container=&gt;'all')
</pre></li>
</ul>
<p>See the following chapters to begin configuring the Oracle GoldenGate processes:</p>
<p><a href="config_capt_integrated.htm#BABHJACD">Chapter 7, "Configuring Capture in Integrated Mode"</a></p>
<p><a href="config_apply.htm#CHDEJBHB">Chapter 9, "Configuring Oracle GoldenGate Apply"</a></p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment233">
<tr>
<td class="cellalignment240"><table class="cellalignment238">
<tr>
<td class="cellalignment237"><a href="process_mode.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment237"><a href="config_capt_integrated.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment242">
<table class="cellalignment236">
<tr>
<td class="cellalignment237"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment237"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment237"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
