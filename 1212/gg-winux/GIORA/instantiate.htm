<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>15 Instantiating Oracle GoldenGate Replication</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="This chapter contains instructions for configuring and performing an instantiation of the replication environment to establish and maintain a synchronized state between two or more databases." />
<meta name="dcterms.created" content="2015-06-05T14:9:49Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Installing and Configuring Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E29644-07" />
<meta name="dcterms.isVersionOf" content="GIORA" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="processes_creating.htm" title="Previous" type="text/html" />
<link rel="Next" href="ddl_change.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GIORA.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GIORA.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GIORA.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">18/27</span>
<!-- End Header -->
<div id="GIORA393" class="chapter"><a id="BABFJGAB"></a>
<h1 class="chapter"><span class="secnum">15</span> Instantiating Oracle GoldenGate Replication</h1>
<p><a id="GIORA567"></a>This chapter contains instructions for configuring and performing an instantiation of the replication environment to establish and maintain a synchronized state between two or more databases. In a synchronized state, the source and target objects contain identical or appropriately corresponding values, depending on whether any conversion or transformation is performed on the data before applying it to the target objects.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#A1872763">Overview of the Instantiation Process</a></p>
</li>
<li>
<p><a href="#CHDIGBGH">Satisfying Prerequisites for Instantiation</a></p>
</li>
<li>
<p><a href="#CHDDHGJF">Configuring the Initial Load</a></p>
</li>
<li>
<p><a href="#CHDIBBFG">Performing the Target Instantiation</a></p>
</li>
<li>
<p><a href="#CHDHGDFG">Monitoring and Controlling Processing After the Instantiation</a></p>
</li>
<li>
<p><a href="#A1946514">Verifying Synchronization</a></p>
</li>
<li>
<p><a href="#CHDJCADC">Backing up the Oracle GoldenGate Environment</a></p>
</li>
</ul>
<a id="A1872763"></a>
<div id="GIORA394" class="sect1">
<h2 class="sect1"><span class="secnum">15.1</span> Overview of the Instantiation Process</h2>
<p>In the instantiation procedure, you make a copy of the source data and load the copy to the target database. The initial load captures a point-in-time snapshot of the data, while Oracle GoldenGate maintains that consistency by applying transactional changes that occur while the static data is being loaded. After instantiation is complete, Oracle GoldenGate maintains the synchronized state throughout ongoing transactional changes.</p>
<p>When you instantiate Oracle GoldenGate processing, it is recommended that you do so first in a test environment before deploying live on your production machines. This is especially important in an active-active or high availability configuration, where trusted source data may be touched by the replication processes. Testing enables you to find and resolve any configuration mistakes or data issues without the need to interrupt user activity for re-loads on the target or other troubleshooting activities. Testing also ensures that your instantiation process is configured properly. Parameter files can be copied to the production equipment after successful testing, and then you can perform a predictable instantiation with production data.</p>
</div>
<!-- class="sect1" -->
<a id="CHDIGBGH"></a>
<div id="GIORA396" class="sect1">
<h2 class="sect1"><span class="secnum">15.2</span> Satisfying Prerequisites for Instantiation</h2>
<p>The following steps must be taken before starting any Oracle GoldenGate processes or native database load processes.</p>
<ul>
<li>
<p><a href="#CHDBFHBC">Configuring and Adding Change Synchronization Groups</a></p>
</li>
<li>
<p><a href="#CHDHAADA">Disabling DDL Processing</a></p>
</li>
<li>
<p><a href="#CHDGAECD">Adding Collision Handling</a></p>
</li>
<li>
<p><a href="#CHDJFAHI">Preparing the Target Tables</a></p>
</li>
</ul>
<a id="CHDBFHBC"></a>
<div id="GIORA990" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.2.1</span> Configuring and Adding Change Synchronization Groups</h3>
<p>To perform an instantiation of the target database and the replication environment, the online change capture and apply groups must exist and be properly configured. See:</p>
<p><a href="config_capt_integrated.htm#BABHJACD">Chapter 7, "Configuring Capture in Integrated Mode"</a></p>
<p><a href="config_capt_classic.htm#BABBGIEB">Chapter 8, "Configuring Capture in Classic Mode"</a></p>
<p><a href="config_apply.htm#CHDEJBHB">Chapter 9, "Configuring Oracle GoldenGate Apply"</a></p>
<p><a href="processes_creating.htm#BABDJFFC">Chapter 14, "Creating Process Groups"</a></p>
</div>
<!-- class="sect2" -->
<a id="CHDHAADA"></a>
<div id="GIORA950" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">15.2.2</span> Disabling DDL Processing</h3>
<p>You must disable DDL activities before performing an instantiation. You can resume DDL after the instantiation is finished. See <a href="ddl_change.htm#A1943612">Section 16.1, "Disabling DDL Processing Temporarily"</a> for instructions.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGAECD"></a>
<div id="GIORA399" class="sect2">
<h3 class="sect2"><span class="secnum">15.2.3</span> Adding Collision Handling</h3>
<p>This prerequisite applies to the following instantiation methods:</p>
<ul>
<li>
<p><a href="#CHDEBFDE">Section 15.3.2, "Configuring a Direct Bulk Load to SQL*Loader"</a></p>
</li>
<li>
<p><a href="#CHDGHEBC">Section 15.3.3, "Configuring a Load from an Input File to SQL*Loader."</a></p>
</li>
</ul>
<p>This prerequisite <code dir="ltr"><span class="codeinlineitalic">does not</span></code> apply to the instantiation method described in <a href="#CHDIIIHD">Section 15.3.1, "Configuring a Load with an Oracle Data Pump."</a></p>
<p>If the source database will remain active during one of those initial load methods, collision-handling logic must be added to the Replicat parameter file. This logic handles conflicts that occur because static data is being loaded to the target tables while Oracle GoldenGate replicates transactional changes to those tables.</p>
<p>To handle collisions, add the <code dir="ltr">HANDLECOLLISIONS</code> parameter to the Replicat parameter file to resolve these collisions:</p>
<ul>
<li>
<p><code dir="ltr">INSERT</code> operations for which the row already exists</p>
</li>
<li>
<p><code dir="ltr">UPDATE</code> and <code dir="ltr">DELETE</code> operations for which the row does not exist</p>
</li>
</ul>
<p><code dir="ltr">HANDLECOLLISIONS</code> should be removed from the Replicat parameter file at the end of the instantiation steps (as prompted in the instructions). For more information about <code dir="ltr">HANDLECOLLISIONS</code>, see <a class="olink GWURF520" href="../../gg-winux/GWURF/gg_parameters081.htm#GWURF520"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>To use the <code dir="ltr">HANDLECOLLISIONS</code> function to reconcile incremental data changes with the load, each target table must have a primary or unique key. If you cannot create a key through your application, use the <code dir="ltr">KEYCOLS</code> option of the <code dir="ltr">TABLE</code> and <code dir="ltr">MAP</code> parameters to specify columns as a substitute key for Oracle GoldenGate to use. If you cannot create keys, the affected source table must be quiesced for the load. See <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information about <code dir="ltr">KEYCOLS</code>.</p>
</div>
<!-- class="sect2" -->
<a id="CHDJFAHI"></a>
<div id="GIORA401" class="sect2">
<h3 class="sect2"><span class="secnum">15.2.4</span> Preparing the Target Tables</h3>
<p>The following are suggestions that can make the load go faster and help you to avoid errors.</p>
<ul>
<li>
<p><span class="bold">Data</span>: Make certain that the target tables are empty. Otherwise, there may be duplicate-row errors or conflicts between existing rows and rows that are being loaded.</p>
</li>
<li>
<p><span class="bold">Indexes</span>: Remove indexes from the target tables. Indexes are not necessary for the inserts performed by the initial load process and will slow it down. You can add back the indexes after the load is finished.</p>
</li>
</ul>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDHGJF"></a>
<div id="GIORA402" class="sect1">
<h2 class="sect1"><span class="secnum">15.3</span> Configuring the Initial Load</h2>
<p>Oracle GoldenGate supports the following load methods specifically for Oracle:</p>
<ul>
<li>
<p><a href="#CHDIIIHD">Configuring a Load with an Oracle Data Pump</a></p>
</li>
<li>
<p><a href="#CHDEBFDE">Configuring a Direct Bulk Load to SQL*Loader</a></p>
</li>
<li>
<p><a href="#CHDGHEBC">Configuring a Load from an Input File to SQL*Loader</a></p>
</li>
</ul>
<p>Select a method and follow its configuration steps to create the load processes and parameter files.</p>
<p>Some of the parameters that you use in a change-synchronization parameter file also are required in an initial-load Extract and initial-load Replicat parameter file. To take advantage of the commonalities, you can use any of the following methods:</p>
<ul>
<li>
<p>Copy common parameters from one parameter file to another.</p>
</li>
<li>
<p>Store the common parameters in a central file and use the <code dir="ltr">OBEY</code> parameter in each parameter file to retrieve them.</p>
</li>
<li>
<p>Create an Oracle GoldenGate macro for the common parameters and then call the macro from each parameter file with the <code dir="ltr">MACRO</code> parameter.</p>
</li>
</ul>
<p>For more information about working with parameter files, see <a class="olink GWUAD164" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD164"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<a id="CHDIIIHD"></a>
<div id="GIORA403" class="sect2">
<h3 class="sect2"><span class="secnum">15.3.1</span> Configuring a Load with an Oracle Data Pump</h3>
<div id="GIORA404" class="figure"><p class="titleinfigure"><a id="sthref187"></a>Figure 15-1 Configuring a Load with the Oracle Data Pump Utility</p>
<img width="1429" height="345" src="img/init_sync_copy_util.png" alt="Description of Figure 15-1 follows" /><br />
<a id="sthref188" href="img_text/init_sync_copy_util.htm">Description of "Figure 15-1 Configuring a Load with the Oracle Data Pump Utility"</a><br />
<br /></div>
<!-- class="figure" -->
<p>This method uses the Oracle Data Pump utility to establish the target data. You start Extract, the data pumps, and Replicat at the SCN at which the copy stopped. Transactions that were included in the copy are skipped to avoid collisions from integrity violations. From the process start point, Oracle GoldenGate maintains data synchronization.</p>
<p>No initial-load Oracle GoldenGate processes are required for this method.</p>
</div>
<!-- class="sect2" -->
<a id="CHDEBFDE"></a>
<div id="GIORA405" class="sect2">
<h3 class="sect2"><span class="secnum">15.3.2</span> Configuring a Direct Bulk Load to SQL*Loader</h3>
<p><a href="#CHDGECDD">Figure 15-2</a> shows configuring a direct bulk load to SQL*Loader.</p>
<div id="GIORA1005" class="figure"><p class="titleinfigure"><a id="CHDGECDD"></a>Figure 15-2 Configuring a Direct Bulk Load to SQL*Loader</p>
<img width="1409" height="342" src="img/init-sync-dirbulk.jpg" alt="Description of Figure 15-2 follows" /><br />
<a id="sthref189" href="img_text/init-sync-dirbulk.htm">Description of "Figure 15-2 Configuring a Direct Bulk Load to SQL*Loader"</a><br />
<br /></div>
<!-- class="figure" -->
<p>With this method, you configure and run an Oracle GoldenGate initial-load Extract to extract complete source records and send them directly to an initial-load Replicat task. The initial-load Replicat task communicates with SQL*Loader to load data as a direct-path bulk load. Data mapping and transformation can be done by either the initial-load Extract or initial-load Replicat, or both. During the load, the change-synchronization groups that you configured in <a href="config_capt_integrated.htm#BABHJACD">Chapter 7, "Configuring Capture in Integrated Mode"</a> or <a href="config_capt_classic.htm#BABBGIEB">Chapter 8, "Configuring Capture in Classic Mode"</a> and <a href="config_apply.htm#CHDEJBHB">Chapter 9, "Configuring Oracle GoldenGate Apply"</a> replicate incremental changes, which are then reconciled with the results of the load.</p>
<p class="subhead2"><a id="GIORA406"></a>Limitations:</p>
<ul>
<li>
<p>This method does not support extraction of <code dir="ltr">LOB</code> or <code dir="ltr">LONG</code> data. As an alternative, see <a href="#CHDHAGFG">Section 15.4.3, "Performing Instantiation From an Input File to SQL*Loader"</a>.</p>
</li>
<li>
<p>This method does not support materialized views that contain <code dir="ltr">LOB</code>s, regardless of their size. It also does not support data encryption.</p>
</li>
</ul>
<p class="subhead2"><a id="GIORA407"></a>To Configure a Direct Bulk Load to SQL*Loader</p>
<ol>
<li>
<p>Grant <code dir="ltr">LOCK ANY TABLE</code> to the Replicat database user on the target Oracle database.</p>
</li>
<li>
<p>On the source and target systems, run GGSCI.</p>
</li>
<li>
<p>Start Manager on both systems.</p>
<pre dir="ltr">
START MANAGER
</pre></li>
<li>
<p>On the source system, create the initial-load Extract.</p>
<pre dir="ltr">
ADD EXTRACT <span class="codeinlineitalic">initial-load_Extract</span>, SOURCEISTABLE
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">initial-load_Extract</span></code> is the name of the initial-load Extract, up to eight characters.</p>
</li>
<li>
<p><code dir="ltr">SOURCEISTABLE</code> directs Extract to read complete records directly from the source tables.</p>
</li>
</ul>
</li>
<li>
<p>On the source system, create the initial-load Extract parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">initial-load_Extract</span>
</pre></li>
<li>
<p>Enter the initial-load Extract parameters in the order shown, starting a new line for each parameter statement. This example shows a three-part table name associated with a multitenant container database. Refer to <a href="#CHDBBFCE">Table 15-1</a> for descriptions.</p>
<pre dir="ltr">
EXTRACT initext
USERIDALIAS tiger1
RMTHOST fin1, MGRPORT 7809 ENCRYPT AES192, KEYNAME securekey2
RMTTASK replicat, GROUP initrep
TABLE hq.hr.*;
</pre>
<div id="GIORA408" class="tblhruleformal"><p class="titleintable"><a id="sthref190"></a><a id="CHDBBFCE"></a>Table 15-1 Initial-load Extract Parameters to Direct Bulk Load to SQL*Loader</p>
<table class="cellalignment245" title="Initial-load Extract Parameters to Direct Bulk Load to SQL*Loader " summary="This table describes the initial-load Extract parameters to direct bulk load to SQL*Loader.">
<thead>
<tr class="cellalignment234">
<th class="cellalignment246" id="r1c1-t2">Parameter</th>
<th class="cellalignment246" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment234">
<td class="cellalignment240" id="r2c1-t2" headers="r1c1-t2">
<p><code dir="ltr">EXTRACT</code> <code dir="ltr"><span class="codeinlineitalic">initial-load_Extract</span></code></p>
</td>
<td class="cellalignment240" headers="r2c1-t2 r1c2-t2">
<p>Specifies the name of the initial-load Extract, as stated with <code dir="ltr">ADD EXTRACT</code>. See <a class="olink GWURF487" href="../../gg-winux/GWURF/gg_parameters060.htm#GWURF487"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r3c1-t2" headers="r1c1-t2">
<p><code dir="ltr">USERIDALIAS</code> <code dir="ltr"><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment240" headers="r3c1-t2 r1c2-t2">
<p>Specifies the alias of the database login credential that is assigned to Extract. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a href="user_assignment.htm#BABHFBDB">Chapter 4, "Establishing Oracle GoldenGate Credentials"</a></p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r4c1-t2" headers="r1c1-t2">
<p><code dir="ltr">RMTHOST</code> <code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">, MGRPORT</code> <code dir="ltr"><span class="codeinlineitalic">portnumber</span></code><code dir="ltr">[, ENCRYPT</code> <code dir="ltr"><span class="codeinlineitalic">algorithm</span></code> <code dir="ltr">KEYNAME</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code><code dir="ltr">]</code></p>
</td>
<td class="cellalignment240" headers="r4c1-t2 r1c2-t2">
<p>Specifies the target system, the port where Manager is running, and optional encryption of data across TCP/IP. See <a class="olink GWURF631" href="../../gg-winux/GWURF/gg_parameters136.htm#GWURF631"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r5c1-t2" headers="r1c1-t2">
<p><code dir="ltr">RMTTASK REPLICAT, GROUP</code> <code dir="ltr"><span class="codeinlineitalic">initial-load_Replicat</span></code></p>
</td>
<td class="cellalignment240" headers="r5c1-t2 r1c2-t2">
<p>Specifies the process type (must be <code dir="ltr">REPLICAT</code>) and the name of the initial-load Replicat. Directs Manager on the target system to dynamically start the initial-load Replicat as a one-time task. See <a class="olink GWURF636" href="../../gg-winux/GWURF/gg_parameters138.htm#GWURF636"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r6c1-t2" headers="r1c1-t2">
<p><code dir="ltr">TABLE</code> <code dir="ltr"><span class="codeinlineitalic">[container.]schema.table</span></code><code dir="ltr">;</code></p>
</td>
<td class="cellalignment240" headers="r6c1-t2 r1c2-t2">
<p>Specifies the tables to capture.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">container</span></code> is the name of the pluggable database, if this is a multitenant container database. You can use the <code dir="ltr">SOURCECATALOG</code> parameter to specify a default pluggable database instead of using three-part names.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">schema</span></code> is the schema name.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">table</span></code> is the table name.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for important information about specifying object names.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" --></li>
<li>
<p>Save and close the file.</p>
</li>
<li>
<p>On the target system, create the initial-load Replicat.</p>
<pre dir="ltr">
ADD REPLICAT <span class="codeinlineitalic">initial-load Replicat</span>, SPECIALRUN
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">initial-load Replicat</span></code> is the name of the initial-load Replicat task.</p>
</li>
<li>
<p><code dir="ltr">SPECIALRUN</code> identifies the initial-load Replicat as a one-time task, not a continuous process.</p>
</li>
</ul>
</li>
<li>
<p>On the target system, create the initial-load Replicat parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">initial-load Replicat</span>
</pre></li>
<li>
<p>Enter the initial-load Replicat parameters in the order shown, starting a new line for each parameter statement. This example shows a three-part source table name associated with a multitenant container database. See <a href="#CHDFGBFB">Table 15-2</a> for descriptions.</p>
<pre dir="ltr">
REPLICAT initrep
USERIDALIAS tiger2
BULKLOAD
ASSUMETARGETDEFS
MAP hq.hr.*, TARGET hr2.*;
</pre>
<div id="GIORA409" class="tblhruleformal"><p class="titleintable"><a id="sthref191"></a><a id="CHDFGBFB"></a>Table 15-2 Initial-load Replicat Parameters to Direct Bulk Load to SQL*Loader</p>
<table class="cellalignment245" title="Initial-load Replicat Parameters to Direct Bulk Load to SQL*Loader " summary="This table describes the initial-load Replicat parameters to direct bulk load to SQL*Loader.">
<thead>
<tr class="cellalignment234">
<th class="cellalignment246" id="r1c1-t3">Parameter</th>
<th class="cellalignment246" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment234">
<td class="cellalignment240" id="r2c1-t3" headers="r1c1-t3">
<p><code dir="ltr">REPLICAT</code> <code dir="ltr"><span class="codeinlineitalic">initial-load Replicat</span></code></p>
</td>
<td class="cellalignment240" headers="r2c1-t3 r1c2-t3">
<p>Specifies the name of the initial-load Replicat task, as stated with <code dir="ltr">ADD REPLICAT</code>. See <a class="olink GWURF616" href="../../gg-winux/GWURF/gg_parameters130.htm#GWURF616"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r3c1-t3" headers="r1c1-t3">
<p><code dir="ltr">USERIDALIAS</code> <code dir="ltr"><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment240" headers="r3c1-t3 r1c2-t3">
<p>Specifies the alias of the database login credential that is assigned to Replicat. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a href="user_assignment.htm#BABHFBDB">Chapter 4, "Establishing Oracle GoldenGate Credentials"</a></p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r4c1-t3" headers="r1c1-t3">
<p><code dir="ltr">BULKLOAD</code></p>
</td>
<td class="cellalignment240" headers="r4c1-t3 r1c2-t3">
<p>Directs Replicat to interface directly with the Oracle SQL*Loader interface. See <a class="olink GWURF412" href="../../gg-winux/GWURF/gg_parameters016.htm#GWURF412"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a></p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r5c1-t3" headers="r1c1-t3">
<p><code dir="ltr">ASSUMETARGETDEFS</code></p>
</td>
<td class="cellalignment240" headers="r5c1-t3 r1c2-t3">
<p>Assumes the source and target tables are identical, including semantics. If source and target definitions are different, you must create and specify a source-definitions file that both the change-synchronization and initial-load processes will use. See <a class="olink GWURF401" href="../../gg-winux/GWURF/gg_parameters008.htm#GWURF401"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>For more information about data-definitions files, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">MAP</code> <code dir="ltr"><span class="codeinlineitalic">[container.]schema.table</span></code><code dir="ltr">, TARGET</code> <code dir="ltr"><span class="codeinlineitalic">schema.table;</span></code></p>
</td>
<td class="cellalignment240" headers="r6c1-t3 r1c2-t3">
<p>Specifies a relationship between a source and target table or tables.</p>
<ul>
<li>
<p>If the source is a multitenant container database, <code dir="ltr"><span class="codeinlineitalic">container</span></code> is the name of the pluggable database that contains the source objects specified with this <code dir="ltr">MAP</code> statement. You can use the <code dir="ltr">SOURCECATALOG</code> parameter to specify a default source pluggable database instead of using three-part names.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">schema</span></code> is the schema name.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">table</span></code> is the table name.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for important information about specifying object names.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" --></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDGHEBC"></a>
<div id="GIORA410" class="sect2">
<h3 class="sect2"><span class="secnum">15.3.3</span> Configuring a Load from an Input File to SQL*Loader</h3>
<div id="GIORA411" class="figure"><p class="titleinfigure"><a id="sthref192"></a>Figure 15-3 Configuring a Load from an Input File to SQL*Loader</p>
<img width="1426" height="446" src="img/init_sync_bulk.png" alt="Description of Figure 15-3 follows" /><br />
<a id="sthref193" href="img_text/init_sync_bulk.htm">Description of "Figure 15-3 Configuring a Load from an Input File to SQL*Loader"</a><br />
<br /></div>
<!-- class="figure" -->
<p>With this method, an initial-load Extract extracts source records from the source tables and writes them to an extract file in external ASCII format. The files are read by SQL*Loader. During the load, the change-synchronization groups that you configured in Chapter 4 replicate incremental changes, which are then reconciled with the results of the load. As part of the load procedure, Oracle GoldenGate uses the initial-load Replicat to create run and control files required by the database utility. Any data transformation must be performed by the initial-load Extract on the source system because the control files are generated dynamically and cannot be pre-configured with transformation rules.</p>
<p class="subhead2"><a id="GIORA412"></a>To Configure a Load from File to SQL*Loader</p>
<ol>
<li>
<p>On the source and target systems, run GGSCI.</p>
</li>
<li>
<p>Start Manager on both systems.</p>
<pre dir="ltr">
START MANAGER
</pre></li>
<li>
<p>On the source system, create the initial-load Extract parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">initial-load Extract</span>
</pre></li>
<li>
<p>Enter the initial-load Extract parameters in the order shown, starting a new line for each parameter statement. This example shows a three-part table name associated with a multitenant container database. Refer to <a href="#CHDBCEFA">Table 15-3</a> for descriptions.</p>
<pre dir="ltr">
SOURCEISTABLE
USERIDALIAS tiger1
RMTHOST fin1, MGRPORT 7809 ENCRYPT AES192, KEYNAME securekey2
ENCRYPTTRAIL AES192
FORMATASCII, SQLLOADER
RMTFILE /ggs/dirdat/ie
TABLE hq.hr.*;
 
</pre>
<div id="GIORA413" class="tblhruleformal"><p class="titleintable"><a id="sthref194"></a><a id="CHDBCEFA"></a>Table 15-3 Initial-load Extract Parameters to Load From File to SQL*Loader</p>
<table class="cellalignment245" title="Initial-load Extract Parameters to Load From File to SQL*Loader " summary="This table describes the initial-load Extract parameters to load from file to SQL*Loader.">
<thead>
<tr class="cellalignment234">
<th class="cellalignment246" id="r1c1-t4">Parameter</th>
<th class="cellalignment246" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment234">
<td class="cellalignment240" id="r2c1-t4" headers="r1c1-t4">
<p><code dir="ltr">SOURCEISTABLE</code></p>
</td>
<td class="cellalignment240" headers="r2c1-t4 r1c2-t4">
<p>Designates Extract as an initial load process that extracts records directly from the source tables. See <a class="olink GWURF656" href="../../gg-winux/GWURF/gg_parameters151.htm#GWURF656"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r3c1-t4" headers="r1c1-t4">
<p><code dir="ltr">USERIDALIAS</code> <code dir="ltr"><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment240" headers="r3c1-t4 r1c2-t4">
<p>Specifies the alias of the database login credential that is assigned to Extract. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a href="user_assignment.htm#BABHFBDB">Chapter 4, "Establishing Oracle GoldenGate Credentials"</a></p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">RMTHOST</code> <code dir="ltr"><span class="codeinlineitalic">hostname</span></code><code dir="ltr">, MGRPORT</code> <code dir="ltr"><span class="codeinlineitalic">portnumber</span></code><code dir="ltr">[, ENCRYPT</code> <code dir="ltr"><span class="codeinlineitalic">algorithm</span></code> <code dir="ltr">KEYNAME</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code><code dir="ltr">]</code></p>
</td>
<td class="cellalignment240" headers="r4c1-t4 r1c2-t4">
<p>Specifies the target system, the port where Manager is running, and optional encryption of data across TCP/IP. See <a class="olink GWURF631" href="../../gg-winux/GWURF/gg_parameters136.htm#GWURF631"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r5c1-t4" headers="r1c1-t4">
<p><code dir="ltr">ENCRYPTTRAIL</code> <code dir="ltr"><span class="codeinlineitalic">algorithm</span></code></p>
</td>
<td class="cellalignment240" headers="r5c1-t4 r1c2-t4">
<p>Encrypts the data in the remote file. For more information, see <a class="olink GWURF475" href="../../gg-winux/GWURF/gg_parameters054.htm#GWURF475"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r6c1-t4" headers="r1c1-t4">
<p><code dir="ltr">FORMATASCII, SQLLOADER</code></p>
</td>
<td class="cellalignment240" headers="r6c1-t4 r1c2-t4">
<p>Produces a fixed-length, ASCII-formatted remote file that is compatible with SQL*Loader. This parameter must be listed before <code dir="ltr">RMTFILE</code>. See <a class="olink GWURF497" href="../../gg-winux/GWURF/gg_parameters065.htm#GWURF497"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r7c1-t4" headers="r1c1-t4">
<p><code dir="ltr">RMTFILE</code> <code dir="ltr"><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment240" headers="r7c1-t4 r1c2-t4">
<p>Specifies the absolute or full path name of an extract file that Extract creates and to which it writes the load data. See <a class="olink GWURF628" href="../../gg-winux/GWURF/gg_parameters135.htm#GWURF628"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r8c1-t4" headers="r1c1-t4">
<p><code dir="ltr">TABLE</code> <code dir="ltr"><span class="codeinlineitalic">[container.]schema.table</span></code><code dir="ltr">;</code></p>
</td>
<td class="cellalignment240" headers="r8c1-t4 r1c2-t4">
<p>Specifies the tables to capture.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">container</span></code> is the name of the pluggable database, if this is a multitenant container database. You can use the <code dir="ltr">SOURCECATALOG</code> parameter to specify a default pluggable database instead of using three-part names.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">schema</span></code> is the schema name.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">table</span></code> is the table name.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for important information about specifying object names.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" --></li>
<li>
<p>Save and close the parameter file.</p>
</li>
<li>
<p>On the target system, create the initial-load Replicat parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">initial-load Replicat</span>
</pre></li>
<li>
<p>Enter the initial-load Replicat parameters in the order shown, starting a new line for each parameter statement. This example shows a three-part source table name associated with a multitenant container database. See <a href="#CHDGCGJC">Table 15-4</a> for descriptions.</p>
<pre dir="ltr">
GENLOADFILES sqlldr.tpl 
USERIDALIAS tiger2
EXTFILE /ggs/dirdat/ie
ASSUMETARGETDEFS
MAP hq.hr.*, TARGET hr2.*;
 
</pre>
<div id="GIORA414" class="tblformal"><p class="titleintable"><a id="sthref195"></a><a id="CHDGCGJC"></a>Table 15-4 Initial-load Replicat parameters to Load from File to SQL*Loader</p>
<table class="cellalignment247" title="Initial-load Replicat parameters to Load from File to SQL*Loader" summary="This table describes the initial-load Replicat parameters to load from file to SQL*Loader.">
<thead>
<tr class="cellalignment234">
<th class="cellalignment246" id="r1c1-t5">Parameter</th>
<th class="cellalignment246" id="r1c2-t5">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment234">
<td class="cellalignment240" id="r2c1-t5" headers="r1c1-t5">
<p><code dir="ltr">GENLOADFILES</code> <code dir="ltr"><span class="codeinlineitalic">template</span></code></p>
</td>
<td class="cellalignment240" headers="r2c1-t5 r1c2-t5">
<p>Generates run and control files for the database utility. See <a class="olink GWURF504" href="../../gg-winux/GWURF/gg_parameters069.htm#GWURF504"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r3c1-t5" headers="r1c1-t5">
<p><code dir="ltr">USERIDALIAS</code> <code dir="ltr"><span class="codeinlineitalic">alias</span></code></p>
</td>
<td class="cellalignment240" headers="r3c1-t5 r1c2-t5">
<p>Specifies the alias of the database login credential of the user that is assigned to Replicat. This credential must exist in the Oracle GoldenGate credential store. For more information, see <a href="user_assignment.htm#BABHFBDB">Chapter 4, "Establishing Oracle GoldenGate Credentials"</a></p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r4c1-t5" headers="r1c1-t5">
<p><code dir="ltr">EXTFILE</code> <code dir="ltr"><span class="codeinlineitalic">path</span></code></p>
</td>
<td class="cellalignment240" headers="r4c1-t5 r1c2-t5">
<p>Specifies the extract file that you specified with the Extract parameter <code dir="ltr">RMTFILE</code>. See <a class="olink GWURF483" href="../../gg-winux/GWURF/gg_parameters059.htm#GWURF483"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r5c1-t5" headers="r1c1-t5">
<p><code dir="ltr">ASSUMETARGETDEFS</code></p>
</td>
<td class="cellalignment240" headers="r5c1-t5 r1c2-t5">
<p>Assumes the source and target tables are identical, including semantics. If source and target definitions are different, you must create and specify a source-definitions file that both the change-synchronization and initial-load processes will use. See <a class="olink GWURF401" href="../../gg-winux/GWURF/gg_parameters008.htm#GWURF401"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>For more information about data-definitions files, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r6c1-t5" headers="r1c1-t5">
<p><code dir="ltr">MAP</code> <code dir="ltr"><span class="codeinlineitalic">[container.]schema.table</span></code><code dir="ltr">, TARGET</code> <code dir="ltr"><span class="codeinlineitalic">schema.table;</span></code></p>
</td>
<td class="cellalignment240" headers="r6c1-t5 r1c2-t5">
<p>Specifies a relationship between a source and target table or tables.</p>
<ul>
<li>
<p>If the source is a multitenant container database, <code dir="ltr"><span class="codeinlineitalic">container</span></code> is the name of the pluggable database that contains the source objects specified with this <code dir="ltr">MAP</code> statement. You can use the <code dir="ltr">SOURCECATALOG</code> parameter to specify a default source pluggable database instead of using three-part names.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">schema</span></code> is the schema name.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">table</span></code> is the table name.</p>
</li>
</ul>
<p>See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for important information about specifying object names.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></li>
<li>
<p>Save and close the parameter file.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDIBBFG"></a>
<div id="GIORA431" class="sect1">
<h2 class="sect1"><span class="secnum">15.4</span> Performing the Target Instantiation</h2>
<p>This procedure instantiates the target tables while Oracle GoldenGate captures ongoing transactional changes on the source and stores them until they can be applied on the target. By the time you perform the instantiation of the target tables, the entire Oracle GoldenGate environment should be configured for change capture and delivery, as should the initial-load processes if using Oracle GoldenGate as an initial-load utility.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The first time that Extract starts in a new Oracle GoldenGate configuration, any open source transactions will be skipped. Only transactions that begin after Extract starts are captured.</div>
<div id="GIORA568" class="sect2"><a id="sthref196"></a>
<h3 class="sect2"><span class="secnum">15.4.1</span> Performing Instantiation with Oracle Data Pump</h3>
<p>To perform instantiation with Oracle Data Pump, see My Oracle Support document 1276058.1. To obtain this document, do the following:</p>
<ol>
<li>
<p>Go to <code dir="ltr"><a href="http://support.oracle.com">http://support.oracle.com</a><a href=""></a></code>.</p>
</li>
<li>
<p>Under <span class="gui-object-title">Sign In</span>, select your language and then log in with your Oracle Single Sign-On (SSO).</p>
</li>
<li>
<p>On the <span class="gui-object-title">Dashboard</span>, expand the <span class="gui-object-title">Knowledge Base</span> heading.</p>
</li>
<li>
<p>Under <span class="gui-object-title">Enter Search Terms</span>, paste or type the document ID of <code dir="ltr">1276058.1</code> and then click <span class="gui-object-action">Search</span>.</p>
</li>
<li>
<p>In the search results, select <span class="gui-object-action">Oracle GoldenGate Best Practices: Instantiation from an Oracle Source Database [Article ID 1276058.1]</span>.</p>
</li>
<li>
<p>Click the link under <span class="gui-object-title">Attachments</span> to open the article.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="GIORA433" class="sect2"><a id="sthref197"></a>
<h3 class="sect2"><span class="secnum">15.4.2</span> Performing Instantiation with Direct Bulk Load to SQL*Loader</h3>
<ol>
<li>
<p>On the source system, run GGSCI.</p>
</li>
<li>
<p>Start the primary change-capture Extract group.</p>
<pre dir="ltr">
START EXTRACT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Start the data-pump Extract group.</p>
<pre dir="ltr">
START EXTRACT <span class="codeinlineitalic">data_pump</span>
</pre></li>
<li>
<p>If replicating sequence values:</p>
<ul>
<li>
<p>Issue the <code dir="ltr">DBLOGIN</code> command with the alias of a user in the credential store who has <code dir="ltr">EXECUTE</code> privilege on <code dir="ltr">update.Sequence</code>.</p>
<pre dir="ltr">
DBLOGIN USERIDALIAS <span class="codeinlineitalic">alias</span>
</pre></li>
<li>
<p>Issue the following command to update each source sequence and generate redo. From the redo, Replicat performs initial synchronization of the sequences on the target. For more information about this command, see <a class="olink GWURF260" href="../../gg-winux/GWURF/ggsci_commands062.htm#GWURF260"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<pre dir="ltr">
FLUSH SEQUENCE <span class="codeinlineitalic">[container.]schema.sequence</span>
</pre></li>
</ul>
</li>
<li>
<p>Start the initial-load Extract.</p>
<pre dir="ltr">
START EXTRACT <span class="codeinlineitalic">initial-load_Extract</span>
</pre>
<div class="infoboxnotewarn">
<p class="notep1">WARNING:</p>
<p class="warnsp">Do not start the initial-load Replicat. The Manager process starts it automatically and terminates it when the load is finished.</p>
</div>
</li>
<li>
<p>On the target system, run GGSCI.</p>
</li>
<li>
<p>Issue the <code dir="ltr">VIEW REPORT</code> command to determine when the initial load to SQL*Loader is finished.</p>
<pre dir="ltr">
VIEW REPORT <span class="codeinlineitalic">initial-load_Extract</span>
</pre></li>
<li>
<p>When the load is finished, start the change-data Replicat group.</p>
<pre dir="ltr">
START REPLICAT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Issue the <code dir="ltr">INFO REPLICAT</code> command, and continue to issue it until it shows that Replicat posted all of the change data that was generated during the initial load. For example, if the initial-load Extract stopped at 12:05, make sure Replicat posted data up to that time.</p>
<pre dir="ltr">
INFO REPLICAT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Turn off <code dir="ltr">HANDLECOLLISIONS</code> for the change-delivery Replicat to disable initial-load error handling.</p>
<pre dir="ltr">
SEND REPLICAT <span class="codeinlineitalic">group</span>, NOHANDLECOLLISIONS
</pre></li>
<li>
<p>Edit the change-delivery Replicat parameter file to remove the <code dir="ltr">HANDLECOLLISIONS</code> parameter.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Save and close the parameter file.</p>
</li>
</ol>
<p>From this point forward, Oracle GoldenGate continues to synchronize data changes.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHAGFG"></a>
<div id="GIORA434" class="sect2">
<h3 class="sect2"><span class="secnum">15.4.3</span> Performing Instantiation From an Input File to SQL*Loader</h3>
<div class="infobox-note">
<p class="notep1">Note:</p>
The SQL*Loader method is not recommended if the data has multibyte characters, especially when the character set of the operating system is different from the database character set.</div>
<ol>
<li>
<p>On the source system, run GGSCI.</p>
</li>
<li>
<p>Start the primary change-capture Extract group.</p>
<pre dir="ltr">
START EXTRACT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Start the data-pump Extract group.</p>
<p><code dir="ltr">START EXTRACT</code> <code dir="ltr"><span class="codeinlineitalic">data_pump</span></code></p>
</li>
<li>
<p>If replicating sequence values:</p>
<ul>
<li>
<p>Issue the <code dir="ltr">DBLOGIN</code> command with the alias of a user in the credential store who has <code dir="ltr">EXECUTE</code> privilege on <code dir="ltr">update.Sequence</code>.</p>
<pre dir="ltr">
DBLOGIN USERIDALIAS <span class="codeinlineitalic">alias</span>
</pre></li>
<li>
<p>Issue the following command to update each source sequence and generate redo. From the redo, Replicat performs initial synchronization of the sequences on the target. For more information about this command, see <a class="olink GWURF260" href="../../gg-winux/GWURF/ggsci_commands062.htm#GWURF260"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<pre dir="ltr">
FLUSH SEQUENCE <span class="codeinlineitalic">[container.]schema.sequence</span>
</pre></li>
</ul>
</li>
<li>
<p>From the Oracle GoldenGate installation directory on the source system, start the initial-load Extract from the command line of the operating system (not GGSCI).</p>
<p><span class="bold">UNIX and Linux:</span></p>
<pre dir="ltr">
$ /<span class="codeinlineitalic">OGG_directory</span>/extract <span class="codeinlineitalic">paramfile</span> dirprm/<span class="codeinlineitalic">initial-load_Extract</span>.prm reportfile <span class="codeinlineitalic">path</span>
</pre>
<p><span class="bold">Windows:</span></p>
<pre dir="ltr">
C:\&gt; <span class="codeinlineitalic">OGG_directory</span>\extract <span class="codeinlineitalic">paramfile</span> dirprm\<span class="codeinlineitalic">initial-load_Extract</span>.prm reportfile <span class="codeinlineitalic">path</span>
</pre>
<p>Where: <code dir="ltr"><span class="codeinlineitalic">initial-load_Extract</span></code> is the name of the initial-load Extract and <code dir="ltr"><span class="codeinlineitalic">path</span></code> is the relative or fully qualified path where you want the Extract report file to be created.</p>
</li>
<li>
<p>Wait until the initial extraction from the source is finished. Verify its progress and results by viewing the Extract report file from the command line.</p>
</li>
<li>
<p>On the target system, start the initial-load Replicat.</p>
<p><span class="bold">UNIX and Linux:</span></p>
<pre dir="ltr">
$ /<span class="codeinlineitalic">OGG directory</span>/replicat <span class="codeinlineitalic">paramfile</span> dirprm/<span class="codeinlineitalic">initial-load_Replicat name</span>.prm reportfile<span class="codeinlineitalic"> path</span>
</pre>
<p><span class="bold">Windows:</span></p>
<pre dir="ltr">
C:\&gt; <span class="codeinlineitalic">OGG directory</span>\replicat <span class="codeinlineitalic">paramfile</span> dirprm\<span class="codeinlineitalic">initial-load_Replicat</span>.prm reportfile <span class="codeinlineitalic">path</span>
</pre>
<p>Where: <code dir="ltr">initial-load Extract</code> is the name of the initial-load Replicat and <code dir="ltr"><span class="codeinlineitalic">path</span></code> is the relative or fully qualified path where you want the Replicat report file to be created.</p>
</li>
<li>
<p>When the initial-load Replicat stops, verify its results by viewing the Replicat report file from the command line.</p>
</li>
<li>
<p>Using the ASCII-formatted file and the run and control files that the initial-load Replicat created, load the data with SQL*Loader.</p>
</li>
<li>
<p>When the load is finished, start the change-delivery Replicat group.</p>
<pre dir="ltr">
START REPLICAT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Issue the <code dir="ltr">INFO REPLICAT</code> command, and continue to issue it until it shows that Replicat posted all of the change data that was generated during the initial load. For example, if the initial-load Extract stopped at 12:05, make sure Replicat posted data up to that time.</p>
<pre dir="ltr">
INFO REPLICAT <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Turn off <code dir="ltr">HANDLECOLLISIONS</code> for the change-delivery Replicat to disable initial-load error handling.</p>
<pre dir="ltr">
SEND REPLICAT <span class="codeinlineitalic">group</span>, NOHANDLECOLLISIONS
</pre></li>
<li>
<p>Edit the change-delivery Replicat parameter file to remove the <code dir="ltr">HANDLECOLLISIONS</code> parameter.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">group</span>
</pre></li>
<li>
<p>Save and close the parameter file.</p>
</li>
</ol>
<p>From this point forward, Oracle GoldenGate continues to synchronize data changes.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDHGDFG"></a>
<div id="GIORA435" class="sect1">
<h2 class="sect1"><span class="secnum">15.5</span> Monitoring and Controlling Processing After the Instantiation</h2>
<p>After the target is instantiated and replication is in effect, you can control processes and view the overall health of the replication environment.</p>
<ul>
<li>
<p>To control processes, see <a class="olink GWUAD155" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD155"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>To ensure that all processes are running properly and that errors are being handled according to your error handling rules, see <a class="olink GWUAD633" href="../../gg-winux/GWUAD/wu_monitoring.htm#GWUAD633"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. Oracle GoldenGate provides commands and logs to view process status, lag, warnings, and other information.</p>
</li>
</ul>
<p>Additionally, if you configured Replicat in integrated mode, you can use the <code dir="ltr">STATS REPLICAT</code> command to view statistics on the number of transactions that are applied in integrated mode as compared to those that are applied in direct apply mode.</p>
<pre dir="ltr">
STATS REPLICAT <span class="codeinlineitalic">group</span>
</pre>
<p>The output of this command shows the number of transactions applied, the number of transactions that were redirected to direct apply, and the direct transaction ratio, among other statistics. The statistics help you determine whether integrated Replicat is performing as intended. If the environment is satisfactory and there is a high ratio of direct apply operations, consider using nonintegrated Replicat. You can configure parallelism with nonintegrated Replicat.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
To ensure realistic statistics, view apply statistics only after you are certain that the Oracle GoldenGate environment is well established, that configuration errors are resolved, and that any anticipated processing errors are being handled properly.</div>
<p>You can also view runtime statistics for integrated Replicat in the <code dir="ltr">V$</code>views for each of the inbound server components. For more information, see <a class="olink REFRN" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1212&amp;id=REFRN"><span class="italic">Oracle Database Reference</span></a>.</p>
<ul>
<li>
<p>The reader statistics are recorded in <code dir="ltr">V$GG_APPLY_READER</code> and include statistics on number of messages read, memory used, and dependency counts.</p>
</li>
<li>
<p>The apply coordinator statistics are recorded in <code dir="ltr">V$GG_APPLY_COORDINATOR</code> and record statistics at the transaction level.</p>
</li>
<li>
<p>The apply server statistics are recorded in <code dir="ltr">V$GG_APPLY_SERVER</code>. This view records information for each of the apply server processes (controlled by <code dir="ltr">parallelism</code> and <code dir="ltr">max_parallelism</code> parameters) as separate rows. The statistics for each apply server are identified by the <code dir="ltr">SERVER_ID</code> column. If a <code dir="ltr">SERVER_ID</code> of <code dir="ltr">0</code> exists, this represents an aggregate of any apply servers that exited because the workload was reduced.</p>
</li>
<li>
<p>Statistics about the number of messages received by the database from Replicat are recorded in the <code dir="ltr">V$GG_APPLY_RECEIVER</code> table.</p>
</li>
</ul>
<p>Additionally, you can query the following views. For more information about this view, see <a class="olink REFRN" href="http://www.oracle.com/pls/topic/lookup?ctx=gg1212&amp;id=REFRN"><span class="italic">Oracle Database Reference</span></a>.</p>
<ul>
<li>
<p><code dir="ltr">V$GOLDENGATE_TABLE_STATS</code> to see statistics for DML and collisions that occurred for each replicated table that the inbound server processed.</p>
</li>
<li>
<p><code dir="ltr">V$GOLDENGATE_TRANSACTION</code> to see information about transactions that are being processed by Oracle GoldenGate inbound servers.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="A1946514"></a>
<div id="GIORA437" class="sect1">
<h2 class="sect1"><span class="secnum">15.6</span> Verifying Synchronization</h2>
<p>To verify that the source and target data are synchronized, you can use the Oracle GoldenGate Veridata product or use your own scripts to select and compare source and target data.</p>
</div>
<!-- class="sect1" -->
<a id="CHDJCADC"></a>
<div id="GIORA441" class="sect1">
<h2 class="sect1"><span class="secnum">15.7</span> Backing up the Oracle GoldenGate Environment</h2>
<p>After you start Oracle GoldenGate processing, an effective backup routine is critical to preserving the state of processing in the event of a failure. Unless the Oracle GoldenGate working files can be restored, the entire replication environment must be re-instantiated, complete with new initial loads.</p>
<p>As a best practice, include the entire Oracle GoldenGate home installation in your backup routines. There are too many critical sub-directories, as well as files and programs at the root of the directory, to keep track of separately. In any event, the most critical files are those that consume the vast majority of backup space, and therefore it makes sense just to back up the entire installation directory for fast, simple recovery.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment233">
<tr>
<td class="cellalignment240"><table class="cellalignment238">
<tr>
<td class="cellalignment237"><a href="processes_creating.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment237"><a href="ddl_change.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment242">
<table class="cellalignment236">
<tr>
<td class="cellalignment237"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment237"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment237"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
