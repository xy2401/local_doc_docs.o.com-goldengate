<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>10 Additional Oracle GoldenGate Configuration Considerations</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1056" />
<meta name="description" content="This chapter contains additional configuration considerations that may apply to your database environment." />
<meta name="dcterms.created" content="2015-06-05T14:9:49Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Installing and Configuring Oracle GoldenGate for Oracle Database" />
<meta name="dcterms.identifier" content="E29644-07" />
<meta name="dcterms.isVersionOf" content="GIORA" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="config_apply.htm" title="Previous" type="text/html" />
<link rel="Next" href="classic_capture.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GIORA.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GIORA.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GIORA.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">13/27</span>
<!-- End Header -->
<div id="GIORA561" class="chapter"><a id="CEGHDEEI"></a>
<h1 class="chapter"><span class="secnum">10</span> Additional Oracle GoldenGate Configuration Considerations</h1>
<p><a id="GIORA562"></a>This chapter contains additional configuration considerations that may apply to your database environment.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#BABHHCAA">Ensuring Row Uniqueness in Source and Target Tables</a></p>
</li>
<li>
<p><a href="#CHDDFJFG">Installing Support for Oracle Sequences</a></p>
</li>
<li>
<p><a href="#BABIJEHH">Handling Special Data Types</a></p>
</li>
<li>
<p><a href="#BABEHBEE">Handling Other Database Properties</a></p>
</li>
<li>
<p><a href="#A4750877">Controlling the Checkpoint Frequency</a></p>
</li>
<li>
<p><a href="#CBDBDIHA">Excluding Replicat Transactions</a></p>
</li>
<li>
<p><a href="#A1862178">Advanced Configuration Options for Oracle GoldenGate</a></p>
</li>
</ul>
<a id="BABHHCAA"></a>
<div id="GIORA363" class="sect1">
<h2 class="sect1"><span class="secnum">10.1</span> Ensuring Row Uniqueness in Source and Target Tables</h2>
<p>Oracle GoldenGate requires a unique row identifier on the source and target tables to locate the correct target rows for replicated updates and deletes. Unless a <code dir="ltr">KEYCOLS</code> clause is used in the <code dir="ltr">TABLE</code> or <code dir="ltr">MAP</code> statement, Oracle GoldenGate selects a row identifier to use in the following order of priority, depending on the number and type of constraints that were logged (see <a href="setup.htm#BABFJCCC">Section 3.2, "Configuring Logging Properties"</a>).</p>
<ol>
<li>
<p>Primary key if it does not contain any extended (32K) <code dir="ltr">VARCHAR2/NVARCHAR2</code> columns.</p>
</li>
<li>
<p>Unique key. In the case of a nonintegrated Replicat, the selection of the unique key is as follows:</p>
<ul>
<li>
<p>First unique key alphanumerically with no virtual columns, no UDTs, no function-based columns, no nullable columns, and no extended (32K) <code dir="ltr">VARCHAR2/NVARCHAR2</code> columns. To support a key that contains columns that are part of an invisible index, you must use the <code dir="ltr">ALLOWINVISIBLEINDEXKEYS</code> parameter in the Oracle GoldenGate <code dir="ltr">GLOBALS</code> file.</p>
</li>
<li>
<p>First unique key alphanumerically with no virtual columns, no UDTs, no extended (32K) <code dir="ltr">VARCHAR2/NVARCHAR2</code> columns, or no function-based columns, but can include nullable columns. To support a key that contains columns that are part of an invisible index, you must use the <code dir="ltr">ALLOWINVISIBLEINDEXKEYS</code> parameter in the Oracle GoldenGate <code dir="ltr">GLOBALS</code> file.</p>
</li>
</ul>
</li>
<li>
<p>If none of the preceding key types exist (even though there might be other types of keys defined on the table) Oracle GoldenGate constructs a pseudo key of all columns that the database allows to be used in a unique key, excluding virtual columns, UDTs, function-based columns, extended (32K) <code dir="ltr">VARCHAR2/NVARCHAR2</code> columns, and any columns that are explicitly excluded from the Oracle GoldenGate configuration by an Oracle GoldenGate user.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If there are other, non-usable keys on a table or if there are no keys at all on the table, Oracle GoldenGate logs an appropriate message to the report file. Constructing a key from all of the columns impedes the performance of Oracle GoldenGate on the source system. On the target, this key causes Replicat to use a larger, less efficient <code dir="ltr">WHERE</code> clause.</div>
<p>If a table does not have an appropriate key, or if you prefer the existing key(s) not to be used, you can define a substitute key if the table has columns that always contain unique values. You define this substitute key by including a <code dir="ltr">KEYCOLS</code> clause within the Extract <code dir="ltr">TABLE</code> parameter and the Replicat <code dir="ltr">MAP</code> parameter. The specified key will override any existing primary or unique key that Oracle GoldenGate finds. For more information, see <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="CHDDFJFG"></a>
<div id="GIORA190" class="sect1">
<h2 class="sect1"><span class="secnum">10.2</span> Installing Support for Oracle Sequences</h2>
<p>To support Oracle sequences, you must install some database procedures. These procedures support the Oracle GoldenGate <code dir="ltr">FLUSH SEQUENCE</code> command, which you issue immediately after you start the Oracle GoldenGate processes for the first time (typically when you perform the initial data synchronization procedure).</p>
<p class="subhead2"><a id="GIORA191"></a>To Install Oracle Sequence Objects</p>
<p>You will perform steps on the source and target systems.</p>
<ol>
<li>
<p>In SQL*Plus, connect to the source and target Oracle systems as <code dir="ltr">SYSDBA</code>.</p>
</li>
<li>
<p>If you already assigned a database user to support the Oracle GoldenGate DDL replication feature, you can skip this step. Otherwise, in SQL*Plus on both systems create a database user that can also be the DDL user.</p>
<pre dir="ltr">
CREATE USER <span class="codeinlineitalic">DDLuser </span>IDENTIFIED BY <span class="codeinlineitalic">password</span>; 
GRANT CONNECT, RESOURCE, DBA TO <span class="codeinlineitalic">DDLuser</span>;
</pre></li>
<li>
<p>From the Oracle GoldenGate installation directory on each system, run GGSCI.</p>
</li>
<li>
<p>In GGSCI, issue the following command on each system.</p>
<pre dir="ltr">
EDIT PARAMS ./GLOBALS
</pre></li>
<li>
<p>In each <code dir="ltr">GLOBALS</code> file, enter the <code dir="ltr">GGSCHEMA</code> parameter and specify the schema of the DDL user that you created earlier in this procedure.</p>
<pre dir="ltr">
GGSCHEMA <span class="codeinlineitalic">schema</span>
</pre></li>
<li>
<p>Save and close the files.</p>
</li>
<li>
<p>In SQL*Plus on both systems, run the <code dir="ltr">sequence.sql</code> script from the root of the Oracle GoldenGate installation directory. This script creates some procedures for use by Oracle GoldenGate processes. (Do not run them yourself.) You are prompted for the user information that you created in the first step.</p>
<pre dir="ltr">
@sequence.sql
</pre></li>
<li>
<p>In SQL*Plus on the source system, grant <code dir="ltr">EXECUTE</code> privilege on the <code dir="ltr">updateSequence</code> procedure to a database user that can be used to issue the <code dir="ltr">DBLOGIN</code> command. Remember or record this user. You use <code dir="ltr">DBLOGIN</code> to log into the database prior to issuing the <code dir="ltr">FLUSH SEQUENCE</code> command, which calls the procedure.</p>
<pre dir="ltr">
GRANT EXECUTE on <span class="codeinlineitalic">DDLuser</span>.updateSequence TO <span class="codeinlineitalic">DBLOGINuser</span>;
</pre></li>
<li>
<p>In SQL*Plus on the target system, grant <code dir="ltr">EXECUTE</code> privilege on the <code dir="ltr">replicateSequence</code> procedure to the Replicat database user.</p>
<pre dir="ltr">
GRANT EXECUTE on <span class="codeinlineitalic">DDLuser</span>.replicateSequence TO <span class="codeinlineitalic">Replicatuser</span>;
</pre></li>
<li>
<p>In SQL*Plus on the source system, issue the following statement in SQL*Plus.</p>
<pre dir="ltr">
ALTER TABLE sys.seq$ ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
</pre></li>
</ol>
</div>
<!-- class="sect1" -->
<a id="BABIJEHH"></a>
<div id="GIORA376" class="sect1">
<h2 class="sect1"><span class="secnum">10.3</span> Handling Special Data Types</h2>
<p>This section applies whether Extract operates in classic or integrated capture mode, unless otherwise noted. It addresses special configuration requirements for the following Oracle data types:</p>
<ul>
<li>
<p><a href="#BABHJGGA">Multibyte Character Types</a></p>
</li>
<li>
<p><a href="#BABCBIHD">Oracle Spatial Objects</a></p>
</li>
<li>
<p><a href="#BABHAEDH">TIMESTAMP</a></p>
</li>
<li>
<p><a href="#BABCEEBF">Large Objects (LOB)</a></p>
</li>
<li>
<p><a href="#BABCDHDA">XML</a></p>
</li>
<li>
<p><a href="#BABCJJEA">User Defined Types</a></p>
</li>
</ul>
<a id="BABHJGGA"></a>
<div id="GIORA377" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.1</span> Multibyte Character Types</h3>
<p>Multi-byte characters are supported as part of a supported character set. If the semantics setting of an Oracle source database is <code dir="ltr">BYTE</code> and the setting of an Oracle target is <code dir="ltr">CHAR</code>, use the Replicat parameter <code dir="ltr">SOURCEDEFS</code> in your configuration, and place a definitions file that is generated by the <code dir="ltr">DEFGEN</code> utility on the target. These steps are required to support the difference in semantics, whether or not the source and target data definitions are identical. Replicat refers to the definitions file to determine the upper size limit for fixed-size character columns.</p>
<p>For more information about character-set support, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>For information about <code dir="ltr">SOURCEDEFS</code> and the <code dir="ltr">DEFGEN</code> utility, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABCBIHD"></a>
<div id="GIORA378" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.2</span> Oracle Spatial Objects</h3>
<p>To replicate tables that contain one or more columns of <code dir="ltr">SDO_GEORASTER</code> object type from an Oracle source to an Oracle target, follow these instructions to configure Oracle GoldenGate to process them correctly.</p>
<ol>
<li>
<p>Create a <code dir="ltr">TABLE</code> statement and a <code dir="ltr">MAP</code> statement for the georaster tables and also for the related raster data tables.</p>
</li>
<li>
<p>If the <code dir="ltr">METADATA</code> attribute of the <code dir="ltr">SDO_GEORASTER</code> data type in any of the values exceeds 1 MB, use the <code dir="ltr">DBOPTIONS</code> parameter with the <code dir="ltr">XMLBUFSIZE</code> option to increase the size of the memory buffer that stores the embedded <code dir="ltr">SYS.XMLTYPE</code> attribute of the <code dir="ltr">SDO_GEORASTER</code> data type. If the buffer is too small, Extract abends. For more information about <code dir="ltr">XMLBUFSIZE</code>, see <a class="olink GWURF437" href="../../gg-winux/GWURF/gg_parameters034.htm#GWURF437"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>To ensure the integrity of the target georaster tables and the spatial data, keep the trigger enabled on both source and target.Use the <code dir="ltr">REPERROR</code> option of the <code dir="ltr">MAP</code> parameter to handle the "ORA-01403 No data found" error that occurs as a result of keeping the trigger enabled on the target. It occurs when a row in the source georaster table is deleted, and the trigger cascades the delete to the raster data table. Both deletes are replicated. The replicated parent delete triggers the cascaded (child) delete on the target. When the replicated child delete arrives, it is redundant and generates the error. To use <code dir="ltr">REPERROR</code>, do the following:</p>
<ul>
<li>
<p>Use a <code dir="ltr">REPERROR</code> statement in each <code dir="ltr">MAP</code> statement that contains a raster data table.</p>
</li>
<li>
<p>Use Oracle error 1403 as the SQL error.</p>
</li>
<li>
<p>Use any of the response options as the error handling.</p>
</li>
</ul>
</li>
</ol>
<p>A sufficient way to handle the errors on raster tables caused by active triggers on target georaster tables is to use <code dir="ltr">REPERROR</code> with <code dir="ltr">DISCARD</code> to discard the cascaded delete that triggers them. The trigger on the target georaster table performs the delete to the raster data table, so the replicated one is not needed.</p>
<pre dir="ltr">
MAP geo.st_rdt, TARGET geo.st_rdt, REPERROR (-1403, DISCARD) ;
</pre>
<p>If you need to keep an audit trail of the error handling, use <code dir="ltr">REPERROR</code> with <code dir="ltr">EXCEPTION</code> to invoke exceptions handling. For this, you create an exceptions table and map the source raster data table twice:</p>
<ul>
<li>
<p>once to the actual target raster data table (with <code dir="ltr">REPERROR</code> handling the 1403 errors).</p>
</li>
<li>
<p>again to the exceptions table, which captures the 1403 error and other relevant information by means of a <code dir="ltr">COLMAP</code> clause.</p>
</li>
</ul>
<p>For more information about using an exceptions table, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>For more information about <code dir="ltr">REPERROR</code> options, see <a class="olink GWURF603" href="../../gg-winux/GWURF/gg_parameters126.htm#GWURF603"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect2" -->
<a id="BABHAEDH"></a>
<div id="GIORA379" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.3</span> TIMESTAMP</h3>
<p>To replicate timestamp data, follow these guidelines.</p>
<ol>
<li>
<p>To prevent Oracle GoldenGate from abending on <code dir="ltr">TIMESTAMP WITH TIME ZONE</code> as <code dir="ltr">TZR</code>, use the Extract parameter <code dir="ltr">TRANLOGOPTIONS</code> with one of the following:</p>
<ul>
<li>
<p><code dir="ltr">INCLUDEREGIONID</code> to replicate <code dir="ltr">TIMESTAMP WITH TIME ZONE</code> as <code dir="ltr">TZR</code> from an Oracle source to an Oracle target of the same version or later.</p>
</li>
<li>
<p><code dir="ltr">INCLUDEREGIONIDWITHOFFSET</code> to replicate <code dir="ltr">TIMESTAMP WITH TIMEZONE</code> as <code dir="ltr">TZR</code> from an Oracle source that is at least v10g to an earlier Oracle target, or from an Oracle source to a non-Oracle target.</p>
</li>
</ul>
<p>These options allow replication to Oracle versions that do not support <code dir="ltr">TIMESTAMP WITH TIME ZONE</code> as <code dir="ltr">TZR</code> and to database systems that only support time zone as a UTC offset. For more information, see <a class="olink GWURF712" href="../../gg-winux/GWURF/gg_parameters174.htm#GWURF712"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>Oracle database normalizes <code dir="ltr">TIMESTAMP WITH LOCAL TIME ZONE</code> data to the local time zone of the database that receives it, the target database in the case of Oracle GoldenGate. To preserve the original time stamp of the data that it applies, Replicat sets its session to the time zone of the source database. You can override this default and supply a different time zone by using the <code dir="ltr">SOURCETIMEZONE</code> parameter in the Replicat parameter file. To force Replicat to set its session to the target time zone, use the <code dir="ltr">PRESERVETARGETTIMEZONE</code> parameter.</p>
<p>You can also use the <code dir="ltr">SOURCETIMEZONE</code> parameter to specify the source time zone for data that is captured by an Extract that is earlier than version 12.1.2. Those versions do not write the source time zone to the trail.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCEEBF"></a>
<div id="GIORA380" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.4</span> Large Objects (LOB)</h3>
<p>The following are some configuration guidelines for LOBs in both classic capture and integrated capture mode.</p>
<ol>
<li>
<p>Store large objects out of row if possible.</p>
</li>
<li>
<p>(Applies only to integrated capture) Integrated capture captures LOBs from the redo log. For <code dir="ltr">UPDATE</code> operations on a LOB document, only the changed portion of the LOB is logged. To force whole LOB documents to be written to the trail when only the changed portion is logged, use the <code dir="ltr">TRANLOGOPTIONS</code> parameter with the <code dir="ltr">FETCHPARTIALLOB</code> option in the Extract parameter file. When Extract receives partial LOB content from the logmining server, it fetches the full LOB image instead of processing the partial LOB. Use this option when replicating to a non-Oracle target or in other conditions where the full LOB image is required. For more information about <code dir="ltr">TRANLOGOPTIONS</code>, see <a class="olink GWURF712" href="../../gg-winux/GWURF/gg_parameters174.htm#GWURF712"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCDHDA"></a>
<div id="GIORA381" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.5</span> XML</h3>
<p>The following are tools for working with XML within Oracle GoldenGate constraints.</p>
<ul>
<li>
<p>Although both classic and integrated capture modes do not support the capture of changes made to an XML schema, you may be able to evolve the schemas and then resume replication of them without the need for a resynchronization. See <a href="xml_workaround.htm#BABHBCCF3">Appendix E, "Supporting Changes to XML Schemas."</a></p>
</li>
<li>
<p>(Applies only to integrated capture) Integrated capture captures XML from the redo log. For <code dir="ltr">UPDATE</code> operations on an XML document, only the changed portion of the XML is logged if it is stored as <code dir="ltr">OBJECT RELATIONAL</code> or <code dir="ltr">BINARY</code>. To force whole XML documents to be written to the trail when only the changed portion is logged, use the <code dir="ltr">TRANLOGOPTIONS</code> parameter with the <code dir="ltr">FETCHPARTIALXML</code> option in the Extract parameter file. When Extract receives partial XML content from the logmining server, it fetches the full XML document instead of processing the partial XML. Use this option when replicating to a non-Oracle target or in other conditions where the full XML image is required. For more information about <code dir="ltr">TRANLOGOPTIONS</code>, see <a class="olink GWURF712" href="../../gg-winux/GWURF/gg_parameters174.htm#GWURF712"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BABCJJEA"></a>
<div id="GIORA382" class="sect2">
<h3 class="sect2"><span class="secnum">10.3.6</span> User Defined Types</h3>
<p>Extract fetches UDTs (except for object tables) from the database. For more information, see <a href="setup.htm#BABHJHGD">Section 3.4, "Setting Flashback Query."</a></p>
<p>If replicating source data that contains user-defined types with the <code dir="ltr">NCHAR</code>, <code dir="ltr">NVARCHAR2</code>, or <code dir="ltr">NCLOB</code> attribute to an Oracle target, use the <code dir="ltr">HAVEUDTWITHNCHAR</code> parameter in the Replicat parameter file. When this type of data is encountered in the trail, <code dir="ltr">HAVEUDTWITHNCHAR</code> causes Replicat to connect to the Oracle target in <code dir="ltr">AL32UTF8</code>, which is required when a user-defined data type contains one of those attributes. <code dir="ltr">HAVEUDTWITHNCHAR</code> is required even if <code dir="ltr">NLS_LANG</code> is set to <code dir="ltr">AL32UTF8</code> on the target. By default Replicat ignores <code dir="ltr">NLS_LANG</code> and connects to an Oracle database in the native character set of the database. Replicat uses the <code dir="ltr">OCIString</code> object of the Oracle Call Interface, which does not support <code dir="ltr">NCHAR</code>, <code dir="ltr">NVARCHAR2</code>, or <code dir="ltr">NCLOB</code> attributes, so Replicat must bind them as <code dir="ltr">CHAR</code>. Connecting to the target in <code dir="ltr">AL32UTF8</code> prevents data loss in this situation. <code dir="ltr">HAVEUDTWITHNCHAR</code> must appear before the <code dir="ltr">USERID</code> or <code dir="ltr">USERIDALIAS</code> parameter in the parameter file.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABEHBEE"></a>
<div id="GIORA383" class="sect1">
<h2 class="sect1"><span class="secnum">10.4</span> Handling Other Database Properties</h2>
<p>The following table shows database properties that may affect Oracle GoldenGate and the parameters that you can use to resolve or work around the condition.</p>
<div id="GIORA384" class="tblhruleformalwide"><p class="titleintable"><a id="sthref96"></a><a id="sthref97"></a>Table 10-1 Handling Other Database Properties</p>
<table class="cellalignment245" title="Handling Other Database Properties" summary="This table describes handling other database properties. It lists the database property and the concern/resolution.">
<thead>
<tr class="cellalignment234">
<th class="cellalignment246" id="r1c1-t3">Database Property</th>
<th class="cellalignment246" id="r1c2-t3">Concern/Resolution</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment234">
<td class="cellalignment240" id="r2c1-t3" headers="r1c1-t3">
<p>Table with interval partitioning</p>
</td>
<td class="cellalignment240" headers="r2c1-t3 r1c2-t3">
<p>To support tables with interval partitioning, make certain that the <code dir="ltr">WILDCARDRESOLVE</code> parameter remains at its default of <code dir="ltr">DYNAMIC</code>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r3c1-t3" headers="r1c1-t3">
<p>Table with virtual columns</p>
</td>
<td class="cellalignment240" headers="r3c1-t3 r1c2-t3">
<p>Virtual columns are not logged, and Oracle does not permit DML on virtual columns. You can, however, capture this data and map it to a target column that is not a virtual column by doing the following:</p>
<p>Include the table in the Extract <code dir="ltr">TABLE</code> statement and use the <code dir="ltr">FETCHCOLS</code> option of <code dir="ltr">TABLE</code> to fetch the value from the virtual column in the database.</p>
<p>In the Replicat <code dir="ltr">MAP</code> statement, map the source virtual column to the non-virtual target column.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r4c1-t3" headers="r1c1-t3">
<p>Table with inherently updateable view</p>
</td>
<td class="cellalignment240" headers="r4c1-t3 r1c2-t3">
<p>To replicate to an inherently updateable view, define a key on the unique columns in the updateable view by using a <code dir="ltr">KEYCOLS</code> clause in the same <code dir="ltr">MAP</code> statement in which the associated source and target tables are mapped.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r5c1-t3" headers="r1c1-t3">
<p>Redo logs or archives in different locations</p>
</td>
<td class="cellalignment240" headers="r5c1-t3 r1c2-t3">
<p>The <code dir="ltr">TRANLOGOPTIONS</code> parameter contains options to handle environments where the redo logs or archives are stored in a different location than the database default or on a different platform from that on which Extract is running. These options may be required when Extract operates in classic capture mode. For more information, see <a class="olink GWURF643" href="../../gg-winux/GWURF/gg_parameters142.htm#GWURF643"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r6c1-t3" headers="r1c1-t3">
<p><code dir="ltr">TRUNCATE</code> operations</p>
</td>
<td class="cellalignment240" headers="r6c1-t3 r1c2-t3">
<p>To replicate <code dir="ltr">TRUNCATE</code> operations, choose one of two options:</p>
<ul>
<li>
<p>Standalone <code dir="ltr">TRUNCATE</code> support by means of the <code dir="ltr">GETTRUNCATES</code> parameter replicates <code dir="ltr">TRUNCATE TABLE</code>, but no other <code dir="ltr">TRUNCATE</code> options. Use only if not using Oracle GoldenGate DDL support.</p>
</li>
<li>
<p>The full DDL support replicates <code dir="ltr">TRUNCATE TABLE</code>, <code dir="ltr">ALTER TABLE TRUNCATE</code> <code dir="ltr">PARTITION</code>, and other DDL. To install this support, see <a href="ddl_install.htm#CHDDIBBE">Appendix D, "Installing Trigger-Based DDL Capture."</a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment234">
<td class="cellalignment240" id="r7c1-t3" headers="r1c1-t3">
<p>Sequences</p>
</td>
<td class="cellalignment240" headers="r7c1-t3 r1c2-t3">
<p>To replicate DDL for sequences (<code dir="ltr">CREATE</code>, <code dir="ltr">ALTER</code>, <code dir="ltr">DROP</code>, <code dir="ltr">RENAME</code>), use Oracle GoldenGate DDL support.</p>
<p>To replicate just sequence values, use the <code dir="ltr">SEQUENCE</code> parameter in the Extract parameter file. This does <span class="italic">not</span> require the Oracle GoldenGate DDL support environment. For more information, see <a class="olink GWURF643" href="../../gg-winux/GWURF/gg_parameters142.htm#GWURF643"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="sect1" -->
<a id="A4750877"></a>
<div id="GIORA988" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">10.5</span> Controlling the Checkpoint Frequency</h2>
<p>The <code dir="ltr">CHECKPOINTRETENTIONTIME</code> option of the <code dir="ltr">TRANLOGOPTIONS</code> parameter controls the number of days that Extract in integrated mode retains checkpoints before purging them automatically. Partial days can be specified using decimal values. For example, 8.25 specifies 8 days and 6 hours. The default is seven days. For more information about this parameter, see <a class="olink GWURF712" href="../../gg-winux/GWURF/gg_parameters174.htm#GWURF712"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="CBDBDIHA"></a>
<div id="GIORA235" class="sect1">
<h2 class="sect1"><span class="secnum">10.6</span> Excluding Replicat Transactions</h2>
<p>In a bidirectional configuration, Replicat must be configured to mark its transactions, and Extract must be configured to exclude Replicat transactions so that they do not propagate back to their source.</p>
<p>When Extract is in integrated mode (Replicat can be in either integrated or nonintegrated mode), use the following parameters:</p>
<ul>
<li>
<p>Use <code dir="ltr">DBOPTIONS</code> with the <code dir="ltr">SETTAG</code> option in the Replicat parameter file. The inbound server tags the transactions of that Replicat with the specified value, which identifies those transactions in the redo stream. The default value for <code dir="ltr">SETTAG</code> is 00.</p>
</li>
<li>
<p>Use the <code dir="ltr">TRANLOGOPTIONS</code> parameter with the <code dir="ltr">EXCLUDETAG</code> option in the Extract parameter file. The logmining server associated with that Extract excludes redo that is tagged with the <code dir="ltr">SETTAG</code> value. Multiple <code dir="ltr">EXCLUDETAG</code> statements can be used to exclude different tag values, if desired.</p>
</li>
</ul>
<p>When Extract is in classic or integrated capture mode, use the Extract <code dir="ltr">TRANLOGOPTIONS</code> parameter with the <code dir="ltr">EXCLUDEUSER</code> or <code dir="ltr">EXCLUDEUSERID</code> option to ignore Replicat transactions based on its user name or ID. Multiple <code dir="ltr">EXCLUDEUSER</code> statements can be used. The specified user is subject to the rules of the <code dir="ltr">GETREPLICATES</code> or <code dir="ltr">IGNOREREPLICATES</code> parameter.</p>
<p>For more information, see <a class="olink GWURF712" href="../../gg-winux/GWURF/gg_parameters174.htm#GWURF712"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="A1862178"></a>
<div id="GIORA945" class="sect1">
<h2 class="sect1"><span class="secnum">10.7</span> Advanced Configuration Options for Oracle GoldenGate</h2>
<p>You may need to configure Oracle GoldenGate with advanced options to suit your business needs. See the following:</p>
<ul>
<li>
<p>For additional configuration guidelines to achieve specific replication topologies, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. This guide includes instructions for the following configurations:</p>
<ul>
<li>
<p>Using Oracle GoldenGate for live reporting</p>
</li>
<li>
<p>Using Oracle GoldenGate for real-time data distribution</p>
</li>
<li>
<p>Configuring Oracle GoldenGate for real-time data warehousing</p>
</li>
<li>
<p>Using Oracle GoldenGate to maintain a live standby database</p>
</li>
<li>
<p>Using Oracle GoldenGate for active-active high availability</p>
</li>
</ul>
<p>That guide also contains information about:</p>
<ul>
<li>
<p>Oracle GoldenGate architecture</p>
</li>
<li>
<p>Oracle GoldenGate commands</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods</p>
</li>
<li>
<p>Configuring security</p>
</li>
<li>
<p>Using customization features</p>
</li>
<li>
<p>Configuring data filtering and manipulation</p>
</li>
</ul>
</li>
<li>
<p>If either the source or target database is non-Oracle, follow the installation and configuration instructions in the Oracle GoldenGate installation and setup guide for that database, and then refer to the Oracle GoldenGate administration and reference documentation for further information.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment233">
<tr>
<td class="cellalignment240"><table class="cellalignment238">
<tr>
<td class="cellalignment237"><a href="config_apply.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment237"><a href="classic_capture.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2010, 2015,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment242">
<table class="cellalignment236">
<tr>
<td class="cellalignment237"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment237"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment237"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
