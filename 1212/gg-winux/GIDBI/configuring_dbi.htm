<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>4 Configuring Oracle GoldenGate for DB2 for i</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1028" />
<meta name="description" content="This chapter contains instructions for configuring Oracle GoldenGate to capture source DB2 for i data and apply it to a supported target database." />
<meta name="dcterms.created" content="2014-11-11T19:17:21Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Installing and Configuring Oracle GoldenGate for DB2 for i" />
<meta name="dcterms.identifier" content="E37548-03" />
<meta name="dcterms.isVersionOf" content="GIDBI" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="preparing_the_system.htm" title="Previous" type="text/html" />
<link rel="Next" href="Instantiate.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GIDBI.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GIDBI.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GIDBI.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">7/11</span>
<!-- End Header -->
<div id="GIDBI187" class="chapter"><a id="BABHGABJ"></a>
<h1 class="chapter"><span class="secnum">4</span> Configuring Oracle GoldenGate for DB2 for i</h1>
<p><a id="GIDBI188"></a>This chapter contains instructions for configuring Oracle GoldenGate to capture source DB2 for i data and apply it to a supported target database.</p>
<p>This chapter contains the following sections:</p>
<ul>
<li>
<p><a href="#A1241383">Section 4.1, "What to Expect from this Procedure"</a></p>
</li>
<li>
<p><a href="#A1950528">Section 4.2, "Getting Started with Oracle GoldenGate"</a></p>
</li>
<li>
<p><a href="#BABHBBJG">Section 4.3, "Creating the Oracle GoldenGate Instance"</a></p>
</li>
<li>
<p><a href="#A1913240">Section 4.4, "Creating a <code dir="ltr">GLOBALS</code> File"</a></p>
</li>
<li>
<p><a href="#BABHEJID">Section 4.5, "Creating a Data Definitions File"</a></p>
</li>
<li>
<p><a href="#BABFJBGB">Section 4.6, "Encrypting the Extract and Replicat Passwords"</a></p>
</li>
<li>
<p><a href="#BABFCEJB">Section 4.7, "Configuring Extract for Change Capture from DB2 for i"</a></p>
</li>
<li>
<p><a href="#BABIEJFH">Section 4.8, "Configuring Replicat for Change Delivery to DB2 for i"</a></p>
</li>
<li>
<p><a href="#BABGCBAE">Section 4.9, "Next Steps in the Deployment"</a></p>
</li>
<li>
<p><a href="#BABCBGIF">Section 4.10, "When to Start Replicating Transactional Changes"</a></p>
</li>
<li>
<p><a href="#BABHEBCJ">Section 4.11, "Testing Your Configuration"</a></p>
</li>
</ul>
<a id="A1241383"></a>
<div id="GIDBI189" class="sect1"><!-- infolevel="all" infotype="Concept" -->
<h2 class="sect1"><span class="secnum">4.1</span> What to Expect from this Procedure</h2>
<p>These instructions show you how to configure a set of basic Oracle GoldenGate parameter (configuration) files, one for each process that replicates transactional data changes from a DB2 for i source to a DB2 for i target, or to a different database type. Your business requirements probably will require a more complex topology, but this procedure forms a basis for the rest of your configuration steps.</p>
<p>This chapter is a subset of the instructions in <a class="olink GWUAD514" href="../../gg-winux/GWUAD/wu_changesync.htm#GWUAD514"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. It focuses on the basic parameters that are specific to DB2 for i.</p>
<p>By performing these steps, you can:</p>
<ul>
<li>
<p>get the basic configuration files established.</p>
</li>
<li>
<p>build upon them later by adding more parameters as you make decisions about features or requirements that apply to your environment.</p>
</li>
<li>
<p>use copies of them to make additional parameter files faster than starting from scratch.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="A1950528"></a>
<div id="GIDBI190" class="sect1"><!-- infotype="Concept" -->
<h2 class="sect1"><span class="secnum">4.2</span> Getting Started with Oracle GoldenGate</h2>
<p>Before proceeding with the configuration process, you should get familiar with the Oracle GoldenGate architecture, the command interface, and the methods for supplying input and instructions to the processes. See <a class="olink GWUAD153" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD153"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for this information.</p>
</div>
<!-- class="sect1" -->
<a id="BABHBBJG"></a>
<div id="GIDBI191" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.3</span> Creating the Oracle GoldenGate Instance</h2>
<p>Each Oracle GoldenGate installation is rooted in the Manager process. This is the controller process that instantiates the Oracle GoldenGate processes, allocates port numbers, and performs file maintenance. Together, the Manager process and its child processes, and their related programs and files comprise an Oracle GoldenGate instance.</p>
<p>To run Oracle GoldenGate, a Manager process must be running on all systems that will be part of the Oracle GoldenGate environment. To run Manager, you first create a parameter file for it. For details on configuring Manager and its network connections, see <a class="olink GWUAD138" href="../../gg-winux/GWUAD/wu_manager.htm#GWUAD138"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="A1913240"></a>
<div id="GIDBI192" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.4</span> Creating a <code dir="ltr">GLOBALS</code> File</h2>
<p>The <code dir="ltr">GLOBALS</code> parameter file contains parameters that affect all processes within an Oracle GoldenGate instance. The <code dir="ltr">GLOBALS</code> parameter <code dir="ltr">NAMECCSID</code> is specific to DB2 for i and may be required if the SQL catalog contains object names that are referenced by a different CCSID than the system CCSID. The SQL catalog is created in the system CCSID and does not indicate this difference when queried. Oracle GoldenGate makes queries to the catalog and could retrieve the name incorrectly unless <code dir="ltr">NAMECCSID</code> is used to supply the correct CCSID value. For more information, see <a class="olink GWURF1167" href="../../gg-winux/GWURF/gg_parameters107.htm#GWURF1167"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect1" -->
<a id="BABHEJID"></a>
<div id="GIDBI193" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.5</span> Creating a Data Definitions File</h2>
<p>When replicating data from one table to another, an important consideration is whether the column structures (metadata) of the source and target tables are identical. Oracle GoldenGate looks up metadata for the following purposes:</p>
<ul>
<li>
<p>On the source, to supply complete information about captured operations to the Replicat process.</p>
</li>
<li>
<p>On the target, to determine the structures of the target tables, so that the replicated data is correctly mapped and converted (if needed) by Replicat.</p>
</li>
</ul>
<p>When source and target table definitions are dissimilar, Oracle GoldenGate must perform a conversion from one format to the other. To perform conversions, both sets of definitions must be known to Oracle GoldenGate. Oracle GoldenGate can query the local database to get one set of definitions, but it must rely on a <span class="italic">data-definitions file</span> to get definitions from the remote database. The data-definitions file contains information about the metadata of the data that is being replicated.</p>
<p>To create a definitions file, you configure and run the <code dir="ltr">DEFGEN</code> utility and then transfer the definitions file to the target system. For instructions, see <a class="olink GWUAD473" href="../../gg-winux/GWUAD/wu_data_definitions.htm#GWUAD473"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. This file must be in place on the target system before you start the Oracle GoldenGate processes for the first time.</p>
</div>
<!-- class="sect1" -->
<a id="BABFJBGB"></a>
<div id="GIDBI194" class="sect1"><!-- infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.6</span> Encrypting the Extract and Replicat Passwords</h2>
<p>It is strongly recommended that you encrypt the passwords of the user profiles that will be used for the primary and data pump Extracts, and for the Replicat process. Oracle GoldenGate must use Blowfish encryption on the DB2 for i platform. The standard Oracle GoldenGate encryption method of AES (Advanced Encryption Standard) is not supported by the IMB i platform. To encrypt the password, see <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. That documentation also contains information about how to encrypt data within disk storage and across TCP/IP.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
The Oracle GoldenGate credential store is not supported by the iSeries platform.</div>
</div>
<!-- class="sect1" -->
<a id="BABFCEJB"></a>
<div id="GIDBI195" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.7</span> Configuring Extract for Change Capture from DB2 for i</h2>
<p>Perform these steps on the source system to configure the primary Extract and the data pump Extract that support change capture and transport across the network.</p>
<div id="GIDBI196" class="sect2"><!-- infolevel="all" infotype="Task" --><a id="sthref36"></a>
<h3 class="sect2"><span class="secnum">4.7.1</span> Configuring the Primary Extract</h3>
<p>These steps configure the Extract that captures the transaction data.</p>
<ol>
<li>
<p>In GGSCI on the source system, create the Extract parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">name</span>
</pre>
<p>Where: <code dir="ltr"><span class="codeinlineitalic">name</span></code> is the name of the primary Extract. group.</p>
</li>
<li>
<p>Enter the Extract parameters in the order shown, starting a new line for each parameter statement. Your input variables will be different. See <a href="#BABGHBGH">Table 4-1</a> for descriptions.</p>
<p><span class="bold">Basic parameters for the primary Extract group:</span></p>
<pre dir="ltr">
EXTRACT finance
SOURCEDB FINANCE USERID ogg, PASSWORD AACAAAAAAAAAAA, BLOWFISH ENCRYPTKEY mykey 
ENCRYPTTRAIL KEYNAME mykey2
EXTTRAIL /ggs/dirdat/lt
TABLE hr.*;
</pre>
<div id="GIDBI197" class="tblhruleformalwide"><p class="titleintable"><a id="sthref37"></a><a id="BABGHBGH"></a>Table 4-1 Basic Parameters for the Primary Extract</p>
<table class="cellalignment177" title="Basic Parameters for the Primary Extract" summary="Basic parameters for primary Extract (classic or integrated mode)">
<thead>
<tr class="cellalignment166">
<th class="cellalignment178" id="r1c1-t3">Parameter</th>
<th class="cellalignment178" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment166">
<td class="cellalignment172" id="r2c1-t3" headers="r1c1-t3">
<pre dir="ltr">
EXTRACT <span class="codeinlineitalic">group</span>
</pre></td>
<td class="cellalignment172" headers="r2c1-t3 r1c2-t3">
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Extract group.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r3c1-t3" headers="r1c1-t3">
<pre dir="ltr">
SOURCEDB <span class="codeinlineitalic">database</span> USERID <span class="codeinlineitalic">user id</span>, PASSWORD <span class="codeinlineitalic">password</span>, BLOWFISH ENCRYPTKEY <span class="codeinlineitalic">keyname</span>
</pre></td>
<td class="cellalignment172" headers="r3c1-t3 r1c2-t3">
<p>Specifies database connection information.</p>
<ul>
<li>
<p><code dir="ltr">SOURCEDB</code> specifies the <span class="italic">default</span> DB 2 for i database that is identified by the system name (in upper case). Only this database is supported. Named databases on other independent auxiliary storage pools (IASPs) are not supported.</p>
</li>
<li>
<p><code dir="ltr">USERID</code> specifies the Extract database user profile.</p>
</li>
<li>
<p><code dir="ltr">PASSWORD</code> specifies the user's password that was encrypted with the <code dir="ltr">ENCRYPT PASSWORD</code> command. Enter or paste the encrypted password after the <code dir="ltr">PASSWORD</code> keyword.</p>
</li>
<li>
<p><code dir="ltr">BLOWFISH ENCRYPTKEY</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code> specifies the name of the lookup key in the local <code dir="ltr">ENCKEYS</code> file.</p>
</li>
</ul>
<p>See <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for encryption options.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r4c1-t3" headers="r1c1-t3">
<pre dir="ltr">
ENCRYPTTRAIL KEYNAME <span class="codeinlineitalic">keyname</span>
</pre></td>
<td class="cellalignment172" headers="r4c1-t3 r1c2-t3">
<p>Encrypts the local trail with Blowfish encryption. For more information, see the Oracle GoldenGate security documentation in <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r5c1-t3" headers="r1c1-t3">
<pre dir="ltr">
EXTTRAIL <span class="codeinlineitalic">pathname</span>
</pre></td>
<td class="cellalignment172" headers="r5c1-t3 r1c2-t3">
<p>Specifies the path name of the local trail to which the primary Extract writes captured data.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r6c1-t3" headers="r1c1-t3">
<pre dir="ltr">
TABLE <span class="codeinlineitalic">owner.table</span>;
</pre></td>
<td class="cellalignment172" headers="r6c1-t3 r1c2-t3">
<p>Specifies a table or tables for which to extract data changes. For supported object names, see <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>Terminate the <code dir="ltr">TABLE</code> statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code dir="ltr">TABLEEXCLUDE</code> parameter after the <code dir="ltr">TABLE</code> statement.</p>
<p>For more information about parameters and options that control data filtering, mapping, and manipulation, see <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></li>
<li>
<p>Enter any optional Extract parameters that are recommended elsewhere in this manual and any others shown in the Oracle GoldenGate Windows and UNIX Reference Guide.</p>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="GIDBI198" class="sect2"><!-- infolevel="all" infotype="Task" --><a id="sthref38"></a>
<h3 class="sect2"><span class="secnum">4.7.2</span> Configuring the Data Pump</h3>
<p>These steps configure the data pump that reads the local trail and sends the data across the network to a remote trail.</p>
<ol>
<li>
<p>In GGSCI on the source system, create the data-pump parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">name</span>
</pre>
<p>Where: <code dir="ltr"><span class="codeinlineitalic">name</span></code> is the name of the data pump Extract group.</p>
</li>
<li>
<p>Enter the data-pump parameters in the order shown, starting a new line for each parameter statement. Your input variables will be different. See <a href="#BABHEJJJ">Table 4-2</a> for descriptions.</p>
<p><span class="bold">Basic parameters for the data-pump Extract group:</span></p>
<pre dir="ltr">
EXTRACT extpump
SOURCEDB FINANCE USERID ogg, PASSWORD AACAAAAAAAAAAA, BLOWFISH ENCRYPTKEY mykey
RMTHOST fin1, MGRPORT 7809
RMTTRAIL /ggs/dirdat/rt
TABLE hr.*;
</pre>
<div id="GIDBI199" class="tblhruleformalwide"><p class="titleintable"><a id="sthref39"></a><a id="BABHEJJJ"></a>Table 4-2 Basic Parameters for the Data Pump Extract</p>
<table class="cellalignment177" title="Basic Parameters for the Data Pump Extract" summary="Basic parameters for a data-pump Extract">
<thead>
<tr class="cellalignment166">
<th class="cellalignment178" id="r1c1-t4">Parameter</th>
<th class="cellalignment178" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment166">
<td class="cellalignment172" id="r2c1-t4" headers="r1c1-t4">
<pre dir="ltr">
EXTRACT <span class="codeinlineitalic">group</span>
</pre></td>
<td class="cellalignment172" headers="r2c1-t4 r1c2-t4">
<p><code dir="ltr"><span class="codeinlineitalic">group name</span></code> is the name of the data pump.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r3c1-t4" headers="r1c1-t4">
<pre dir="ltr">
SOURCEDB <span class="codeinlineitalic">database</span> USERID <span class="codeinlineitalic">user</span>, PASSWORD <span class="codeinlineitalic">password</span>, BLOWFISH ENCRYPTKEY <span class="codeinlineitalic">keyname</span>
</pre></td>
<td class="cellalignment172" headers="r3c1-t4 r1c2-t4">
<p>Specifies database connection information.</p>
<ul>
<li>
<p><code dir="ltr">SOURCEDB</code> specifies the <span class="italic">default</span> DB 2 for i database.</p>
</li>
<li>
<p><code dir="ltr">USERID</code> specifies the Extract database user profile.</p>
</li>
<li>
<p><code dir="ltr">PASSWORD</code> specifies the user's password that was encrypted with the <code dir="ltr">ENCRYPT PASSWORD</code> command. Enter or paste the encrypted password after the <code dir="ltr">PASSWORD</code> keyword.</p>
</li>
<li>
<p><code dir="ltr">BLOWFISH ENCRYPTKEY</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code> specifies the name of the lookup key in the local <code dir="ltr">ENCKEYS</code> file.</p>
</li>
</ul>
<p>See <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for encryption options.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r4c1-t4" headers="r1c1-t4">
<p><code dir="ltr">DECRYPTTRAIL</code> <code dir="ltr">BLOWFISH</code> <code dir="ltr">KEYNAME</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code></p>
</td>
<td class="cellalignment172" headers="r4c1-t4 r1c2-t4">
<p>Decrypts the input trail.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r5c1-t4" headers="r1c1-t4">
<pre dir="ltr">
RMTHOST <span class="codeinlineitalic">hostname</span>, MGRPORT <span class="codeinlineitalic">portnumber</span>
</pre></td>
<td class="cellalignment172" headers="r5c1-t4 r1c2-t4">
<ul>
<li>
<p><code dir="ltr">RMTHOST</code> specifies the name or IP address of the target system.</p>
</li>
<li>
<p><code dir="ltr">MGRPORT</code> specifies the port number where Manager is running on the target.</p>
</li>
</ul>
<p>For additional options and encryption details, see <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> .</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r6c1-t4" headers="r1c1-t4">
<pre dir="ltr">
ENCRYPTTRAIL BLOWFISH KEYNAME <span class="codeinlineitalic">keyname</span>
</pre></td>
<td class="cellalignment172" headers="r6c1-t4 r1c2-t4">
<p>Encrypts the remote trail with Blowfish encryption. For more information, see the Oracle GoldenGate security documentation in <a class="olink GWUAD356" href="../../gg-winux/GWUAD/wu_security.htm#GWUAD356"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> .</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r7c1-t4" headers="r1c1-t4">
<pre dir="ltr">
RMTTRAIL <span class="codeinlineitalic">pathname</span>
</pre></td>
<td class="cellalignment172" headers="r7c1-t4 r1c2-t4">
<p>Specifies the path name of the remote trail.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r8c1-t4" headers="r1c1-t4">
<pre dir="ltr">
TABLE <span class="codeinlineitalic">owner.table</span>;
</pre></td>
<td class="cellalignment172" headers="r8c1-t4 r1c2-t4">
<p>Specifies a table or tables to process. For supported object names, see <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>Terminate the <code dir="ltr">TABLE</code> statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code dir="ltr">TABLEEXCLUDE</code> <code dir="ltr"><span class="codeinlineitalic">owner.table</span></code> parameter after the <code dir="ltr">TABLE</code> statement.</p>
<p>For more information and for additional options that control data filtering, mapping, and manipulation, see <code dir="ltr">TABLE</code> in <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></li>
<li>
<p>Enter any optional Extract parameters that are recommended elsewhere in this manual and any others shown in <a class="olink GWURF" href="../../gg-winux/GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABIEJFH"></a>
<div id="GIDBI200" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.8</span> Configuring Replicat for Change Delivery to DB2 for i</h2>
<p>These steps configure Replicat to apply data to a DB2 for i target database, operating either on the target system or on a remote Windows or Linux system. To configure Replicat for change delivery to a different database type, such as an Oracle database, follow the directions in the Oracle GoldenGate Installation and Configuration guide for that database. There may be additional parameters and requirements for delivery to that database type.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
There does not have to be a database on a Windows or Linux machine to support connection by ODBC by Replicat.</div>
<div id="GIDBI201" class="sect2"><!-- infotype="Task" --><a id="sthref40"></a>
<h3 class="sect2"><span class="secnum">4.8.1</span> Creating a Checkpoint Table</h3>
<p>Replicat maintains its checkpoints in a checkpoint table in the DB2 for i target database. Each checkpoint is written to the checkpoint table, that must be journaled, within the Replicat transaction. Because a checkpoint either succeeds or fails with the transaction, Replicat ensures that a transaction is only applied once, even if there is a failure of the process or the database.</p>
<p>A common method of create the checkpoint table with journaling is as follows:</p>
<ol>
<li>
<p>In GGSCI on the target system, create the Replicat checkpoint file.</p>
<pre dir="ltr">
DEFAULTJOURNAL <span class="italic">library_name</span>/<span class="italic">journal_name</span>
</pre>
<p>Where: <code dir="ltr"><span class="codeinlineitalic">library_name</span></code> is the name of the library and <code dir="ltr">journal_name</code> is the name of the default journal.</p>
</li>
<li>
<p>Add the checkpoint table.</p>
<pre dir="ltr">
ADD CHECKPOINTTABLE <span class="italic">library_name</span>.chkptab 

Successfully created checkpoint table kgr.chkptab 
</pre></li>
<li>
<p>Add journaling to the checkpoint table.</p>
<pre dir="ltr">
ADD TRANDATA <span class="italic">library_name</span>.CHKPTAB
</pre></li>
</ol>
<p>For more information about creating a checkpoint table, see <a class="olink GWUAD521" href="../../gg-winux/GWUAD/wu_changesync.htm#GWUAD521"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</div>
<!-- class="sect2" -->
<div id="GIDBI202" class="sect2"><!-- infotype="Task" --><a id="sthref41"></a>
<h3 class="sect2"><span class="secnum">4.8.2</span> Configuring Replicat</h3>
<p>These steps configure the Replicat process in a basic way without any special mapping or conversion of the data. For more advanced mapping options, see <a class="olink GWUAD546" href="../../gg-winux/GWUAD/wu_initsync.htm#GWUAD546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<ol>
<li>
<p>In GGSCI on the target system, create the Replicat parameter file.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">name</span>
</pre>
<p>Where: <code dir="ltr"><span class="codeinlineitalic">name</span></code> is the name of the Replicat group.</p>
</li>
<li>
<p>Enter the Replicat parameters in the order shown, starting a new line for each parameter statement. See <a href="#BABHEIJH">Table 4-3</a> for descriptions.</p>
<pre dir="ltr">
REPLICAT financer
TARGETDB FINANCIAL USERID ogg, PASSWORD AACAAAAAAAAAAA, BLOWFISH ENCRYPTKEY mykey
ASSUMETARGETDEFS
-- Instead of ASSUMETARGETDEFS, use SOURCEDEFS if replicating from
-- DB2 for i to a different database type, or from a DB2 for i source
-- that is not identical in definitions to a target DB2 for i database.
-- SOURCEDEFS /users/ogg/dirdef/defsfile
DISCARDFILE /users/ogg/disc
MAP hr.*, TARGET hr2.*;
</pre>
<div id="GIDBI203" class="tblhruleformalwide"><p class="titleintable"><a id="sthref42"></a><a id="BABHEIJH"></a>Table 4-3 Basic Parameters for Replicat</p>
<table class="cellalignment177" title="Basic Parameters for Replicat" summary="Basic parameters for Replicat">
<thead>
<tr class="cellalignment166">
<th class="cellalignment178" id="r1c1-t6">Parameter</th>
<th class="cellalignment178" id="r1c2-t6">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment166">
<td class="cellalignment172" id="r2c1-t6" headers="r1c1-t6">
<pre dir="ltr">
REPLICAT <span class="codeinlineitalic">group</span>
</pre></td>
<td class="cellalignment172" headers="r2c1-t6 r1c2-t6">
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Replicat group.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r3c1-t6" headers="r1c1-t6">
<pre dir="ltr">
TARGETDB <span class="codeinlineitalic">database</span> USERID <span class="codeinlineitalic">user,</span> PASSWORD <span class="codeinlineitalic">password</span>, BLOWFISH ENCRYPTKEY <span class="codeinlineitalic">keyname</span>
</pre></td>
<td class="cellalignment172" headers="r3c1-t6 r1c2-t6">
<p>Specifies database connection information.</p>
<ul>
<li>
<p><code dir="ltr">SOURCEDB</code> specifies the data source name (DSN) of the target DB2 for i database.</p>
</li>
<li>
<p><code dir="ltr">USERID</code> specifies the Replicat database user profile.</p>
</li>
<li>
<p><code dir="ltr">PASSWORD</code> specifies the user's password that was encrypted with the <code dir="ltr">ENCRYPT PASSWORD</code> command. Enter or paste the encrypted password after the <code dir="ltr">PASSWORD</code> keyword.</p>
</li>
<li>
<p><code dir="ltr">BLOWFISH ENCRYPTKEY</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code> specifies the name of the lookup key in the local <code dir="ltr">ENCKEYS</code> file.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r4c1-t6" headers="r1c1-t6">
<p><code dir="ltr">DECRYPTTRAIL</code> <code dir="ltr">BLOWFISH</code> <code dir="ltr">KEYNAME</code> <code dir="ltr"><span class="codeinlineitalic">keyname</span></code></p>
</td>
<td class="cellalignment172" headers="r4c1-t6 r1c2-t6">
<p>Decrypts the input trail.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r5c1-t6" headers="r1c1-t6">
<pre dir="ltr">
SOURCEDEFS <span class="codeinlineitalic">pathname</span> |
ASSUMETARGETDEFS
</pre></td>
<td class="cellalignment172" headers="r5c1-t6 r1c2-t6">
<p>Specifies how to interpret data definitions. Use <code dir="ltr">SOURCEDEFS</code> if the source and target tables have different definitions, such as when replicating data between dissimilar IBM for i databases or from an IBM for i database to an Oracle database. For <code dir="ltr"><span class="codeinlineitalic">pathname</span></code>, specify the source data-definitions file that you created with the <code dir="ltr">DEFGEN</code> utility in <a href="#BABHEJID">"Creating a Data Definitions File"</a>. Use <code dir="ltr">ASSUMETARGETDEFS</code> if the source and target tables are all DB2 for i and have the same definitions.</p>
</td>
</tr>
<tr class="cellalignment166">
<td class="cellalignment172" id="r6c1-t6" headers="r1c1-t6">
<pre dir="ltr">
MAP <span class="codeinlineitalic">owner.table</span>, TARGET <span class="codeinlineitalic">owner.table</span>;
</pre></td>
<td class="cellalignment172" headers="r6c1-t6 r1c2-t6">
<p>Specifies a relationship between a source and target table or tables. The <code dir="ltr">MAP</code> clause specifies the source objects, and the <code dir="ltr">TARGET</code> clause specifies the target objects to which the source objects are mapped.</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">owner</span></code> is the schema or library name.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">table</span></code> is the name of a table or a wildcard definition for multiple tables.</p>
</li>
</ul>
<p>For supported object names, see <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<p>Terminate the <code dir="ltr">MAP</code> statement with a semi-colon.</p>
<p>To exclude tables from a wildcard specification, use the <code dir="ltr">MAPEXCLUDE</code> parameter.</p>
<p>For more information and for additional options that control data filtering, mapping, and manipulation, see <code dir="ltr">MAP</code> in <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546">Reference for Oracle GoldenGate for Windows and UNIX</a>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></li>
<li>
<p>Enter any optional Extract parameters that are recommended elsewhere in this manual and any others shown in <a class="olink GWURF" href="../../gg-winux/GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABGCBAE"></a>
<div id="GIDBI204" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.9</span> Next Steps in the Deployment</h2>
<p>Because of its flexibility, Oracle GoldenGate offers numerous features and options that must be considered before you start any processes. To further configure Oracle GoldenGate to suit your business needs, see the following:</p>
<ul>
<li>
<p>For additional configuration guidelines to achieve specific replication topologies, see <a class="olink GWUAD" href="../../gg-winux/GWUAD/toc.htm"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a>. This guide also contains information about:</p>
<ul>
<li>
<p>Oracle GoldenGate architecture</p>
</li>
<li>
<p>Oracle GoldenGate commands</p>
</li>
<li>
<p>Oracle GoldenGate initial load methods</p>
</li>
<li>
<p>Configuring security</p>
</li>
<li>
<p>Using customization features</p>
</li>
<li>
<p>Mapping columns that contain dissimilar data</p>
</li>
<li>
<p>Data filtering and manipulation</p>
</li>
</ul>
</li>
<li>
<p>For syntax options and descriptions of Oracle GoldenGate GGSCI commands and Oracle GoldenGate parameters shown in this guide, see <a class="olink GWURF" href="../../gg-winux/GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABCBGIF"></a>
<div id="GIDBI205" class="sect1"><!-- infolevel="all" infotype="Concept" -->
<h2 class="sect1"><span class="secnum">4.10</span> When to Start Replicating Transactional Changes</h2>
<p>You must start replication when the source and target data is in a synchronized state, where the corresponding rows in the source and target tables contain identical data values. Unless you are starting with brand new source and target databases with no current user activity, you will need to activate change capture and apply processes to handle ongoing transactional changes while an initial load is being applied to the target. This process is known as <span class="italic">initial synchronization</span>, or also as <span class="italic">instantiation</span>. The initial load captures a point-in-time snapshot of the source data and applies it to the target, while Oracle GoldenGate maintains any changes that are made after that point.</p>
<p>See <a class="olink GWUAD546" href="../../gg-winux/GWUAD/wu_initsync.htm#GWUAD546"><span class="italic">Administering Oracle GoldenGate for Windows and UNIX</span></a> for instantiation options.</p>
<a id="A1931790"></a>
<div id="GIDBI206" class="sect2"><!-- infolevel="all" infotype="Task" -->
<h3 class="sect2"><span class="secnum">4.10.1</span> Starting Extract During Instantiation</h3>
<p>When Extract starts for the first time to begin capturing data during the instantiation process, it captures all of the transaction data that it encounters after the specified start point, but none of the data that occurred before that point. To ensure that Extract does not start in the middle of ongoing transactions that would be discarded, set the tables that are to be captured to an inactive state. You can either put the system into a restricted state by using the <code dir="ltr">ALCOBJ</code> command to lock the objects or libraries, or you can force all of the current transactions on those tables to stop at a certain point.</p>
<p>After initialization is complete, remember to unlock any objects that you locked. To do so, log off of the session that locked the objects or use the <code dir="ltr">DLCOBJ</code> command from the OS/400 command line.</p>
</div>
<!-- class="sect2" -->
<a id="CHDGGGGE"></a>
<div id="GIDBI207" class="sect2"><!-- infotype="Task" -->
<h3 class="sect2"><span class="secnum">4.10.2</span> Changing the Position of Extract to a Later Time</h3>
<p>You may at some point, over the life of an Extract run, need to set the position of Extract in the data stream manually. To reposition Extract, use the <code dir="ltr">ALTER EXTRACT</code> command in GGSCI. To help you identify any given Extract read position, the <code dir="ltr">INFO EXTRACT</code> command shows the positions for each journal in an Extract configuration, including the journal receiver information. For more information about these commands, see <a class="olink GWURF110" href="../../gg-winux/GWURF/ggsci_commands.htm#GWURF110"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Because the journals can have a transaction split among them, if a given journal is independently repositioned far into the past, the resulting latency from reprocessing the entries may cause the already-read journals to stall until the reading of the latent journal catches up.</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHEBCJ"></a>
<div id="GIDBI208" class="sect1"><!-- infolevel="all" infotype="Task" -->
<h2 class="sect1"><span class="secnum">4.11</span> Testing Your Configuration</h2>
<p>It is important to test your configuration in a test environment before deploying it live on your production machines. This is especially important in an active-active or high availability configuration, where trusted source data may be touched by the replication processes. Testing enables you to find and resolve any configuration mistakes or data issues without the need to interrupt user activity for re-loads on the target or other troubleshooting activities.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment165">
<tr>
<td class="cellalignment172"><table class="cellalignment176">
<tr>
<td class="cellalignment169"><a href="preparing_the_system.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment169"><a href="Instantiate.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment174">
<table class="cellalignment175">
<tr>
<td class="cellalignment169"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment169"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment169"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment169"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
