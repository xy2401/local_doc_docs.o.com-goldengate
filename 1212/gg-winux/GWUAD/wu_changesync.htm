<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>14 Configuring Online Change Synchronization</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Merged Version 1028" />
<meta name="description" content="This chapter describes how to configure online change synchronization." />
<meta name="dcterms.created" content="2014-11-11T22:58:6Z" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Oracle&reg; GoldenGate Administering Oracle GoldenGate for Windows and UNIX" />
<meta name="dcterms.identifier" content="E29388-06" />
<meta name="dcterms.isVersionOf" content="GWUAD" />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="wu_data_definitions.htm" title="Previous" type="text/html" />
<link rel="Next" href="wu_errorhandling.htm" title="Next" type="text/html" />
<link rel="alternate" href="../GWUAD.pdf" title="PDF version" type="application/pdf" />
<link rel="alternate" href="../GWUAD.epub" title="ePub version" type="application/epub+zip" />
<link rel="alternate" href="../GWUAD.mobi" title="Mobipocket version" type="application/x-mobipocket-ebook" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Skip Headers</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns"><div id="BREADCRUMBS"><a href="http://docs.oracle.com">Home</a> / <a href="../../index.html">Middleware</a> / <a href="../index.html">Oracle GoldenGate for Windows and UNIX</a>
</div>

<span id="PAGE" style="display:none;">17/30</span>
<!-- End Header -->
<div id="GWUAD514" class="chapter"><a id="i999929"></a>
<h1 class="chapter"><span class="secnum">14</span> Configuring Online Change Synchronization</h1>
<p><a id="GWUAD515"></a>This chapter describes how to configure online change synchronization.</p>
<p>This chapter includes the following sections:</p>
<ul>
<li>
<p><a href="#CHDHAIHF">Overview of Online Change Synchronization</a></p>
</li>
<li>
<p><a href="#A1287824">Choosing Names for Processes and Files</a></p>
</li>
<li>
<p><a href="#i1041277">Creating a Checkpoint Table</a></p>
</li>
<li>
<p><a href="#i1041139">Creating an Online Extract Group</a></p>
</li>
<li>
<p><a href="#CHDDECIE">Creating a Trail</a></p>
</li>
<li>
<p><a href="#i1000068">Creating a Parameter File for Online Extraction</a></p>
</li>
<li>
<p><a href="#i1007379">Creating an Online Replicat Group</a></p>
</li>
<li>
<p><a href="#CHDGIDII">Creating a Parameter File for Online Replication</a></p>
</li>
</ul>
<a id="CHDHAIHF"></a>
<div id="GWUAD516" class="sect1">
<h2 class="sect1"><span class="secnum">14.1</span> Overview of Online <a id="sthref663"></a><a id="sthref664"></a>C<a id="sthref665"></a>hange Synchronization<a id="sthref666"></a></h2>
<p>Online change synchronization extracts and replicates data changes <a id="sthref667"></a>continuously to maintain a near real-time target database. The number of Extract and Replicat processes and trails that you will need depends on the replication topology that you want to deploy and the process mode that you will be using.</p>
<p>For detailed information about deploying specific replication topologies, see:</p>
<ul>
<li>
<p><a href="wu_live_reporting.htm#i1032821">Chapter 5, "Using Oracle GoldenGate for Live Reporting"</a></p>
</li>
<li>
<p><a href="wu_data_distribution.htm#i1019877">Chapter 6, "Using Oracle GoldenGate for Real-time Data Distribution"</a></p>
</li>
<li>
<p><a href="wu_dr_config.htm#i1038941">Chapter 8, "Configuring Oracle GoldenGate to Maintain a Live Standby Database"</a></p>
</li>
<li>
<p><a href="wu_bidirectional.htm#i1067359">Chapter 9, "Configuring Oracle GoldenGate for Active-Active High Availability"</a></p>
</li>
</ul>
<p>You may need to configure multiple Replicat processes if you are replicating between Oracle multitenant container databases or SQL/MX databases that contain multiple catalogs. One Replicat process can apply to one, and only one, container or catalog. In this case, you must configure a Replicat process for each target container or catalog. To do so, you specify the appropriate target container or catalog with the <code dir="ltr">TARGETDB</code> parameter in each Replicat parameter file. See <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> and <span class="italic">Installing and Configuring Oracle GoldenGate for NonStop SQL/MX</span> for guidelines when capturing from, and applying to, these databases.</p>
<p>You may need to configure multiple process groups to achieve a certain performance level. For example, you may want to keep lag below a certain threshold. Lag is the difference between when changes are made within your source applications and when those changes are applied to the target database.</p>
<p>Oracle GoldenGate supports up to 5,000 concurrent Extract and Replicat groups per instance of Oracle GoldenGate Manager. At the supported level, all groups can be controlled and viewed in full with GGSCI commands such as the <code dir="ltr">INFO</code> and <code dir="ltr">STATUS</code> commands. Oracle GoldenGate recommends keeping the number of Extract and Replicat groups (combined) at the default level of 300 or below in order to manage your environment effectively.</p>
<p>See <a href="wu_performance.htm#g998643">Section 19, "Tuning the Performance of Oracle GoldenGate"</a> for more information about configuring Oracle GoldenGate for best performance.</p>
<a id="i1011626"></a>
<div id="GWUAD517" class="sect2">
<h3 class="sect2"><span class="secnum">14.1.1</span> Initial Synchronization</h3>
<p>After you configure your change-synchronization groups and trails following the directions in this chapter, see <a href="wu_initsync.htm#i1019467">Chapter 16, "Instantiating Oracle GoldenGate with an Initial Load"</a> to prepare the target tables for synchronization. An initial load takes a copy of entire source tables, transforms the data if necessary, and applies it to the target tables so that the movement of transaction data begins from a synchronized state. The first time that you start change synchronization should be during the initial synchronization process. Change synchronization keeps track of ongoing transactional changes while the load is being applied.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="A1287824"></a>
<div id="GWUAD978" class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">14.2</span> Choosing Names for Processes and Files</h2>
<p>It is helpful to develop consistent naming conventions for the Oracle GoldenGate processes and files before you start configuration steps. Choosing meaningful names helps you differentiate among multiple processes and files in displays, error logs, and external monitoring programs. In addition, it accommodates the naming of additional processes and files later, as your environment changes or expands.This section contains instructions for:</p>
<ul>
<li>
<p><a href="#i1041252">Naming Conventions for Processes</a></p>
</li>
<li>
<p><a href="#BCGHDCDA">Choosing File Names</a></p>
</li>
</ul>
<a id="i1041252"></a>
<div id="GWUAD520" class="sect2">
<h3 class="sect2"><span class="secnum">14.2.1</span> Naming Conventions for Processes</h3>
<p>When specifying a process or group name, follow these rules.</p>
<ul>
<li>
<p>For the following types of processes, you can use up to eight characters, including non-alphanumeric characters such as the underscore (_):</p>
<ul>
<li>
<p>Online Extract group</p>
</li>
<li>
<p>Initial-load Extract</p>
</li>
<li>
<p>Online Replicat group created in classic (non-coordinated) mode</p>
</li>
<li>
<p>Online Replicat group created in integrated mode (Oracle only)</p>
</li>
</ul>
</li>
<li>
<p>For a coordinated Replicat process group, you can use up to five characters, including non-alphanumeric characters such as the underscore (_). Internally, a three-character thread ID is appended to the base name for each thread that is created based on the <code dir="ltr">MAXTHREADS</code> option of the <code dir="ltr">ADD REPLICAT</code> command. The resulting names cannot be duplicated for any other Replicat group. For example, if a coordinated Replicat group named <code dir="ltr">fin</code> is created with a <code dir="ltr">MAXTHREADS</code> of 50 threads, the resulting thread names could span from <code dir="ltr">fin000</code> through <code dir="ltr">fin050</code>, assuming those are the IDs specified in the <code dir="ltr">MAP</code> statements. Thus, no other Replicat group can be named <code dir="ltr">fin000</code> through <code dir="ltr">fin0050</code>. See the following rule for more information.</p>
</li>
<li>
<p>You can include a number in a group name, but it is not recommended that a name end in any numerals. Understand that using a numeric value at the end of a group name (such as <code dir="ltr">fin1</code>) can cause duplicate report file names and errors, because the writing process appends a number to the end of the group name when generating a report. In addition, ending a group name with numeric values is not recommended when running Replicat in coordinated mode. Because numeric thread IDs are appended to a group name internally, if the base group name also ends in a number it can make the output of informational commands more complicated to analyze. Thread names could be confused with the names of other Replicat groups if the numeric appendages satisfy wildcards. Duplicate report file names also can occur. It may be more practical to put a numeric value at the beginning of a group name, such as <code dir="ltr">1_fin</code>, <code dir="ltr">1fin</code>, and so forth.</p>
</li>
<li>
<p>Any character can be used in the name of a process, so long as the character set of the local operating system supports it, and the operating system allows that character to be in a file name. This is because a group is identified by its associated checkpoint file and parameter file.</p>
</li>
<li>
<p>The following characters are not allowed in the name of a process:</p>
<pre dir="ltr">
{\ / : * ? " &lt; &gt; | }
</pre></li>
<li>
<p>On HP UX, Linux, and Solaris, it is possible to create a file name with a colon (:) or an asterisk (*), although it is not recommended.</p>
</li>
<li>
<p>In general, process names and parameter file names are not case-sensitive within Oracle GoldenGate. For example, <code dir="ltr">finance</code>, <code dir="ltr">Finance</code>, and <code dir="ltr">FINANCE</code> are all considered to be the same. However, on Linux, the process name (and its parameter file name if explicitly defined in the <code dir="ltr">ADD</code> command) must be all uppercase or all lowercase. Mixed-case names specified for processes and parameter files will result in errors when starting the process.</p>
</li>
<li>
<p>Use only one word for a name.</p>
</li>
<li>
<p>Do not use the word "port" as the full name for a process or parameter file. However, the string "port" can be part of a name.</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="BCGHDCDA"></a>
<div id="GWUAD979" class="sect2">
<h3 class="sect2"><span class="secnum">14.2.2</span> Choosing File Names</h3>
<p>Captured data must be processed into a series of files called a trail, where it is stored for processing by the next Oracle GoldenGate process downstream. The basic configuration is:</p>
<ul>
<li>
<p>A local trail on the source system</p>
</li>
<li>
<p>A remote trail on the target system</p>
</li>
</ul>
<p>The actual trail name contains only two characters, such as <code dir="ltr">./dirdat/tr</code>. Oracle GoldenGate appends this name with a six-digit sequence number whenever a new file is created, such as <code dir="ltr">./dirdat/aa000002</code>. It is recommended that you establish naming conventions for trails, because they are linked to Oracle GoldenGate processes and may need to be identified for the purposes of troubleshooting.</p>
<p>On Windows systems, if the name of any directory in the trail path name begins with a number, the path must be specified with forward slashes, not backward slashes, when listing the trail in a parameter file. For more information, see <a href="wu_gettingstarted.htm#CHDFHJDC">Section 4.5.1, "Specifying Filesystem Path Names in Parameter Files on Windows Systems."</a></p>
<p>See <a href="wu_about_gg.htm#i1089831">Section 1.2.4, "Overview of Trails"</a> for more information about Oracle GoldenGate trails.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1041277"></a>
<div id="GWUAD521" class="sect1">
<h2 class="sect1"><span class="secnum">14.3</span> Creating a <a id="sthref668"></a><a id="sthref669"></a><a id="sthref670"></a>Checkpoint Table</h2>
<p>Replicat maintains checkpoints that provide a known position in the trail from which to start after an expected or unexpected shutdown. To store a record of its checkpoints, Replicat uses a checkpoint table in the target database. This enables the Replicat checkpoint to be included within the Replicat transaction itself, to ensure that a transaction will only be applied once, even if there is a failure of the Replicat process or the database process. The checkpoint table remains small because rows are deleted when no longer needed, and it does not affect database performance. <a href="wu_ogg_checkpts.htm#CIHGFDHI">Appendix E, "About Checkpoints"</a> for more information about the checkpoint table.</p>
<div id="GWUAD522" class="sect2"><a id="sthref671"></a>
<h3 class="sect2"><span class="secnum">14.3.1</span> Options for Creating the Checkpoint Table</h3>
<p>The checkpoint table can reside in a schema of your choice. Use one that is dedicated to Oracle GoldenGate if possible.</p>
<p>More than one instance of Oracle GoldenGate (multiple installations) can use the same checkpoint table. Oracle GoldenGate keeps track of the checkpoints, even if Replicat group names are the same in different instances.</p>
<p>More than one checkpoint table can be used as needed. For example, you can use different ones for different Replicat groups.</p>
<p>You can install your checkpoint table(s) in these ways:</p>
<ul>
<li>
<p>You can specify a default checkpoint table in the <code dir="ltr">GLOBALS</code> file. New Replicat groups created with the <code dir="ltr">ADD REPLICAT</code> command will use this table automatically, without requiring any special instructions. See <a href="#BCGFHFFI">"To Specify a Default Checkpoint Table in the GLOBALS File"</a> for instructions.</p>
</li>
<li>
<p>You can provide specific checkpoint table instructions when you create any given Replicat group with the <code dir="ltr">ADD REPLICAT</code> command:</p>
<ul>
<li>
<p>To use a specific checkpoint table for a group, use the <code dir="ltr">CHECKPOINTTABLE</code> argument of <code dir="ltr">ADD REPLICAT</code>. This checkpoint table overrides any default specification in the <code dir="ltr">GLOBALS</code> file. If using only one Replicat group, you can use this command and skip creating the <code dir="ltr">GLOBALS</code> file altogether.</p>
</li>
<li>
<p>To omit using a checkpoint table for a group, use the <code dir="ltr">NODBCHECKPOINT</code> argument of <code dir="ltr">ADD REPLICAT</code>. Without a checkpoint table, Replicat still maintains checkpoints in a checkpoint file on disk, but you introduce the risk of data inconsistency.</p>
</li>
</ul>
</li>
</ul>
<p>However you implement the checkpoint table, you must create it in the target database prior to using the <code dir="ltr">ADD REPLICAT</code> command.</p>
<p class="subhead2"><a id="i1044191"></a><a id="GWUAD963"></a>To add a checkpoint table to the target database</p>
<p>The following steps, which create the checkpoint table through GGSCI, can be bypassed by running the <code dir="ltr">chkpt_</code><code dir="ltr"><span class="codeinlineitalic">db</span></code>_<code dir="ltr">create.sql</code> script instead, where <code dir="ltr"><span class="codeinlineitalic">db</span></code> is an abbreviation of the database type. By using the script, you can specify custom storage or other attributes. Do not change the names or attributes of the columns in this table.</p>
<ol>
<li>
<p>From the Oracle GoldenGate directory, run GGSCI and issue the <code dir="ltr">DBLOGIN</code> command to log into the database. The user issuing this command must have <code dir="ltr">CREATE TABLE</code> permissions. See <a class="olink GWURF251" href="../../gg-winux/GWURF/ggsci_commands059.htm#GWURF251"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for the correct syntax to use for your database.</p>
</li>
<li>
<p>In GGSCI, issue the following command to add the checkpoint table to the database.</p>
<pre dir="ltr">
ADD CHECKPOINTTABLE [<span class="codeinlineitalic">container</span> | <span class="codeinlineitalic">catalog</span>] <span class="codeinlineitalic">owner.table</span>
</pre>
<p>Where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">owner</span></code>.<code dir="ltr"><span class="codeinlineitalic">table</span></code> is the owner and name of the table, <code dir="ltr"><span class="codeinlineitalic">container</span></code> is the name of a PDB if installing into an Oracle multitenant container database, and <code dir="ltr"><span class="codeinlineitalic">catalog</span></code> is the name of the catalog if installing into a SQL/MX database. The owner and name can be omitted if you are using this table as the default checkpoint table and this table is specified with <code dir="ltr">CHECKPOINTTABLE</code> in the <code dir="ltr">GLOBALS</code> file. The name of this table must not exceed the maximum length permitted by the database for object names. The checkpoint table name cannot contain any special characters, such as quotes, backslash, pound sign, and so forth.</p>
</li>
</ol>
<p class="subhead2"><a id="BCGFHFFI"></a><a id="GWUAD964"></a>To Specify a Default Checkpoint Table in the GLOBALS File</p>
<p>This procedure specifies a global name for all checkpoint tables in the Oracle GoldenGate instance. You can override this name for any given Replicat group by specifying a different checkpoint table when you create the Replicat group.</p>
<ol>
<li>
<p>Create a <code dir="ltr"><a id="sthref672"></a>GLOBALS</code> file (or edit the existing one, if applicable). The file name must be all capital letters on UNIX or Linux systems, without a file extension, and must reside in the root Oracle GoldenGate directory. You can use an ASCII text editor to create the file, making certain to observe the preceding naming conventions, or you can use GGSCI to create and save it with the correct name and location automatically. When using GGSCI, use the following command, typing <code dir="ltr">GLOBALS</code> in upper case.</p>
<pre dir="ltr">
EDIT PARAMS ./GLOBALS
</pre></li>
<li>
<p>Enter the following parameter:</p>
<pre dir="ltr">
CHECKPOINTTABLE <span class="codeinlineitalic">[container. | catalog.]owner</span>.<span class="codeinlineitalic">table</span>
</pre>
<p>Where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">[catalog. | container.]owner</span></code>.<code dir="ltr"><span class="codeinlineitalic">table</span></code> is the fully qualified name of the default checkpoint table, including the name of the container if the database is an Oracle multitenant container database (CDB) or the name of the catalog if the database is SQL/MX.</p>
</li>
<li>
<p>Note the name of the table, then save and close the <code dir="ltr">GLOBALS</code> file. Make certain the file was created in the root Oracle GoldenGate directory. If there is a file extension, remove it.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div id="GWUAD1109" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref673"></a>
<h3 class="sect2"><span class="secnum">14.3.2</span> Adjusting for Coordinated Replicat in Oracle RAC</h3>
<p>If the Replicat for which you are creating a checkpoint table will run in an Oracle RAC configuration, it is recommended that you increase the <code dir="ltr">PCTFREE</code> attribute of the Replicat checkpoint table to as high a value as possible, as high as 90 if possible. This accommodates the more frequent checkpointing that is inherent in coordinated processing. This change must be made before starting the Replicat group for the first time. See <a href="#i1007379">Section 14.7</a> for more information about coordinated Replicat.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1041139"></a>
<div id="GWUAD523" class="sect1">
<h2 class="sect1"><span class="secnum">14.4</span> Creating an Online <a id="sthref674"></a><a id="sthref675"></a>Extract Group</h2>
<p>To create an online Extract group, run GGSCI on the source system and issue the <code dir="ltr">ADD EXTRACT</code> command. Separate all command arguments with a comma. There are two syntax forms:</p>
<ul>
<li>
<p><a href="#CHDCAGFH">Syntax to Create a Regular, Passive, or Data Pump Extract Group</a></p>
</li>
<li>
<p><a href="#CHDEIIEG"><span class="bold">Syntax to Create an Alias Extract Group</span></a></p>
</li>
</ul>
<p class="subhead2"><a id="CHDCAGFH"></a><a id="GWUAD1110"></a>Syntax to Create a Regular, Passive, or Data Pump Extract Group</p>
<pre dir="ltr">
<a id="sthref676"></a><a id="sthref677"></a>ADD EXTRACT <span class="codeinlineitalic">group</span>
{, <span class="codeinlineitalic">datasource</span>}
{, BEGIN <span class="codeinlineitalic">start_point</span>} | {<span class="codeinlineitalic">position_point</span>}
[, PASSIVE]
[, THREADS <span class="codeinlineitalic">n</span>]
[, PARAMS <span class="codeinlineitalic">pathname</span>]
[, REPORT <span class="codeinlineitalic">pathname</span>]
[, DESC '<span class="codeinlineitalic">description</span>']
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Extract group. A group name is required. See <a href="#i1041252">Section 14.2.1, "Naming Conventions for Processes"</a> for group naming conventions.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">datasource</span></code> is required to specify the source of the data to be extracted. Use one of the following:</p>
<ul>
<li>
<p><a id="sthref678"></a><code dir="ltr">TRANLOG</code> specifies the <a id="sthref679"></a>transaction log as the data source. Use for all databases except Teradata. When using this option for Oracle Enterprise Edition, you must issue the <code dir="ltr">DBLOGIN</code> command as the Extract database user (or a user with the same privileges) before using <code dir="ltr">ADD EXTRACT</code> (and also before issuing <code dir="ltr">DELETE EXTRACT</code> to remove an Extract group).</p>
<p>Use the <code dir="ltr"><span class="codeinlineitalic">bsds</span></code> option for <a id="sthref680"></a>DB2 running on z/OS to specify the Bootstrap Data Set file name of the transaction log. See <a class="olink GWURF251" href="../../gg-winux/GWURF/ggsci_commands059.htm#GWURF251"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for the correct syntax to use for your database.</p>
</li>
<li>
<p><code dir="ltr">INTEGRATED TRANLOG</code> specifies that this Extract will operate in integrated capture mode to receive logical change records (LCR) from an Oracle database logmining server. This parameter applies only to Oracle databases. For additional options and information on using integrated capture, see <a class="olink GIORA912" href="../../gg-winux/GIORA/config_capt_integrated.htm#GIORA912"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a><a id="sthref681"></a>.</p>
</li>
<li>
<p><code dir="ltr">VAM</code> specifies that the Extract API known as the <span class="italic">Vendor Access Module</span> (VAM). For Teradata it will interface with the Teradata Access Module (TAM). Use for Informix and Teradata databases. See <span class="italic">Installing and Configuring Oracle GoldenGate for Informix</span> or <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span> for more information.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref682"></a>VAMTRAILSOURCE</code> <code dir="ltr"><span class="codeinlineitalic">VAM trail name</span></code> to specify a VAM trail. Use for Teradata extraction in maximum protection mode to create a VAM-sort Extract group. See <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span> for more information.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref683"></a>EXTTRAILSOURCE</code> <code dir="ltr"><span class="codeinlineitalic">trail name</span></code> to specify the relative or fully qualified name of a local trail. Use to create a <a id="sthref684"></a>data pump. A data pump can be used with any Oracle GoldenGate extraction method.</p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr"><a id="sthref685"></a>BEGIN</code> <code dir="ltr"><span class="codeinlineitalic">start_point</span></code> defines an online Extract group by establishing an initial <a id="sthref686"></a><a id="sthref687"></a>checkpoint and start point for processing. Transactions started before this point are discarded. Use one of the following:</p>
<ul>
<li>
<p><code dir="ltr">NOW</code> to begin extracting changes that are timestamped at the point when the <code dir="ltr">ADD EXTRACT</code> command is executed to create the group or, for an Oracle Extract in integrated mode, from the time the group is registered with the <code dir="ltr">REGISTER EXTRACT</code> command. Do not use <code dir="ltr">NOW</code> for a data pump Extract unless you want to bypass any data that was captured to the Oracle GoldenGate trail prior to the <code dir="ltr">ADD EXTRACT</code> statement.</p>
<p>This start point is not supported for Informix and if used the positioning will start from the EOF in the transaction logs so Oracle recommends using LSN positioning for Informix Extract.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">YYYY-MM-DD HH:MM[:SS[.CCCCCC</span></code> <code dir="ltr">]]</code> as the format for specifying an exact timestamp as the begin point. Use a begin point that is later than the time at which replication or logging was enabled.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Do not use the <code dir="ltr">BEGIN</code> parameter for a Teradata source.</div>
</li>
</ul>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">position_point</span></code> specifies a specific position within a specific transaction log file at which to start processing. For the specific syntax to use for your database, see <code dir="ltr">ADD EXTRACT</code> in <a class="olink GWURF122" href="../../gg-winux/GWURF/ggsci_commands006.htm#GWURF122"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref688"></a>PASSIVE</code> indicates that the group is a passive Extract. When using <code dir="ltr">PASSIVE</code>, you must also use an alias Extract. See <a href="wu_security.htm#e999929">Section 11, "Configuring Oracle GoldenGate Security"</a> for more information. This option can appear in any order among other <code dir="ltr">ADD EXTRACT</code> options.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref689"></a><a id="sthref690"></a>THREADS</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code> is required only if Extract is operating in classic capture mode in an Oracle Real Application Cluster (RAC). It specifies the number of redo log threads being used by the cluster.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref691"></a>PARAMS</code> <code dir="ltr"><span class="codeinlineitalic">pathname</span></code> is required if the parameter file for this group will be stored in a location other than the <code dir="ltr">dirprm</code> sub-directory of the Oracle GoldenGate directory. Specify the fully qualified name. The default location is recommended.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref692"></a>REPORT</code> <code dir="ltr"><span class="codeinlineitalic">pathname</span></code> is required if the process <a id="sthref693"></a>report for this group will be stored in a location other than the <code dir="ltr">dirrpt</code> sub-directory of the Oracle GoldenGate directory. Specify the fully qualified name. The default location is recommended.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref694"></a>DESC '</code><code dir="ltr"><span class="codeinlineitalic">description</span></code>' specifies a description of the group.</p>
</li>
</ul>
<p class="subhead2"><a id="CHDEIIEG"></a><a id="GWUAD1111"></a><span class="bold">Syntax to Create an Alias Extract Group</span></p>
<pre dir="ltr">
<a id="sthref695"></a><a id="sthref696"></a>ADD EXTRACT <span class="codeinlineitalic">group</span>
, RMTHOST {<span class="codeinlineitalic">host</span> | <span class="codeinlineitalic">IP address</span>}
, {MGRPORT port} | {PORT port}
[, RMTNAME name]
[, DESC 'description']
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><a id="sthref697"></a>RMTHOST</code> identifies this group as an alias Extract and specifies either the DNS name of the remote host or its IP address.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref698"></a>MGRPORT</code> specifies the port on the remote system where Manager is running. Use this option when using a dynamic Collector.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref699"></a>PORT</code> specifies a static Collector port. Use instead of <code dir="ltr">MGRPORT</code> only if running a static Collector.</p>
</li>
<li>
<p><code dir="ltr">RMTNAME</code> specifies the passive Extract name, if different from that of the alias Extract.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref700"></a>DESC</code> '<code dir="ltr"><span class="codeinlineitalic">description</span></code>' specifies a description of the group.</p>
</li>
</ul>
<div id="GWUAD525" class="example"><p class="titleinexample"><a id="BCGCIDAG"></a>Example 14-1 Adding an Extract Group for Log-based Capture</p>
<p>This example creates an Extract group named <code dir="ltr">finance.</code> Extraction starts with records generated at the time when the group was created.</p>
<pre dir="ltr">
ADD EXTRACT finance, TRANLOG, BEGIN NOW
</pre></div>
<!-- class="example" -->
<div id="GWUAD526" class="example"><p class="titleinexample"><a id="BCGBCGGH"></a>Example 14-2 Adding a Primary Extract Group for Teradata</p>
<p>This example creates an Extract group named <code dir="ltr">finance</code> that performs in either Teradata maximum performance or Teradata maximum protection mode. No <code dir="ltr">BEGIN</code> point is used for Teradata sources.</p>
<pre dir="ltr">
ADD EXTRACT finance, VAM
</pre></div>
<!-- class="example" -->
<div id="GWUAD527" class="example"><p class="titleinexample"><a id="BCGBHICH"></a>Example 14-3 Adding a VAM-sort Extract Group for Teradata</p>
<p>This example creates a VAM-sort Extract group named <code dir="ltr">finance.</code> The process reads from VAM trail <code dir="ltr">/ggs/dirdat/vt</code>.</p>
<pre dir="ltr">
ADD EXTRACT finance, VAMTRAILSOURCE /ggs/dirdat/vt
</pre></div>
<!-- class="example" -->
<div id="GWUAD528" class="example"><p class="titleinexample"><a id="BCGBIJEA"></a>Example 14-4 Adding a Data-pump Extract Group</p>
<p>This example creates a data-pump Extract group named <code dir="ltr">finance.</code> It reads from the Oracle GoldenGate trail <code dir="ltr">c:\ggs\dirdat\lt</code>.</p>
<pre dir="ltr">
ADD EXTRACT finance, EXTTRAILSOURCE c:\ggs\dirdat\lt
</pre></div>
<!-- class="example" -->
<div id="GWUAD529" class="example"><p class="titleinexample"><a id="BCGJECIE"></a>Example 14-5 Adding a Passive Extract Group</p>
<p>This example creates a passive Extract group named <code dir="ltr">finance.</code> Extraction starts with records generated at the time when the group was created. Because this group is marked as passive, an alias Extract on the target will initiate connections to this Extract.</p>
<pre dir="ltr">
ADD EXTRACT finance, TRANLOG, BEGIN NOW, PASSIVE
</pre></div>
<!-- class="example" -->
<div id="GWUAD530" class="example"><p class="titleinexample"><a id="BCGHCHBH"></a>Example 14-6 Adding a Passive Data-pump Extract Group</p>
<p>This example creates a data-pump Extract group named <code dir="ltr">finance.</code> This is a passive data pump Extract that reads from the Oracle GoldenGate trail <code dir="ltr">c:\ggs\dirdat\lt</code>. Because this data pump is marked as passive, an alias Extract on the target will initiate connections to it.</p>
<pre dir="ltr">
ADD EXTRACT finance, EXTTRAILSOURCE c:\ggs\dirdat\lt, PASSIVE
</pre></div>
<!-- class="example" -->
<div id="GWUAD531" class="example"><p class="titleinexample"><a id="sthref701"></a>Example 14-7 Adding an Alias Extract Group</p>
<p>This example creates an alias Extract group named <code dir="ltr">alias.</code></p>
<pre dir="ltr">
ADD EXTRACT alias, RMTHOST sysA, MGRPORT 7800, RMTNAME finance
</pre></div>
<!-- class="example" -->
<div id="GWUAD1112" class="example"><p class="titleinexample"><a id="sthref702"></a>Example 14-8 Adding a Primary Extract in Integrated Mode for Oracle</p>
<p>This example creates an Extract in integrated capture mode for an Oracle source database and sets the start point to the time when the Extract group is registered with the Oracle database by means of the <code dir="ltr">REGISTER EXTRACT</code> command. Integrated capture is available only for an Oracle database.</p>
<pre dir="ltr">
ADD EXTRACT finance INTEGRATED TRANLOG, BEGIN NOW 
</pre></div>
<!-- class="example" --></div>
<!-- class="sect1" -->
<a id="CHDDECIE"></a>
<div id="GWUAD532" class="sect1">
<h2 class="sect1"><span class="secnum">14.5</span> Creating <a id="sthref703"></a><a id="sthref704"></a>a Trail</h2>
<p>After data has been extracted, it must be processed into one or more trails, where it is stored for processing by another Oracle GoldenGate process. A trail is a sequence of files that are created and aged as needed. Processes that read a trail are:</p>
<ul>
<li>
<p>VAM-sort Extract: Extracts from a local trail that is created as a VAM trail (for Teradata source databases). For more information, see <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span></p>
</li>
<li>
<p>Data-pump Extract: Extracts data from a local trail for further processing, if needed, and transfers it to the target system.</p>
</li>
<li>
<p>Replicat: Reads a trail to apply change data to the target database.</p>
</li>
</ul>
<p>You can create more than one trail to separate the data of different tables or applications, or to satisfy the requirements of a specific replication topology, such as a cascading topology. You link tables specified with a <code dir="ltr">TABLE</code> statement to a trail specified with an <code dir="ltr">EXTTRAIL</code> or <code dir="ltr">RMTTRAIL</code> parameter statement in the Extract parameter file. See <a href="wu_about_gg.htm#i1089831">Section 1.2.4, "Overview of Trails"</a> for conceptual information about Oracle GoldenGate trails.</p>
<div id="GWUAD533" class="sect2"><a id="sthref705"></a>
<h3 class="sect2"><span class="secnum">14.5.1</span> Assigning Storage for Oracle GoldenGate Trails</h3>
<p>In a typical configuration, there is at least one trail on the source system and one on the target system. Allocate enough disk space to allow for the following:</p>
<ul>
<li>
<p>The primary Extract process captures transactional data from the source database and writes it to the local trail. A data-pump Extract reads that trail and then transfers the data over the network to a remote trail on the target. If the network fails, the data pump fails but the primary Extract continues to process data to the local trail. There must be enough disk space to contain the data accumulation, or the primary Extract will abend.</p>
</li>
<li>
<p>For a trail at the target location, provide enough disk space to handle data accumulation according to the purge rules set with the <code dir="ltr">PURGEOLDEXTRACTS</code> parameter. Even with <code dir="ltr">PURGEOLDEXTRACTS</code> in use, data will always accumulate on the target because it is transferred across the network faster than it can be applied to the target database.</p>
</li>
</ul>
<p>To prevent trail activity from interfering with business applications, assign a separate disk or file system to contain the trail files. Trail files can reside on drives that are local to the Oracle GoldenGate installation, or they can reside on NAS or SAN devices. In an Oracle cluster, they can reside on ASM or DBFS storage.</p>
</div>
<!-- class="sect2" -->
<div id="GWUAD1113" class="sect2"><a id="sthref706"></a>
<h3 class="sect2"><span class="secnum">14.5.2</span> Estimating Space for the Trails</h3>
<p>The following are guidelines for estimating the amount of disk space that will be required to store Oracle GoldenGate trail data.</p>
<ol>
<li>
<p>Estimate the longest time that the network could be unavailable. Plan to store enough data to withstand the longest possible outage, because otherwise you will need to resynchronize the source and target data if the outage outlasts disk capacity.</p>
</li>
<li>
<p>Estimate how much transaction log volume your business applications generate in one hour.</p>
</li>
<li>
<p>Use the following formula to calculate the required disk space.</p>
<p><span class="bold">[log volume in one hour] x [number of hours downtime] x .4 = trail disk space</span></p>
<p>This equation uses a multiplier of 40 percent because only about 40 percent of the data in a transaction log is needed by Oracle GoldenGate.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
This formula is a conservative estimate, and you should run tests once you have configured Oracle GoldenGate to determine exactly how much space you need.</div>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDDEIHB"></a>
<div id="GWUAD534" class="sect2">
<h3 class="sect2"><span class="secnum">14.5.3</span> Adding <a id="sthref707"></a>a Trail</h3>
<p>When you create, or <span class="italic">add,</span> a trail, you do not physically create any files on disk. The files are created automatically by an Extract process. Rather, you specify the name of the trail and associate it with the Extract group that writes to it.</p>
<p>To add a trail, issue the following command in GGSCI on the source system.</p>
<pre dir="ltr">
ADD {<a id="sthref708"></a>RMTTRAIL | <a id="sthref709"></a>EXTTRAIL} <span class="codeinlineitalic">pathname</span>, EXTRACT <span class="codeinlineitalic">group</span>
[, MEGABYTES <span class="codeinlineitalic">n</span>]
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr">RMTTRAIL</code> specifies a trail on a remote system.</p>
</li>
<li>
<p><code dir="ltr">EXTTRAIL</code> specifies a trail on the local system.</p>
<ul>
<li>
<p><code dir="ltr">EXTTRAIL</code> cannot be used for an Extract in <code dir="ltr">PASSIVE</code> mode.</p>
</li>
<li>
<p><code dir="ltr">EXTTRAIL</code> must be used to specify a local trail that is read by a data pump or to specify a VAM trail that is linked to a primary Extract which interacts with a Teradata Access Module (TAM). For more information about the Teradata configuration, see <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span></p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">pathname</span></code> is the relative or fully qualified name of the trail, including a two-character name that can be any two alphanumeric characters, for example <code dir="ltr">c:\ggs\dirdat\rt</code>. Oracle GoldenGate appends a serial number to each trail file as it is created during processing. Typically, trails are stored in the <code dir="ltr">dirdat</code> sub-directory of the Oracle GoldenGate directory.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref710"></a>EXTRACT</code> <code dir="ltr"><span class="codeinlineitalic">group</span></code> specifies the name of the Extract group that writes to this trail. Only one Extract group can write to a trail.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref711"></a>MEGABYTES</code> <code dir="ltr"><span class="codeinlineitalic">n</span></code> is an optional argument with which you can set the size, in megabytes, of each trail file (default is 100).</p>
</li>
</ul>
<div id="GWUAD535" class="example"><p class="titleinexample"><a id="sthref712"></a>Example 14-9 VAM Trail</p>
<p>This example creates a VAM trail named <code dir="ltr">/ggs/dirdat/vt</code> for Extract group <code dir="ltr">extvam</code>.</p>
<pre dir="ltr">
ADD EXTTRAIL /ggs/dirdat/vt, EXTRACT extvam
</pre></div>
<!-- class="example" -->
<div id="GWUAD536" class="example"><p class="titleinexample"><a id="sthref713"></a>Example 14-10 Local Trail</p>
<p>This example creates a local trail named <code dir="ltr">/ggs/dirdat/lt</code> for Extract group <code dir="ltr">ext</code>.</p>
<pre dir="ltr">
ADD EXTTRAIL /ggs/dirdat/lt, EXTRACT ext
</pre></div>
<!-- class="example" -->
<div id="GWUAD537" class="example"><p class="titleinexample"><a id="sthref714"></a>Example 14-11 Creating a Trail</p>
<p>This example creates a trail named <code dir="ltr">c:\ggs\dirdat\rt</code> for Extract group <code dir="ltr">finance</code>, with each file sized at approximately 50 megabytes.</p>
<pre dir="ltr">
ADD RMTTRAIL c:\ggs\dirdat\rt, EXTRACT finance, MEGABYTES 200
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="i1000068"></a>
<div id="GWUAD538" class="sect1">
<h2 class="sect1"><span class="secnum">14.6</span> Creating a Parameter File for Online Extraction</h2>
<p>Follow these instructions to create a parameter file for an online Extract group. A parameter file is not required for an alias Extract group. See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about using an alias Extract group.</p>
<ol>
<li>
<p>In GGSCI on the source system, issue the following command.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">name</span>
</pre>
<p>Where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">name</span></code> is either the name of the Extract group that you created with the <code dir="ltr">ADD EXTRACT</code> command or the fully qualified name of the parameter file if you defined an alternate location when you created the group.</p>
</li>
<li>
<p>Enter the parameters in <a href="#g1053968">Table 14-1</a> in the order shown, starting a new line for each parameter statement. Some parameters apply only for certain configurations.</p>
<div id="GWUAD539" class="tblhruleformalwide"><p class="titleintable"><a id="sthref715"></a><a id="g1053968"></a>Table 14-1 Online Change-extraction <a id="sthref716"></a>Parameters</p>
<table class="cellalignment160" title="Online Change-extraction Parameters" summary="This table describes the online change-extraction parameters.">
<thead>
<tr class="cellalignment151">
<th class="cellalignment161" id="r1c1-t4">Parameter</th>
<th class="cellalignment161" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment151">
<td class="cellalignment157" id="r2c1-t4" headers="r1c1-t4">
<pre dir="ltr">
<a id="sthref717"></a>EXTRACT <span class="codeinlineitalic">group</span>
</pre>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Extract group that you created with the <code dir="ltr">ADD EXTRACT</code> command.</p>
</li>
</ul>
</td>
<td class="cellalignment157" headers="r2c1-t4 r1c2-t4">
<p>Configures Extract as an online process with checkpoints.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r3c1-t4" headers="r1c1-t4">
<pre dir="ltr">
[SOURCEDB <span class="codeinlineitalic">dsn</span> | <span class="codeinlineitalic">container</span> | <span class="codeinlineitalic">catalog</span>]
[, USERIDALIAS <a id="sthref718"></a><span class="codeinlineitalic">alias options</span> |
, USERID <span class="codeinlineitalic">user</span>, <span class="codeinlineitalic">options</span>]
</pre></td>
<td class="cellalignment157" headers="r3c1-t4 r1c2-t4">
<p>Specifies database connection information.</p>
<p><code dir="ltr">SOURCEDB</code> specifies the source datasource name (DSN) or SQL/MX catalog. See <a class="olink GWURF649" href="../../gg-winux/GWURF/gg_parameters149.htm#GWURF649"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information.</p>
<p><code dir="ltr">USERID</code> and <code dir="ltr">USERIDALIAS</code> specify database <a id="sthref719"></a>credentials if required. See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about security options.</p>
<p>The database connection can be omitted if the group is a data pump on an intermediary system that does not have a database. In this case, there can be no column mapping or conversion performed.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r4c1-t4" headers="r1c1-t4">
<pre dir="ltr">
RMTHOSTOPTIONS <span class="codeinlineitalic">host</span>,
MGRPORT <span class="codeinlineitalic">port</span>,
[, ENCRYPT <span class="codeinlineitalic">algorithm</span> KEYNAME <span class="codeinlineitalic">key_name</span>]
</pre></td>
<td class="cellalignment157" headers="r4c1-t4 r1c2-t4">
<p>Specifies the target system, the port where Manager is running, and optional encryption of data across TCP/IP. Only required when sending data over IP to a remote system (if <code dir="ltr">ADD RMTTRAIL</code> was used to create the trail). Not required if the trail is on the local system (if <code dir="ltr">ADD EXTTRAIL</code> was used). See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about security options.</p>
<p>Not valid for a primary Extract group that interfaces with a Teradata Access Module and writes to a VAM trail. For more information, see <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>.</p>
<p>Not valid for a passive Extract group.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r5c1-t4" headers="r1c1-t4">
<pre dir="ltr">
ENCRYPTTRAIL <span class="codeinlineitalic">algorithm</span>
</pre></td>
<td class="cellalignment157" headers="r5c1-t4 r1c2-t4">
<p>Encrypts all trails that are specified after this entry. See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about security options.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r6c1-t4" headers="r1c1-t4">
<p><code dir="ltr">DECRYPTTRAIL</code></p>
</td>
<td class="cellalignment157" headers="r6c1-t4 r1c2-t4">
<p>(For a data pump) Decrypts the data in the input trail. Use only if the data pump must process the data before writing it to the output trail. See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about security options.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r7c1-t4" headers="r1c1-t4">
<pre dir="ltr">
<a id="sthref720"></a>RMTTRAIL <span class="codeinlineitalic">pathname</span> |
EXTTRAIL <span class="codeinlineitalic">pathname</span>
</pre>
<ul>
<li>
<p>Use <code dir="ltr">RMTTRAIL</code> to specify the relative or fully qualified name of a remote trail created with the <code dir="ltr">ADD RMTTRAIL</code> command.</p>
</li>
<li>
<p>Use <code dir="ltr">EXTTRAIL</code> to specify the relative or fully qualified name of a local trail created with the <code dir="ltr">ADD EXTTRAIL</code> command (to be read by a data pump or VAM-sort Extract).</p>
</li>
</ul>
</td>
<td class="cellalignment157" headers="r7c1-t4 r1c2-t4">
<p>Specifies a trail. If specifying multiple trails, follow each designation with the appropriate <code dir="ltr">TABLE</code> statements.</p>
<p><code dir="ltr">EXTTRAIL</code> is not valid for a passive Extract group.</p>
<p>If trails or files will be of different versions, use the <code dir="ltr">FORMAT</code> option of <code dir="ltr">RMTTRAIL</code> or <code dir="ltr">EXTTRAIL</code>. For more information, see <a class="olink GWURF394" href="../../gg-winux/GWURF/gg_parameters.htm#GWURF394"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r8c1-t4" headers="r1c1-t4">
<pre dir="ltr">
<a id="sthref721"></a>DSOPTIONS {
COMMITTEDTRANLOG, RESTARTAPPEND |
CREATETRANLOG |
SORTTRANLOG
}
</pre></td>
<td class="cellalignment157" headers="r8c1-t4 r1c2-t4">
<p>Valid only for Teradata extraction.</p>
<ul>
<li>
<p>Use <code dir="ltr">COMMITTEDTRANLOG, RESTART APPEND</code> to indicate that Extract is receiving fully committed data in Teradata maximum performance mode. <code dir="ltr">RESTARTAPPEND</code> appends data to the end of the Oracle GoldenGate trail rather than rewriting data from a previous run.</p>
</li>
<li>
<p>Use <code dir="ltr">CREATETRANLOG</code> to direct Extract to create and write to a local VAM trail in Teradata maximum protection mode. Use for a primary Extract group that interfaces with the Teradata Access Module.</p>
</li>
<li>
<p>Use <code dir="ltr">SORTTRANLOG</code> to cause Extract to read from a local VAM trail and sort the data in commit order in maximum protection mode. Use only for a VAM-sort Extract group.</p>
</li>
</ul>
<p>For more information about the Teradata configuration, see <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span>.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r9c1-t4" headers="r1c1-t4">
<p><code dir="ltr">LOGALLSUPCOLS</code></p>
</td>
<td class="cellalignment157" headers="r9c1-t4 r1c2-t4">
<p>Use when using integrated Replicat for an Oracle target, or when using Conflict Detection and Resolution (CDR) support. Writes the before images of scheduling columns to the trail. (Scheduling columns are primary key, unique index, and foreign key columns.) See <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a> for more information on configuring integrated Replicat. See <a class="olink GWURF1119" href="../../gg-winux/GWURF/gg_parameters095.htm#GWURF1119"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information about <code dir="ltr">LOGALLSUPCOLS</code>.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r10c1-t4" headers="r1c1-t4">
<pre dir="ltr">
<a id="sthref722"></a>VAM <span class="codeinlineitalic">library</span>,
<a id="sthref723"></a>PARAMS ('<span class="codeinlineitalic">param</span>'
[, '<span class="codeinlineitalic">param</span>'] [, ...])
</pre></td>
<td class="cellalignment157" headers="r10c1-t4 r1c2-t4">
<p>Valid only for an Extract group that interfaces with a Teradata Access Module. Supplies the name of the library and parameters that must be passed to the Oracle GoldenGate API, such as the name of the TAM initialization file and the program that interacts with the library as the callback library.</p>
<p>Example:</p>
<pre dir="ltr">
VAM vam.dll, PARAMS ('inifile', 'vamerge1.ini', 'callbacklib', 'extract.exe')
</pre>
<p>See <span class="italic">Installing and Configuring Oracle GoldenGate for Teradata</span> for more information about Teradata VAM and TAM.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r11c1-t4" headers="r1c1-t4">
<pre dir="ltr">
<a id="sthref724"></a><a id="sthref725"></a>PASSTHRU | NOPASSTHU
</pre></td>
<td class="cellalignment157" headers="r11c1-t4 r1c2-t4">
<p>(For a data pump) Specifies whether or not subsequent <code dir="ltr">TABLE</code> specifications will use normal or pass-through processing. If a data pump is only being used to pass data from the local system to a remote trail, without performing filtering, mapping, or conversion, you can run it in pass-through mode. In this mode, the Extract process bypasses its normal queries for table definitions from the database or a definitions file and can be used on a system with or without a database.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r12c1-t4" headers="r1c1-t4">
<p><code dir="ltr">SOURCECATALOG</code></p>
</td>
<td class="cellalignment157" headers="r12c1-t4 r1c2-t4">
<p>Specifies a default container in an Oracle multitenant container database or a default SQL/MX catalog for subsequent <code dir="ltr">TABLE</code> or <code dir="ltr">SEQUENCE</code> statements. Enables the use of two-part names (<code dir="ltr"><span class="codeinlineitalic">schema.object</span></code>) where three-part names otherwise would be required for those databases. You can use multiple instances of this parameter to specify different default containers or catalogs for different sets of <code dir="ltr">TABLE</code> or <code dir="ltr">SEQUENCE</code> parameters.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r13c1-t4" headers="r1c1-t4">
<pre dir="ltr">
SEQUENCE [<span class="codeinlineitalic">container</span>.]<span class="codeinlineitalic">owner</span>.<span class="codeinlineitalic">sequence</span>;
</pre></td>
<td class="cellalignment157" headers="r13c1-t4 r1c2-t4">
<p>Specifies the fully qualified name of an Oracle sequence to capture. Include the container name if the database is a multitenant container database (CDB).</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r14c1-t4" headers="r1c1-t4">
<pre dir="ltr">
TABLE [<span class="codeinlineitalic">container</span>. | <span class="codeinlineitalic">catalog.</span>]owner.<span class="codeinlineitalic">object</span>;
</pre></td>
<td class="cellalignment157" headers="r14c1-t4 r1c2-t4">
<p>Specifies the fully qualified name of an object or a fully qualified wildcarded specification for multiple objects. If the database is an Oracle multitenant container database or SQL/MX, the object name must include the name of the container or catalog unless <code dir="ltr">SOURCECATALOG</code> is used. See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"></a><a href="wu_gettingstarted.htm#i1074957">Section 4.5, "Specifying Object Names in Oracle GoldenGate Input"</a> for guidelines for specifying object names in parameter files.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r15c1-t4" headers="r1c1-t4">
<p><code dir="ltr">CATALOGEXCLUDE</code></p>
<p><code dir="ltr">SCHEMAEXCLUDE</code></p>
<p><code dir="ltr">TABLEEXCLUDE</code></p>
<p><code dir="ltr">EXCLUDEWILDCARDOBJECTSONLY</code></p>
</td>
<td class="cellalignment157" headers="r15c1-t4 r1c2-t4">
<p>Parameters that can be used in conjunction with one another to exclude specific objects from a wildcard specification in the associated <code dir="ltr">TABLE</code> statement. See <a class="olink GWURF" href="../../gg-winux/GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for details.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></li>
<li>
<p>Enter any appropriate optional Extract parameters listed in the <a class="olink GWURF" href="../../gg-winux/GWURF/toc.htm"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a>.</p>
</li>
<li>
<p>Save and close the parameter file.</p>
</li>
</ol>
</div>
<!-- class="sect1" -->
<a id="i1007379"></a>
<div id="GWUAD540" class="sect1">
<h2 class="sect1"><span class="secnum">14.7</span> Creating an Online Replicat <a id="sthref726"></a>Group</h2>
<p>Before creating a Replicat group, you should evaluate which of the Replicat modes is appropriate for your environment: <span class="italic">classic mode</span> (also known as <span class="italic">nonintegrated mode</span> in Oracle environments), <span class="italic">coordinated mode, and</span> <span class="italic">integrated mode</span>.</p>
<p><a href="#BCGBAIGB">Section 14.7.1, "About Classic Replicat Mode"</a></p>
<p><a href="#BCGCDJBH">Section 14.7.2, "About Coordinated Replicat Mode"</a></p>
<p><a href="#BCGCBAGG">Section 14.7.3, "About Integrated Replicat Mode"</a></p>
<a id="BCGBAIGB"></a>
<div id="GWUAD951" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">14.7.1</span> About Classic Replicat Mode</h3>
<p>In classic mode, Replicat is a single-threaded process that uses standard SQL to apply data to the target tables. In this mode, Replicat operates as follows:</p>
<ul>
<li>
<p>Reads the Oracle GoldenGate trail.</p>
</li>
<li>
<p>Performs data filtering, mapping, and conversion.</p>
</li>
<li>
<p>Constructs SQL statements that represent source database DML or DDL transactions (in committed order).</p>
</li>
<li>
<p>Applies the SQL to the target through the SQL interface that is supported for the given target database, such as ODBC or the native database interface.</p>
</li>
</ul>
<div id="GWUAD952" class="figure"><p class="titleinfigure"><a id="BCGIFDII"></a>Figure 14-1 Classic Replicat</p>
<img width="1217" height="584" src="img/classicreplicat.jpg" alt="Description of Figure 14-1 follows" /><br />
<a id="sthref727" href="img_text/classicreplicat.htm">Description of "Figure 14-1 Classic Replicat"</a><br />
<br /></div>
<!-- class="figure" -->
<p>As shown in <a href="#BCGIFDII">Figure 14-1</a>, you can apply transactions in parallel with a classic Replicat, but only by partitioning the workload across multiple Replicat processes. A parameter file must be created for each Replicat.</p>
<p>To determine whether to use classic mode for any objects, you must determine whether the objects in one Replicat group will ever have dependencies on objects in any other Replicat group, transactional or otherwise. Not all workloads can be partitioned across multiple Replicat groups and still preserve the original transaction atomicity. For example, tables for which the workload routinely updates the primary key cannot easily be partitioned in this manner. DDL replication (if supported for the database) is not viable in this mode, nor is the use of some <code dir="ltr">SQLEXEC</code> or <code dir="ltr">EVENTACTIONS</code> features that base their actions on a specific record.</p>
<p>If your tables do not have any foreign- key dependencies or updates to primary keys, classic mode may be suitable. Classic mode requires less overhead than coordinated mode.</p>
<p>For more information about using parallel Replicat groups, see <a href="wu_performance.htm#g998643">Chapter 19, "Tuning the Performance of Oracle GoldenGate"</a>.</p>
</div>
<!-- class="sect2" -->
<a id="BCGCDJBH"></a>
<div id="GWUAD953" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">14.7.2</span> About Coordinated Replicat Mode</h3>
<p>In coordinated mode, Replicat operates as follows:</p>
<ul>
<li>
<p>Reads the Oracle GoldenGate trail.</p>
</li>
<li>
<p>Performs data filtering, mapping, and conversion.</p>
</li>
<li>
<p>Constructs SQL statements that represent source database DML or DDL transactions (in committed order).</p>
</li>
<li>
<p>Applies the SQL to the target through the SQL interface that is supported for the given target database, such as ODBC or the native database interface.</p>
</li>
</ul>
<p>The difference between classic mode and coordinated mode is that Replicat is multi-threaded in coordinated mode. Within a single Replicat instance, multiple threads read the trail independently and apply transactions in parallel. Each thread handles all of the filtering, mapping, conversion, SQL construction, and error handling for its assigned workload. A <span class="italic">coordinator</span> thread coordinates the transactions across threads to account for dependencies among the threads.</p>
<p>Coordinated Replicat allows for user-defined partitioning of the workload so as to apply high volume transactions concurrently. In addition, it automatically coordinates the execution of transactions that require coordination, such as DDL, and primary key updates with <code dir="ltr">THREADRANGE</code> partitioning. Such a transaction is executed as one transaction in the target with full synchronization: it waits until all prior transactions are applied first, and all transactions after this barrier transaction have to wait until this barrier transaction is applied.</p>
<p>Only one parameter file is required for a coordinated Replicat, regardless of the number of threads. You use the <code dir="ltr">THREAD</code> or <code dir="ltr">THREADRANGE</code> option in the <code dir="ltr">MAP</code> statement to specify which threads process the transactions for those objects, and you specify the maximum number of threads when you create the Replicat group.</p>
<div id="GWUAD954" class="figure"><p class="titleinfigure"><a id="sthref728"></a>Figure 14-2 Coordinated Replicat</p>
<img width="1161" height="637" src="img/coordinatedreplicat.jpg" alt="Description of Figure 14-2 follows" /><br />
<a id="sthref729" href="img_text/coordinatedreplicat.htm">Description of "Figure 14-2 Coordinated Replicat"</a><br />
<br /></div>
<!-- class="figure" -->
<div id="GWUAD1005" class="sect3"><a id="sthref730"></a>
<h4 class="sect3"><span class="secnum">14.7.2.1</span> About Barrier Transactions</h4>
<p>Barrier transactions are managed automatically in a coordinated Replicat configuration. Barrier transactions are transactions that require coordination across threads. Examples include DDL statements, transactions that include updates to primary keys, and certain <code dir="ltr">EVENTACTIONS</code> actions.</p>
<p>Optionally, you can force other transactions to be treated like a barrier transaction through the use of the <code dir="ltr">COORDINATED</code> keyword in a <code dir="ltr">MAP</code> statement. One use case for this would be force a <code dir="ltr">SQLEXEC</code> to be executed in a manner similar to a serial execution. This could be beneficial if the results can become ambiguous unless the state of the target is consistent across all transactions.</p>
</div>
<!-- class="sect3" -->
<div id="GWUAD1006" class="sect3"><a id="sthref731"></a>
<h4 class="sect3"><span class="secnum">14.7.2.2</span> How Barrier Transactions are Processed</h4>
<p>All threads converge and wait at the start of a barrier transaction. The barrier transaction is suspended until the other threads reach its start position. If any threads were already processing part of the barrier transaction, those threads perform a rollback. Grouped transactions, such as those controlled by the <code dir="ltr">BATCHSQL</code> or <code dir="ltr">GROUPTRANSOPS</code> parameters, are also rolled back and then reapplied until they reach the start of the barrier transaction.</p>
<p>All of the threads converge and wait at the start of the next transaction after the barrier transaction as well. The two synchronization points, before and after the barrier transaction, ensure that metadata operations and <code dir="ltr">EVENTACTIONS</code> actions all occur in the proper order relevant to the data operations.</p>
<p>Once the threads are synchronized at the start of the barrier transaction, the barrier transaction is processed serially by the thread that has the lowest thread ID among all of the threads specified in the <code dir="ltr">MAP</code> statements, and then parallel processing across threads is resumed. You can force barrier transactions to be processed through a specific thread, which is always thread 0, by specifying the <code dir="ltr">USEDEDICATEDCOORDINATIONTHREAD</code> parameter in the Replicat parameter file.</p>
</div>
<!-- class="sect3" -->
<div id="GWUAD1007" class="sect3"><a id="sthref732"></a>
<h4 class="sect3"><span class="secnum">14.7.2.3</span> About the Global Watermark</h4>
<p>A clean shutdown of a coordinated Replicat ensures that all threads stop at the same transaction boundary in the trail, known as the <span class="italic">global watermark</span>. This is defined as the synchronized point where all records before this position were either committed or ignored by all of their respective threads. If a clean shutdown is not possible, you can use the <code dir="ltr">SYNCHRONIZE REPLICAT</code> command to return all of the threads to the position of the thread that made the most recent checkpoint. See <a href="wu_adminops.htm#A1045838">Section 20.12.3, "Synchronizing threads after an Unclean Stop"</a> for more information about recovering a coordinated Replicat group.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Coordinated Replicat is an online process only. Do not use it to perform initial loads.</div>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="BCGCBAGG"></a>
<div id="GWUAD955" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">14.7.3</span> About Integrated Replicat Mode</h3>
<p>In integrated mode, available for Oracle databases of version 11.2.0.4 or later, Replicat leverages the apply processing functionality that is available within the target Oracle database. In this mode, Replicat reads the trail, constructs logical change records that represent source DML or DDL transactions, and transmits these records to an inbound server in the Oracle target database. The inbound server applies the data to the target database.</p>
<p>For more information about using integrated Replicat, see <a class="olink GIORA" href="../../gg-winux/GIORA/toc.htm"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a>.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Integrated Replicat is an online process only. Do not use it to perform initial loads.</div>
</div>
<!-- class="sect2" -->
<a id="CHDJGICF"></a>
<div id="GWUAD1095" class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">14.7.4</span> Understanding Replicat Processing in Relation to Parameter Changes</h3>
<p>Changes to the object specifications in the Replicat configuration cannot be made to affect transactions that are already applied, but only for those not yet applied. This is an important consideration when using coordinated or integrated Replicat.</p>
<p>For a Replicat in classic mode, the boundary between applied and non-applied transactions is a clean one, because transactions are applied serially. For a coordinated or integrated Replicat, however, there is no single point in the trail that marks applied and unapplied transactions, because transactions are being applied asynchronously in parallel.</p>
<p>In coordinated or integrated modes, there are a low watermark, below which all transactions were applied, and a high watermark above which no transactions were applied. In between those boundaries there may be transactions that may or may not have been applied, depending on the progress of individual threads. As a result, if Replicat is forced changes to object specifications in the Replicat configuration may be reflected unevenly in the target after Replicat is restarted. Examples of parameter changes for which this applies are changes to <code dir="ltr">MAP</code> mappings, <code dir="ltr">FILTER</code> clauses, and <code dir="ltr">EXCLUDE</code> parameters.</p>
<p>Changes to the Replicat configuration should not be made after Replicat abends or is forcibly terminated. Replicat should be allowed to recover to its last checkpoint after startup. For coordinated Replicat, you can follow the administrative procedures in <a href="wu_adminops.htm#A4202693">Section 20.12, "Administering a Coordinated Replicat Configuration."</a>. Once the recovery is complete, Replicat can be shut down gracefully with the <code dir="ltr">STOP REPLICAT</code> command, and then you can make the changes to the object specifications.</p>
</div>
<!-- class="sect2" -->
<div id="GWUAD956" class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref733"></a>
<h3 class="sect2"><span class="secnum">14.7.5</span> Creating the Replicat Group</h3>
<p>To create an online Replicat group, run GGSCI on the target system and issue the <code dir="ltr">ADD REPLICAT</code> command. Separate all command arguments with a comma.</p>
<pre dir="ltr">
<a id="sthref734"></a><a id="sthref735"></a>ADD REPLICAT <span class="codeinlineitalic">group</span>, EXTTRAIL <span class="codeinlineitalic">path</span>
[, {INTEGRATED | COORDINATED [MAXTHREADS <span class="codeinlineitalic">number</span>]}]
[, BEGIN <span class="codeinlineitalic">start_point</span> | , EXTSEQNO <span class="codeinlineitalic">seqno</span>, EXTRBA <span class="codeinlineitalic">rba</span>]
[, CHECKPOINTTABLE <span class="codeinlineitalic">owner</span>.<span class="codeinlineitalic">table</span>]
[, NODBCHECKPOINT]
[, PARAMS <span class="codeinlineitalic">path</span>]
[, REPORT <span class="codeinlineitalic">path</span>]
</pre>
<p>Where:</p>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Replicat group. A group name is required. See <a href="#i1041252">Section 14.2.1, "Naming Conventions for Processes"</a> for Oracle GoldenGate naming conventions.</p>
</li>
<li>
<p><a id="sthref736"></a><code dir="ltr">EXTTRAIL</code> <code dir="ltr"><span class="codeinlineitalic">path</span></code> is the relative or fully qualified name of the trail that you defined with the <code dir="ltr">ADD RMTTRAIL</code> command.</p>
</li>
<li>
<p><code dir="ltr">INTEGRATED</code> specified that this Replicat group will operate in integrated mode. This mode is available for Oracle databases. For more information about using Replicat in integrated mode, see <a class="olink GIORA931" href="../../gg-winux/GIORA/config_apply.htm#GIORA931"><span class="italic">Installing and Configuring Oracle GoldenGate for Oracle Database</span></a>.</p>
</li>
<li>
<p><code dir="ltr">COORDINATED</code> specifies that this Replicat group will operate in coordinated mode. <code dir="ltr">MAXTHREADS</code> specifies the maximum number of threads allowed for this group. Valid values are from 1 through 500. <code dir="ltr">MAXTHREADS</code> is optional. The default number of threads without <code dir="ltr">MAXTHREADS</code> is 25.</p>
<div class="infobox-note">
<p class="notep1">Note:</p>
Each Replicat thread is considered a Replicat group in the context of the <code dir="ltr">MAXGROUPS</code> parameter. MAXGROUPS controls the maximum number of process groups allowed in the Oracle GoldenGate instance. <code dir="ltr">MAXTHREADS</code> plus the number of other process groups in the Oracle GoldenGate instance must not exceed the value set with <code dir="ltr">MAXGROUPS</code> (default is 1000).</div>
</li>
<li>
<p><code dir="ltr"><a id="sthref737"></a>BEGIN</code> <code dir="ltr"><span class="codeinlineitalic">start_point</span></code> defines an online Replicat group by establishing an initial <a id="sthref738"></a><a id="sthref739"></a>checkpoint and start point for processing. Use one of the following:</p>
<ul>
<li>
<p><code dir="ltr">NOW</code> to begin replicating changes timestamped at the point when the <code dir="ltr">ADD REPLICAT</code> command is executed to create the group.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">YYYY</span></code><code dir="ltr">-</code><code dir="ltr"><span class="codeinlineitalic">MM</span></code><code dir="ltr">-</code><code dir="ltr"><span class="codeinlineitalic">DD</span></code> <code dir="ltr"><span class="codeinlineitalic">HH</span></code><code dir="ltr">:</code><code dir="ltr"><span class="codeinlineitalic">MM</span></code><code dir="ltr">[:</code><code dir="ltr"><span class="codeinlineitalic">SS</span></code><code dir="ltr">[.</code><code dir="ltr"><span class="codeinlineitalic">CCCCCC</span></code><code dir="ltr">]]</code> as the format for specifying an exact timestamp as the begin point.</p>
</li>
</ul>
</li>
<li>
<p><code dir="ltr"><a id="sthref740"></a>EXTSEQNO</code> <code dir="ltr"><span class="codeinlineitalic">seqno</span></code><code dir="ltr"><a id="sthref741"></a>, EXTRBA</code> <code dir="ltr"><span class="codeinlineitalic">rba</span></code> specifies the sequence number of the file in a trail in which to begin reading data and the relative byte address within that file. By default, processing begins at the beginning of a trail unless this option is used. For the sequence number, specify the number, but not any zeroes used for padding. For example, if the trail file is <code dir="ltr">c:\ggs\dirdat\aa000026</code>, specify <code dir="ltr">EXTSEQNO 26</code>. Contact Oracle Support before using this option.</p>
</li>
<li>
<p><a id="sthref742"></a><code dir="ltr">CHECKPOINTTABLE</code> <code dir="ltr"><span class="codeinlineitalic">owner</span></code>.<code dir="ltr"><span class="codeinlineitalic">table</span></code> specifies the owner and name of a checkpoint table other than the default specified in the <code dir="ltr">GLOBALS</code> file. To use this argument, you must add the checkpoint table to the database with the <code dir="ltr">ADD</code> <code dir="ltr">CHECKPOINTTABLE</code> command (see <a href="#i1041277">Section 14.3, "Creating a Checkpoint Table"</a>).</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref743"></a>NODBCHECKPOINT</code> specifies that this Replicat group will not use a checkpoint table.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref744"></a>PARAMS</code> <code dir="ltr"><span class="codeinlineitalic">path</span></code> is required if the parameter file for this group will be stored in a location other than the <code dir="ltr">dirprm</code> sub-directory of the Oracle GoldenGate directory. Specify the fully qualified name. The default location is recommended.</p>
</li>
<li>
<p><code dir="ltr"><a id="sthref745"></a>REPORT</code> <code dir="ltr"><span class="codeinlineitalic">path</span></code> is required if the process <a id="sthref746"></a>report for this group will be stored in a location other than the <code dir="ltr">dirrpt</code> sub-directory of the Oracle GoldenGate directory. Specify the fully qualified name. The default location is recommended.</p>
</li>
</ul>
<div id="GWUAD541" class="example"><p class="titleinexample"><a id="sthref747"></a>Example 14-12 Creating an Online Replicat Group</p>
<p>This example creates an online Replicat group named <code dir="ltr">finance</code> and specifies a trail of <code dir="ltr">c:\ggs\dirdat\rt</code>. The parameter file is stored in the alternate location of <code dir="ltr">\ggs\params</code>, and the report file is stored in its default location.</p>
<pre dir="ltr">
ADD REPLICAT finance, EXTTRAIL c:\ggs\dirdat\rt, PARAMS \ggs\params
</pre></div>
<!-- class="example" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDGIDII"></a>
<div id="GWUAD542" class="sect1">
<h2 class="sect1"><span class="secnum">14.8</span> Creating a Parameter File for Online Replication</h2>
<p>Follow these instructions to create a parameter file for an online Replicat group.</p>
<ol>
<li>
<p>In GGSCI on the target system, issue the following command.</p>
<pre dir="ltr">
EDIT PARAMS <span class="codeinlineitalic">name</span>
</pre>
<p>Where:</p>
<p><code dir="ltr"><span class="codeinlineitalic">name</span></code> is either the name of the Replicat group that you created with the <code dir="ltr">ADD REPLICAT</code> command or the fully qualified name of the parameter file if you defined an alternate location when you created the group.</p>
</li>
<li>
<p>Enter the parameters listed in <a href="#g1054005">Table 14-2</a> in the order shown, starting a new line for each parameter statement.</p>
</li>
</ol>
<div id="GWUAD543" class="tblhruleformalwide"><p class="titleintable"><a id="sthref748"></a><a id="g1054005"></a>Table 14-2 Online Change-replication <a id="sthref749"></a>Parameters</p>
<table class="cellalignment160" title="Online Change-replication Parameters" summary="This table describes the online change-replication parameters.">
<thead>
<tr class="cellalignment151">
<th class="cellalignment161" id="r1c1-t8">Parameter</th>
<th class="cellalignment161" id="r1c2-t8">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment151">
<td class="cellalignment157" id="r2c1-t8" headers="r1c1-t8">
<pre dir="ltr">
<a id="sthref750"></a>REPLICAT <span class="codeinlineitalic">group</span>
</pre>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">group</span></code> is the name of the Replicat group that you created with the <code dir="ltr">ADD REPLICAT</code> command.</p>
</li>
</ul>
</td>
<td class="cellalignment157" headers="r2c1-t8 r1c2-t8">
<p>Configures Replicat as an online process with checkpoints.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r3c1-t8" headers="r1c1-t8">
<pre dir="ltr">
{SOURCEDEFS <span class="codeinlineitalic">path</span>} |
ASSUMETARGETDEFS
</pre>
<ul>
<li>
<p>Use <code dir="ltr">SOURCEDEFS</code> if the source and target tables have different definitions. Specify the source data-definitions file generated by DEFGEN. See <a href="wu_data_definitions.htm#g1086762">Chapter 13, "Associating Replicated Data with Metadata,"</a> for more information.</p>
</li>
<li>
<p>Use <code dir="ltr">ASSUMETARGETDEFS</code> if the source and target tables have the same definitions.</p>
</li>
</ul>
</td>
<td class="cellalignment157" headers="r3c1-t8 r1c2-t8">
<p>Specifies how to interpret data definitions.</p>
<p>For Oracle databases that use multi-byte character sets, you must use <code dir="ltr">SOURCEDEFS</code> (with a DEFGEN-generated definitions file) if the source semantics setting is in bytes and the target is in characters. This is required even when the source and target data definitions are identical. See <a href="wu_data_definitions.htm#g1086762">Chapter 13, "Associating Replicated Data with Metadata,"</a> for more information.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r4c1-t8" headers="r1c1-t8">
<pre dir="ltr">
[DEFERAPPLYINTERVAL <span class="codeinlineitalic">n</span> <span class="codeinlineitalic">unit</span>]
</pre>
<ul>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">n</span></code> is a numeric value for the amount of time to delay before applying transactions. Minimum is set by the <code dir="ltr">EOFDELAY</code> parameter. Maximum is seven days.</p>
</li>
<li>
<p><code dir="ltr"><span class="codeinlineitalic">unit</span></code> can be:</p>
<p><code dir="ltr">S | SEC | SECS | SECOND | SECONDS | MIN | MINS | MINUTE | MINUTES | HOUR | HOURS | DAY | DAYS</code></p>
</li>
</ul>
</td>
<td class="cellalignment157" headers="r4c1-t8 r1c2-t8">
<p>Optional. <a id="sthref751"></a><a id="sthref752"></a><a id="sthref753"></a>Specifies an amount of time for Replicat to wait before applying its transactions to the target system.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r5c1-t8" headers="r1c1-t8">
<pre dir="ltr">
[TARGETDB <span class="codeinlineitalic">dsn</span> | <span class="codeinlineitalic">container</span> | <span class="codeinlineitalic">catalog</span>]
[, USERIDALIAS <a id="sthref754"></a><span class="codeinlineitalic">alias options</span> |
, USERID <span class="codeinlineitalic">user</span>, <span class="codeinlineitalic">options</span>]
</pre></td>
<td class="cellalignment157" headers="r5c1-t8 r1c2-t8">
<p>Specifies database connection information.</p>
<p><code dir="ltr">TARGETDB</code> specifies the target datasource name (DSN) or SQL/MX catalog. See <a class="olink GWURF694" href="../../gg-winux/GWURF/gg_parameters164.htm#GWURF694"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information.</p>
<p><code dir="ltr">USERID</code> and <code dir="ltr">USERIDALIAS</code> specify database <a id="sthref755"></a>credentials if required. See <a href="wu_security.htm#e999929">Chapter 11, "Configuring Oracle GoldenGate Security"</a> for more information about security options.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r6c1-t8" headers="r1c1-t8">
<p><code dir="ltr">HANDLECOLLISIONS</code></p>
</td>
<td class="cellalignment157" headers="r6c1-t8 r1c2-t8">
<p>Specifies collision handling. Use only if you are performing an initial load concurrently with starting online processing and the source database will remain active during the load. <code dir="ltr">HANDLECOLLISIONS</code> resolves the results of the copy with the ongoing replicated transactional changes. It resolves insert operations for which the row already exists and update and delete operations for which the row does not exist. It can be used globally for all <code dir="ltr">MAP</code> statements in a parameter file or within a <code dir="ltr">MAP</code> statement, or both.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r7c1-t8" headers="r1c1-t8">
<p><code dir="ltr">SOURCECATALOG</code></p>
</td>
<td class="cellalignment157" headers="r7c1-t8 r1c2-t8">
<p>Specifies a default container in a source Oracle multitenant container database or a source SQL/MX catalog for subsequent <code dir="ltr">MAP</code> statements. Enables the use of two-part names (<code dir="ltr"><span class="codeinlineitalic">schema.object</span></code>) where three-part names otherwise would be required for those databases. You can use multiple instances of this parameter to specify different default containers or catalogs for different sets of <code dir="ltr">MAP</code> parameters.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r8c1-t8" headers="r1c1-t8">
<pre dir="ltr">
MAP [<span class="codeinlineitalic">container</span>. | <span class="codeinlineitalic">catalog</span>.]<span class="codeinlineitalic">owner</span>.<span class="codeinlineitalic">object</span>,
TARGET <span class="codeinlineitalic">owner</span>.<span class="codeinlineitalic">object</span>[, DEF <span class="codeinlineitalic">template</span>]
[THREAD (<span class="codeinlineitalic">thread_ID</span>)]
[THREADRANGE (thread_range[, <span class="codeinlineitalic">column_list</span>])]
[COORDINATED]
;
</pre></td>
<td class="cellalignment157" headers="r8c1-t8 r1c2-t8">
<p>Specifies a relationship between a source object or objects and a target object or objects. <code dir="ltr">MAP</code> specifies the source object, and <code dir="ltr">TARGET</code> specifies the target object.</p>
<p>For the source object, specify the fully qualified name of the object or a fully qualified wildcarded specification for multiple objects. For an Oracle multitenant container database or a SQL/MX database, the source object name must include the name of the container or catalog unless <code dir="ltr">SOURCECATALOG</code> is used.</p>
<p>For the target object, specify only the <code dir="ltr"><span class="codeinlineitalic">owner.object</span></code> components of the name, regardless of the type of database. Replicat can only connect to one Oracle container or SQL/MX catalog. Use a separate Replicat process for each container or catalog to which you want to apply data.</p>
<p>See <a class="olink GWUAD192" href="../../gg-winux/GWUAD/wu_gettingstarted.htm#GWUAD192"></a><a href="wu_gettingstarted.htm#i1074957">Section 4.5, "Specifying Object Names in Oracle GoldenGate Input"</a> for guidelines for specifying object names in parameter files.</p>
<p>The <code dir="ltr">THREAD</code>, <code dir="ltr">THREADRANGE</code>, and <code dir="ltr">COORDINATED</code> options are valid for Replicat when in coordinated mode. They enable you to partition the workload to one or more specific Replicat threads. See <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for syntax and usage.</p>
<p>The <code dir="ltr">DEF</code> option specifies a definitions template. See <a href="wu_data_definitions.htm#g1086762">Section 13, "Associating Replicated Data with Metadata"</a> for more information about data definitions. See <a class="olink GWURF546" href="../../gg-winux/GWURF/gg_parameters160.htm#GWURF546"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for more information and options for the <code dir="ltr">MAP</code> parameter.</p>
</td>
</tr>
<tr class="cellalignment151">
<td class="cellalignment157" id="r9c1-t8" headers="r1c1-t8">
<p><code dir="ltr">CATALOGEXCLUDE</code></p>
<p><code dir="ltr">SCHEMAEXCLUDE</code></p>
<p><code dir="ltr">MAPEXCLUDE</code></p>
<p><code dir="ltr">EXCLUDEWILDCARDOBJECTSONLY</code></p>
</td>
<td class="cellalignment157" headers="r9c1-t8 r1c2-t8">
<p>Parameters that can be used in conjunction with one another to exclude specific source objects from a wildcard specification in the associated <code dir="ltr">MAP</code> statement. See <a class="olink GWURF394" href="../../gg-winux/GWURF/gg_parameters.htm#GWURF394"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> for details.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<ol>
<li>
<p>Enter any appropriate optional Replicat parameters listed in <a class="olink GWURF394" href="../../gg-winux/GWURF/gg_parameters.htm#GWURF394"><span class="italic">Reference for Oracle GoldenGate for Windows and UNIX</span></a> .</p>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
<div class="infobox-note">
<p class="notep1">Note:</p>
If using integrated Replicat for Oracle, see <a href="#CHDJGICF">Section 14.7.4, "Understanding Replicat Processing in Relation to Parameter Changes"</a> for important information about making configuration changes to Replicat once processing is started.</div>
</div>
<!-- class="sect1" --></div>
<!-- class="chapter" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment150">
<tr>
<td class="cellalignment157"><table class="cellalignment155">
<tr>
<td class="cellalignment154"><a href="wu_data_definitions.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>

<td class="cellalignment154"><a href="wu_errorhandling.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table></td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2013, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment159">
<table class="cellalignment153">
<tr>
<td class="cellalignment154"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment154"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment154"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment154"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
